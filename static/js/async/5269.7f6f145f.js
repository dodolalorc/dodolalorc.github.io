"use strict";(self.webpackChunkblogsite_rspress=self.webpackChunkblogsite_rspress||[]).push([["5269"],{8353:function(s,e,a){a.r(e),a.d(e,{default:()=>r});var n=a(2676),l=a(453),i=a(7622),t=a(3208);function m(s){let e=Object.assign({h3:"h3",a:"a",p:"p",ol:"ol",li:"li",code:"code",ul:"ul",pre:"pre",strong:"strong",del:"del",h4:"h4",blockquote:"blockquote",span:"span",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",mo:"mo",annotation:"annotation",msup:"msup",mn:"mn",br:"br",img:"img",mtext:"mtext",msub:"msub"},(0,l.ah)(),s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h3,{id:"思维先行",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#思维先行",children:"#"}),"思维先行"]}),"\n",(0,n.jsx)(t.Z,{defaultLocale:"zh-CN"}),"\n",(0,n.jsx)(e.p,{children:"我们要找某点到某点的最短路径(记为点u到点v)，这样的路径只能从两种路径中选择——"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"u和v之间有边连接时，存在边(u, v)，不存在的话可以视作这两点的距离无限大"}),"\n",(0,n.jsx)(e.li,{children:"u和v可以通过某些点中转相连，这个(最短的)中转路径"}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:["很明显，我们选最短路径肯定是在这两种路径当中选最短的来作为u和v的最短距离，而路径选择2又可以不断拆分，比如我们有",(0,n.jsx)(e.code,{children:"u -> P -> v"}),"我们再去寻找这条路径的最短时，可以分为",(0,n.jsx)(e.code,{children:"u -> P"}),"最短+",(0,n.jsx)(e.code,{children:"P -> v"}),"最短，再去寻找中转点...而且每次取最小值最小的+最小的肯定得最小的（有一点贪心的感觉）。"]}),"\n",(0,n.jsx)(e.p,{children:"那么思维布置到这，我们来看看这个寻找最短路径的几种算法："}),"\n",(0,n.jsxs)(e.h3,{id:"floyd算法bellman-ford算法",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#floyd算法bellman-ford算法",children:"#"}),"Floyd算法&Bellman-Ford算法"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"==Floyd算法=="}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"这个算法就是刚刚思维里的算法的朴素实现了，动态规划思维，不断去尝试增加节点来找最小值。伪代码如下："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:"#define INF 0x3f3f3f3f\ndist[maxn][maxn];\n// dist[u][v]记录从点u到点v的距离\n// 初始化时dist[n][n]=0, 两点有边则记录为w<u, v>，其他的就是INF\nvoid Floyd(int n){\n	// 一共有n个点，我们遍历填充dist[][]数组来计算所有的距离\n	for(int p=1 ;p <= n;p++){\n		// 点p是中转点\n		for(int u=1;u<=n;u++){\n			for(int v=1;v<=n;v++){\n				dist[u][v] = min(dist[u][v], dist[u][p]+dist[p][v]);\n			}\n		}\n	}\n}\n"})}),"\n",(0,n.jsxs)(e.p,{children:["很明显，这个算法有",(0,n.jsx)(e.code,{children:"O(n^3)"}),"的复杂度，并不好，而且开的",(0,n.jsx)(e.code,{children:"dist[maxn][maxn]"}),"数组空间也大，和之前学习存储图时一样，如果图比较稀疏，浪费的空间也大。"]}),"\n",(0,n.jsx)(e.p,{children:"如何优化呢？"}),"\n",(0,n.jsxs)(e.p,{children:["先看算法上，我们在选择中间点p的时候，我们很容易想到——并不是所有的点1~点n和u都有边，所以假如我们按边存储成为邻接表(前向星/链式前向星)，我们在搜索边的时候就能直接在已有的",(0,n.jsx)(e.code,{children:"<u, p>"}),"边上进行选择。"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"TIP"}),"：Floyd算法可以获得所有点之间的最短距离，所以在需要处理多源最短路且数据规模比较小的时候会选择它。"]}),"\n",(0,n.jsxs)(e.p,{children:["我们更关心",(0,n.jsx)(e.strong,{children:"单源最短路"}),"问题，接下来我们的问题就假定为：找到以点v",(0,n.jsx)(e.del,{children:"1"}),"为起点的最短路。"]}),"\n",(0,n.jsx)(e.p,{children:"由于是确定起点的单源最短路，我们接下来记录距离的数组只用开一维就行。"}),"\n",(0,n.jsxs)(e.p,{children:["初始化：",(0,n.jsx)(e.code,{children:"dist[1]=0, dist[v]=distance[1][v], 其他的置INF"}),"。"]}),"\n",(0,n.jsxs)(e.p,{children:["在Bellman-Ford算法中，我们假设不存在",(0,n.jsx)(e.strong,{children:"负权环"}),"（有负权环我们就会发现每绕一次dist都在变小，而我们取",(0,n.jsx)(e.code,{children:"min（dist[v],weight(p->v)+dist[v]）"}),"肯定会把路径上的这个负权环走超过n遍），那么从v",(0,n.jsx)(e.del,{children:"1"}),"到任何点的路径上点的个数都不会大于总点数n，所以Bellman-Ford算法就直接暴力搜n次来找最短路,到这里我们先代码实现一下这样的思路："]}),"\n",(0,n.jsx)(e.p,{children:"给出一个图例like this："}),"\n",(0,n.jsx)(i.Z,Object.assign({code:"graph LR\nv1((v1))-.4.->v2((v2))\nv1((v1))-.3.->v3((v3))\nv1((v1))-.8.->v4((v4))\nv2((v2))-.2.->v6((v6))\nv7((v7))-.5.->v6((v6))\nv7((v7))-.1.->v4((v4))\nv3((v3))-.1.->v7((v7))\nv4((v4))-.5.->v3((v3))\nv4((v4))-.5.->v5((v5))"},{config:{theme:"forest"}})),"\n",(0,n.jsx)(e.p,{children:"样例："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"7 9\n1 2 4\n1 3 3\n1 4 8\n2 6 2\n3 7 1\n4 3 5\n4 5 5\n7 6 5\n7 4 1\n\n"})}),"\n",(0,n.jsx)(e.p,{children:"参考代码like this："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:'#include<bits/stdc++.h>\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n\nstruct EdgeNode {\n	int from;\n	int to;		// 终点\n	int w;		// 权值\n	int next;	// 下一位置\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n\nint dist[maxm];\nint n, m;\n\nvoid BellmanFord(int vn) {\n	// 初始化dist[]\n	fill(dist + 1, dist + n + 1, INF);\n	dist[vn] = 0;\n\n	int turn = n - 1;\n	while (turn--)\n		// 下方的遍历重复n-1遍，保证可以更新全部的dist[]\n		for (int ei = 0;ei < m;ei++)\n			dist[Edge[ei].to] = min(dist[Edge[ei].to], dist[Edge[ei].from] + Edge[ei].w);\n	// 这里为了方便获得查看的边的起点，可以在储存边的起点的时候加一个from的信息(否则就要先去找起点是谁)\n}\n\nint main() {\n	cin >> n >> m;\n\n	// 初始化head\n	memset(head, -1, sizeof(head));\n	\n	// 读入数据\n	for (int i = 0;i < m;i++) {\n		int fi, ti, wi;\n		cin >> fi >> ti >> wi;\n		Edge[i].to = ti;\n		Edge[i].w = wi;\n		Edge[i].from = fi;\n\n		Edge[i].next = head[fi];\n		head[fi] = i;\n	}\n\n	BellmanFord(1);\n\n	for (int i = 1;i <= n;i++)\n		cout << dist[i] << " ";\n	cout << endl;\n	// ->0 4 3 5 10 6 4 \n\n	return 0;\n}\n'})}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"IDEA"}),"：我们在这个算法中可以发现，我们选边的时候对于它终点于何处并不关心，相反，我们会关心它的起点的信息（我们要算的源起点到该边的起点的距离），所以直接在存边的时候添加起点(from)的记录会方便我们确定起点。"]}),"\n",(0,n.jsx)(e.p,{children:"虽然上文提到我们不考虑负权环的存在，但是我们可以想象，如果存在负权环，该图进入Bellman-Ford算法之后会有神奇的数据产生，我们试试看："}),"\n",(0,n.jsx)(e.p,{children:"给我们的测试数据添加一个负权边："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"7 10\n1 2 4\n1 3 3\n1 4 8\n2 6 2\n3 7 1\n4 3 5\n4 5 5\n7 7 -9\n7 6 5\n7 4 1\n\n"})}),"\n",(0,n.jsx)(i.Z,Object.assign({code:"graph LR\nv1((v1))-.4.->v2((v2))\nv1((v1))-.3.->v3((v3))\nv1((v1))-.8.->v4((v4))\nv2((v2))-.2.->v6((v6))\nv7((v7))-.5.->v6((v6))\nv7((v7))-.1.->v4((v4))\nv3((v3))-.1.->v7((v7))\nv4((v4))-.5.->v3((v3))\nv4((v4))-.5.->v5((v5))\nv7((v7))-. -9 .->v7((v7))"},{config:{theme:"forest"}})),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"同样的程序跑出来的结果是：\n0 4 -35 -49 -35 -45 -50\n原来的结果：\n0 4 3 5 10 6 4 \n"})}),"\n",(0,n.jsx)(e.p,{children:"思考：不管有没有负权环，我们得到的其实都是合理的最短路径，但是存在负权环会使得到某些点的最短距离一定会减少（加上一个负数肯定变小，而我们选择的是较小的那个路径），所以有负权环时，最短路径(假设路径上的点的数量没有限制)其实可以无限短，我们先前用暴力循环所有的点来保证所有的dist数组能够更新到最佳，那么假如有负权环在其中，dist数组没有最佳状态，所以我们简单的多循环一边，假如没有负权环，再多循环一边并不会改变dist数组里的值，如果有负权环，dist数组里一定有值改变。我们试试看："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"原来保证得到最佳只需要暴力循环n-1遍，得结果：\n0 4 -35 -49 -35 -45 -50\n暴力n次的结果：\n0 4 -44 -58 -44 -54 -59\n"})}),"\n",(0,n.jsx)(e.p,{children:"符合我们的想法。"}),"\n",(0,n.jsxs)(e.p,{children:["不过啊这个算法还是有暴力的成分，我们先前提到的只要遍历那些起点可直接到达的点等等想法还没实现，Bellman-Ford算法的时间复杂度有",(0,n.jsx)(e.code,{children:"O(nm)"}),"，我们讨论算法的对于这样的复杂度肯定还是不满意的。"]}),"\n",(0,n.jsx)(e.p,{children:"我们再回忆一下整个搜索过程：其实我们关系的只是可以拓展的可能当中最小的是哪个，为了找到最小的那个，我们上面用了搜索全部的边、点的方法。那么我们的目的还是还是：有没有一种可以维护数据结构的方式，让我们更容易找到最小的那个可能？"}),"\n",(0,n.jsxs)(e.p,{children:["于是",(0,n.jsx)(e.strong,{children:"队列优化"}),"进入思维"]}),"\n",(0,n.jsxs)(e.h3,{id:"spfa算法",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#spfa算法",children:"#"}),"SPFA算法"]}),"\n",(0,n.jsxs)(e.p,{children:["我们找",(0,n.jsx)(e.code,{children:"u -> p -> v"}),"路径时，p点的选择方法会实际影响我们的复杂度。我们的目的肯定是去更新u可以直接到达的点，而下一次就是p可以直接到达的点..."]}),"\n",(0,n.jsx)(e.p,{children:"SPFA算法使用一个队列去记录这些可以直接到达的点(也就是答案可能在的路径上)。"}),"\n",(0,n.jsx)(e.p,{children:"SPFA是如何做到“只更新可能更新的点”的？"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"只让当前点能到达的点入队"}),"\n",(0,n.jsx)(e.li,{children:"如果一个点已经在队列里，便不重复入队"}),"\n",(0,n.jsx)(e.li,{children:"如果一条边的起点还没被更新，那么它的终点不入队"}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"也就是说：当一个点入队了，代表它还在等待更新，当一个点出队了，那么它一定在当前经过最好的更新了。"}),"\n",(0,n.jsx)(e.p,{children:"会有一个点入队了更新之后再次入队的情况吗？会有这种可能。"}),"\n",(0,n.jsx)(e.p,{children:"来看看代码实现吧："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:"// 因为queue其实没有查找操作，所以简单用个bool型数组记录点p在队列中?inqueue[p]=true:inque[p]=false\nbool inqueue[maxn];\nvoid SPFA(int vn) {\n	// 寻找vn到各个点的最短路径，记录在dist[]数组中。\n\n	// 初始化dist[]\n	fill(dist + 1, dist + n + 1, INF);\n	dist[vn] = 0;\n\n	queue<int> updates;\n	updates.push(vn);	// 将vn点加入待更新队列\n\n	while (!updates.empty()) {\n		// 获得队首点，并把它移除待更新队列\n		int firstp = updates.front();\n		updates.pop();\n\n		inqueue[firstp] = false;	// 标记firstp已经不在队列中\n\n		for (int k = head[firstp], to = Edge[k].to;k != -1;k = Edge[k].next, to = Edge[k].to) {\n			// 遍历k可以直接到达的点to\n			if (dist[to] > dist[firstp] + Edge[k].w) {\n				dist[to] = dist[firstp] + Edge[k].w;\n				if (!inqueue[to]) {\n					updates.push(to);\n					inqueue[to] = true;\n				}\n			}\n		}\n	}\n}\n\n"})}),"\n",(0,n.jsxs)(e.p,{children:["SPFA算法的时间复杂度并不稳定，可以预想，在极端的情况下，SPFA算法的复杂度可以和Bellman-Ford算法一样是",(0,n.jsx)(e.code,{children:"O(nm)"}),"（不过随机数据模拟的算法复杂度大概是",(0,n.jsx)(e.code,{children:"O(m + nlogn)"}),"）"]}),"\n",(0,n.jsx)(e.p,{children:"SPFA算法也可以判断负权环的存在：若一个点入队次数超过n次，接下来无论怎么更新队列都不会为空，可以据此判断是否有负权环。"}),"\n",(0,n.jsx)(e.p,{children:"emmm优化了一点的BellmanFord算法？(思考)"}),"\n",(0,n.jsx)(e.p,{children:"接下来介绍复杂度稳定的贪心算法：==Dijstra算法=="}),"\n",(0,n.jsxs)(e.h3,{id:"dijstra算法",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#dijstra算法",children:"#"}),"☆☆☆Dijstra算法"]}),"\n",(0,n.jsxs)(e.p,{children:["Dij假设","没有负边"]}),"\n",(0,n.jsxs)(e.p,{children:["因为没有负边，我们可以确定，离起点",(0,n.jsx)(e.strong,{children:"最近"}),"的那个顶点的dist一定是那个顶点的最终结果。"]}),"\n",(0,n.jsxs)(e.p,{children:["思路：起点u可以","直接到达","的点中，最近的点p对应的e<u, p>一定是dist[p]的最佳值。假如它已经是最佳值了，我们在后面就可以把它当做起点u一样的点。由此我们只需要不断取出待更新队列里dist最小的点，并向后更新一层，直到没有需要再更新的点为止。"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:'#include<bits/stdc++.h>\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n\nstruct EdgeNode {\n	int from;\n	int to;		// 终点\n	int w;		// 权值\n	int next;	// 下一位置\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n\nint dist[maxm];\nint n, m;\nint path[maxm];	// 储存路径(存边)\nstruct Polar {\n	// 注意每个dist其实是一对一的绑定了它的索引的，直接写什么return dist[a]>dist[b]会破坏堆的结构，可能会让dist[a]和dist[b]的索引变化。\n	int id, dist;\n\n	Polar(int dist, int id) :dist(dist), id(id) {}\n	// 对结构体中传数据，和下面这种写法作用一样：\n	// Polar(int d, int d_id) {\n	// 	dist = d;\n	// 	id = d_id;\n	// }\n	// 重载运算符<\n	bool operator<(const Polar& P)const {\n		return dist < P.dist;\n	}\n};\nstruct cmp {\n	// // 重写仿函数法：\n	bool operator ()(Polar a, Polar b) {\n		// 重载()运算符，使其成为一个仿函数\n		return a.dist > b.dist;	\n	}\n};\n// priority_queue<Polar, vector<Polar>, cmp> q;\npriority_queue<Polar> q;\nbool visited[maxn];\nvoid Dij(int vn) {\n	fill(dist + 1, dist + n + 1, INF);\n	dist[vn] = 0;\n	\n	q.push(Polar(0, vn));\n	while (!q.empty()) {\n		int pid = q.top().id;\n		q.pop();\n		if (visited[pid]) \n			// 若已经在队列中\n			continue;\n		\n		visited[pid] = true;\n		for (int ei = head[pid], to = Edge[ei].to;ei != -1;ei = Edge[ei].next, to = Edge[ei].to) {\n			if (dist[pid] + Edge[ei].w < dist[to]){\n				dist[to] = dist[pid] + Edge[ei].w;\n				path[to] = Edge[ei].from;	// 记录路径的\n               	if (!visited[to])\n				q.push(Polar(dist[to], to));\n			}\n			\n		}\n	}\n}\n\nint main() {\n	cin >> n >> m;\n\n	// 初始化head\n	memset(head, -1, sizeof(head));\n    \n	// 读入数据\n	for (int i = 0;i < m;i++) {\n		int fi, ti, wi;\n		cin >> fi >> ti >> wi;\n		Edge[i].to = ti;\n		Edge[i].w = wi;\n		Edge[i].from = fi;\n\n		Edge[i].next = head[fi];\n		head[fi] = i;\n	}\n\n	int s = 1, t = 5;\n	Dij(s);\n\n	for (int i = 1;i <= n;i++)\n		cout << dist[i] << " ";\n	cout << endl;\n	// ->0 4 3 5 10 6 4\n\n	while (t != s) {\n		cout << t << "<-";\n		t = path[t];\n	}\n	cout << t;\n    // ->5<-4<-7<-3<-1\n\n	return 0;\n}\n'})}),"\n",(0,n.jsxs)(e.p,{children:["当然了用pair也行，反正只有id和dist两个数据，","多个其实也没关系你也可以pair套pair"]}),"\n",(0,n.jsx)(e.p,{children:"(另外两种简单的写法在STL.md里面写了，这里不写了)"}),"\n",(0,n.jsxs)(e.h4,{id:"-如何记录路径",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#-如何记录路径",children:"#"}),"-如何记录路径？"]}),"\n",(0,n.jsx)(e.p,{children:"把在更新点更新path数组就行。也就是dist[pos]>dist[u]+w(u->pos)的时候把这个更新的来源放在path数组里就行（记录到达某点的最好的路径的上一个来源点）。像这样："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:"if (dist[pid] + Edge[ei].w < dist[to]){\n    dist[to] = dist[pid] + Edge[ei].w;\n    path[to] = Edge[ei].from;\n}\n"})}),"\n",(0,n.jsxs)(e.h3,{id:"模板题",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#模板题",children:"#"}),"模板题"]}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsx)(e.p,{children:"模板题指路："}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://www.luogu.com.cn/problem/P3371",rel:"noopener noreferrer",target:"_blank",children:"P3371 【模板】单源最短路径（弱化版） - 洛谷 | 计算机科学教育新生态 (luogu.com.cn)"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://www.luogu.com.cn/problem/P4779",rel:"noopener noreferrer",target:"_blank",children:"P4779 【模板】单源最短路径（标准版） - 洛谷 | 计算机科学教育新生态 (luogu.com.cn)"})}),"\n",(0,n.jsx)(e.p,{children:"P3371【模板】单源最短路径（弱化版）"}),"\n",(0,n.jsx)(e.p,{children:"==题目背景=="}),"\n",(0,n.jsxs)(e.p,{children:["本题测试数据为随机数据，在考试中可能会出现构造数据让SPFA不通过，如有需要请移步 ",(0,n.jsx)(e.a,{href:"https://www.luogu.org/problemnew/show/P4779",rel:"noopener noreferrer",target:"_blank",children:"P4779"}),"。"]}),"\n",(0,n.jsx)(e.p,{children:"题目描述"}),"\n",(0,n.jsx)(e.p,{children:"如题，给出一个有向图，请输出从某一点出发到所有点的最短路径长度。"}),"\n",(0,n.jsx)(e.p,{children:"==输入格式=="}),"\n",(0,n.jsxs)(e.p,{children:["第一行包含三个整数 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"s"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"n,m,s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]}),"，分别表示点的个数、有向边的个数、出发点的编号。"]}),"\n",(0,n.jsxs)(e.p,{children:["接下来 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"m"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"m"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"})]})})]})," 行每行包含三个整数 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"v"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"w"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"u,v,w"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"})]})})]}),"，表示一条 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mo,{children:"→"}),(0,n.jsx)(e.mi,{children:"v"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"u \\to v"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"→"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"})]})]})]})," 的，长度为 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"w"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"w"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"})]})})]})," 的边。"]}),"\n",(0,n.jsx)(e.p,{children:"==输出格式=="}),"\n",(0,n.jsxs)(e.p,{children:["输出一行 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"n"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," 个整数，第 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"i"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})})]})," 个表示 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"s"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]})," 到第 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"i"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})})]})," 个点的最短路径，若不能到达则输出 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"2"}),(0,n.jsx)(e.mn,{children:"31"})]}),(0,n.jsx)(e.mo,{children:"−"}),(0,n.jsx)(e.mn,{children:"1"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"2^{31}-1"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8974em",verticalAlign:"-0.0833em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"2"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"31"})})})]})})})})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(e.span,{className:"mbin",children:"−"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"})]})]})]}),"。"]}),"\n",(0,n.jsx)(e.p,{children:"==样例=="}),"\n",(0,n.jsx)(e.p,{children:"样例输入 #1"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"4 6 1\n1 2 2\n2 3 2\n2 4 1\n1 3 5\n3 4 3\n1 4 4\n"})}),"\n",(0,n.jsx)(e.p,{children:"样例输出 #1"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"0 2 4 3\n"})}),"\n",(0,n.jsx)(e.p,{children:"==提示=="}),"\n",(0,n.jsxs)(e.p,{children:["【数据范围】",(0,n.jsx)(e.br,{}),"\n","对于 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"20"}),(0,n.jsx)(e.mi,{mathvariant:"normal",children:"%"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"20\\%"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8056em",verticalAlign:"-0.0556em"}}),(0,n.jsx)(e.span,{className:"mord",children:"20%"})]})})]})," 的数据：",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"5"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le n \\le 5"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"5"})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"15"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le m \\le 15"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"15"})]})]})]}),"；",(0,n.jsx)(e.br,{}),"\n","对于 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"40"}),(0,n.jsx)(e.mi,{mathvariant:"normal",children:"%"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"40\\%"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8056em",verticalAlign:"-0.0556em"}}),(0,n.jsx)(e.span,{className:"mord",children:"40%"})]})})]})," 的数据：",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"100"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le n \\le 100"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"100"})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"4"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le m \\le 10^4"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"4"})})]})})})})})]})]})]})]}),"；",(0,n.jsx)(e.br,{}),"\n","对于 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"70"}),(0,n.jsx)(e.mi,{mathvariant:"normal",children:"%"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"70\\%"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8056em",verticalAlign:"-0.0556em"}}),(0,n.jsx)(e.span,{className:"mord",children:"70%"})]})})]})," 的数据：",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"1000"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le n \\le 1000"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1000"})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"5"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le m \\le 10^5"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"5"})})]})})})})})]})]})]})]}),"；",(0,n.jsx)(e.br,{}),"\n","对于 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"100"}),(0,n.jsx)(e.mi,{mathvariant:"normal",children:"%"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"100\\%"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8056em",verticalAlign:"-0.0556em"}}),(0,n.jsx)(e.span,{className:"mord",children:"100%"})]})})]})," 的数据：",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"4"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1 \\le n \\le 10^4"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"4"})})]})})})})})]})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"5"}),(0,n.jsx)(e.mo,{children:"\xd7"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"5"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le m \\le 5\\times 10^5"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(e.span,{className:"mord",children:"5"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"5"})})]})})})})})]})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"v"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1\\le u,v\\le n"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8304em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mo,{children:"≥"}),(0,n.jsx)(e.mn,{children:"0"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"w\\ge 0"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≥"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"0"})]})]})]}),"，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mo,{children:"∑"}),(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mo,{children:"<"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"2"}),(0,n.jsx)(e.mn,{children:"31"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\sum w< 2^{31}"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(e.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"∑"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"<"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"2"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"31"})})})]})})})})})]})]})]})]}),"，保证数据随机。"]}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"Update 2022/07/29：两个点之间可能有多条边，敬请注意。"})}),"\n",(0,n.jsxs)(e.p,{children:["对于真正 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"100"}),(0,n.jsx)(e.mi,{mathvariant:"normal",children:"%"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"100\\%"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8056em",verticalAlign:"-0.0556em"}}),(0,n.jsx)(e.span,{className:"mord",children:"100%"})]})})]})," 的数据，请移步 ",(0,n.jsx)(e.a,{href:"https://www.luogu.org/problemnew/show/P4779",rel:"noopener noreferrer",target:"_blank",children:"P4779"}),"。请注意，该题与本题数据范围略有不同。"]}),"\n",(0,n.jsx)(e.p,{children:"样例说明："}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:"https://cdn.luogu.com.cn/upload/pic/7641.png",alt:""})}),"\n",(0,n.jsx)(e.p,{children:"图片1到3和1到4的文字位置调换"}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"AC代码"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:'#include<bits/stdc++.h>\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\ntypedef long long ll;\nstruct EdgeNode {\n	int from;\n	int to;		// 终点\n	ll w;		// 权值\n	int next;	// 下一位置\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n\nll dist[maxm];\nll n, m;\nbool inqueue[maxn];\nvoid SPFA(int vn) {\n	fill(dist + 1, dist + n + 1, INF);\n	dist[vn] = 0;\n\n	queue<int> updates;\n	updates.push(vn);\n	while (!updates.empty()) {\n		int firstp = updates.front();\n		updates.pop();\n\n		inqueue[firstp] = false;\n\n		for (int k = head[firstp], to = Edge[k].to;k != -1;k = Edge[k].next, to = Edge[k].to) {\n			// 遍历k可以直接到达的点to\n			if (dist[to] > dist[firstp] + Edge[k].w) {\n				dist[to] = dist[firstp] + Edge[k].w;\n				if (!inqueue[to]) {\n					updates.push(to);\n					inqueue[to] = true;\n				}\n			}\n		}\n	}\n}\n\n\nint main() {\n	int s;\n	cin >> n >> m >> s;\n\n	// 初始化head\n	memset(head, -1, sizeof(head));\n	\n	// 读入数据\n	for (int i = 0;i < m;i++) {\n		ll fi, ti, wi;\n		cin >> fi >> ti >> wi;\n		Edge[i].to = ti;\n		Edge[i].w = wi;\n		Edge[i].from = fi;\n\n		Edge[i].next = head[fi];\n		head[fi] = i;\n	}\n\n	SPFA(s);\n\n	for (int i = 1;i <= n;i++)\n		cout << dist[i] << " ";\n\n	return 0;\n}\n'})}),"\n",(0,n.jsx)(e.p,{children:"这个...没有卡SPFA。看另一个卡SPFA的题："}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsx)(e.p,{children:"P4779【模板】单源最短路径（标准版）"}),"\n",(0,n.jsx)(e.p,{children:"==题目背景=="}),"\n",(0,n.jsxs)(e.p,{children:["2018 年 7 月 19 日，某位同学在 ",(0,n.jsx)(e.a,{href:"https://www.luogu.org/problemnew/show/P4768",rel:"noopener noreferrer",target:"_blank",children:"NOI Day 1 T1 归程"})," 一题里非常熟练地使用了一个广为人知的算法求最短路。"]}),"\n",(0,n.jsx)(e.p,{children:"然后呢？"}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"100"}),(0,n.jsx)(e.mo,{children:"→"}),(0,n.jsx)(e.mn,{children:"60"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"100 \\rightarrow 60"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"100"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"→"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"60"})]})]})]}),"；"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mtext,{children:"Ag"}),(0,n.jsx)(e.mo,{children:"→"}),(0,n.jsx)(e.mtext,{children:"Cu"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\text{Ag} \\rightarrow \\text{Cu}"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(e.span,{className:"mord text",children:(0,n.jsx)(e.span,{className:"mord",children:"Ag"})}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"→"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(e.span,{className:"mord text",children:(0,n.jsx)(e.span,{className:"mord",children:"Cu"})})]})]})]}),"；"]}),"\n",(0,n.jsx)(e.p,{children:"最终，他因此没能与理想的大学达成契约。"}),"\n",(0,n.jsx)(e.p,{children:"小 F 衷心祝愿大家不再重蹈覆辙。"}),"\n",(0,n.jsx)(e.p,{children:"==题目描述=="}),"\n",(0,n.jsxs)(e.p,{children:["给定一个 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"n"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," 个点，",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"m"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"m"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"})]})})]})," 条有向边的带非负权图，请你计算从 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"s"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]})," 出发，到每个点的距离。"]}),"\n",(0,n.jsxs)(e.p,{children:["数据保证你能从 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"s"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]})," 出发到任意点。"]}),"\n",(0,n.jsx)(e.p,{children:"==输入格式=="}),"\n",(0,n.jsxs)(e.p,{children:["第一行为三个正整数 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsx)(e.mi,{children:"s"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"n, m, s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]}),"。\n第二行起 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"m"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"m"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"})]})})]})," 行，每行三个非负整数 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"v"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mi,{children:"i"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"u_i, v_i, w_i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]}),"，表示从 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mi,{children:"i"})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"u_i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]})," 到 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"v"}),(0,n.jsx)(e.mi,{children:"i"})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"v_i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]})," 有一条权值为 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mi,{children:"i"})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"w_i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]})," 的有向边。"]}),"\n",(0,n.jsx)(e.p,{children:"==输出格式=="}),"\n",(0,n.jsxs)(e.p,{children:["输出一行 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"n"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," 个空格分隔的非负整数，表示 ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"s"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]})," 到每个点的距离。"]}),"\n",(0,n.jsx)(e.p,{children:"==样例=="}),"\n",(0,n.jsx)(e.p,{children:"样例输入 #1"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"4 6 1\n1 2 2\n2 3 2\n2 4 1\n1 3 5\n3 4 3\n1 4 4\n"})}),"\n",(0,n.jsx)(e.p,{children:"样例输出 #1"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-plaintext",children:"0 2 4 3\n"})}),"\n",(0,n.jsx)(e.p,{children:"==提示=="}),"\n",(0,n.jsxs)(e.p,{children:["样例解释请参考 ",(0,n.jsx)(e.a,{href:"https://www.luogu.org/problemnew/show/P3371",rel:"noopener noreferrer",target:"_blank",children:"数据随机的模板题"}),"。"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"5"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1 \\leq n \\leq 10^5"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"5"})})]})})})})})]})]})]})]}),"；"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"m"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mn,{children:"2"}),(0,n.jsx)(e.mo,{children:"\xd7"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"5"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1 \\leq m \\leq 2\\times 10^5"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(e.span,{className:"mord",children:"2"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(e.span,{className:"mbin",children:"\xd7"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"5"})})]})})})})})]})]})]})]}),"；"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"s"}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsx)(e.mn,{children:"1"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"s = 1"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"s"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"="}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"})]})]})]}),"；"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"u"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{separator:"true",children:","}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"v"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mi,{children:"n"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"1 \\leq u_i, v_i\\leq n"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8304em",verticalAlign:"-0.1944em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mpunct",children:","}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})]})]}),"；"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"0"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"9"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"0 \\leq w_i \\leq 10 ^ 9"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.786em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"9"})})]})})})})})]})]})]})]}),","]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:"0"}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsx)(e.mo,{children:"∑"}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{children:"≤"}),(0,n.jsxs)(e.msup,{children:[(0,n.jsx)(e.mn,{children:"10"}),(0,n.jsx)(e.mn,{children:"9"})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"0 \\leq \\sum w_i \\leq 10 ^ 9"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7804em",verticalAlign:"-0.136em"}}),(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(e.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"∑"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"​"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"≤"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,n.jsx)(e.span,{className:"mord",children:"1"}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord",children:"0"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsx)(e.span,{className:"vlist-t",children:(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:"9"})})]})})})})})]})]})]})]}),"。"]}),"\n",(0,n.jsx)(e.p,{children:"本题数据可能会持续更新，但不会重测，望周知。"}),"\n",(0,n.jsx)(e.p,{children:"2018.09.04 数据更新 from @zzq"}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"AC代码"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:'#include<bits/stdc++.h>\nusing namespace std;\n#define INF 0x3f3f3f3f\ntypedef long long ll;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n\nstruct EdgeNode {\n	int from;\n	int to;		// 终点\n	int w;		// 权值\n	int next;	// 下一位置\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n\nint dist[maxm];\nint n, m;\n// priority_queue<pair<ll, int>> q;\npriority_queue<pair<ll, int>, vector<pair<ll, int>>, greater<pair<ll, int>>> q;\nbool visited[maxn];	// 记录已经获得最短路的点\n\nvoid Dij(int vn) {\n	dist[vn] = 0;\n	// 初始化\n	q.push(make_pair(dist[vn], vn));\n	while (!q.empty()) {\n		// 取队首元素(最小的)将它移出队列并标记移出\n		int pid = q.top().second;\n		q.pop();\n		if (visited[pid])\n			continue;\n		visited[pid] = true;\n		for (int ei = head[pid], to = Edge[ei].to;ei != -1;ei = Edge[ei].next, to = Edge[ei].to) {\n			// 找和pid(被移出的已最佳点)相连的边，更新dist\n			if (dist[to] > dist[pid] + Edge[ei].w) {\n				dist[to] = dist[pid] + Edge[ei].w;\n				if (!visited[to])\n					q.push(make_pair(dist[to], to));\n			}\n		}\n	}\n}\n\nint main() {\n	int s;\n	cin >> n >> m >> s;\n\n	// 初始化head\n	memset(head, -1, sizeof(head));\n    \n	// 读入数据\n	for (int i = 0;i < m;i++) {\n		int fi, ti, wi;\n		cin >> fi >> ti >> wi;\n		Edge[i].to = ti;\n		Edge[i].w = wi;\n		Edge[i].from = fi;\n\n		Edge[i].next = head[fi];\n		head[fi] = i;\n	}\n\n	fill(dist + 1, dist + n + 1, INF);\n	Dij(s);\n\n	for (int i = 1;i <= n;i++)\n		cout << dist[i] << " ";\n	cout << endl;\n\n	return 0;\n}\n'})}),"\n",(0,n.jsx)(e.p,{children:"啊总算绕完最短路这几个算法了，时候想通了感觉还挺明白的，不过由于某人的码力好差，老是达不到想要的效果[可恶]，还得多写代码而不是只注重想法。写出来了才算是初步会了！"})]})}function c(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),s.components);return e?(0,n.jsx)(e,Object.assign({},s,{children:(0,n.jsx)(m,s)})):m(s)}let r=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["posts%2Falgorithm%2Fshortest_path.md"]={toc:[{id:"思维先行",text:"思维先行",depth:3},{id:"floyd算法bellman-ford算法",text:"Floyd算法&Bellman-Ford算法",depth:3},{id:"spfa算法",text:"SPFA算法",depth:3},{id:"dijstra算法",text:"☆☆☆Dijstra算法",depth:3},{id:"-如何记录路径",text:"-如何记录路径？",depth:4},{id:"模板题",text:"模板题",depth:3}],title:"最短路问题（Dijkstra + SPFA + Floyd）",headingTitle:"",frontmatter:{title:"最短路问题（Dijkstra + SPFA + Floyd）",date:"2023-12-23T08:08:47.000Z",draft:!1,authors:[],description:"",tags:["图论","最短路"],categories:["在学算法的日子里"],series:["算法模板笔记"],hiddenFromHomePage:!1,hiddenFromSearch:!1,featuredImage:"",featuredImagePreview:"",toc:{enable:!0},math:{enable:!0},lightgallery:!1,license:""}}}}]);