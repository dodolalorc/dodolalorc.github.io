{"01-developer/index":{"slug":"01-developer/index","filePath":"01-developer/_index.md","title":"ğŸ“”èœèœå¼€å‘ç¬”è®°","links":[],"tags":["intro","å¼€å‘","Webå‰ç«¯","å®¢æˆ·ç«¯","Electron","Chromium","Cpp"],"content":"ç›®å‰åœ¨åšçš„å¼€å‘å›´ç»•å‰ç«¯Webç½‘é¡µã€å®¢æˆ·ç«¯å¼€å‘ã€æµè§ˆå™¨å†…æ ¸å¼€å‘ï¼ˆElectron&amp;Chromiumï¼‰ã€‚"},"01-developer/electronjs/index":{"slug":"01-developer/electronjs/index","filePath":"01-developer/electronjs/_index.md","title":"ğŸ’¡Electronå­¦ä¹ ç¬”è®°","links":[],"tags":["intro"],"content":"å®¢æˆ·ç«¯å¼€å‘ã€electron åŠå…¶ä¸Šæ¸¸å­¦ä¹ è®°å½•"},"01-developer/electronjs/build_electron":{"slug":"01-developer/electronjs/build_electron","filePath":"01-developer/electronjs/build_electron.md","title":"Electron æ„å»ºè®°å½• | ä¸€æ¡é¾™æœåŠ¡script","links":[],"tags":["Electron","Chromium"],"content":"\nSystemï¼šWindows 11\nPythonï¼šPython 3.13.3\nnodeï¼šv22.14.0\nnpmï¼š10.9.2\nyarnï¼š1.22.22\nè¶³å¤Ÿçš„ç£ç›˜ç©ºé—´å’Œæµé‡ï¼šæºä»£ç ä¸€å¥—ï¼ˆchromium+electronï¼‰å¤§çº¦ 70Gï¼Œé¢„ç•™æ„å»ºå†…æ ¸çš„å†…å­˜ç©ºé—´ï¼Œä¸€å…±ä¿ç•™ 200G æ¯”è¾ƒå¥½\n\nåˆå§‹åŒ–ç¯å¢ƒ\nElectronÂ  æ˜¯åµŒå…¥ Â ChromiumÂ  å’Œ Â Node.jsÂ  åˆ° äºŒè¿›åˆ¶è¿›è¡Œå¼€å‘ï¼Œæ‰€ä»¥åœ¨æ„å»ºElectronæ—¶æ˜¾ç„¶ä¹Ÿè¦å‡†å¤‡è¿™ä¸¤è€…çš„å¼€å‘ç¯å¢ƒã€‚\nChromium å¼€å‘å·¥å…·\nå‚è€ƒChromium æ­¤é¡µæ‹‰å–depot_toolsã€‚\næ‹‰å–å®Œæ¯•ä¹‹åï¼Œå°†depot_toolsçš„è·¯å¾„åŠ å…¥åˆ°ç³»ç»Ÿå˜é‡pathä¸­ï¼Œå¹¶å°†å˜é‡ä½ç½®ä¸Šç§»åˆ°è‡³å°‘gitå˜é‡ä¹‹å‰ã€‚\ndepot_toolséœ€è¦æœ¬æœºå®‰è£…äº†Git for Windowsï¼Œä»¥åŠpython 3.8ã€‚\nè¯†åˆ«ä¸åˆ°å®‰è£…çš„git\næŠ¥é”™ä¿¡æ¯ï¼š\n$ gclient --version\nUpdating depot_tools...\nWARNING:root:depot_tools will stop bundling Git for Windows on 2025-01-27.\nTo prepare for this change, please install Git directly. See\nchromium.googlesource.com/chromium/src/+/main/docs/windows_build_instructions.md#Install-git\n \nHaving issues and not ready for depot_tools to stop bundling\nGit for Windows? File a bug at:\nissues.chromium.org/issues/new\n \nERROR:root:Failed to bootstrap depot_tools.\nGit was not found in PATH. Have you installed it?\næœ¬æœºä½¿ç”¨Scoopå®‰è£…å¤§éƒ¨åˆ†çš„è½¯ä»¶ï¼Œéš¾è¿‡çš„æ˜¯é€šè¿‡è¿™æ ·ä¸‹è½½çš„gitæ— æ³•è¢«depot_toolså·¥å…·è¯†åˆ«ï¼Œåªèƒ½å¸è½½æœ¬æœºå½“å‰çš„gitååœ¨gité‡æ–°ä¸‹è½½ä¸€éï¼Œä¹‹ågclientã€‚\nElectron build-tools\næœ¬ç¯‡ä½¿ç”¨çš„è„šæœ¬æ˜¯Electron build-toolsï¼Œå‚»ç“œä¸€ç«™å¼æ‹‰å–ä¸ç”¨ç®¡ä»»ä½•ç‰ˆæœ¬æˆ–åˆ†æ”¯ã€‚\n\næ³¨æ„éœ€è¦å®‰è£…å¥½ yarn ç­‰å·¥å…·ï¼šnpm i -g yarn\n\næŒ‰ç…§ readme çš„æç¤ºå®‰è£…ï¼š\nnpm i -g @electron/build-tools\nåœ¨æœ¬æœºæ‰¾å¥½å­˜æ”¾æºç çš„ä½ç½®åï¼Œè¿›è¡Œï¼š\ne init --root=~/electron --bootstrap testing\n--root=~/electronæ˜¯æ‹‰å–çš„æ—¶å€™æƒ³è¦å­˜æºç çš„ä½ç½®ï¼Œå¦‚æœç•™ç©ºåˆ™åœ¨å½“å‰è·¯å¾„ä¸‹ï¼Œå»ºè®®é€‰æ‹©åˆé€‚çš„ç£ç›˜ã€‚\nè¯†åˆ«ä¸åˆ°å‘½ä»¤\nåœ¨e init ...å‘½ä»¤æ‰§è¡Œåˆ°ä¸€åŠï¼Œå‘ç°ä¸­æ–­åœ¨æŸå¤„ï¼Œé‡æ–°è¿›è¡Œe sync -fåï¼Œå‡ºç°æ‰¾ä¸åˆ° npm å‘½ä»¤çš„åé¦ˆã€‚\n$ e sync -f\nChecking for build-tools updates\n&#039;npm&#039; ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶\n&#039;npx&#039; ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶\nè¿›è¡Œæ‹‰å–æ—¶ï¼Œè„šæœ¬åœ¨æ‰§è¡Œåˆ°å¤§çº¦python script/lib/npx.py yarn@1.15.2 install --frozen-lockfileçš„æ—¶å€™å‘ç”Ÿäº†æŠ¥é”™ï¼Œç§°FileNotFoundError: [WinError 2]ï¼Œå¯¼è‡´ERROR gclient sync failedå¤±è´¥ã€‚\nä»”ç»†é˜…è¯»æ—¥å¿—ä¹‹åï¼Œå…ˆåœ¨å‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œä¸Šè¿°è„šæœ¬è¯­å¥ï¼Œå‘ç°è¿è¡Œæ˜¯æ­£å¸¸çš„ï¼ŒåŒæ—¶æƒ³çš„æœ¬æœºåœ¨å¹³æ—¶å¼€å‘ä½¿ç”¨ pythonã€node.js å‡æ²¡æœ‰å‡ºç°æ‰¾ä¸åˆ°å‘½ä»¤çš„é—®é¢˜ï¼Œä¸”å®éªŒå½“æ—¶åœ¨å‘½ä»¤è¡Œæµ‹è¯•node -vã€yarn --versionå’Œnpm -véƒ½æœ‰ç‰ˆæœ¬è¿”å›ï¼Œæ’é”™æŸ¥çœ‹ç¯å¢ƒå˜é‡pathä¹Ÿæœ‰æ­£ç¡®è®¾ç½®ã€‚\næœ¬æœºä½¿ç”¨äº† node.js ç‰ˆæœ¬ç®¡ç†å·¥å…·fnmï¼Œç»§è€Œæƒ³åˆ°æˆ–è®¸éœ€è¦æ¿€æ´» node ç¯å¢ƒï¼Œäºæ˜¯å…ˆè¿è¡Œäº†fnm use v22ï¼Œå‘ç°ç»§ç»­çš„æ‹‰å–ä¾ç„¶æœ‰é—®é¢˜ï¼Œæƒ³åˆ°æˆ–è®¸æ˜¯é€šè¿‡fnmè®¾ç½®çš„ä¸´æ—¶ç¯å¢ƒä¼šä¸è¢«è¯†åˆ«ï¼Œäºæ˜¯é€‰æ‹©ç›´æ¥åœ¨ node.js å®˜ç½‘ä¸‹è½½ä¸€ä¸ªåˆé€‚çš„ç‰ˆæœ¬ï¼Œè¿™æ ·æ“ä½œä¹‹åèƒ½æˆåŠŸè¿è¡Œå®Œæ¯•ã€‚\nä¸å¤ªç¡®å®šnvmä¼šä¸ä¼šä¹Ÿæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œä½†æ˜¯æ’ä¸ªçœ¼ï¼Œè§£å†³æ–¹æ³•è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚\n\nupdateï¼šMac ä¸Šæ²¡æœ‰è¿™ä¸ªé—®é¢˜æ\n\næ„å»º\né™„ä¸€å¼ æˆåŠŸæ‹‰å–çš„æˆªå›¾(å˜»å˜»)\n\nåœ¨è¿›è¡Œe buildä¹‹åï¼Œåˆæ¬¡æ„å»ºéœ€è¦é‰´æƒï¼Œç‚¹å‡»å‘½ä»¤è¡Œæç¤ºçš„ç½‘å€æ“ä½œä¸€ä¸‹å°±å¥½å•¦~\nç„¶åå°±æ˜¯ç»§ç»­æ³¡ n æ¯å’–å•¡ç­‰å¾…æ„å»ºã€‚\næ„å»ºæˆåŠŸä¹‹åçš„ç»“æœä¼šå­˜åœ¨./src/out/..ç›®å½•ä¸‹ï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š\ne start\nå¯ä»¥åœ¨å‘½ä»¤è¡Œçœ‹åˆ°å½“å‰æ„å»ºå‡ºçš„Electronä¿¡æ¯ï¼Œä»¥åŠå¼¹å‡ºçš„çª—å£ã€‚\n\næ ¹æ®æç¤ºçš„å‘½ä»¤å¯åŠ¨æœ¬åœ°çš„ electron demo\n\nåˆå½± ğŸ˜—"},"01-developer/electronjs/custom_electron_demo":{"slug":"01-developer/electronjs/custom_electron_demo","filePath":"01-developer/electronjs/custom_electron_demo.md","title":"è‡ªå®šä¹‰Electron.exeçš„ä½¿ç”¨","links":["posts/build_electron/"],"tags":["å‰ç«¯","Electron","Chromium"],"content":"åˆå§‹åŒ–ç¯å¢ƒå¯ä»¥é˜…è¯»è¿™ç¯‡ã€‚\nä¸Šæ¥ä¹‹å‰çš„æ„å»ºè¿‡ç¨‹ï¼Œç»è¿‡ç¬¬ä¸€æ¬¡æ„å»ºä¹‹åï¼Œåç»­ä¿®æ”¹æºç æ·»åŠ  api ç­‰éƒ½ä¸ä¼šå†æ„å»ºé‚£ä¹ˆä¹…äº†ã€‚\næ·»åŠ ç®€å•çš„ API\nå½“å‰ç›®å½•åœ¨æ„å»ºæ—¶ç›¸åŒçš„ç›®å½•ä¸‹ï¼Œå…¶ä¸‹åŒ…å«srcã€.gclientã€node_modulesç­‰ã€‚\næ‰¾åˆ°src/electronç›®å½•ï¼Œåœ¨lib/browser/api/app.tsæ·»åŠ ï¼š\napp.getElectronVersion = () =&gt; { // This is for test\n  return &#039;dodola test demo&#039; + process.versions.electron;\n};\nå†åˆ°electron.d.tsä¸­æ›´æ–°æ·»åŠ ï¼š\ndeclare namespace Electron {\n  const NodeEventEmitter: typeof import(&#039;events&#039;).EventEmitter;\n \n  type Accelerator = string;\n  type Event&lt;Params extends object = {}&gt; = {\n    preventDefault: () =&gt; void;\n    readonly defaultPrevented: boolean;\n  } &amp; Params;\n \n  interface App extends NodeJS.EventEmitter {\n    getElectronVersion(): string; // This is for test\n...\nç„¶ååœ¨å‘½ä»¤è¡Œé‡æ–°æ„å»ºä¸€éï¼š\ne build\nINFO Auto-updates disabled - skipping update check\nRunning &quot;autoninja.bat -j 200 electron&quot; in D:\\playground\\Projects\\electron-coins\\electron\\src\\out\\Testing\nProxy started successfully.\n[4/4] LINK electron.exe electron.exe.pdb\nRBE Stats: down 0 B, up 0 B, 1 local fallback\nè¿™æ ·å°±å‡†å¤‡å¥½äº†æµ‹è¯•ç”¨çš„è‡ªå®šä¹‰ electron å•¦\næµ‹è¯• demo\næ‰¾åˆ°ä¸€ä¸ªæµ‹è¯•ç”¨çš„å° electron demoï¼Œå¯ä»¥å‚è€ƒElectron æ•™ç¨‹ã€‚\nä¿®æ”¹å¯åŠ¨å‘½ä»¤\nåœ¨package.jsonä¸­ä¿®æ”¹å¯åŠ¨è„šæœ¬startçš„éƒ¨åˆ†ï¼ŒåŸæ¥æ˜¯electron .å¯åŠ¨ï¼Œå°†electronæ”¹ä¸ºæ„å»ºçš„electron.exeè·¯å¾„ï¼š\n{\n  &quot;name&quot;: &quot;electron-demo&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;main&quot;: &quot;main.js&quot;,\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;chcp 65001 &amp;&amp;  ..\\\\electron\\\\src\\\\out\\\\Testing\\\\electron.exe .&quot;,\n    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;\n  },\n  &quot;author&quot;: &quot;dodola&quot;,\n  &quot;license&quot;: &quot;MIT&quot;,\n  &quot;devDependencies&quot;: {\n    &quot;electron&quot;: &quot;^35.2.0&quot;\n  }\n}\n\n\n                  \n                  ä¸é‡è¦çš„å°è¯´æ˜ \n                  \n                \n\n\nchcp 65001åªæ˜¯ä¸ºäº†åœ¨å‘½ä»¤è¡Œä¸­èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ç”¨çš„\n\n\n\nè°ƒç”¨ Api\nåœ¨main.jsä¸­æ·»åŠ  console.log è¯­å¥ï¼š\nconsole.log(`Custom Electron version: ${app.getElectronVersion()}`)\nä¹‹åæ­£å¸¸å¯åŠ¨æµ‹è¯•çš„é¡¹ç›®å³å¯ï¼š\nnpm start\nå¯ä»¥çœ‹åˆ°å‘½ä»¤è¡Œå¯¹åº”çš„è¾“å‡ºï¼š\n\nå° demo çš„ä»£ç \nmain.js\nconst { app, BrowserWindow, ipcMain } = require(&#039;electron/main&#039;)\nconst path = require(&#039;node:path&#039;)\nconst { dialog } = require(&#039;electron/main&#039;)\n \nlet mainWindow;\nconst createWindow = () =&gt; {\n  mainWindow = new BrowserWindow({\n    width: 1000,\n    height: 800,\n    title: &#039;Just a little demo&#039;,\n    icon: path.join(__dirname, &#039;icon.png&#039;),\n    webPreferences: {\n      contextIsolation: true,\n      preload: path.join(__dirname, &#039;preload.js&#039;)\n    }\n  })\n  mainWindow.setMenu(null)\n  mainWindow.loadFile(&#039;index.html&#039;)\n \n  let wc = mainWindow.webContents;\n \n  // wc.openDevTools();\n \n  wc.on(&#039;dom-ready&#039;, (e) =&gt; {\n    dialog.showMessageBox(options = {\n      title: &#039;Hello&#039;,\n      message: &#039;This is a message box&#039;,\n    }).then((result) =&gt; {\n      console.log(result);\n    });\n  });\n}\n \n \napp.whenReady().then(() =&gt; {\n  ipcMain.handle(&#039;ping&#039;, () =&gt; &#039;pong&#039;);\n \n  createWindow();\n  mainWindow.maximize();\n \n  app.on(&#039;activate&#039;, () =&gt; {\n    if (BrowserWindow.getAllWindows().length === 0) createWindow()\n  })\n})\n \napp.on(&#039;window-all-closed&#039;, () =&gt; {\n  if (process.platform !== &#039;darwin&#039;) app.quit()\n});\n \nconsole.log(`Custom Electron version: ${app.getElectronVersion()}`)\npreload.js\nconst { contextBridge, ipcRenderer } = require(&#039;electron/renderer&#039;)\n \ncontextBridge.exposeInMainWorld(&#039;versions&#039;, {\n  node: () =&gt; process.versions.node,\n  chrome: () =&gt; process.versions.chrome,\n  electron: () =&gt; process.versions.electron,\n  ping: () =&gt; ipcRenderer.invoke(&#039;ping&#039;)\n})\nrenderer.js\nconst information = document.getElementById(&#039;info&#039;)\ninformation.innerText = `This app is using Chrome (v${window.versions.chrome()}), Node.js (v${window.versions.node()}), and Electron (v${window.versions.electron()})`;\n \nconst pingButton = document.getElementById(&#039;ping&#039;);\nconst pingMsg = document.getElementById(&#039;ping-msg&#039;);\npingButton.addEventListener(&#039;click&#039;, () =&gt; {\n  window.versions.ping().then((response) =&gt; {\n    console.log(response) // prints out &#039;pong&#039;\n    pingMsg.innerText = response\n  })\n})\nindex.html\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n \n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot; /&gt;\n  &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#039;self&#039;; script-src &#039;self&#039;&quot; /&gt;\n  &lt;meta http-equiv=&quot;X-Content-Security-Policy&quot; content=&quot;default-src &#039;self&#039;; script-src &#039;self&#039;&quot; /&gt;\n&lt;/head&gt;\n \n&lt;body&gt;\n  &lt;h1&gt;Hello from Electron renderer!&lt;/h1&gt;\n  &lt;p&gt;ğŸ‘‹&lt;/p&gt;\n  &lt;p id=&quot;info&quot;&gt;&lt;/p&gt;\n  &lt;button id=&quot;ping&quot;&gt;ping&lt;/button&gt;\n  &lt;p&gt;Message from ping is: &lt;span id=&quot;ping-msg&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;script src=&quot;./renderer.js&quot;&gt;&lt;/script&gt;\n \n&lt;/html&gt;"},"01-developer/frontend/8part_essay":{"slug":"01-developer/frontend/8part_essay","filePath":"01-developer/frontend/8part_essay.md","title":"å‰ç«¯å…«è‚¡æ–‡å°é¢˜é›†åˆ","links":[],"tags":["å‰ç«¯å…«è‚¡æ–‡"],"content":"Vue2 å’Œ Vue3 åŒºåˆ«\næ€§èƒ½ä¼˜åŒ–\n\n\nVue 3ï¼šé€šè¿‡é‡å†™è™šæ‹Ÿ DOM å’Œä¼˜åŒ–ç¼–è¯‘å™¨ï¼Œæ€§èƒ½æ˜¾è‘—æå‡ï¼Œæ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œå†…å­˜å ç”¨æ›´å°‘ã€‚\n\n\nVue 2ï¼šæ€§èƒ½è¾ƒå¥½ï¼Œä½†ä¸å¦‚ Vue 3ã€‚\nComposition API\n\n\nVue 3ï¼šå¼•å…¥äº† Composition APIï¼Œå…è®¸å¼€å‘è€…æŒ‰é€»è¾‘ç»„ç»‡ä»£ç ï¼Œæå‡å¤æ‚ç»„ä»¶çš„å¯ç»´æŠ¤æ€§ã€‚\n\n\nVue 2ï¼šä¸»è¦ä½¿ç”¨ Options APIï¼Œä»£ç ç»„ç»‡æ–¹å¼ç›¸å¯¹å›ºå®šã€‚\nå“åº”å¼ç³»ç»Ÿ\n\n\nVue 3ï¼šä½¿ç”¨ Proxy å®ç°å“åº”å¼ç³»ç»Ÿï¼Œæ”¯æŒæ›´å¤šæ•°æ®ç±»å‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚\n\n\nVue 2ï¼šä½¿ç”¨ Object.definePropertyï¼Œå­˜åœ¨ä¸€äº›å±€é™æ€§ï¼Œå¦‚æ— æ³•æ£€æµ‹æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ã€‚\nTypeScript æ”¯æŒ\n\n\nVue 3ï¼šå†…ç½® TypeScript æ”¯æŒï¼Œç±»å‹æ¨æ–­æ›´å®Œå–„ã€‚\n\n\nVue 2ï¼šå¯¹ TypeScript çš„æ”¯æŒè¾ƒå¼±ï¼Œç±»å‹æ¨æ–­ä¸å¤Ÿå®Œå–„ã€‚\nFragment å’Œ Teleport\n\n\nVue 3ï¼šæ”¯æŒ Fragmentï¼ˆå¤šæ ¹èŠ‚ç‚¹ç»„ä»¶ï¼‰å’Œ Teleportï¼ˆå°†ç»„ä»¶æ¸²æŸ“åˆ° DOM å…¶ä»–ä½ç½®ï¼‰ã€‚\n\n\nVue 2ï¼šä¸æ”¯æŒè¿™äº›ç‰¹æ€§ã€‚\n\n\nå…¨å±€ API æ›´æ”¹\n\nVue 3ï¼šå…¨å±€ API æ”¹ä¸ºæŒ‰éœ€å¯¼å…¥ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚\nVue 2ï¼šå…¨å±€ API é€šè¿‡ Vue å¯¹è±¡è®¿é—®ã€‚\n\nç”Ÿå‘½å‘¨æœŸé’©å­\n\n\nVue 3ï¼šéƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸé’©å­æ›´åï¼ˆå¦‚ beforeDestroy æ”¹ä¸º beforeUnmountï¼‰ï¼Œå¹¶æ–°å¢äº† setup å‡½æ•°ã€‚\n\n\nVue 2ï¼šä½¿ç”¨ä¼ ç»Ÿçš„ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚\nè‡ªå®šä¹‰æ¸²æŸ“å™¨\n\n\nVue 3ï¼šæ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œé€‚ç”¨äºé DOM ç¯å¢ƒï¼ˆå¦‚å°ç¨‹åºã€Canvasï¼‰ã€‚\n\n\nVue 2ï¼šä¸æ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å™¨ã€‚\nSuspense\n\n\nVue 3ï¼šæ”¯æŒ Suspenseï¼Œç”¨äºå¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½ã€‚\n\n\nVue 2ï¼šä¸æ”¯æŒ Suspenseã€‚\n\n\næ‰“åŒ…ä½“ç§¯\n\nVue 3ï¼šé€šè¿‡ Tree-shaking ä¼˜åŒ–ï¼Œæ‰“åŒ…ä½“ç§¯æ›´å°ã€‚\nVue 2ï¼šæ‰“åŒ…ä½“ç§¯ç›¸å¯¹è¾ƒå¤§ã€‚\n\nVue 3 åœ¨æ€§èƒ½ã€å¼€å‘ä½“éªŒå’Œçµæ´»æ€§ä¸Šéƒ½æœ‰æ˜¾è‘—æå‡ï¼Œå°¤å…¶æ˜¯ Composition API å’Œå“åº”å¼ç³»ç»Ÿçš„æ”¹è¿›ã€‚å¯¹äºæ–°é¡¹ç›®ï¼Œæ¨èä½¿ç”¨ Vue 3ï¼›å¯¹äºç°æœ‰ Vue 2 é¡¹ç›®ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€æ­¥è¿ç§»ã€‚\nJavaScript å’Œ TypeScript\nTypeScript å’Œ JavaScript æ˜¯ä¸¤ç§å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«å’Œä¼˜ç‚¹å¦‚ä¸‹ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå¯¹æ¯”é¡¹JavaScriptTypeScriptç±»å‹ç³»ç»ŸåŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡åœ¨è¿è¡Œæ—¶ç¡®å®šé™æ€ç±»å‹è¯­è¨€ï¼Œæ”¯æŒç±»å‹æ³¨è§£ï¼Œç±»å‹æ£€æŸ¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œã€‚ç¼–è¯‘ç›´æ¥ç”±æµè§ˆå™¨æˆ– Node.js æ‰§è¡Œï¼Œæ— éœ€ç¼–è¯‘ã€‚éœ€è¦ç¼–è¯‘ä¸º JavaScript åæ‰èƒ½è¿è¡Œã€‚å·¥å…·æ”¯æŒå·¥å…·æ”¯æŒè¾ƒå°‘ï¼Œå°¤å…¶åœ¨å¤§å‹é¡¹ç›®ä¸­ã€‚æä¾›æ›´å¥½çš„å¼€å‘å·¥å…·æ”¯æŒï¼Œå¦‚ä»£ç è¡¥å…¨ã€ç±»å‹æ£€æŸ¥ã€é‡æ„ç­‰ã€‚å…¼å®¹æ€§æ‰€æœ‰ JavaScript ä»£ç éƒ½å¯åœ¨ TypeScript ä¸­è¿è¡Œã€‚ç¼–è¯‘åçš„ä»£ç ä¸ JavaScript å®Œå…¨å…¼å®¹ã€‚å­¦ä¹ æ›²çº¿å­¦ä¹ æ›²çº¿è¾ƒå¹³ç¼“ï¼Œé€‚åˆåˆå­¦è€…ã€‚éœ€è¦æŒæ¡ç±»å‹ç³»ç»Ÿç­‰é¢å¤–æ¦‚å¿µï¼Œå­¦ä¹ æ›²çº¿ç¨é™¡ã€‚ç¤¾åŒºç”Ÿæ€ç¤¾åŒºåºå¤§ï¼Œèµ„æºä¸°å¯Œã€‚ç¤¾åŒºå¢é•¿è¿…é€Ÿï¼Œå°¤å…¶åœ¨å¤§å‹é¡¹ç›®ä¸­åº”ç”¨å¹¿æ³›ã€‚é€‚ç”¨åœºæ™¯é€‚åˆå°å‹é¡¹ç›®æˆ–å¿«é€ŸåŸå‹å¼€å‘ã€‚é€‚åˆå¤§å‹é¡¹ç›®ï¼Œå°¤å…¶æ˜¯éœ€è¦é•¿æœŸç»´æŠ¤çš„å¤æ‚åº”ç”¨ã€‚ä¼˜ç‚¹æ— éœ€ç¼–è¯‘ï¼Œå¼€å‘æµç¨‹ç®€å•ã€‚å­¦ä¹ é—¨æ§›ä½ï¼Œé€‚åˆåˆå­¦è€…ã€‚ç¤¾åŒºèµ„æºä¸°å¯Œï¼Œç”Ÿæ€æˆç†Ÿã€‚é™æ€ç±»å‹æ£€æŸ¥å‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚æ›´å¥½çš„å·¥å…·æ”¯æŒæå‡å¼€å‘æ•ˆç‡ã€‚å¢å¼ºä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚æ”¯æŒæœ€æ–°çš„ JavaScript ç‰¹æ€§ã€‚æ€»ç»“é€‚åˆå¤§å‹é¡¹ç›®ï¼Œæä¾›æ›´å¼ºçš„ç±»å‹æ£€æŸ¥å’Œå·¥å…·æ”¯æŒã€‚é€‚åˆå°å‹é¡¹ç›®æˆ–å¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚\nä»£ç ï¼šåƒåˆ†ä½é€—å·\nlet num = 1234567.89; Â \nlet formattedNum = num.toLocaleString(&#039;en-US&#039;); Â \nconsole.log(formattedNum); Â // è¾“å‡º &quot;1,234,567.89&quot;\nä»£ç ï¼šæ‰‹å†™æ·±æµ…æ‹·è´\næµ…æ‹·è´åªä¼šå¤åˆ¶å¯¹è±¡çš„é¡¶å±‚å±æ€§å’Œå€¼ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œé‚£ä¹ˆå®ƒå®é™…ä¸Šåªæ˜¯å¤åˆ¶äº†å¼•ç”¨ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å¯¹è±¡ã€‚\nè€Œæ·±æ‹·è´åˆ™ä¼šé€’å½’åœ°å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±‚çº§ï¼Œç¡®ä¿æ‰€æœ‰çš„å¯¹è±¡æˆ–æ•°ç»„éƒ½è¢«çœŸæ­£å¤åˆ¶ï¼Œè€Œä¸æ˜¯ä»…å¤åˆ¶å¼•ç”¨ã€‚\næµ…æ‹·è´\nfunction shallowCopy(obj) {\n    if (typeof obj !== &#039;object&#039; || obj === null) {\n        return obj;\n    }\n    return Object.assign({}, obj);  // Objectæµ…æ‹·è´\n}\n \nconst original = { a: 1, b: { c: 2 } };\nconst copied = shallowCopy(original);\nconsole.log(copied);\næ·±æ‹·è´\nfunction deepCopy(obj, hash = new WeakMap()) {\n\t// ä½¿ç”¨äº†`WeakMap`æ¥å­˜å‚¨å·²ç»å¤åˆ¶è¿‡çš„å¯¹è±¡\n    if (typeof obj !== &#039;object&#039; || obj === null) {\n        return obj;\n    }\n \n    // æ—¥æœŸ\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    // æ­£åˆ™\n    if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n \n    let newObj = Array.isArray(obj) ? [] : {};\n    hash.set(obj, newObj);\n \n    for (let key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            newObj[key] = deepCopy(obj[key], hash); // é€’å½’è¿›è¡Œæ‹·è´\n        }\n    }\n \n    return newObj;\n}\nä»£ç ï¼šæ‰‹å†™ New æ–¹æ³•\nfunction myNew(constructor, ...args) {\n    const obj = {};\n    obj.__proto__ = constructor.prototype;\n    const result = constructor.apply(obj, args);\n    // å¦‚æœæ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡\n    return result instanceof Object ? result : obj;\n}\n \nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\n \nPerson.prototype.greet = function () {\n    console.log(`Hello, I&#039;m ${this.name} and I&#039;m ${this.age} years old.`);\n}\n \nconst person = myNew(Person, &#039;Alice&#039;, 12);\nconsole.log(person.name);\nconsole.log(person.age);\nperson.greet();\nä»£ç ï¼šæ‰‹å†™å‡½æ•°æŸ¯é‡ŒåŒ–\nfunction curry(fn) {\n    if (typeof fn !== &#039;function&#039;) {\n        return new Error(&#039;Type Error&#039;);\n    }\n    return function curried(...args) {\n        if (args.length &gt;= fn.length) {    // å¦‚æœå‚æ•°æ•°é‡è¶³å¤Ÿï¼Œåˆ™æ‰§è¡Œ\n            return fn.apply(this, args);\n        }\n        return function (...args2) {\n            return curried.apply(this, args.concat(args2));\n        }\n    }\n}\n \nfunction sum(a, b, c) {\n    return a + b + c;\n}\n \nconst curriedSum = curry(sum);\n \nconsole.log(curriedSum(1)(2)(3));\nconsole.log(curriedSum(1, 2)(3));\nä»£ç ï¼šå®ç° AJAX è¯·æ±‚ï¼Œä½¿ç”¨ Promise å°è£… AJAX è¯·æ±‚\nfunction ajaxRequest(url, method = &#039;GET&#039;, data = null) {\n    return new Promise((resolve, reject) =&gt; {\n        const xhr = new XMLHttpRequest();\n        xhr.open(method, url, true);\n        if (method == &#039;POST&#039;) {\n            xhr.setRequestHeader(&#039;Content-Type&#039;, &#039;application/x-www-form-urlencoded&#039;);\n        }\n \n        xhr.onload = function () {\n            if (this.status === 200) {\n                resolve(this.responseText);\n            } else {\n                reject(new Error(this.statusText));\n            }\n        };\n \n        xhr.onerror = function () {\n            reject(new Error(&#039;Network Error&#039;));\n        }\n \n        if (data) {\n            xhr.send(data);\n        } else {\n            xhr.send();\n        }\n    })\n}\n \najaxRequest(\n    &#039;api.example.com/data&#039;, &#039;GET&#039;).then(response =&gt; {\n        console.log(response);\n    }).catch(error =&gt; {\n        console.error(&#039;Error:&#039;, error);\n    });"},"01-developer/frontend/index":{"slug":"01-developer/frontend/index","filePath":"01-developer/frontend/_index.md","title":"ğŸWebå‰ç«¯èœèœç¬”è®°","links":[],"tags":["intro","å¼€å‘","Webå‰ç«¯"],"content":"å…¶å®æ˜¯é¢„å¤‡é¢è¯•æ—¶å‡†å¤‡çš„è®¸å¤šå…«è‚¡æ–‡ã€‚"},"01-developer/frontend/cart_page_sample":{"slug":"01-developer/frontend/cart_page_sample","filePath":"01-developer/frontend/cart_page_sample.md","title":"è´­ç‰©è½¦é¡µé¢åˆ¶ä½œæ•™ç¨‹ï¼ˆåŒ…å«åˆ†é¡µè®¾è®¡ï¼‰","links":[],"tags":["å‰ç«¯"],"content":"\n\n                  \n                  ä¸ºä»€ä¹ˆæœ‰è¿™ç¯‡ä½è´¨é‡æ–‡ç«  \n                  \n                \n\n\nè¿™ç¯‡æ–‡ç« ç”¨äº2024å¹´è“æ—­æš‘æœŸé¡¹ç›®å‰çš„åŸ¹è®­ä½œä¸šæ•™å­¦ï¼Œç›®çš„æ˜¯ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªè´­ç‰©è½¦é¡µé¢ï¼Œä»¥æ­¤æ¥ç†Ÿæ‚‰åŸç”Ÿå‰ç«¯ä¸‰ä»¶å¥—ã€‚o((&gt;Ï‰&lt; ))o\n\n\n\néœ€æ±‚åˆ†æ\nåŠŸèƒ½è¦æ±‚ï¼š\n\n\nå…¨é€‰ã€å•é€‰è”åŠ¨é€»è¾‘ï¼ˆåŒ…æ‹¬ä¾æ¬¡é€‰ä¸­æ‰€æœ‰ç‰©å“æ—¶è‡ªåŠ¨å‹¾é€‰å…¨é€‰æŒ‰é’®ã€å‹¾é€‰å…¨é€‰æ—¶å‹¾é€‰æ‰€\næœ‰å•é€‰ã€å–æ¶ˆå…¨é€‰åå–æ¶ˆæ‰€æœ‰é€‰ä¸­ç­‰ï¼‰ã€ç»“ç®—å°é¡¹æ€»ä»·ä»¥åŠæ•´ä½“æ€»ä»·ã€‚\n\n\nå±•ç¤ºå•†å“å›¾ç‰‡ã€åç§°ã€ä»·æ ¼ã€æ•°é‡ç­‰åŸºç¡€ä¿¡æ¯ã€‚\n\n\nä½“ç°åˆ†é¡µå±•ç¤ºè´­ç‰©è½¦å†…å•†å“å†…å®¹ã€‚\n\n\nå¯ä»¥å¯¹è´­ç‰©è½¦å†…å•†å“è¿›è¡Œå¢åˆ æ”¹ï¼Œå³æ”¹å˜æ•°é‡ã€ç»“ç®—å•†å“ã€åˆ é™¤å•†å“ï¼ˆç»“åˆåˆ†é¡µæ˜¾ç¤ºæ•°\nç›®åˆç†è°ƒæ•´ï¼‰ç­‰ã€‚\n\n\nç¾è§‚çš„é¡µé¢æ•ˆæœã€‚\n\n\nåŠ åˆ†åŠŸèƒ½\n\n\nå®ç°åœ¨è´­ç‰©è½¦é¡µé¢æŸ¥æ‰¾å•†å“çš„åŠŸèƒ½ã€‚\n\n\nè‡ªå·±å†™ä¸€ä¸ªå¼¹å‡ºæç¤ºæ¡†ï¼Œåœ¨åˆ é™¤å•†å“ã€ç»“ç®—å•†å“ç­‰è¡Œä¸ºåä¸ç”¨æˆ·è¿›è¡Œç¡®è®¤äº¤äº’ã€‚\n\n\né¡µé¢å¸ƒå±€\næ•´ä½“å¸ƒå±€\næ•´ä¸ªè´­ç‰©è½¦é¡µé¢æœ‰ä¸‰ä¸ªä¸»è¦åŠŸèƒ½ï¼šåˆ—è¡¨ã€ç»“ç®—ã€åˆ†é¡µã€‚\nè´­ç‰©è½¦é¡µé¢çš„å¸ƒå±€ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šè´­ç‰©è½¦åˆ—è¡¨å’Œç»“ç®—æ ã€‚\nè´­ç‰©è½¦åˆ—è¡¨æ˜¯è´­ç‰©è½¦é¡µé¢çš„ä¸»ä½“éƒ¨åˆ†ï¼Œç”¨äºå±•ç¤ºç”¨æˆ·è´­ç‰©è½¦ä¸­çš„å•†å“ä¿¡æ¯ï¼Œæˆ‘ä»¬å°†æ•´ä¸ªåˆ—è¡¨è®¾è®¡åœ¨æ•´ä¸ªé¡µé¢çš„ä¸­éƒ¨ï¼Œåœ¨é¡¶éƒ¨è®¾è®¡ä¸€ä¸ªnavç”¨äºå±•ç¤ºè´­ç‰©è½¦çš„æ ‡é¢˜ï¼Œä»¥åŠä½œä¸ºä¹‹åçš„è·¯ç”±è·³è½¬çš„ä½ç½®ï¼Œè¿™ä¸ªnavè®¾è®¡æˆå¸é¡¶ã€‚\nä¸­é—´ä¸»ä½“éƒ¨åˆ†æ˜¯è´­ç‰©è½¦åˆ—è¡¨ï¼Œç”¨äºå±•ç¤ºç”¨æˆ·è´­ç‰©è½¦ä¸­çš„å•†å“ä¿¡æ¯ã€‚\nåº•éƒ¨æˆ‘è®¾è®¡ä¸ºç»“ç®—æ ï¼Œç”¨äºå±•ç¤ºç”¨æˆ·å½“å‰é€‰ä¸­çš„æ€»ä»·ï¼Œä»¥åŠç»“ç®—æŒ‰é’®ã€‚\nåˆ†é¡µçš„ä½ç½®æˆ‘è®¾è®¡åœ¨è´­ç‰©è½¦åˆ—è¡¨ä¹‹ä¸Šï¼Œå¹¶ä¸”æŠŠå®ƒè®¾è®¡æˆå‘ä¸‹æ»‘åŠ¨æ—¶å¸é¡¶çš„è®¾è®¡ï¼Œè¿™æ ·ç”¨æˆ·åœ¨æµè§ˆå•†å“æ—¶å¯ä»¥éšæ—¶ç¿»é¡µã€‚\näºæ˜¯æ•´ä½“çš„è®¾è®¡å¦‚ä¸‹ï¼š\n&lt;body&gt;\n  &lt;div class=&quot;shell&quot;&gt;\n    &lt;nav&gt;\n      {/* ç”¨æ¥è®¾è®¡è·¯ç”±æ  */}\n      &lt;img class=&quot;nav-item&quot; src=&quot;www.coca-cola.com/content/dam/onexp/cn/zh/logos/coke-header.png&quot; alt=&quot;&quot;&gt;\n      &lt;div class=&quot;nav-item&quot;&gt;è´­ç‰©è½¦&lt;/div&gt;\n      &lt;div class=&quot;nav-item&quot;&gt;è®¢å•&lt;/div&gt;\n      &lt;div class=&quot;nav-item&quot;&gt;æˆ‘çš„&lt;/div&gt;\n    &lt;/nav&gt;\n \n    &lt;main&gt;\n      &lt;div class=&quot;title-div&quot;&gt;\n        &lt;div class=&quot;title&quot;&gt;å½“å‰é€‰ä¸­1æ ·å•†å“&lt;/div&gt;\n        &lt;div class=&quot;pagination&quot;&gt;\n          &lt;div class=&quot;page&quot;&gt;1&lt;/div&gt;\n          {/* é¡µç  */}\n          &lt;div class=&quot;page&quot;&gt;n&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;cart-item&quot;&gt;\n          {/* è¯¦ç»†çš„è´­ç‰©è½¦å†…å•†å“ä¿¡æ¯ */}\n        &lt;/div&gt;\n        &lt;div class=&quot;cart-item&quot;&gt;\n          {/* è¯¦ç»†çš„è´­ç‰©è½¦å†…å•†å“ä¿¡æ¯ */}\n        &lt;/div&gt;\n        {/* .... */}\n      &lt;/div&gt;\n    &lt;/main&gt;\n \n    &lt;footer&gt;\n      &lt;div class=&quot;sum-foot&quot;&gt;\n        {/* å±•ç¤ºå…¨é€‰æŒ‰é’®å’Œç»“ç®—ä¿¡æ¯ */}\n      &lt;/div&gt;\n    &lt;/footer&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n\n\n                  \n                  å…³äºå¸é¡¶å’Œå¸åº•çš„è®¾è®¡ \n                  \n                \n\n\nè®¾è®¡å¸é¡¶å’Œå¸åº•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨position: stickyå±æ€§ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥è®©å…ƒç´ åœ¨æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®æ—¶å›ºå®šåœ¨é¡µé¢ä¸Šï¼Œè¿™æ ·å¯ä»¥è®©ç”¨æˆ·åœ¨æµè§ˆé¡µé¢æ—¶æ›´åŠ æ–¹ä¾¿ã€‚\n\n\n\nè´­ç‰©è½¦åˆ—è¡¨è®¾è®¡\nè´­ç‰©è½¦åˆ—è¡¨çš„è®¾è®¡ä¸»è¦æ˜¯å±•ç¤ºè´­ç‰©è½¦å†…çš„å•†å“ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦å±•ç¤ºå•†å“çš„å›¾ç‰‡ã€åç§°ã€ä»·æ ¼ã€æ•°é‡ç­‰åŸºç¡€ä¿¡æ¯ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªå•†å“ä¿¡æ¯è®¾è®¡æˆä¸€ä¸ªå¡ç‰‡ï¼Œä¹‹åæˆ‘ä»¬å¯ä»¥é€šè¿‡jsåŠ¨æ€ç”Ÿæˆè¿™äº›å¡ç‰‡ã€‚\nè¿™æ˜¯æˆ‘è®¾è®¡çš„ä¸€ä¸ªå•†å“å¡ç‰‡çš„ç»“æ„ï¼š\n&lt;div class=&quot;cart-item&quot;&gt;\n  &lt;input type=&quot;radio&quot;&gt;  {/* å•é€‰æŒ‰é’® */}\n  &lt;img src=&quot;&quot; alt=&quot;&quot;&gt;   {/* å•†å“å›¾ç‰‡ */}\n  &lt;div class=&quot;item-info&quot;&gt;\n    &lt;h2&gt;{/* å•†å“åç§° */}&lt;/h2&gt;\n    &lt;div class=&quot;info&quot;&gt;\n      &lt;div class=&quot;desp&quot;&gt;\n        {/* å•†å“æè¿° */}\n      &lt;/div&gt;\n      &lt;div class=&quot;detail&quot;&gt;\n        &lt;div class=&quot;price&quot;&gt;{/* ä»·æ ¼ */}&lt;/div&gt;\n        &lt;div class=&quot;quantity&quot;&gt;\n          {/* æ•°é‡ */}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;button class=&quot;del-btn&quot;&gt;åˆ é™¤&lt;/button&gt;\n&lt;/div&gt;\nè¿™æ˜¯æˆ‘çš„CSSæ ·å¼ï¼š\n.cart-item {\n    height: fit-content;\n    width: 80%;\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background-color: rgba(255, 255, 255, 0.25);\n    backdrop-filter: blur(6px);\n    -webkit-backdrop-filter: blur(6px);\n    border: 0.666667px solid rgba(255, 255, 255, 0.18);\n    box-shadow: rgba(142, 142, 142, 0.19) 0px 6px 15px 0px;\n    -webkit-box-shadow: rgba(142, 142, 142, 0.19) 0px 6px 15px 0px;\n    border-radius: 12px;\n    -webkit-border-radius: 12px;\n \n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n \n.cart-item input[type=&quot;radio&quot;] {\n    margin-top: 1rem;\n    margin-right: 1rem;\n    cursor: pointer;\n    width: 1.5rem;\n}\n \n.cart-item img {\n    width: 160px;\n    height: 160px;\n    border-radius: 12px;\n    -webkit-border-radius: 12px;\n    box-shadow: rgba(142, 142, 142, 0.19) 0px 6px 15px 0px;\n}\n \n.cart-item .item-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    /* align-items: center; */\n    margin-left: 1rem;\n}\n \n.cart-item .info {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n \n    .desp {\n        flex: 3;\n    }\n \n    .detail {\n        flex: 1;\n        margin: 0 1rem;\n        background-color: #dddddd94;\n        border-radius: 12px;\n        backdrop-filter: blur(6px);\n        -webkit-backdrop-filter: blur(6px);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        padding: 0.5rem;\n \n        .price {\n            font-size: large;\n            font-weight: bold;\n            display: flex;\n \n            span {\n                flex: 1;\n                display: flex;\n                justify-content: space-around;\n                align-items: center;\n            }\n        }\n \n        .quantity {\n            font-size: medium;\n            font-weight: bold;\n            display: flex;\n \n            span {\n                flex: 1;\n                display: flex;\n                justify-content: space-around;\n                align-items: center;\n            }\n        }\n    }\n}\n \n \n.cart-item .del-btn {\n    background-color: #f8f9fa;\n    border: none;\n    color: red;\n    font-size: large;\n    font-weight: bold;\n    cursor: pointer;\n    margin-top: 1rem;\n}\n \n.cart-item .del-btn:hover {\n    color: #007bff;\n}\nCSSè§£é‡Š\nåƒä¸Šé¢è¿™æ ·ç›´æ¥ç”©å‡ºä¸€å †ä»£ç ï¼Œæ„Ÿè§‰ä¼šçœ‹èµ·æ¥æœ‰ç‚¹æ‡µï¼Œä¸è¿‡ä¸€æ¡æ¡çš„è®²CSSä¼šæœ‰ç‚¹æ¯ç‡¥ï¼Œè¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹æ•´ä½“çš„è®¾è®¡æƒ³æ³•ã€‚\næˆ‘æ¯”è¾ƒä¹ æƒ¯ä½¿ç”¨flexå¸ƒå±€ï¼Œæ‰€ä»¥æ•´ä¸ªå¡ç‰‡çš„è®¾è®¡éƒ½æ˜¯åŸºäºflexå¸ƒå±€çš„ï¼Œé¦–å…ˆæ•´ä¸ªå¡ç‰‡æ˜¯ä¸€ä¸ªflexå®¹å™¨ï¼Œé‡Œé¢æœ‰å››ä¸ªéƒ¨åˆ†ï¼šå•é€‰æŒ‰é’®ã€å•†å“å›¾ç‰‡ã€å•†å“ä¿¡æ¯ã€åˆ é™¤æŒ‰é’®ã€‚æŒ‰ç…§è¿™ä¸ªé¡ºåºï¼Œæˆ‘å°†ä»–ä»¬æ¨ªå‘æ’åˆ—ï¼Œåˆ†åˆ«å æ®ä¸åŒçš„æ¯”ä¾‹ã€‚\n\n\n                  \n                  åœ¨flexå¸ƒå±€ä¸­è®©å†…éƒ¨å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­ï¼Œå¹¶ä¸”é—´éš”åˆé€‚çš„æŠ€å·§ \n                  \n                \n\n\nåœ¨flexå¸ƒå±€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡justify-contentå’Œalign-itemsæ¥æ§åˆ¶å…ƒç´ çš„æ°´å¹³å’Œå‚ç›´å±…ä¸­ï¼Œé€šè¿‡marginæ¥æ§åˆ¶å…ƒç´ ä¹‹é—´çš„é—´éš”ã€‚\nå…¶ä¸­justify-contentç”¨äºæ§åˆ¶å…ƒç´ åœ¨ä¸»è½´ä¸Šçš„æ’åˆ—æ–¹å¼ï¼Œalign-itemsç”¨äºæ§åˆ¶å…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„æ’åˆ—æ–¹å¼ã€‚\n.div {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\njustify-contenté™¤äº†centerä¹‹å¤–è¿˜æœ‰flex-startã€flex-endã€space-betweenã€space-aroundç­‰å±æ€§ï¼Œalign-itemsé™¤äº†centerä¹‹å¤–è¿˜æœ‰flex-startã€flex-endã€baselineã€stretchç­‰å±æ€§ï¼Œæ˜¯å¾ˆæ–¹ä¾¿çš„å¸ƒå±€æ–¹å¼ï¼Œå¯ä»¥èŠ‚çœå¤§é‡ä¹‹å‰éœ€è¦é€šè¿‡ä¸æ–­è°ƒæ•´marginæ¥å®ç°çš„å¸ƒå±€ã€‚å…·ä½“åŒºåˆ«å¯ä»¥åœ¨justify-contentå’Œalign-itemsåœ¨çº¿æ¼”ç¤ºã€‚\n\n\n\næˆ‘å›ºå®šäº†å•é€‰æŒ‰é’®ã€å•†å“å›¾ç‰‡ã€åˆ é™¤æŒ‰é’®çš„å¤§å°ï¼Œå•†å“ä¿¡æ¯éƒ¨åˆ†å æ®äº†å‰©ä¸‹çš„ç©ºé—´ã€‚\nå•†å“ä¿¡æ¯éƒ¨åˆ†åˆåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå•†å“æè¿°å’Œå•†å“ä»·æ ¼ï¼Œæˆ‘å°†ä»–ä»¬åˆ†åˆ«å æ®äº†ä¸åŒçš„æ¯”ä¾‹ï¼Œä½¿å¾—æ•´ä¸ªå¡ç‰‡çœ‹èµ·æ¥æ¯”è¾ƒç¾è§‚ã€‚\n\n\n                  \n                  åœ¨flexå¸ƒå±€ä¸­è®©å†…éƒ¨å…ƒç´ å æ®ä¸åŒçš„æ¯”ä¾‹ \n                  \n                \n\n\nä¸Šé¢çš„justify-contentå’Œalign-itemsæ›´å€¾å‘äºæŠŠå…ƒç´ å‡åŒ€æ’åˆ—ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦è®©å…ƒç´ åˆ†åˆ«å æ®ä¸åŒçš„æ¯”ä¾‹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥è¯•è¯•é€šè¿‡flexå±æ€§æ¥æ§åˆ¶å…ƒç´ ã€‚\nä¾‹å¦‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘é€šè¿‡flex: 3å’Œflex: 1æ¥æ§åˆ¶å•†å“æè¿°å’Œå•†å“ä»·æ ¼åˆ†åˆ«å æ®äº†3:1çš„æ¯”ä¾‹ã€‚è¿™æ ·çš„å†™æ³•ç›¸æ¯”è¾ƒäºwidthå±æ€§æ›´åŠ çµæ´»ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„å±å¹•å¤§å°è‡ªåŠ¨è°ƒæ•´ã€‚å°±åƒä¸‹é¢è¿™æ ·ï¼š\n.cart-item .info {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n \n    .desp {\n        flex: 3;\n    }\n \n    .detail {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n \n        .price {\n            span {\n                flex: 1;\n            }\n        }\n \n        .quantity {\n            span {\n                flex: 1;\n            }\n        }\n    }\n}\n \n\n\n\nå›¾æ ‡åº“\nç›¸ä¿¡å¤§å®¶çœ‹å®Œå›¾ç‰‡ä¹‹åå‘ç°ï¼Œæˆ‘åœ¨ä»·æ ¼å’Œæ•°é‡çš„éƒ¨åˆ†çš„åŠ å·å‡å·æŒ‰é’®ï¼Œä»¥åŠï¿¥ç¬¦å·çœ‹èµ·æ¥ä¸åƒåŸç”Ÿçš„æŒ‰é’®å’Œå­—ç¬¦ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº†font-awesomeå›¾æ ‡åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å›¾æ ‡åº“ï¼Œåœ¨ç¾åŒ–é¡µé¢çš„æ—¶å€™æˆ‘ä»¬å…¶å®ä¼šå°è¯•ä½¿ç”¨å¾ˆå¤šå›¾æ ‡ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢çš„ä¸¤ä¸ªå›¾æ ‡åº“æ˜¯Font awesomeå’Œiconfontï¼Œå¤§å®¶å¯ä»¥å°è¯•ä½¿ç”¨ï¼Œä½¿ç”¨æ–¹æ³•å¤§å®¶å¯ä»¥è‡ªè¡Œå­¦ä¹ ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚\nåœ¨çº¿å·¥å…·æ¨è\næœ‰äº›åŒå­¦å¯èƒ½ä¸å¤ªæ“…é•¿è°ƒæ•´å‡ºå¥½çœ‹çš„ç›’å­ï¼Œè¿™é‡Œæˆ‘æ¨èä¸€ä¸ªå¥½ç”¨çš„å‰ç«¯å·¥å…·åœ¨çº¿ç½‘ç«™ï¼š{{&lt;link â€œlingdaima.com/â€&gt;}} ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿè°ƒæ•´å‡ºå¥½çœ‹çš„CSSæ ·å¼ã€‚\nå½“ç„¶äº†ï¼Œåœ¨çº¿å·¥å…·åªæ˜¯èµ·åˆ°ä¸€ä¸ªè¾…åŠ©ä½œç”¨ï¼Œè°ƒæ•´CSSçš„æ—¶å€™è¿˜æ˜¯éœ€è¦è‡ªå·±å¤šå°è¯•ï¼Œå¤šè°ƒæ•´ï¼Œå¤šçœ‹çœ‹æ•ˆæœã€‚å¤§å®¶ä¸è¦è¿‡åˆ†ä¾èµ–å“¦(â€¾â—¡â—)\nè¿™é‡Œæ˜¯æ•´ä½“è®¾è®¡å®ŒHtmlç»“æ„å’ŒCSSä¹‹åçš„æ•ˆæœï¼š\n\nè¿™ä¸ªé¡µé¢çš„æ•ˆæœæ˜¯æˆ‘è‡ªå·±è®¾è®¡çš„ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œè°ƒæ•´ï¼Œè¿™é‡Œåªæ˜¯æä¾›ä¸€ä¸ªå‚è€ƒï¼Œç›¸åº”çš„æºç æˆ‘ä¹Ÿä¼šå…¬å¼€æ”¾åœ¨æˆ‘çš„giteeä¸Šï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼Œä»“åº“çš„åœ°å€åœ¨æ–‡æœ«ã€‚\nJavaScripté€»è¾‘\næˆ‘æ¯”è¾ƒä¹ æƒ¯åœ¨è®¾è®¡å®Œé¡µé¢ä¹‹åå†å†™JavaScripté€»è¾‘ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„ç†æ¸…æ€è·¯ï¼Œè€Œä¸”ä¸éœ€è¦æ€»æ˜¯å†æ¬¡è°ƒæ•´Htmlå’ŒCSSã€‚åœ¨è®¾è®¡å®Œé¡µé¢ä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡è®©è¿™ä¸ªé¡µé¢ä¸å†æ˜¯ä¸€ä¸ªé™æ€çš„é¡µé¢ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯ä»¥åŠ¨æ€äº¤äº’çš„é¡µé¢ã€‚\n\n\n                  \n                  é€šè¿‡æœ¬åœ°jsonæ¥è·å¾—æ•°æ®å’Œæ¸²æŸ“æ•°æ®&quot; \n                  \n                \n\n\nç”±äºè¿™ä¸ªåªæ˜¯ç”¨äºå‰ç«¯å­¦ä¹ çš„å°é¡¹ç›®ï¼Œæˆ‘ä»¬æ²¡æœ‰æ¥å£ï¼Œä¸è¿‡åœ¨ç”Ÿæˆåº”ç”¨ä¸­ï¼Œé¡µé¢çš„æ•°æ®æ˜¯æ¥è‡ªåç«¯ä¼ é€’è€Œæ¥çš„ï¼ˆå¾€å¾€æ˜¯ä¸€ä¸ªjsonï¼‰ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ¬åœ°çš„jsonæ–‡ä»¶æ¥æ¨¡æ‹Ÿåç«¯è¿”å›çš„æ•°æ®ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„æ¨¡æ‹ŸçœŸå®çš„è´­ç‰©è½¦é¡µé¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ›´å¥½çš„ç†è§£å‰åç«¯çš„äº¤äº’ã€‚\nå¼•å…¥jsonæ–‡ä»¶çš„æ–¹æ³•æ˜¯é€šè¿‡fetchæ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–jsonæ–‡ä»¶ï¼Œç„¶åé€šè¿‡json()æ–¹æ³•æ¥è§£æjsonæ–‡ä»¶ã€‚\nå°±åƒè¿™æ ·ï¼š\nfetch(&#039;data.json&#039;)\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data));\n\n\n\nJSé€»è¾‘\nä¸ºäº†æ–¹ä¾¿ç®¡ç†æ•°æ®ï¼Œæˆ‘å°†æ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„æ“ä½œæ•°æ®ï¼Œä¸‹æ–‡çš„ä»£ç ä¸­ï¼Œæˆ‘ä¼šä½¿ç”¨è¿™äº›å…¨å±€å˜é‡æ¥æ“ä½œæ•°æ®ã€‚\nvar goods = []; // å½“å‰é¡µçš„å•†å“åˆ—è¡¨\nvar totItems = 0; // æ€»å•†å“æ•°\nvar curPage = 1; // å½“å‰é¡µç \nvar totPages = 1; // æ€»é¡µæ•°\n \nvar selectTotal = 0; // é€‰ä¸­å•†å“æ€»æ•°\nvar curSelectGoods = [];  // é€‰ä¸­çš„å•†å“åˆ—è¡¨\nvar selectAllStatus = false;  // æ˜¯å¦å…¨é€‰\næ•°æ®è·å–ä¸æ¸²æŸ“\né¦–å…ˆæˆ‘ä»¬éœ€è¦é€šè¿‡fetchæ–¹æ³•æ¥è·å–jsonæ–‡ä»¶ï¼Œç„¶åé€šè¿‡json()æ–¹æ³•æ¥è§£æjsonæ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªjsonå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬çš„å•†å“ä¿¡æ¯ã€‚\n \nfetch(&#039;data.json&#039;)\n  .then(response =&gt; response.json())\n  .then(data =&gt; {\n    console.log(data);\n    render(data);\n  });\n \nè·å–æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬è®¾ç½®å…¨å±€å˜é‡æ¥ä¿å­˜å½“å‰çš„æ•°æ®çŠ¶æ€ï¼Œç„¶åå°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œå°±åƒè¿™æ ·ï¼š\nconst renderCartList = () =&gt; {\n  const goodsContainer = document.querySelector(&#039;#container&#039;);\n  goodsContainer.innerHTML = &#039;&#039;;\n  if (goods.length === 0 &amp;&amp; totItems !== 0) {\n    // å¦‚æœè´­ç‰©è½¦æœ¬é¡µæ²¡æœ‰å•†å“ï¼ˆé€šè¿‡åˆ é™¤åˆ ç©ºçš„æƒ…å†µæˆ–æ„å¤–æƒ…å†µï¼‰ï¼Œåº”è¯¥é‡æ–°è¯·æ±‚æ•°æ®ï¼Œåˆå§‹åŒ–è´­ç‰©è½¦\n    initGoods();\n  }\n  else if (totItems === 0) { \n    // å¦‚æœè´­ç‰©è½¦æ²¡æœ‰å•†å“ï¼Œåº”è¯¥æ˜¾ç¤ºç©ºè´­ç‰©è½¦\n    goodsContainer.innerHTML = &#039;&lt;div class=&quot;empty-cart&quot;&gt;è´­ç‰©è½¦ä¸ºç©º`(*&gt;ï¹&lt;*)â€²&lt;/div&gt;&#039;;\n    return;\n  }\n  for (let i = 0; i &lt; goods.length; i++) {\n    const good = goods[i];\n    const cartItem = document.createElement(&#039;div&#039;);\n    cartItem.classList.add(&#039;cart-item&#039;);\n    cartItem.setAttribute(&#039;id&#039;, &quot;item-&quot; + good[&quot;id&quot;]);\n    cartItem.innerHTML = `&lt;input type=&quot;checkbox&quot; onClick=&quot;selectGood(${good[&quot;id&quot;]})&quot;&gt;\n          &lt;img src=&quot;${good[&quot;image&quot;]}&quot; alt=&quot;&quot;&gt;\n          &lt;div class=&quot;item-info&quot;&gt;\n            &lt;h2&gt;å•†å“åç§°ï¼š${good[&quot;name&quot;]}&lt;/h2&gt;\n            &lt;div class=&quot;info&quot;&gt;\n              &lt;div class=&quot;desp&quot;&gt;\n                å•†å“æè¿°ï¼š&lt;span&gt;${good[&quot;description&quot;]}&lt;/span&gt;\n              &lt;/div&gt;\n              &lt;div class=&quot;detail&quot;&gt;\n                &lt;div class=&quot;price&quot;&gt;å•ä»·ï¼š&lt;span&gt;&lt;i class=&quot;fa-solid fa-yen-sign&quot;&gt;&lt;/i&gt;\n                  &lt;span&gt;${good[&quot;price&quot;].toFixed(2)}&lt;/span&gt;\n                &lt;/span&gt;&lt;/div&gt;\n                &lt;div class=&quot;price&quot;&gt;å°è®¡ï¼š&lt;span&gt;&lt;i class=&quot;fa-solid fa-yen-sign&quot;&gt;&lt;/i&gt;\n                  &lt;span class=&quot;tot-price&quot;&gt;${(good[&quot;price&quot;] * good[&quot;quantity&quot;]).toFixed(2)}&lt;/span&gt;\n                &lt;/span&gt;&lt;/div&gt;\n                &lt;div class=&quot;quantity&quot;&gt;\n                  æ•°é‡ï¼š\n                  &lt;span class=&quot;count&quot;&gt;\n                    &lt;i class=&quot;fa-solid fa-circle-minus&quot; onClick=&quot;changeQuantity(${good[&quot;id&quot;]}, -1)&quot;&gt;&lt;/i&gt;\n                    &lt;span&gt;${good[&quot;quantity&quot;]}&lt;/span&gt;\n                    &lt;i class=&quot;fa-solid fa-circle-plus&quot; onClick=&quot;changeQuantity(${good[&quot;id&quot;]}, 1)&quot;&gt;&lt;/i&gt;\n                  &lt;/span&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;button class=&quot;del-btn&quot; onClick=&quot;delItem(${good[&quot;id&quot;]})&quot;&gt;åˆ é™¤&lt;/button&gt;`;\n    goodsContainer.appendChild(cartItem);\n  }\n}\næ³¨æ„åˆ°ï¼Œåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä¸ºæ¯ä¸€ä¸ªcart-itemæ·»åŠ äº†ä¸€ä¸ªå”¯ä¸€çš„idå±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ç”¨äºæ ‡è¯†æ¯ä¸€ä¸ªå•†å“çš„ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ä¹‹åçš„æ“ä½œä¸­å¯ä»¥é€šè¿‡è¿™ä¸ªidå±æ€§æ¥æ‰¾åˆ°å¯¹åº”çš„å•†å“ã€‚\n\n\n                  \n                  å…³äºå”¯ä¸€æ ‡è¯†ç¬¦ \n                  \n                \n\n\nåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ä¸ºæ¯ä¸€ä¸ªå•†å“æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦å¯ä»¥æ˜¯å•†å“çš„idï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„æ“ä½œå•†å“ï¼Œä¾‹å¦‚åˆ é™¤å•†å“ã€ä¿®æ”¹å•†å“æ•°é‡ç­‰ã€‚\n\n\n\n\n\n                  \n                  è¿‡æ»¤é”™è¯¯æ•°æ®&quot; \n                  \n                \n\n\nåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°ä¸€äº›é”™è¯¯çš„æ•°æ®ï¼Œä¾‹å¦‚å•†å“æ•°é‡ä¸ºè´Ÿæ•°æˆ–è€…å°æ•°ã€å•†å“ä»·æ ¼ä¸ºè´Ÿæ•°ç­‰ï¼Œè¿™äº›æ•°æ®æ˜¯ä¸ç¬¦åˆå®é™…çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è·å–æ•°æ®ä¹‹åå¯¹è¿™äº›æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ã€‚\nå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬ä¹Ÿä¼šé€‰æ‹©ä½¿ç”¨filteræ–¹æ³•æ¥è¿‡æ»¤æ•°æ®ã€‚\n\n\n\n\n\n                  \n                  å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ \n                  \n                \n\n\nåœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°ä¸€äº›å›¾ç‰‡åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡onerroräº‹ä»¶æ¥ç›‘å¬å›¾ç‰‡åŠ è½½å¤±è´¥çš„æƒ…å†µï¼Œç„¶åé€šè¿‡ä¸€äº›æ–¹æ³•æ¥å¤„ç†è¿™ç§æƒ…å†µï¼Œä¾‹å¦‚æ˜¾ç¤ºä¸€ä¸ªé»˜è®¤å›¾ç‰‡ã€æ˜¾ç¤ºä¸€ä¸ªæç¤ºä¿¡æ¯ç­‰ã€‚\n\n\n\næ”¹å˜å•†å“æ•°é‡\nä¿®æ”¹å•†å“æ•°é‡æ˜¯é€šè¿‡ç‚¹å‡»+å’Œ-æŒ‰é’®æ¥å®ç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡onClickäº‹ä»¶æ¥ç›‘å¬è¿™ä¸¤ä¸ªæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åé€šè¿‡changeQuantityå‡½æ•°æ¥æ”¹å˜å•†å“çš„æ•°é‡ã€‚\nåœ¨ä¿®æ”¹å•†å“æ•°é‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œä¾‹å¦‚å•†å“æ•°é‡ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œå•†å“æ•°é‡ä¸èƒ½è¶…è¿‡åº“å­˜ï¼ˆæœ¬ç¯‡çš„demoæ²¡æœ‰è€ƒè™‘è¿™ä¸ªåº“å­˜ä¸Šé™ï¼‰ç­‰ï¼Œè€ƒè™‘åˆ°åŠ æ“ä½œå’Œå‡æ“ä½œçš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªå‚æ•°æ¥åˆ¤æ–­æ˜¯åŠ è¿˜æ˜¯å‡ï¼Œä»¥å‡å°‘ä»£ç çš„é‡å¤ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„changeQuantityå‡½æ•°ï¼š\nconst changeQuantity = (id, cnt) =&gt; {\n  const item = document.querySelector(&#039;#item-&#039; + id);\n  const count = item.querySelector(&#039;.count span&#039;);\n  const price = item.querySelector(&#039;.tot-price&#039;);\n  const quantity = parseInt(count.innerHTML);\n  if (quantity + cnt &lt;= 0) {\n    delItem(id);\n    return;\n  }\n  count.innerHTML = quantity + cnt;\n  price.innerHTML = (parseFloat(price.innerHTML) + cnt * goods.find(good =&gt; good[&quot;id&quot;] === id)[&quot;price&quot;]).toFixed(2);\n  // è¿™é‡Œåº”è¯¥å‘é€è¯·æ±‚ä¿®æ”¹æ•°æ®ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œç›´æ¥ä¿®æ”¹\n  goods = goods.map(good =&gt; {\n    if (good[&quot;id&quot;] === id) {\n      good[&quot;quantity&quot;] = quantity + cnt;\n    }\n    return good;\n  });\n  if (curSelectGoods.find(good =&gt; good[&quot;id&quot;] === id)) {\n    selectTotal += cnt;\n    curSelectGoods = curSelectGoods.map(good =&gt; {\n      if (good[&quot;id&quot;] === id) {\n        good[&quot;price&quot;] = parseFloat(price.innerHTML);\n      }\n      return good;\n    });\n    updateTotalCount(); // æ›´æ–°æ€»ä»·\n  }\n}\nåˆ é™¤å•†å“\nåˆ é™¤å•†å“æ˜¯é€šè¿‡ç‚¹å‡»åˆ é™¤æŒ‰é’®æ¥å®ç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡onClickäº‹ä»¶æ¥ç›‘å¬åˆ é™¤æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åé€šè¿‡delItemå‡½æ•°æ¥åˆ é™¤å•†å“ã€‚\nåœ¨åˆ é™¤å•†å“çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œä¾‹å¦‚åˆ é™¤å•†å“åæœ¬é¡µè´­ç‰©è½¦ä¸ºç©ºï¼Œæˆ–è€…åˆ é™¤å•†å“åè´­ç‰©è½¦çš„å•†å“æ•°é‡å‡å°‘ç­‰ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„delItemå‡½æ•°ï¼š\nconst delItem = (id) =&gt; {\n  const item = document.querySelector(&#039;#item-&#039; + id);\n  item.remove();\n  // è¿™é‡Œåº”è¯¥å‘é€è¯·æ±‚åˆ é™¤æ•°æ®ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œç›´æ¥åˆ é™¤\n  goods = goods.filter(good =&gt; good[&quot;id&quot;] !== id);\n  renderCartList();\n  if (curSelectGoods.find(good =&gt; good[&quot;id&quot;] === id)) {\n    selectTotal -= parseInt(item.querySelector(&#039;.count span&#039;).innerHTML);\n    curSelectGoods = curSelectGoods.filter(good =&gt; good[&quot;id&quot;] !== id);\n    updateTotalCount();\n  }\n}\né€‰ä¸­å•†å“\né€‰ä¸­å•†å“å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šå…¨é€‰å’Œå•é€‰ã€‚å…¨é€‰çš„çŠ¶æ€ä¼šå½±å“åˆ°å•é€‰çš„çŠ¶æ€ï¼Œå•é€‰çš„çŠ¶æ€ä¹Ÿä¼šå½±å“åˆ°å…¨é€‰çš„çŠ¶æ€ï¼Œåœ¨è€ƒè™‘å…¨é€‰å’Œå•é€‰çš„é€»è¾‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¤šè§’åº¦è€ƒè™‘ã€‚\nåœ¨å¯¹å•ä¸ªå•†å“è¿›è¡Œé€‰ä¸­çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡onClickäº‹ä»¶æ¥ç›‘å¬å•é€‰æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åé€šè¿‡selectGoodå‡½æ•°æ¥é€‰ä¸­å•†å“ï¼Œé€‰ä¸­å•†å“æ—¶ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„æœ‰ï¼šé€‰ä¸­å•†å“çš„æ€»ä»·ã€é€‰ä¸­å•†å“çš„æ•°é‡ã€å…¨é€‰æŒ‰é’®çš„çŠ¶æ€ç­‰ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„selectGoodå‡½æ•°ï¼š\nconst selectGood = (id) =&gt; {\n  const item = document.querySelector(&#039;#item-&#039; + id);\n  const checkbox = item.querySelector(&#039;input[type=&quot;checkbox&quot;]&#039;);\n  const price = item.querySelector(&#039;.tot-price&#039;);\n  const quantity = item.querySelector(&#039;.count span&#039;);\n  if(checkbox.checked) {\n    selectTotal += parseInt(quantity.innerHTML);\n    curSelectGoods.push({ id: id, price: parseFloat(price.innerHTML) });\n    updateTotalCount();\n  } else {\n    selectTotal -= parseInt(quantity.innerHTML);\n    curSelectGoods = curSelectGoods.filter(good =&gt; good[&quot;id&quot;] !== id);\n    updateTotalCount();\n  }\n  if(curSelectGoods.length === goods.length) {\n    selectAllStatus = true;\n    const selectAll = document.querySelector(&#039;#select-all&#039;);\n    const icon = selectAll.querySelector(&#039;i&#039;);\n    icon.classList.remove(&#039;fa-regular&#039;);\n    icon.classList.add(&#039;fa-solid&#039;);\n  }\n  else {\n    selectAllStatus = false;\n    const selectAll = document.querySelector(&#039;#select-all&#039;);\n    const icon = selectAll.querySelector(&#039;i&#039;);\n    icon.classList.remove(&#039;fa-solid&#039;);\n    icon.classList.add(&#039;fa-regular&#039;);\n  }\n}\nåœ¨å…¨é€‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€šè¿‡selectAllå‡½æ•°æ¥å…¨é€‰å•†å“ï¼Œå…¨é€‰å•†å“æ—¶ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„æœ‰ï¼šé€‰ä¸­å•†å“çš„æ€»ä»·ã€é€‰ä¸­å•†å“çš„æ•°é‡ã€å•é€‰æŒ‰é’®çš„çŠ¶æ€ç­‰ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„selectAllå‡½æ•°ï¼š\nconst setSelectAll = () =&gt; {\n  const selectAll = document.querySelector(&#039;#select-all&#039;);\n  selectAll.addEventListener(&#039;click&#039;, () =&gt; {\n    const items = document.querySelectorAll(&#039;.cart-item&#039;);\n    if (!selectAllStatus) {\n      selectTotal = 0;\n      curSelectGoods = [];\n      for (let i = 0; i &lt; items.length; i++) {\n        const item = items[i];\n        item.querySelector(&#039;input[type=&quot;checkbox&quot;]&#039;).checked = true;\n        selectTotal += parseInt(item.querySelector(&#039;.count span&#039;).innerHTML);\n        curSelectGoods.push({ id: parseInt(item.getAttribute(&#039;id&#039;).split(&#039;-&#039;)[1]), price: parseFloat(item.querySelector(&#039;.tot-price&#039;).innerHTML) });\n      }\n      const icon = selectAll.querySelector(&#039;i&#039;);\n      icon.classList.remove(&#039;fa-regular&#039;);\n      icon.classList.add(&#039;fa-solid&#039;);\n    }\n    else {\n      for (let i = 0; i &lt; items.length; i++) {\n        items[i].querySelector(&#039;input[type=&quot;checkbox&quot;]&#039;).checked = false;\n      }\n      selectTotal = 0;\n      curSelectGoods = [];\n      const icon = selectAll.querySelector(&#039;i&#039;);\n      icon.classList.remove(&#039;fa-solid&#039;);\n      icon.classList.add(&#039;fa-regular&#039;);\n    }\n    updateTotalCount();\n    selectAllStatus = !selectAllStatus;\n  });\n}\næ›´æ–°æ€»ä»·\næˆ‘ä»¬åœ¨ç»“ç®—çš„æ—¶å€™éœ€è¦è®¡ç®—å½“å‰é€‰ä¸­çš„å•†å“çš„æ€»ä»·ï¼Œè¿™ä¸ªæ€»ä»·ä¾èµ–äºé€‰ä¸­çš„å•†å“æ•°é‡å’Œä»·æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡updateTotalCountå‡½æ•°æ¥æ›´æ–°æ€»ä»·ï¼Œå¹¶åœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„updateTotalCountå‡½æ•°ï¼š\nconst updateTotalCount = () =&gt; {\n  const curSelectBox = document.querySelector(&#039;#cur-select&#039;);\n  if (selectTotal) {\n    curSelectBox.innerHTML = selectTotal;\n  }\n  else {\n    curSelectBox.innerHTML = 0;\n  }\n  const totPriceBox = document.querySelector(&#039;#sum&#039;);\n  if (curSelectGoods.length) {\n    totPriceBox.innerHTML = curSelectGoods.reduce((acc, cur) =&gt; acc + cur[&quot;price&quot;], 0).toFixed(2);\n  }\n  else {\n    totPriceBox.innerHTML = 0;\n  }\n}\nåˆ†é¡µè®¾è®¡\nåˆ†é¡µæ˜¯é€šè¿‡ç‚¹å‡»é¡µç æ¥åˆ‡æ¢å•†å“åˆ—è¡¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡onClickäº‹ä»¶æ¥ç›‘å¬é¡µç çš„ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åé€šè¿‡changePageå‡½æ•°æ¥åˆ‡æ¢å•†å“åˆ—è¡¨ã€‚\næ ‡å‡†çš„åˆ†é¡µè®¾è®¡ä¸­ï¼Œæ¯æ¬¡ç‚¹å‡»é¡µç æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šé‡æ–°è¯·æ±‚æ•°æ®ï¼Œç„¶åé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ•°æ®çš„å®æ—¶æ€§ï¼Œè¿™é‡Œæˆ‘åªæ˜¯æ¨¡æ‹Ÿäº†è¿™ä¸ªè¿‡ç¨‹ï¼Œå®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åç«¯æ¥è·å–æ•°æ®ã€‚\nç”±äºæ€»é¡µæ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾ç„¶æ˜¯é€šè¿‡å…¨å±€å˜é‡æ¥ä¿å­˜å½“å‰çš„é¡µç å’Œæ€»é¡µæ•°ï¼Œå¹¶ä¸”åœ¨åˆ‡æ¢é¡µç çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œä¾‹å¦‚é¡µç ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œé¡µç ä¸èƒ½è¶…è¿‡æ€»é¡µæ•°ç­‰ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„initPagnationå’ŒchangePagnationå‡½æ•°ï¼š\nconst changePage = (e) =&gt; {\n  changePagnation(e.target.innerHTML);\n  // æŒ‰ç…§æ­£å¸¸çš„åˆ†é¡µé€»è¾‘ï¼Œè¿™é‡Œåº”è¯¥é‡æ–°è¯·æ±‚æ•°æ®ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œæ‰€ä»¥ç›´æ¥å–æ•°æ®\n  changeCartList();\n}\n \nconst initPagnation = () =&gt; {\n  const pagination = document.querySelector(&#039;#pagination&#039;);\n  pagination.innerHTML = &#039;&#039;;\n  for (let i = 0; i &lt;= totPages + 1; i++) {\n    if (i === 0) {\n      const prev = document.createElement(&#039;i&#039;);\n      prev.classList.add(&#039;fa-solid&#039;, &#039;fa-chevron-left&#039;, &#039;page-prev&#039;);\n      if (curPage === 1) {\n        prev.disabled = true;\n      }\n      prev.addEventListener(&#039;click&#039;, () =&gt; {\n        if (curPage &gt; 1) {\n          changePagnation(curPage - 1);\n        }\n      });\n      pagination.appendChild(prev);\n      continue;\n    }\n    else if (i === totPages + 1) {\n      const next = document.createElement(&#039;i&#039;);\n      next.classList.add(&#039;fa-solid&#039;, &#039;fa-chevron-right&#039;, &#039;page-next&#039;);\n      if (curPage === totPages) {\n        next.disabled = true;\n      }\n      next.addEventListener(&#039;click&#039;, () =&gt; {\n        if (curPage &lt; totPages) {\n          changePagnation(curPage + 1);\n        }\n      });\n      pagination.appendChild(next);\n      continue;\n    }\n    const page = document.createElement(&#039;div&#039;);\n    page.innerHTML = i;\n    page.classList.add(&#039;page&#039;);\n    if (i === curPage) {\n      page.classList.add(&#039;active-page&#039;);\n    }\n    page.addEventListener(&#039;click&#039;, changePage);\n    pagination.appendChild(page);\n  }\n}\n \nconst changePagnation = (pageNo) =&gt; {\n  const page = document.querySelector(&#039;.active-page&#039;);\n  page.classList.remove(&#039;active-page&#039;);\n  const pageArr = document.querySelectorAll(&#039;.page&#039;);\n  curPage = parseInt(pageNo);\n  pageArr[curPage - 1].classList.add(&#039;active-page&#039;);\n  changeCartList();\n}\næˆ‘è¿™é‡Œçš„åˆ†é¡µè®¾è®¡çš„æ¯”è¾ƒç®€å•ï¼Œä¸€å…±åªæ ¹æ®jsonæ•°æ®è®¾è®¡äº†5é¡µï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œåˆ†é¡µçš„æ•°ç›®æ˜¯ä¸ç¡®å®šï¼Œè€Œä¸”æœ‰å¯èƒ½éå¸¸å¤šï¼Œåœ¨è®¾è®¡åˆ†é¡µåŠŸèƒ½çš„æ—¶å€™ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯å¢åŠ ä¸€ä¸ª...æŒ‰é’®ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®å¯ä»¥å±•å¼€æ›´å¤šçš„é¡µç ï¼Œä»¥åŠå¢åŠ ä¸€ä¸ªè·³è½¬æŒ‰é’®ï¼Œå¯ä»¥è·³è½¬åˆ°æŒ‡å®šçš„é¡µç ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥æ‰¾ã€‚\nç»“ç®—\nç»“ç®—é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä¾ç„¶æ˜¯è€ƒè™‘ä¸ºç©ºç­‰è¾¹ç•Œæ¡ä»¶ã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„setPayå‡½æ•°ï¼š\nconst setPay = () =&gt; {\n  const payBtn = document.querySelector(&#039;#pay&#039;);\n  payBtn.addEventListener(&#039;click&#039;, () =&gt; {\n    if (curSelectGoods.length === 0) {\n      alert(&#039;è¯·é€‰æ‹©å•†å“åç»“ç®—&#039;);\n      return;\n    }\n    // è¿™é‡Œåº”è¯¥å‘é€è¯·æ±‚æ”¯ä»˜ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œç›´æ¥åˆ é™¤\n    goods = goods.filter(good =&gt; !curSelectGoods.find(select =&gt; select[&quot;id&quot;] === good[&quot;id&quot;]));\n    curSelectGoods = [];\n    selectTotal = 0;\n    updateTotalCount();\n    if (goods.length === 0) {\n      initGoods();\n    }\n    else {\n      renderCartList();\n    }\n    alert(&#039;æ”¯ä»˜æˆåŠŸ&#039;);\n  });\n}\næ¶ˆæ¯æç¤ºæ¡†\nåœ¨åˆ é™¤å•†å“ã€ç»“ç®—å•†å“ç­‰è¡Œä¸ºåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå¼¹å‡ºæç¤ºæ¡†æ¥ä¸ç”¨æˆ·è¿›è¡Œç¡®è®¤äº¤äº’ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰æ¶ˆæ¯å¼¹å‡ºæ¡†çš„ç±»å‹ï¼Œè¿™æ ·å¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒã€‚\nä»¥ä¸‹æ˜¯æˆ‘çš„alertå‡½æ•°ï¼š\nconst alert = (msg, type) =&gt; {\n  const alertBox = document.createElement(&#039;div&#039;);\n  alertBox.classList.add(&#039;alert-box&#039;);\n  alertBox.innerHTML = msg;\n  if (type === &#039;success&#039;) {\n    alertBox.classList.add(&#039;alert-success&#039;);\n  }\n  else if (type === &#039;error&#039;) {\n    alertBox.classList.add(&#039;alert-error&#039;);\n  }\n  document.body.appendChild(alertBox);\n  setTimeout(() =&gt; {\n    alertBox.style.display = &#039;none&#039;;\n  }, 2000);\n}\n \n{/* ç»“åˆä¸Šé¢çš„æ”¯ä»˜å‡½æ•°å°±å¯ä»¥å†™æˆä¸‹é¢è¿™æ · */}\nconst setPay = () =&gt; {\n  const payBtn = document.querySelector(&#039;#pay&#039;);\n  payBtn.addEventListener(&#039;click&#039;, () =&gt; {\n    if (curSelectGoods.length === 0) {\n      alert(&#039;è¯·é€‰æ‹©å•†å“åç»“ç®—&#039;, &#039;error&#039;);\n      return;\n    }\n    // è¿™é‡Œåº”è¯¥å‘é€è¯·æ±‚æ”¯ä»˜ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œç›´æ¥åˆ é™¤\n    goods = goods.filter(good =&gt; !curSelectGoods.find(select =&gt; select[&quot;id&quot;] === good[&quot;id&quot;]));\n    curSelectGoods = [];\n    selectTotal = 0;\n    updateTotalCount();\n    if (goods.length === 0) {\n      initGoods();\n    }\n    else {\n      renderCartList();\n    }\n    alert(&#039;æ”¯ä»˜æˆåŠŸ&#039;, &#039;success&#039;);\n  });\n}\næŸ¥æ‰¾åŠŸèƒ½\nåœ¨æœ¬é¡¹ç›®ä¸­ï¼Œä¸€é¡µåªæœ‰6ä¸ªå•†å“ï¼Œæ„Ÿè§‰æŸ¥æ‰¾åŠŸèƒ½ä¸æ˜¯å¾ˆå¿…è¦ï¼Œä¸è¿‡å‡å¦‚åœ¨ä¸€äº›é¡¹ç›®ä¸­ï¼Œä¸€é¡µæœ‰å¾ˆå¤šå•†å“ï¼Œæ¯”å¦‚ä¸æ˜¯åŸºäºåˆ†é¡µè·å–æ•°æ®ï¼Œè€Œæ˜¯ä¸€æ¬¡æ€§è·å–æ‰€æœ‰æ•°æ®æˆ–è€…æ˜¯åˆ©ç”¨ç€‘å¸ƒæµåŠ è½½æ•°æ®ï¼Œè¿™æ—¶å€™æŸ¥æ‰¾åŠŸèƒ½å°±æ˜¾å¾—å¾ˆé‡è¦äº†ã€‚\næŸ¥æ‰¾åŠŸèƒ½çš„å®ç°å…¶å®å°±æ˜¯ä¸€ä¸ªfilterï¼Œæˆ‘ä»¬è®¾è®¡ä¸€ä¸ªç®€å•çš„æœç´¢åŠŸèƒ½ï¼š\nconst setSearch = () =&gt; {\n  // å›è½¦æœç´¢\n  const searchInput = document.querySelector(&#039;#search-input&#039;);\n  searchInput.addEventListener(&#039;keydown&#039;, (e) =&gt; {\n    if (e.keyCode === 13) {\n      search();\n    }\n  });\n}\n \nconst search = () =&gt; {\n  const searchInput = document.querySelector(&#039;#search-input&#039;);\n  const keyword = searchInput.value;\n  fetch(&#039;cart.json&#039;)\n    .then(response =&gt; response.json())\n    .then(data =&gt; {\n      console.log(data);\n      goods = data.pages[curPage - 1][&quot;items&quot;].filter(good =&gt; good[&quot;name&quot;].includes(keyword));\n      renderCartList();\n    }\n  );\n}\næœç´¢æ¡†çš„è®¾è®¡\n&lt;div class=&quot;search-bar&quot;&gt;\n  &lt;input type=&quot;text&quot; placeholder=&quot;Search&quot; id=&quot;search-input&quot;&gt;\n&lt;/div&gt;\n.search-bar {\n    height: 40px;\n    display: flex;\n    width: 100%;\n    max-width: 400px;\n    padding-left: 16px;\n \n    input {\n        width: 100%;\n        height: 100%;\n        border: none;\n        outline: none;\n        background-color: var(--search-bg);\n        border-radius: 4px;\n        font-family: var(--body-font);\n        font-size: 15px;\n        font-weight: 500;\n \n        &amp;::placeholder {\n            font-family: var(--body-font);\n            color: var(--inactive-color);\n            font-size: 15px;\n            font-weight: 500;\n        }\n    }\n}\nè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¾“å…¥å…³é”®å­—æ¥æŸ¥æ‰¾å•†å“äº†ã€‚"},"01-developer/frontend/flow_control":{"slug":"01-developer/frontend/flow_control","filePath":"01-developer/frontend/flow_control.md","title":"å‰ç«¯æµé‡æ§åˆ¶å¸¸ç”¨æ‰‹æ®µ","links":[],"tags":["å‰ç«¯","JavaScript","å‰ç«¯å…«è‚¡æ–‡"],"content":"\n\n                  \n                  é—®é¢˜æè¿° \n                  \n                \n\n\nå¦‚ä½•è§£å†³é¡µé¢è¯·æ±‚æ¥å£çš„å¤§è§„æ¨¡å¹¶å‘é—®é¢˜ï¼Ÿ\n\n\n\nåœ¨éœ€è¦å¤„ç†å¤§è§„æ¨¡è¯·æ±‚çš„æƒ…å¢ƒä¸­ï¼Œåšå¥½æµé‡æ§åˆ¶å¯ä»¥æå‡ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½ã€‚\né˜²æŠ–/èŠ‚æµ\né˜²æŠ–ï¼ˆDebounceï¼‰\nåœ¨äº‹ä»¶è§¦å‘åï¼Œå»¶è¿Ÿæ‰§è¡Œå‡½æ•°ï¼Œè‹¥åœ¨å»¶è¿ŸæœŸé—´å†æ¬¡å‡ºå‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ï¼Œå¦‚åœ¨æœç´¢æ¡†è¾“å…¥ã€è°ƒæ•´çª—å£å¤§å°æ—¶ã€‚\nå®ç°\nfunction debounce(fn, wait) {\n    let timeout;\n    return function () {\n        let context = this;\n        let args = arguments;\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            fn.apply(context, args);\n        }, wait);\n    }\n}\n \nconst sample = function () {\n    console.log(&quot;xxx&quot;);\n}\n \nwindow.addEventListener(&#039;resize&#039;, debounce(sample, 300));\nä¸ºä»€ä¹ˆåœ¨ Â debounceÂ  å‡½æ•°ä¸­ä½¿ç”¨ Â letï¼Ÿ\nåœ¨ Â debounceÂ  å‡½æ•°ä¸­ï¼ŒtimeoutÂ  å˜é‡éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\n\nå—çº§ä½œç”¨åŸŸï¼štimeoutÂ  åªéœ€è¦åœ¨ Â debounceÂ  å‡½æ•°å†…éƒ¨æœ‰æ•ˆï¼Œä¸éœ€è¦æ³„æ¼åˆ°å¤–éƒ¨ä½œç”¨åŸŸã€‚\nå¯é‡æ–°èµ‹å€¼ï¼šæ¯æ¬¡è°ƒç”¨è¿”å›çš„å‡½æ•°æ—¶ï¼ŒtimeoutÂ  éœ€è¦è¢«é‡æ–°èµ‹å€¼ï¼ˆé€šè¿‡ Â clearTimeoutÂ  å’Œ Â setTimeoutï¼‰ã€‚\nä¸éœ€è¦æå‡ï¼štimeoutÂ  ä¸éœ€è¦åœ¨å£°æ˜å‰è®¿é—®ï¼Œå› æ­¤ä¸éœ€è¦ Â varÂ  çš„æå‡è¡Œä¸ºã€‚\n\nletÂ  å®Œç¾ç¬¦åˆè¿™äº›éœ€æ±‚ï¼š\n\nå®ƒæä¾›äº†å—çº§ä½œç”¨åŸŸï¼Œé¿å…å˜é‡æ³„æ¼ã€‚\nå®ƒå…è®¸é‡æ–°èµ‹å€¼ï¼Œé€‚åˆå­˜å‚¨å®šæ—¶å™¨ IDã€‚\nå®ƒä¸ä¼šæå‡ï¼Œé¿å…äº†æ½œåœ¨çš„é€»è¾‘é”™è¯¯ã€‚\n\nå¦‚æœä½¿ç”¨ Â varï¼š\n\ntimeoutÂ  ä¼šæ³„æ¼åˆ°å¤–éƒ¨ä½œç”¨åŸŸï¼Œå¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºã€‚\nè™½ç„¶å¯ä»¥é‡æ–°èµ‹å€¼ï¼Œä½†ä½œç”¨åŸŸè§„åˆ™ä¸å¦‚ Â letÂ  æ¸…æ™°ã€‚\n\nå¦‚æœä½¿ç”¨ Â constï¼š\n\ntimeoutÂ  ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼Œæ— æ³•æ»¡è¶³ Â debounceÂ  çš„é€»è¾‘éœ€æ±‚ã€‚\n\n\n\n                  \n                  varã€letå’Œconst \n                  \n                \n\n\nä½œç”¨åŸŸåŒºåˆ«ï¼švaræ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œletå’Œconstæ˜¯å—çº§ä½œç”¨åŸŸã€‚\nå˜é‡å‡çº§ï¼švarå¯ä»¥å‡çº§ï¼ˆåˆå§‹å€¼æ˜¯undefinedï¼‰ï¼Œletå’Œconstä¸èƒ½å˜é‡å‡çº§ï¼Œæ˜¯æš‚æ—¶æ€§æ­»åŒºã€‚\nå˜é‡æå‡æŒ‡çš„æ˜¯åœ¨ä»£ç æ‰§è¡Œå‰ï¼Œjs å¼•æ“å°†å˜é‡å’Œå‡½æ•°çš„å£°æ˜æç¤ºåˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡æˆ–å‡½æ•°ï¼Œä½†èµ‹å€¼æ“ä½œä¼šä¿ç•™åœ¨åŸä½ç½®ã€‚\nExampleï¼šå˜é‡\nconsole.log(a); // è¾“å‡º: undefined\nvar a = 10;\nconsole.log(a); // è¾“å‡º: 10\nå®é™…æ‰§è¡Œé¡ºåºï¼š\nvar a;\nconsole.log(a); // è¾“å‡º: undefined\na = 10;\nconsole.log(a); // è¾“å‡º: 10\nExampleï¼šå‡½æ•°\nfoo(); // è¾“å‡º: &quot;Hello&quot;\nfunction foo() {\n    console.log(&quot;Hello&quot;);\n}\nå®é™…æ‰§è¡Œé¡ºåºï¼š\nfunction foo() {\n    console.log(&quot;Hello&quot;);\n}\nfoo(); // è¾“å‡º: &quot;Hello&quot;\né‡æ–°èµ‹å€¼ï¼švarå’Œletå¯ä»¥é‡æ–°èµ‹å€¼ï¼Œconstä¸å¯ä»¥ã€‚\né€‚ç”¨åœºæ™¯ï¼š\nvarï¼šæ—§ä»£ç ã€å…¨å±€å˜é‡\nletï¼šå—çº§ä½œç”¨åŸŸã€éœ€è¦é‡æ–°èµ‹å€¼\nconstï¼šå¸¸é‡ã€ä¸éœ€è¦é‡æ–°èµ‹å€¼\n\n\n\nèŠ‚æµï¼ˆThrottleï¼‰\nåœ¨è§„å®šæ—¶é—´å†…ï¼Œå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¤šä½™è§¦å‘è¢«å¿½ç•¥ï¼Œé€‚ç”¨äºæ»šåŠ¨äº‹ä»¶ã€æŒ‰é’®ç‚¹å‡»ç­‰æƒ…æ™¯ã€‚\nå®ç°\nfunction throttle(fn, limit) {\n    let inthrottle;\n    return function () {\n        let context = this;\n        let args = arguments;\n        if (!inthrottle) {\n            fn.apply(context, args);\n            inthrottle = true;\n            setTimeout(() =&gt; {\n                inthrottle = false;\n            }, limit);\n        }\n    }\n}\n \nconst sample = function () { };\n \nwindow.addEventListener(&#039;scroll&#039;, throttle(sample, 2000));\næ³¨æ„äº‹é¡¹\n\nè¿™ä¸¤ä¸ªå‡½æ•°éƒ½è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°ä¼šåŒ…è£…ä¼ å…¥çš„åŸå§‹å‡½æ•°ï¼Œå¹¶æ ¹æ®é˜²æŠ–æˆ–èŠ‚æµçš„é€»è¾‘æ¥è°ƒç”¨å®ƒã€‚\né˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«åœ¨äºï¼Œé˜²æŠ–æ˜¯åœ¨äº‹ä»¶è§¦å‘åç­‰å¾…ä¸€æ®µæ—¶é—´å†æ‰§è¡Œï¼Œè€ŒèŠ‚æµæ˜¯ç¡®ä¿äº‹ä»¶è§¦å‘åçš„ä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ã€‚\nè¿™ä¸¤ä¸ªå‡½æ•°éƒ½å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬ä¼ é€’ç»™åŸå§‹å‡½æ•°ã€‚\n\nè¯·æ±‚é˜Ÿåˆ—\næ‰€ç”¨ç®—æ³•ï¼šæ»‘åŠ¨çª—å£\næ¯æ¬¡åªå¤„ç†é•¿åº¦ä¸ºmaxConcurrentçš„çª—å£å†…çš„äº‹ä»¶ã€‚\nå®ç°\nclass RequestQueue {\n  constructor(maxConcurrent) {\n    this.maxConcurrent = maxConcurrent; // æœ€å¤§å¹¶å‘æ•°\n    this.queue = [];  // è¯·æ±‚é˜Ÿåˆ—\n    this.currentlyRunning = 0;  // å½“å‰æ­£åœ¨è¿è¡Œçš„è¯·æ±‚æ•°\n  }\n \n  add(request) {\n    return new Promise((resolve, reject) =&gt; {\n      this.queue.push({ request, resolve, reject });\n      this.processQueue();\n    });\n  };\n \n  processQueue() {\n    if (this.queue.length &gt; 0 &amp;&amp; this.currentlyRunning &lt; this.maxConcurrent) {\n      const { request, resolve, reject } = this.queue.shift();\n      this.currentlyRunning++;\n      request().then(resolve).catch(reject).finally(() =&gt; {\n        this.currentlyRunning--;\n        this.processQueue();\n      });\n    };\n  };\n}\n \n \nfunction fetchData(url) {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      resolve(`Data from ${url}`);\n    }, 1000);\n  });\n}\n \nconst urls = [&#039;url1&#039;, &#039;url2&#039;, &#039;url3&#039;, &#039;url4&#039;, &#039;url5&#039;];\n \nconst requests = urls.map(url =&gt; () =&gt; fetchData(url));\nconst myRequestQueue = new RequestQueue(2);\n \nPromise.all(requests.map(request =&gt; myRequestQueue.add(request)))\n  .then(data =&gt; console.log(data))\n  .catch(err =&gt; console.error(err));\n \n// 1s åè¾“å‡º\n// [ &#039;Data from url1&#039;, &#039;Data from url2&#039;, &#039;Data from url3&#039;, &#039;Data from url4&#039;, &#039;Data from url5&#039; ]\nåˆ†é¡µåŠ è½½\nåˆ†æ‰¹åŠ è½½æ•°æ®ï¼Œå‡å°‘å•æ¬¡è¯·æ±‚é‡ï¼Œåº”ç”¨äºé•¿åˆ—è¡¨ã€åˆ†é¡µæ•°æ®ã€‚\nç¤ºä¾‹\nlet currentPage = 1;\nconst pageSize = 20;\nlet isLoading = false;\n \nfunction loadMoreData() {\n  if (isLoading) {\n    return;\n  }\n  isLoading = true;\n  fetch(`/aoi/items?page=${currentPage}&amp;limit=${pageSize}`)\n    .then((response) =&gt; response.json())\n    .then((data) =&gt; {\n      // å¤„ç†æ•°æ®å¹¶æ›´æ–°é¡µé¢\n      const container = document.getElementById(&#039;container&#039;);\n      data.forEach((item) =&gt; {\n        const div = document.createElement(&#039;div&#039;);\n        div.innerHTML = item.name;\n        container.appendChild(div);\n      });\n      currentPage++;\n      isLoading = false;\n    }).catch((error) =&gt; {\n      console.error(error);\n      isLoading = false;\n    });\n}\n \n// ç›‘å¬æ»šåŠ¨äº‹ä»¶\nwindow.addEventListener(&#039;scroll&#039;, () =&gt; {\n  const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n  if (scrollTop + clientHeight &gt;= scrollHeight) {\n    loadMoreData();\n  }\n});\n \n// åˆå§‹åŒ–åŠ è½½\nloadMoreData();\næ‡’åŠ è½½ï¼ˆlazy Loadï¼‰\nå»¶è¿ŸåŠ è½½éå…³é”®èµ„æºï¼Œå‡å°‘åˆå§‹è´Ÿè½½ï¼Œå¦‚å›¾ç‰‡ã€è§†é¢‘ã€é•¿åˆ—è¡¨ã€‚\nå®ç°\ndocument.addEventListener(&quot;DOMContentLoaded&quot;, function() {\n  const lazyImages = document.querySelectorAll(&quot;img.lazy&quot;);\n \n  const lazyLoad = function() {\n    lazyImages.forEach(img =&gt; {\n      if (img.getBoundingClientRect().top &lt; window.innerHeight &amp;&amp; img.getBoundingClientRect().bottom &gt; 0 &amp;&amp; getComputedStyle(img).display !== &quot;none&quot;) {\n        img.src = img.dataset.src;\n        img.classList.remove(&quot;lazy&quot;);\n      }\n    });\n  };\n \n  lazyLoad();\n  window.addEventListener(&quot;scroll&quot;, lazyLoad);\n});\nè¯·æ±‚é‡è¯•\nè¯·æ±‚å¤±è´¥åï¼ŒæŒ‰ç­–ç•¥é‡è¯•ï¼Œåº”ç”¨äºç½‘ç»œä¸ç¨³å®šã€æœåŠ¡ç«¯é”™è¯¯ç­‰æƒ…æ™¯ã€‚\nå®ç°\nfunction fetchWithRetry(url, options, retries = 3) {\n  return fetch(url, options)\n    .catch(err =&gt; retries &gt; 0 ? fetchWithRetry(url, options, retries - 1) : Promise.reject(err));\n}\nç¼“å­˜\nç¼“å­˜è¯·æ±‚ç»“æœï¼Œå‡å°‘é‡å¤è¯·æ±‚ï¼Œåº”ç”¨äºé™æ€èµ„æºã€é¢‘ç¹è¯·æ±‚çš„æ•°æ®ã€‚\nå®ç°\nconst cache = new Map();\n \nasync function fetchWithCache(url) {\n  if (cache.has(url)) {\n    return cache.get(url);\n  }\n  const response = await fetch(url);\n  cache.set(url, response);\n  return response;\n}\né™æµ\né™åˆ¶å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ¬¡æ•°ï¼Œåº”ç”¨äº API è°ƒç”¨ã€èµ„æºåŠ è½½ç­‰åœºæ™¯ã€‚\nå®ç°\nclass RateLimiter {\n  constructor(limit, interval) {\n    this.limit = limit;\n    this.interval = interval;\n    this.queue = [];\n    this.times = [];\n  }\n \n  add(request) {\n    this.queue.push(request);\n    this.run();\n  }\n \n  run() {\n    const now = Date.now();\n    this.times = this.times.filter(time =&gt; now - time &lt; this.interval);\n \n    if (this.times.length &lt; this.limit &amp;&amp; this.queue.length) {\n      const request = this.queue.shift();\n      this.times.push(now);\n      request();\n    }\n \n    if (this.queue.length) {\n      setTimeout(() =&gt; this.run(), this.interval - (now - this.times[0]));\n    }\n  }\n}\nåæ€\nå°è£…è¯·æ±‚é˜Ÿåˆ—å±äºå‰ç«¯å¼€å‘ä¸»å¯¼çš„é™åˆ¶è¯·æ±‚è¡Œä¸ºã€‚\né˜²æŠ–ã€èŠ‚æµå±äºç”¨æˆ·äº¤äº’å±‚é¢ä¸Šçš„è®¾è®¡ã€‚å¯ä»¥æŸ¥é˜…Lodashçš„å®ç°æ€è·¯ã€‚\næ­¤å¤–è¿˜æœ‰åˆ†é¡µã€æ»šåŠ¨åŠ è½½ã€å¯è§†åŒºç»˜åˆ¶ç­‰æªæ–½ã€‚\nå†å†æ­¤å¤–è¿˜å¯ä»¥ä»æœåŠ¡å™¨ç«¯æœ‰ä¸€äº›é™åˆ¶æµé‡çš„æªæ–½ï¼Œç¼“è§£é«˜å¹¶å‘å‹åŠ›ï¼Œå¦‚ Nginx åˆ†æµç­‰ã€‚"},"01-developer/frontend/large_file_upload":{"slug":"01-developer/frontend/large_file_upload","filePath":"01-developer/frontend/large_file_upload.md","title":"å¤§æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½é—®é¢˜","links":[],"tags":["å‰ç«¯","JavaScript","å‰ç«¯å…«è‚¡æ–‡"],"content":"\n\n                  \n                  é—®é¢˜é¢„è®¾ \n                  \n                \n\n\nç½‘ç»œæ–­å¼€ä¹‹åï¼Œä¹‹å‰ä¸Šä¼ çš„éƒ¨åˆ†æ²¡äº†ï¼Ÿ\nä¼ ç€ä¼ ç€ï¼Œç½‘ç»œæ³¢åŠ¨äº†ï¼Œç»“æœæ²¡æœ‰äº†ã€‚\nå…³æœºåå¯ä¸å¯ä»¥æ¥ç€ä¼ ï¼Œæ€ä¹ˆåšåˆ°ï¼Ÿ\n\n\n\næœ¯è¯­\n\næ–­ç‚¹ç»­ä¼ \næ–­å¼€é‡è¿é‡ä¼ \nåˆ‡ç‰‡ä¸Šä¼ \n\nåˆ‡ç‰‡ä¸Šä¼ \næ­¥éª¤\n\nå‰ç«¯åˆ‡ç‰‡ chunk 5MB\nå°†åˆ‡ç‰‡ä¼ é€’ç»™åç«¯ï¼Œåˆ‡ç‰‡è¦å»åï¼šhashã€index\nåç«¯ç»„åˆåˆ‡ç‰‡\n\nä»£ç ç¤ºä¾‹\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n \n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n  &lt;title&gt;å¤§æ–‡ä»¶ä¸Šä¼ &lt;/title&gt;\n&lt;/head&gt;\n \n&lt;body&gt;\n  &lt;input type=&quot;file&quot; id=&quot;file&quot; multiple&gt;\n  &lt;button id=&quot;upload&quot;&gt;ä¸Šä¼ &lt;/button&gt;\n&lt;/body&gt;\n \n&lt;script&gt;\n \n  const CHUNK_SIZE = 5 * 1024 * 1024; // 5MB\n \n \n  function uploadFile() {\n    const file = document.getElementById(&#039;file&#039;).files[0];\n    console.log(&#039;ä¸Šä¼ æ–‡ä»¶&#039;, file.name)\n    if (!file) {\n      return\n    }\n \n    const totalSize = file.size\n    const totalChunks = Math.ceil(totalSize / CHUNK_SIZE)\n    let currentChunk = 0\n    const chunks = []\n \n    function uploadChunk() {\n      console.log(&#039;ä¸Šä¼ ç¬¬&#039;, currentChunk, &#039;å—&#039;)\n      if (currentChunk &gt;= totalChunks) {\n        console.log(&#039;ä¸Šä¼ å®Œæˆ&#039;)\n        return\n      }\n      const start = currentChunk * CHUNK_SIZE\n      const end = Math.min(totalSize, start + CHUNK_SIZE)\n      const chunk = file.slice(start, end)\n \n      const formData = new FormData()\n      formData.append(&#039;file&#039;, chunk)\n      formData.append(&#039;index&#039;, currentChunk)\n      formData.append(&#039;totalChunks&#039;, totalChunks)\n      formData.append(&#039;filename&#039;, file.name)\n \n      // fetch(&#039;/api/upload&#039;, {\n      //   method: &#039;POST&#039;,\n      //   body: formData\n      // }).then(res =&gt; {\n      //   if (res.ok) {\n      //     currentChunk++;\n      //     uploadChunk() // é€’å½’ä¸Šä¼ ä¸‹ä¸€å—\n      //   } else {\n      //     throw new Error(&#039;ä¸Šä¼ å¤±è´¥&#039;)\n      //   }\n      // }).catch(err =&gt; {\n      //   console.error(err)\n      // });\n \n      currentChunk++;\n      uploadChunk() // é€’å½’ä¸Šä¼ ä¸‹ä¸€å—\n    };\n \n    // å¼€å§‹ä¸Šä¼ \n    uploadChunk();\n  };\n \n  document.getElementById(&#039;upload&#039;).addEventListener(&#039;click&#039;, uploadFile);\n&lt;/script&gt;\n \n&lt;/html&gt;\nä¼˜åŒ–\nå‹ç¼©æ–‡ä»¶\nä¸Šä¼ å‰å¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ä¼ è¾“çš„æ•°æ®é‡ã€‚\ncanvasæˆ–ç¬¬ä¸‰æ–¹åº“å‹ç¼©å›¾ç‰‡ã€pakoå‹ç¼©å…¶ä»–æ–‡ä»¶ç±»å‹ã€‚\nå¹¶å‘ä¸Šä¼ \nä½¿ç”¨Promise.allå¹¶å‘ä¸Šä¼ å¤šä¸ªåˆ†ç‰‡ã€‚\næ³¨æ„æ§åˆ¶å¹¶å‘æ•°ï¼Œé¿å…è¯·æ±‚è¿‡å¤šã€‚\nfunction uploadFile(file) {\n    const chunkSize = 5 * 1024 * 1024; // 5MB\n    const chunks = Math.ceil(file.size / chunkSize);\n    const concurrency = 3; // å¹¶å‘æ•°\n    let currentChunk = 0;\n \n    function uploadChunk(index) {\n        const offset = index * chunkSize;\n        const chunk = file.slice(offset, offset + chunkSize);\n        const formData = new FormData();\n        formData.append(&#039;file&#039;, chunk);\n        formData.append(&#039;offset&#039;, offset);\n        formData.append(&#039;totalSize&#039;, file.size);\n \n        return fetch(&#039;/upload&#039;, {\n            method: &#039;POST&#039;,\n            body: formData\n        });\n    }\n \n    function uploadNextChunk() {\n        if (currentChunk &gt;= chunks) {\n            console.log(&#039;Upload complete&#039;);\n            return;\n        }\n \n        const promises = [];\n        for (let i = 0; i &lt; concurrency &amp;&amp; currentChunk &lt; chunks; i++) {\n            promises.push(uploadChunk(currentChunk));\n            currentChunk++;\n        }\n \n        Promise.all(promises).then(() =&gt; {\n            uploadNextChunk();\n        });\n    }\n \n    uploadNextChunk();\n}\næ˜¾ç¤ºä¸Šä¼ è¿›åº¦\nwebsocketå®æ—¶é€šçŸ¥ä¸Šä¼ æƒ…å†µï¼Œä»¥åŠè¯·æ±‚åºåˆ—çš„æ§åˆ¶ã€‚\né€šè¿‡XMLHttpRequestæˆ–fetchçš„ API æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚\nfunction uploadFile(file) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(&#039;POST&#039;, &#039;/upload&#039;, true);\n \n    xhr.upload.onprogress = (event) =&gt; {\n        if (event.lengthComputable) {\n            const percentComplete = (event.loaded / event.total) * 100;\n            console.log(`Upload progress: ${percentComplete}%`);\n        }\n    };\n \n    xhr.onload = () =&gt; {\n        if (xhr.status === 200) {\n            console.log(&#039;Upload complete&#039;);\n        }\n    };\n \n    const formData = new FormData();\n    formData.append(&#039;file&#039;, file);\n    xhr.send(formData);\n}\nä¸»è¿›ç¨‹å¡é¡¿ï¼Ÿ\nå°è¯•ä½¿ç”¨web-workerï¼Œå®ç°å¤šçº¿ç¨‹åˆ‡ç‰‡ï¼Œå¤„ç†å®Œä¹‹åäº¤ç»™ä¸»è¿›ç¨‹å‘é€\nå®ç°ç”¨æˆ·å…³é—­æµè§ˆå™¨åé‡æ–°æ‰“å¼€ï¼Œç»§ç»­ä¸Šä¼ \nå°† Blob å­˜å‚¨åˆ°IndexedDBï¼Œä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨åå—…æ¢ä¸€ä¸‹æ˜¯å¦å­˜åœ¨æœªå®Œæˆçš„åˆ‡ç‰‡ï¼Œå¦‚æœæœ‰å°±å°è¯•ç»§ç»­ä¸Šä¼ ã€‚\nè®°å½•å·²ä¸Šä¼ çš„åˆ†ç‰‡ä¿¡æ¯ã€‚\nä¸Šä¼ å‰æ£€æŸ¥æœåŠ¡å™¨ä¸Šå·²ä¸Šä¼ çš„åˆ†ç‰‡ï¼Œè·³è¿‡å·²ä¸Šä¼ éƒ¨åˆ†ã€‚\nä¸‹è½½\nåˆå¹¶åˆ†ç‰‡çš„æ–‡ä»¶\nå°†å¤§æ–‡ä»¶åˆ†æˆå¤šä¸ªå°å—ä¸‹è½½ï¼Œå‡å°‘å•æ¬¡è¯·æ±‚çš„å‹åŠ›ï¼Œå¹¶æ”¯æŒæ–­ç‚¹ç»­ä¼ ã€‚\næ­¥éª¤\n\næœåŠ¡å™¨å°†æ–‡ä»¶åˆ†ç‰‡ï¼Œå‰ç«¯é€šè¿‡å¤šä¸ªè¯·æ±‚ä¸‹è½½åˆ†ç‰‡ã€‚\nä½¿ç”¨ Â RangeÂ  è¯·æ±‚å¤´æŒ‡å®šä¸‹è½½èŒƒå›´ã€‚\nå‰ç«¯å°†åˆ†ç‰‡åˆå¹¶ä¸ºå®Œæ•´æ–‡ä»¶ã€‚\n\nä»£ç ç¤ºä¾‹\nasync function downloadFile(url, fileName, chunkSize = 5 * 1024 * 1024) {\n    let offset = 0;\n    const chunks = [];\n \n    while (true) {\n        const end = offset + chunkSize - 1;\n        const headers = { Range: `bytes=${offset}-${end}` };\n        const response = await fetch(url, { headers });\n \n        if (response.status === 206) { // 206 Partial Content\n            const blob = await response.blob();\n            chunks.push(blob);\n            offset += chunkSize;\n        } else if (response.status === 200) {\n            // å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒåˆ†ç‰‡ä¸‹è½½ï¼Œç›´æ¥ä¸‹è½½æ•´ä¸ªæ–‡ä»¶\n            const blob = await response.blob();\n            chunks.push(blob);\n            break;\n        } else {\n            throw new Error(&#039;Failed to download file&#039;);\n        }\n    }\n \n    // åˆå¹¶åˆ†ç‰‡\n    const fullBlob = new Blob(chunks);\n    const link = document.createElement(&#039;a&#039;);\n    link.href = URL.createObjectURL(fullBlob);\n    link.download = fileName;\n    link.click();\n    URL.revokeObjectURL(link.href);\n}\n \n// ä½¿ç”¨\ndownloadFile(&#039;example.com/large-file.zip&#039;, &#039;large-file.zip&#039;);\næµå¼ä¸‹è½½\nä½¿ç”¨æµå¼ APIï¼ˆå¦‚ Â ReadableStreamï¼‰é€æ­¥ä¸‹è½½æ–‡ä»¶ï¼Œé¿å…å†…å­˜å ç”¨è¿‡é«˜ã€‚\nå®ç°æ­¥éª¤ï¼š\n\nä½¿ç”¨ Â fetchÂ  è·å–å“åº”æµã€‚\né€šè¿‡ Â ReadableStreamÂ  é€æ­¥è¯»å–æ•°æ®å¹¶å†™å…¥æ–‡ä»¶ã€‚\n\nä»£ç ç¤ºä¾‹\nasync function streamDownload(url, fileName) {\n    const response = await fetch(url);\n    const reader = response.body.getReader();\n    const chunks = [];\n \n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        chunks.push(value);\n    }\n \n    // åˆå¹¶æ•°æ®\n    const fullBlob = new Blob(chunks);\n    const link = document.createElement(&#039;a&#039;);\n    link.href = URL.createObjectURL(fullBlob);\n    link.download = fileName;\n    link.click();\n    URL.revokeObjectURL(link.href);\n}\n \n// ä½¿ç”¨\nstreamDownload(&#039;example.com/large-file.zip&#039;, &#039;large-file.zip&#039;);\næ–­ç‚¹ç»­ä¼ ï¼ˆResumable Downloadï¼‰\nåœ¨ç½‘ç»œä¸­æ–­åï¼Œä»ä¸­æ–­å¤„ç»§ç»­ä¸‹è½½ï¼Œé¿å…é‡æ–°ä¸‹è½½ã€‚\nå®ç°æ­¥éª¤ï¼š\n\nè®°å½•å·²ä¸‹è½½çš„å­—èŠ‚èŒƒå›´ã€‚\nä½¿ç”¨ Â RangeÂ  è¯·æ±‚å¤´ä»æ–­ç‚¹å¤„ç»§ç»­ä¸‹è½½ã€‚\n\nä»£ç ç¤ºä¾‹\nasync function resumeDownload(url, fileName, chunkSize = 5 * 1024 * 1024) {\n    let offset = 0;\n    const chunks = [];\n \n    // æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰éƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶\n    const savedBlob = localStorage.getItem(fileName);\n    if (savedBlob) {\n        const blob = new Blob([savedBlob]);\n        offset = blob.size;\n        chunks.push(blob);\n    }\n \n    while (true) {\n        const end = offset + chunkSize - 1;\n        const headers = { Range: `bytes=${offset}-${end}` };\n        const response = await fetch(url, { headers });\n \n        if (response.status === 206) { // 206 Partial Content\n            const blob = await response.blob();\n            chunks.push(blob);\n            offset += chunkSize;\n \n            // ä¿å­˜å·²ä¸‹è½½çš„éƒ¨åˆ†åˆ°æœ¬åœ°\n            const fullBlob = new Blob(chunks);\n            localStorage.setItem(fileName, await fullBlob.text());\n        } else if (response.status === 200) {\n            // å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒåˆ†ç‰‡ä¸‹è½½ï¼Œç›´æ¥ä¸‹è½½æ•´ä¸ªæ–‡ä»¶\n            const blob = await response.blob();\n            chunks.push(blob);\n            break;\n        } else {\n            throw new Error(&#039;Failed to download file&#039;);\n        }\n    }\n \n    // åˆå¹¶åˆ†ç‰‡\n    const fullBlob = new Blob(chunks);\n    const link = document.createElement(&#039;a&#039;);\n    link.href = URL.createObjectURL(fullBlob);\n    link.download = fileName;\n    link.click();\n    URL.revokeObjectURL(link.href);\n    localStorage.removeItem(fileName);\n}\n \n// ä½¿ç”¨\nresumeDownload(&#039;example.com/large-file.zip&#039;, &#039;large-file.zip&#039;);\nå…¶ä»–ä¼˜åŒ–\n\nService Worker ç¼“å­˜ï¼šé€šè¿‡ Service Worker ç¼“å­˜å¤§æ–‡ä»¶ï¼Œæå‡åç»­åŠ è½½é€Ÿåº¦ã€‚ã€‚\næ˜¾ç¤ºä¸‹è½½è¿›åº¦ï¼šæå‡ç”¨æˆ·ä½“éªŒã€‚\n"},"01-developer/frontend/method_chaining":{"slug":"01-developer/frontend/method_chaining","filePath":"01-developer/frontend/method_chaining.md","title":"JavaScript é“¾å¼è°ƒç”¨ | è®¾è®¡æ¨¡å¼ ç¬”è®°","links":[],"tags":["å‰ç«¯","é“¾å¼è°ƒç”¨","JavaScript","å‰ç«¯å…«è‚¡æ–‡"],"content":"Vue :ä» createApp å¼€å§‹çš„é“¾å¼è°ƒç”¨\nä»£ç ç¤ºä¾‹\nimport { createApp } from &#039;vue&#039;;\n \n// åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹\nconst app = createApp({\n  data() {\n    return {\n      message: &#039;Hello, Vue!&#039;\n    };\n  },\n  methods: {\n    handleClick() {\n      alert(&#039;Button clicked!&#039;);\n    }\n  }\n});\n \n// é“¾å¼è°ƒç”¨ï¼šé…ç½®åº”ç”¨å¹¶ç»‘å®šäº‹ä»¶\napp\n  .component(&#039;MyButton&#039;, {\n    template: `&lt;button @click=&quot;handleClick&quot;&gt;Click Me&lt;/button&gt;`,\n    methods: {\n      handleClick() {\n        this.$emit(&#039;custom-click&#039;);\n      }\n    }\n  })\n  .directive(&#039;highlight&#039;, {\n    mounted(el) {\n      el.style.backgroundColor = &#039;yellow&#039;;\n    }\n  })\n  .mixin({\n    created() {\n      console.log(&#039;Mixin created hook&#039;);\n    }\n  })\n  .mount(&#039;#app&#039;); // æŒ‚è½½åˆ° DOM\nè§£é‡Š\ncreateApp:åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ã€‚ä¼ å…¥ä¸€ä¸ªæ ¹ç»„ä»¶é…ç½®å¯¹è±¡ï¼ŒåŒ…å« data å’Œ methodsã€‚\né“¾å¼è°ƒç”¨\n\n.component(): æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶ MyButtonï¼Œç»„ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®æ—¶ä¼šè§¦å‘ custom-click äº‹ä»¶ã€‚\n.directive(): æ³¨å†Œä¸€ä¸ªå…¨å±€æŒ‡ä»¤ highlightï¼Œå½“å…ƒç´ æŒ‚è½½æ—¶ï¼ŒèƒŒæ™¯é¢œè‰²ä¼šå˜ä¸ºé»„è‰²ã€‚\n.mixin(): æ·»åŠ ä¸€ä¸ªå…¨å±€æ··å…¥ï¼Œåœ¨ç»„ä»¶çš„ created ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­è¾“å‡ºæ—¥å¿—ã€‚\n.mount(): å°†åº”ç”¨æŒ‚è½½åˆ° DOM ä¸­ï¼ŒæŒ‚è½½ç‚¹ä¸º #appã€‚\n\näº‹ä»¶ç»‘å®š\nåœ¨ MyButton ç»„ä»¶ä¸­ï¼Œé€šè¿‡ @click ç»‘å®šäº†ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œè§¦å‘æ—¶ä¼šè°ƒç”¨ handleClick æ–¹æ³•ï¼Œå¹¶é€šè¿‡ $emit è§¦å‘ custom-click äº‹ä»¶ã€‚\nåœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ custom-click äº‹ä»¶æ¥å¤„ç†æŒ‰é’®ç‚¹å‡»é€»è¾‘ã€‚\nuse æ–¹æ³•\nuseÂ  æ–¹æ³•æ˜¯ Vue åº”ç”¨å®ä¾‹çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®‰è£…æ’ä»¶ã€‚æ’ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå¿…é¡»æä¾› Â installÂ  æ–¹æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆä¼šè¢«ç›´æ¥è°ƒç”¨ï¼‰ã€‚Vue ä¼šè°ƒç”¨æ’ä»¶çš„ Â installÂ  æ–¹æ³•ï¼Œå¹¶å°† Vue åº”ç”¨å®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚\nè¯­æ³•\napp.use(plugin, options)\n\nplugin: è¦å®‰è£…çš„æ’ä»¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ã€‚\noptions: å¯é€‰çš„é…ç½®å¯¹è±¡ï¼Œä¼ é€’ç»™æ’ä»¶çš„ Â installÂ  æ–¹æ³•ã€‚\n\nå®ç° use\n\nuse çš„é€»è¾‘\n\nfunction use(plugin, options) {\n  if (typeof plugin.install === &#039;function&#039;) {\n    // å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æä¾›äº† install æ–¹æ³•\n    plugin.install(this, options);\n  } else if (typeof plugin === &#039;function&#039;) {\n    // å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°\n    plugin(this, options);\n  } else {\n    throw new Error(&#039;Plugin must be a function or an object with an install method.&#039;);\n  }\n  return this; // è¿”å›åº”ç”¨å®ä¾‹ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨\n}\n\nä½¿ç”¨\n\n// è‡ªå®šä¹‰æ’ä»¶\nconst myPlugin = {\n  install(app, options) {\n    console.log(&#039;My plugin is installed with options:&#039;, options);\n    // æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§\n    app.config.globalProperties.$myMethod = () =&gt; {\n      console.log(&#039;Hello from my plugin!&#039;);\n    };\n    // æ³¨å†Œå…¨å±€ç»„ä»¶\n    app.component(&#039;my-component&#039;, {\n      template: &#039;&lt;div&gt;My Custom Component&lt;/div&gt;&#039;\n    });\n  }\n};\n \n// ä½¿ç”¨æ’ä»¶\ncreateApp(App)\n  .use(myPlugin, { someOption: true }) // å®‰è£…è‡ªå®šä¹‰æ’ä»¶\n  .mount(&#039;#app&#039;);\nPromise ä¸­çš„é“¾å¼è°ƒç”¨\næ‰‹å†™ Promise æ–¹æ³•\nPromise A+è§„èŒƒ\nPromiseA+è§„èŒƒè¯¦ç»†æè¿°äº† JavaScript ä¸­ Promise çš„è¡Œä¸ºæ ‡å‡†ï¼Œç¡®ä¿ä¸åŒçš„ Promise å®ç°å¯ä»¥ç›¸äº’å…¼å®¹ã€‚\næœ¯è¯­\npromiseï¼šå…ˆæ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°ï¼Œå…¶å…·æœ‰ï¼Œç„¶åæ˜¯æ–¹æ³•ï¼Œå…¶è¡Œä¸ºç¬¦åˆæœ¬è§„èŒƒã€‚\nthenableï¼šå…ˆç”¨ä¸€ä¸ªå…·æœ‰ï¼Œå†ç”¨æ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°ã€‚\nvalueï¼šä»»ä½•åˆæ³•çš„è„šæœ¬å€¼(åŒ…æ‹¬æœªå®šä¹‰ï¼Œä¸€ä¸ªå·²å¯ç”¨ï¼Œæˆ–ä¸€ä¸ª Promise)ã€‚\nexceptionï¼šä¸€ä¸ªä½¿ç”¨æŠ›å‡ºè¯­å¥æŠ›å‡ºçš„å€¼ã€‚\nreasonï¼šä¸€ä¸ªè¡¨ç¤º Promise è¢«æ‹’ç»çš„åŸå› \nè¦æ±‚\nPromise çŠ¶æ€\nä¸€ä¸ª promise å¿…é¡»å¤„äºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼špending(ç­‰å¾…æ€ï¼‰ï¼Œfulfilled(æ‰§è¡Œæ€)ï¼Œæˆ– rejected(æ‹’ç»æ€)ã€‚\npendingï¼šå¯ä»¥è¿ç§»åˆ° fulfilled æˆ– rejected çŠ¶æ€ã€‚\nfulfilledï¼šä¸å¯è¿ç§»åˆ°å…¶ä»–çŠ¶æ€ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª valueã€‚\nrejectedï¼šä¸å¯è¿ç§»åˆ°å…¶ä»–çŠ¶æ€ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª reasonã€‚\nthen æ–¹æ³•\nä¸€ä¸ª promise å¿…é¡»æä¾›ä¸€ä¸ª then æ–¹æ³•æ¥è®¿é—®å…¶å½“å‰æˆ–æœ€ç»ˆçš„ value æˆ– reasonã€‚\npromise.then(onFulfilled, onRejected)\n\nonFulfilled å’Œ onRejected éƒ½æ˜¯å¯é€‰å‚æ•°ã€‚\nå¦‚æœ onFulfilled ä¸æ˜¯å‡½æ•°ï¼Œå¿…é¡»å¿½ç•¥å®ƒã€‚\nå¦‚æœ onRejected ä¸æ˜¯å‡½æ•°ï¼Œå¿…é¡»å¿½ç•¥å®ƒã€‚\n\nonFulfilled çš„æ‰§è¡Œ\n\nonFulfilled å¿…é¡»åœ¨ promise å®Œæˆåè¢«è°ƒç”¨ï¼Œä¸” promise çš„ value ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚\nonFulfilled ä¸å¾—åœ¨ promise å®Œæˆå‰è¢«è°ƒç”¨ã€‚\nonFulfilled å¿…é¡»åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚\n\nonRejected çš„æ‰§è¡Œ\n\nonRejected å¿…é¡»åœ¨ promise è¢«æ‹’ç»åè¢«è°ƒç”¨ï¼Œä¸” promise çš„ reason ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚\nonRejected ä¸å¾—åœ¨ promise è¢«æ‹’ç»å‰è¢«è°ƒç”¨ã€‚\nonRejected å¿…é¡»åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚\n\nthen æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ª promise\npromise2 = promise1.then(onFulfilled, onRejected);\npromise2 å¿…é¡»æ˜¯ä¸€ä¸ªæ–°çš„ promiseã€‚\nå¤„ç†è¿”å›çš„å€¼\n\nå¦‚æœ onFulfilled æˆ– onRejected è¿”å›ä¸€ä¸ªå€¼ï¼Œåˆ™è¿è¡Œ Promise è§£å†³ç¨‹åºResolve(promise2, x)ã€‚\nå¦‚æœ onFulfilled æˆ– onRejected æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œåˆ™ promise2 å¿…é¡»ä»¥ä½œä¸ºæ‹’ç»åŸå› ã€‚\nå¦‚æœ onFulfilled ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ä¸” promise1 å®Œæˆï¼Œpromise2 å¿…é¡»ä»¥ promise1 çš„ value ä½œä¸ºå…¶ valueã€‚\nå¦‚æœ onRejected ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ä¸” promise1 è¢«æ‹’ç»ï¼Œpromise2 å¿…é¡»ä»¥ promise1 çš„ reason ä½œä¸ºå…¶ reasonã€‚\n\nä»£ç ç¤ºä¾‹\nconst PENDING = &#039;pending&#039;;\nconst FULFILLED = &#039;fulfilled&#039;;\nconst REJECTED = &#039;rejected&#039;;\n \nfunction isFunction(fn) {\n  return Object.prototype.toString.call(fn) === &#039;[object Function]&#039;;\n}\n \nfunction myPromise(fn) {\n  if (!this || this.constructor !== myPromise) {\n    throw new TypeError(&#039;Promise must be called with new&#039;);\n  }\n  if (!isFunction(fn)) {\n    throw new TypeError(&#039;Promise resolver undefined is not a function&#039;);\n  }\n \n  this.status = PENDING;\n  this.value = void 0;\n  this.reason = void 0;\n  this.onFulfilledCallbacks = [];\n  this.onRejectedCallbacks = [];\n \n  const resolve = value =&gt; {\n    if (this.status === PENDING) {\n      this.status = FULFILLED;\n      this.value = value;\n \n      // å‘å¸ƒ\n      this.onFulfilledCallbacks.forEach(fn =&gt; fn());\n    }\n  };\n \n  const reject = reason =&gt; {\n    if (this.status === PENDING) {\n      this.status = REJECTED;\n      this.reason = reason;\n \n      // å‘å¸ƒ\n      this.onRejectedCallbacks.forEach(fn =&gt; fn());\n    }\n  };\n \n  try {\n    fn(resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n}\n \n// æ·»åŠ  then åŸå‹æ–¹æ³•\nmyPromise.prototype.then = function (onFulfilled, onRejected) {\n  // å¤„ç†è¾¹ç•Œ\n  onFulfilled = isFunction(onFulfilled) ? onFulfilled : value =&gt; value;\n  onRejected = isFunction(onRejected) ? onRejected : reason =&gt; { throw reason };\n \n  // è¿”å›ä¸€ä¸ªæ–°çš„ Promise\n  const promise2 = new myPromise((resolve, reject) =&gt; {\n    if (this.status === FULFILLED) {\n      setTimeout(() =&gt; {\n        try {\n          const x = onFulfilled(this.value);\n          resolve(x);\n        } catch (e) {\n          reject(e);\n        }\n      }, 0);\n    } else if (this.status === REJECTED) {\n      setTimeout(() =&gt; {\n        try {\n          const x = onRejected(this.reason);\n          resolve(x);\n        } catch (e) {\n          reject(e);\n        }\n      }, 0);\n    } else if (this.status === PENDING) {\n      // è®¢é˜…\n      this.onFulfilledCallbacks.push(() =&gt; {\n        setTimeout(() =&gt; {\n          try {\n            const x = onFulfilled(this.value);\n            resolve(x);\n          } catch (e) {\n            reject(e);\n          }\n        }, 0);\n      });\n \n      this.onRejectedCallbacks.push(() =&gt; {\n        setTimeout(() =&gt; {\n          try {\n            const x = onRejected(this.reason);\n            resolve(x);\n          } catch (e) {\n            reject(e);\n          }\n        }, 0);\n      });\n    }\n  });\n \n  return promise2;\n};\n \n \n// æµ‹è¯•\nconst promise = new myPromise((resolve, reject) =&gt; {\n  setTimeout(() =&gt; {\n    resolve(&#039;success&#039;);\n  }, 1000);\n \n});\n \npromise.then(value =&gt; {\n  console.log(value);\n  return &#039;msg from then1&#039;;\n}).then(value =&gt; {\n  console.log(value);\n  return &#039;msg from then2&#039;;\n}).then(value =&gt; {\n  console.log(value);\n});\nå®ç°é“¾å¼è°ƒç”¨\nä¾‹é¢˜\né™åˆ¶ç”¨ JavaScript å®ç°ï¼š\nStudent(&quot;Alice&quot;); // è¾“å‡º I am Alice\n \nStudent(&quot;Alice&quot;).rest(10).learn(&quot;computer&quot;);\n/* è¾“å‡º\nI am Alice\nç»è¿‡10ç§’å\nAfter 10 seconds\nLearning computer\n*/\n \nStudent(&quot;Alice&quot;).restFirst(5).learn(&quot;Math&quot;);\n/* è¾“å‡º\nI am Alice\nç»è¿‡5ç§’å\nAfter 5 seconds\nLearning Math\n*/\nä»£ç \nclass Student {\n    constructor(name) {\n        this.name = name;\n        this.tasks = []; // ä»»åŠ¡é˜Ÿåˆ—\n        this.tasks.push(() =&gt; {\n            console.log(`I am ${this.name}`);\n            this.next(); // æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡\n        });\n        setTimeout(() =&gt; this.next(), 0); // å¼‚æ­¥å¯åŠ¨ä»»åŠ¡é˜Ÿåˆ—\n    }\n \n    next() {\n        const task = this.tasks.shift(); // å–å‡ºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡\n        task &amp;&amp; task(); // å¦‚æœä»»åŠ¡å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œ\n    }\n \n    rest(seconds) {\n        this.tasks.push(() =&gt; {\n            setTimeout(() =&gt; {\n                console.log(`After ${seconds} seconds`);\n                this.next(); // æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡\n            }, seconds * 1000);\n        });\n        return this; // è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨\n    }\n \n    restFirst(seconds) {\n        this.tasks.unshift(() =&gt; {\n            setTimeout(() =&gt; {\n                console.log(`After ${seconds} seconds`);\n                this.next(); // æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡\n            }, seconds * 1000);\n        });\n        return this; // è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨\n    }\n \n    learn(subject) {\n        this.tasks.push(() =&gt; {\n            console.log(`Learning ${subject}`);\n            this.next(); // æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡\n        });\n        return this; // è¿”å›thisä»¥æ”¯æŒé“¾å¼è°ƒç”¨\n    }\n}\n \n// æµ‹è¯•ç”¨ä¾‹\nnew Student(&quot;Alice&quot;); // è¾“å‡º I am Alice\n \nnew Student(&quot;Alice&quot;).rest(10).learn(&quot;computer&quot;);\n/* è¾“å‡º\nI am Alice\nç»è¿‡10ç§’å\nAfter 10 seconds\nLearning computer\n*/\n \nnew Student(&quot;Alice&quot;).restFirst(5).learn(&quot;Math&quot;);\n/* è¾“å‡º\nI am Alice\nç»è¿‡5ç§’å\nAfter 5 seconds\nLearning Math\n*/\nå‘å¸ƒè®¢é˜…æ¨¡å¼ vs è§‚å¯Ÿè€…æ¨¡å¼\nå‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Subï¼‰å’Œè§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰æ˜¯ä¸¤ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒä»¬éƒ½ç”¨äºå¤„ç†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å’Œäº‹ä»¶å¤„ç†ã€‚\nè§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰\nè§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ï¼ˆç§°ä¸ºSubjectï¼Œä¸»é¢˜ï¼‰çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡ï¼ˆç§°ä¸ºObserversï¼Œè§‚å¯Ÿè€…ï¼‰éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚\nSubject\n\nç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…åˆ—è¡¨ã€‚\næä¾›æ³¨å†Œï¼ˆattachï¼‰å’Œæ³¨é”€ï¼ˆdetachï¼‰è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚\nåœ¨çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼ˆnotifyï¼‰ã€‚\n\nObserverï¼ˆè§‚å¯Ÿè€…ï¼‰\n\nå®šä¹‰ä¸€ä¸ªæ›´æ–°æ¥å£ï¼ˆupdateï¼‰ï¼Œç”¨äºæ¥æ”¶ä¸»é¢˜çš„é€šçŸ¥ã€‚\n\nä»£ç ç¤ºä¾‹\nclass Subject {\n    constructor() {\n        this.observers = [];\n    }\n \n    attach(observer) {\n        this.observers.push(observer);\n    }\n \n    detach(observer) {\n        this.observers = this.observers.filter(obs =&gt; obs !== observer);\n    }\n \n    notify() {\n        this.observers.forEach(observer =&gt; observer.update());\n    }\n}\n \nclass Observer {\n    constructor(name) {\n        this.name = name;\n    }\n \n    update() {\n        console.log(`${this.name} received an update!`);\n    }\n}\n \n// ä½¿ç”¨\nconst subject = new Subject();\nconst observer1 = new Observer(&#039;Observer 1&#039;);\nconst observer2 = new Observer(&#039;Observer 2&#039;);\n \nsubject.attach(observer1);\nsubject.attach(observer2);\n \nsubject.notify(); // Observer 1 received an update! Observer 2 received an update!\nå‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPub-Sub Patternï¼‰\nå‘å¸ƒ-è®¢é˜…æ¨¡å¼é€šè¿‡ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒï¼ˆEvent Busï¼‰æ¥è§£è€¦å‘å¸ƒè€…å’Œè®¢é˜…è€…ã€‚å‘å¸ƒè€…å°†æ¶ˆæ¯å‘å¸ƒåˆ°äº‹ä»¶ä¸­å¿ƒï¼Œè®¢é˜…è€…ä»äº‹ä»¶ä¸­å¿ƒè®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„ä¾èµ–å…³ç³»ã€‚\nå…³é”®è§’è‰²\nPublisherï¼ˆå‘å¸ƒè€…ï¼‰ï¼š è´Ÿè´£å‘å¸ƒæ¶ˆæ¯åˆ°äº‹ä»¶ä¸­å¿ƒã€‚\nSubscriberï¼ˆè®¢é˜…è€…ï¼‰ï¼š å‘äº‹ä»¶ä¸­å¿ƒè®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚\nEvent Busï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼šç»´æŠ¤ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å’Œè®¢é˜…è€…åˆ—è¡¨ï¼›è´Ÿè´£å°†æ¶ˆæ¯åˆ†å‘ç»™è®¢é˜…è€…ã€‚\nä»£ç ç¤ºä¾‹\nclass EventBus {\n  constructor() {\n    this.events = {};\n  }\n \n  subscribe(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];  // åˆå§‹åŒ–äº‹ä»¶é˜Ÿåˆ—\n    }\n    this.events[event].push(callback);\n  }\n \n  publish(event, data) {\n    // è¾¹ç•Œæ£€æŸ¥\n    if (!this.events[event]) {\n      return;\n    }\n    if (this.events[event]) {\n      this.events[event].forEach(callback =&gt; callback(data));\n    }\n  }\n}\n \n// ä½¿ç”¨\nconst eventBus = new EventBus();\n \n// è®¢é˜…è€…\neventBus.subscribe(&#039;news&#039;, data =&gt; {\n  console.log(`Subscriber 1 received news: ${data}`);\n});\n \neventBus.subscribe(&#039;news&#039;, data =&gt; {\n  console.log(`Subscriber 2 received news: ${data}`);\n});\n \n// å‘å¸ƒè€…\neventBus.publish(&#039;news&#039;, &#039;Breaking news!&#039;);\n// è¾“å‡ºï¼š\n// Subscriber 1 received news: Breaking news!\n// Subscriber 2 received news: Breaking news!\nä¸»è¦åŒºåˆ«\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nç‰¹æ€§è§‚å¯Ÿè€…æ¨¡å¼å‘å¸ƒ-è®¢é˜…æ¨¡å¼é€šä¿¡æ–¹å¼ç›´æ¥é€šä¿¡ï¼ˆä¸»é¢˜ç›´æ¥é€šçŸ¥è§‚å¯Ÿè€…ï¼‰é—´æ¥é€šä¿¡ï¼ˆé€šè¿‡äº‹ä»¶ä¸­å¿ƒï¼‰è€¦åˆåº¦å¼ºè€¦åˆï¼ˆè§‚å¯Ÿè€…å’Œä¸»é¢˜ç›´æ¥å…³è”ï¼‰æ¾è€¦åˆï¼ˆå‘å¸ƒè€…å’Œè®¢é˜…è€…è§£è€¦ï¼‰è§’è‰²ä¸»é¢˜ï¼ˆSubjectï¼‰å’Œè§‚å¯Ÿè€…ï¼ˆObserverï¼‰å‘å¸ƒè€…ï¼ˆPublisherï¼‰ã€è®¢é˜…è€…ï¼ˆSubscriberï¼‰ã€äº‹ä»¶ä¸­å¿ƒï¼ˆEvent Busï¼‰é€‚ç”¨åœºæ™¯ç®€å•çš„å¯¹è±¡é—´é€šä¿¡å¤æ‚çš„ç³»ç»Ÿï¼Œéœ€è¦è§£è€¦çš„åœºæ™¯å®ç°å¤æ‚åº¦ç®€å•ç›¸å¯¹å¤æ‚åŒæ­¥/å¼‚æ­¥é€šå¸¸æ˜¯åŒæ­¥çš„å¯ä»¥æ˜¯å¼‚æ­¥çš„\nåº”ç”¨\nè§‚å¯Ÿè€…æ¨¡å¼\n\nGUI æ¡†æ¶ä¸­çš„äº‹ä»¶å¤„ç†ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼‰ã€‚\næ•°æ®æ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„ç»‘å®šï¼ˆå¦‚ MVC æ¨¡å¼ï¼‰ã€‚\nç®€å•çš„å¯¹è±¡é—´é€šä¿¡åœºæ™¯ã€‚\n\nå‘å¸ƒ-è®¢é˜…æ¨¡å¼\n\næ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼ˆå¦‚ RabbitMQã€Kafkaï¼‰ã€‚\näº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆå¦‚ Node.js çš„ EventEmitterï¼‰ã€‚\néœ€è¦è§£è€¦çš„å¤æ‚ç³»ç»Ÿï¼ˆå¦‚å¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ï¼‰ã€‚\n"},"01-developer/frontend/mutationObserver":{"slug":"01-developer/frontend/mutationObserver","filePath":"01-developer/frontend/mutationObserver.md","title":"MutationObserverå­¦ä¹ +å®è·µ","links":["links"],"tags":["å‰ç«¯","JavaScript"],"content":"\nä¸€ç¯‡å­¦ä¹  MutationObserver çš„æ–‡ç« \n\nèƒŒæ™¯\nä»Šå¤©è°ƒæ•´æ–°ä¸»é¢˜çš„æ—¶å€™ï¼Œåœ¨é‡æ–°è®¾è®¡å‹é“¾æ ·å¼çš„æ—¶å€™æƒ³ä¿ç•™åŸæœ¬çš„éšæœºèƒŒæ™¯é¢œè‰²ï¼Œä¹‹å‰æ•°é‡å°‘çš„æ—¶å€™ä¼¼ä¹ä¸å¤ªæ˜æ˜¾ï¼Œç°åœ¨æœ¬åœ°æµ‹è¯•å‘è§‰åŠ è½½å¤ªæ…¢äº†ã€‚äºæ˜¯ä¸Šç½‘å¯»æ‰¾è§£å†³æ€è·¯ï¼Œæ‰¾åˆ°äº† MutationObserver è¿™ä¸ª APIï¼Œäºæ˜¯å°±å­¦ä¹ äº†ä¸€ä¸‹//æ­¤å¤„è®°å½•ä¸€ä¸‹å­¦ä¹ è¿‡ç¨‹ã€‚\néœ€æ±‚åˆ†æ\næˆ‘æœ‰ä¸çŸ¥æ•°é‡çš„divå…ƒç´ ï¼Œæ¯ä¸ªdivå…ƒç´ éƒ½æœ‰ä¸€ä¸ªclassåä¸ºfriend-link-divï¼Œæˆ‘éœ€è¦åœ¨æ¯ä¸ªå•ä¸ªçš„divå…ƒç´ è¢«åŠ è½½å®Œæˆçš„åŒæ—¶ï¼Œå¯¹å®ƒè®¾ç½®ä¸€ä¸ªéšæœºçš„èƒŒæ™¯é¢œè‰²ã€‚è€Œä¸æ˜¯ç­‰å¾…æ•´ä¸ªé¡µé¢æˆ–çª—å£åŠ è½½å®Œæ¯•\næƒ³æ³•åˆ†æ\nwindow.onloadå’Œ&#039;DOMContentLoaded&#039;çš„é—®é¢˜\nåŸæœ¬çš„å®ç°ä»£ç ï¼š\n  window.onload=function () {\n    const randomHex = () =&gt; `rgba(${Math.round(Math.random()*255)}, ${Math.round(Math.random()*255)}, ${Math.round(Math.random()*255)}, 0.5)`;\n    var friendArr=document.getElementsByClassName(&quot;friend-div&quot;),temp=[];\n    for(var i=0;i&lt;friendArr.length;i++){\n        friendArr[i].style.background=randomHex();\n    }\n  }\nåŸæœ¬çš„æ€è·¯å°±æ˜¯ç®€å•çš„åœ¨é¡µé¢åŠ è½½å®Œæˆåï¼Œè·å–æ‰€æœ‰çš„å‹é“¾å…ƒç´ ï¼Œç„¶åç»™æ¯ä¸ªå…ƒç´ è®¾ç½®ä¸€ä¸ªéšæœºçš„èƒŒæ™¯é¢œè‰²ã€‚ä½†æ˜¯è¿™æ ·çš„å®ç°æ–¹å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“å‹é“¾æ•°é‡è¾ƒå¤šçš„æ—¶å€™ï¼Œä¼šå¯¼è‡´é¡µé¢åŠ è½½å˜æ…¢ï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¦é‡æ–°è®¡ç®—éšæœºé¢œè‰²ï¼Œå¹¶ä¸”åœ¨ç­‰å¾…æœ¬é¡µé¢åŠ è½½çš„æ—¶å€™ï¼Œå‹é“¾çš„èƒŒæ™¯é¢œè‰²æ˜¯ç™½è‰²çš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´é¡µé¢çš„è§†è§‰ä½“éªŒä¸å¥½ã€‚\nåœ¨ç½‘ä¸Šè¯¢é—®å¾—åˆ°çš„å¦ä¸€ä¸ªæ€è·¯æ˜¯ç”¨document.addEventListener(&#039;DOMContentLoaded&#039;, function() {})ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç­‰å¾…æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯•åæ‰ä¼šæ‰§è¡Œï¼Œè§‚å¯Ÿå‘ç°è¿˜æ˜¯æŒºæ…¢çš„â€¦æ‰€ä»¥ä¹Ÿä¸é€‚åˆã€‚\nä»…åˆ©ç”¨CSSå®ç°éšæœºè‰²å½©çš„æ€è·¯\nè¿˜æœ‰ä¸€ä¸ªä»…åˆ©ç”¨CSSå®ç°éšæœºè‰²å½©çš„æ€è·¯ï¼Œè¯¥æ€è·¯æ˜¯åœ¨CSSä¸­å®šä¹‰ä¸€ä¸ªé¢œè‰²æ•°ç»„ï¼Œç„¶åé€šè¿‡nth-childé€‰æ‹©å™¨æ¥å®ç°ï¼Œä½†æ˜¯è¿™æ ·çš„å®ç°æ–¹å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é¢œè‰²çš„æ•°é‡æ˜¯å›ºå®šçš„ï¼Œè€Œä¸”é¢œè‰²çš„é€‰æ‹©æ˜¯æœ‰è§„å¾‹çš„ï¼Œä¸æ˜¯çœŸæ­£çš„éšæœºé¢œè‰²ã€‚\nä¸è¿‡è¿˜æ˜¯å±•ç¤ºä¸€ä¸‹å¦‚ä½•ä¼ªéšæœºå®ç°ï¼š\n  .friend-link-div:nth-child(1) {\n    background: #f00;\n  }\n  .friend-link-div:nth-child(2) {\n    background: #0f0;\n  }\n  .friend-link-div:nth-child(3) {\n    background: #00f;\n  }\n  .friend-link-div:nth-child(4) {\n    background: #ff0;\n  }\n  ...\næ­é…scssçš„è¯å¯ä»¥è¿™æ ·å†™ï¼š\n  $colors: #f00, #0f0, #00f, #ff0, #f0f, #0ff, #000, #fff;\n  @for $i from 1 through length($colors) {\n    .friend-link-div:nth-child(#{$i}) {\n      background: nth($colors, $i);\n    }\n  }\näºæ˜¯æ”¾å¼ƒwindow.onloadå’Œ&#039;DOMContentLoaded&#039;ï¼Œä»¥åŠCSSçš„ä¼ªéšæœºå®ç°æ–¹æ³•ã€‚æ”¹ç”¨ MutationObserver æ¥å®ç°ã€‚\nè§£å†³æ€è·¯\nä½¿ç”¨MutationObserver APIæ¥è§‚å¯ŸDOMçš„å˜åŒ–ï¼Œå¹¶åœ¨æ–°çš„ç›’å­è¢«æ·»åŠ åˆ°DOMä¸­æ—¶åº”ç”¨èƒŒæ™¯è‰²æ›´æ”¹ã€‚è¿™æ ·ï¼Œæ¯å½“æœ‰æ–°çš„ç›’å­è¢«æ·»åŠ åˆ°é¡µé¢ä¸Šæ—¶ï¼Œä½ å°±å¯ä»¥ç«‹å³æ›´æ”¹å®ƒçš„èƒŒæ™¯ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å…¶ä»–å†…å®¹åŠ è½½å®Œæˆã€‚\nä»£ç \n \n  // å®šä¹‰ä¸€ä¸ªç”ŸæˆéšæœºèƒŒæ™¯è‰²çš„å‡½æ•°\n  const randomHex = () =&gt; `rgba(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, 0.5)`;\n \n  // éå†æ‰€æœ‰å·²ç»å­˜åœ¨çš„ç›’å­ï¼Œä¸ºæ¯ä¸ªç›’å­è®¾ç½®éšæœºèƒŒæ™¯è‰²\n  document.querySelectorAll(&#039;.friend-link-div&#039;).forEach(div =&gt; {\n    div.style.background = randomHex();\n  });\n \n  // å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†æ¯å½“DOMæ ‘ä¸­æ·»åŠ æ–°èŠ‚ç‚¹æ—¶çš„æ“ä½œ\n  const callback = function (mutationsList, observer) {\n    for (const mutation of mutationsList) {\n      if (mutation.type === &#039;childList&#039; &amp;&amp; mutation.addedNodes.length &gt; 0) {\n        mutation.addedNodes.forEach(node =&gt; {\n          // æ£€æŸ¥æ˜¯å¦ä¸ºç›®æ ‡ç›’å­èŠ‚ç‚¹\n          if (node.nodeType === 1 &amp;&amp; node.classList.contains(&#039;friend-link-div&#039;)) {\n            // æ›´æ”¹èƒŒæ™¯è‰²\n            node.style.background = randomHex();\n          }\n        });\n      }\n    }\n  };\n \n  // åˆ›å»ºMutationObserverå®ä¾‹\n  const observer = new MutationObserver(callback);\n \n  // é…ç½®è§‚å¯Ÿé€‰é¡¹ï¼šè§‚å¯Ÿå­èŠ‚ç‚¹çš„æ·»åŠ \n  const config = { childList: true, subtree: true };\n \n  // é€‰æ‹©è¦è§‚å¯Ÿå˜åŒ–çš„DOMèŠ‚ç‚¹ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ˜¯bodyï¼Œä½†ä½ å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹ï¼‰\n  const targetNode = document.body;\n \n  // å¯åŠ¨è§‚å¯Ÿ\n  observer.observe(targetNode, config);\nå…³äºç”¨äºhugoä¸»é¢˜çš„ä¸€äº›Tips\næœ‰çš„æ—¶å€™DOMåˆå§‹åŒ–æ—¶å·²ç»å­˜åœ¨ä¸€äº›ç›’å­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨åˆå§‹åŒ–æ—¶ä¸ºè¿™äº›ç›’å­è®¾ç½®éšæœºèƒŒæ™¯è‰²ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªMutationObserverå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒä»¥è§‚å¯ŸDOMæ ‘ä¸­çš„å­èŠ‚ç‚¹æ·»åŠ ã€‚æœ€åï¼Œæˆ‘ä»¬é€‰æ‹©è¦è§‚å¯Ÿå˜åŒ–çš„DOMèŠ‚ç‚¹ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯bodyï¼Œä½†ä½ å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹ï¼‰ï¼Œå¹¶å¯åŠ¨è§‚å¯Ÿã€‚\nå‡å¦‚ç›´æ¥å°†jsæ’å…¥åˆ°friend.htmlä¸­ï¼Œæ‰“å¼€æ§åˆ¶å°ä¼šå‘ç°è¯¥æ®µjsè¢«æ¸²æŸ“äº†å¥½å¤šæ¬¡ï¼Œè¿™æ˜¯å› ä¸ºhugoçš„æ¨¡æ¿æ¸²æŸ“æœºåˆ¶å¯¼è‡´çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†jsæ”¾åœ¨æ•´ä¸ªå¤§é¡µé¢çš„jsä¸­ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°é‡å¤æ¸²æŸ“çš„é—®é¢˜äº†ã€‚\nä¸€ä¸ªåˆé€‚çš„åœ°æ–¹æ˜¯åœ¨layouts/partials/footer.htmlä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åœ¨æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯¯åå†æ‰§è¡Œè¿™æ®µjsã€‚\nä¸è¿‡ç›´æ¥æ”¾åœ¨footer.htmlä¸­ä¹Ÿä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åªéœ€è¦åœ¨å‹é“¾é¡µé¢åŠ è½½è¿™æ®µjsï¼Œè€Œä¸æ˜¯æ¯ä¸ªé¡µé¢éƒ½åŠ è½½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨footer.htmlä¸­åŠ å…¥ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œåˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦æ˜¯å‹é“¾é¡µé¢ï¼Œå¦‚æœæ˜¯åˆ™åŠ è½½è¿™æ®µjsã€‚\nå¯ä»¥åœ¨content/links.mdä¸­åŠ å…¥ä¸€ä¸ªisLinkå­—æ®µï¼Œç„¶ååœ¨footer.htmlä¸­åˆ¤æ–­æ˜¯å¦ä¸ºå‹é“¾é¡µé¢ï¼Œå¦‚æœæ˜¯åˆ™åŠ è½½è¿™æ®µjsã€‚\n  {{ if .Params.isLink }}\n    &lt;script&gt;\n      // ä»£ç \n    &lt;/script&gt;\n  {{ end }}\nå‡å¦‚ä¸æƒ³æ¯æ¬¡éƒ½æŠŠæ–°å¢çš„jsç›´æ¥å†™åœ¨footer.htmlç­‰åœ°æ–¹ä¸­ï¼Œå¯ä»¥åœ¨static/js/æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œç„¶ååœ¨footer.htmlä¸­å¼•å…¥è¿™ä¸ªjsæ–‡ä»¶ã€‚\n  {{ if .Params.isLink }}\n    &lt;script src=&quot;/js/_extended/friend-link.js&quot;&gt;&lt;/script&gt;\n  {{ end }}\nå¦æ³¨ï¼šgithubPageæ˜¯jekyllæ¨¡æ¿ä¼¼ä¹ä¸èƒ½è¯†åˆ«ä¸‹åˆ’çº¿å¼€å¤´çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æœ‰éœ€è¦çš„è¯å¯ä»¥æŠŠ_extendedæ”¹æˆå…¶ä»–åå­—ã€‚\nå®Œæˆï¼ç°åœ¨ï¼Œæ¯å½“æ–°çš„friend-link-divç›’å­è¢«æ·»åŠ åˆ°DOMä¸­æ—¶ï¼Œå®ƒçš„èƒŒæ™¯é¢œè‰²å°†ç«‹å³æ›´æ”¹ä¸ºéšæœºé¢œè‰²ã€‚\nå¯ä»¥åœ¨æœ¬ç«™çš„å‹é“¾é¡µé¢æŸ¥çœ‹æ•ˆæœï¼šå‹é“¾"},"02-experience/index":{"slug":"02-experience/index","filePath":"02-experience/_index.md","title":"ğŸ¨å®éªŒ","links":[],"tags":["å®éªŒ","intro"],"content":"è®°å½•ä¸€äº›ç¬”è®°å’Œå®éªŒè®°å½•"},"02-experience/datalab":{"slug":"02-experience/datalab","filePath":"02-experience/datalab.md","title":"ğŸ§ªCS-APP Datalab","links":[],"tags":["CSAPP"],"content":"0. before start\nå®éªŒéœ€è¦çš„ææ–™åœ¨è¿™é‡Œï¼šCSAPP Datalab\nCSAPPåŸä¹¦åœ¨çº¿é˜…è¯»\nå°†datalab-handout.tarä¸‹è½½å¤åˆ¶åˆ°è®¡åˆ’ç”¨æ¥å®éªŒçš„ç›®å½•ä¸‹ï¼Œè§£å‹ï¼š\ntar xvf datalab-handout.tar\nè§£å‹ä¹‹åï¼Œæ–‡ä»¶ä¸­bit.cæ˜¯åŒ…å«13ä¸ªç¼–ç¨‹é¢˜ä¸­æ¯ä¸ªé¢˜çš„éª¨æ¶ã€‚å®éªŒè¦æ±‚æ˜¯ä½¿ç”¨æ²¡æœ‰ä»»ä½•å¾ªç¯æˆ–æ¡ä»¶è¯­å¥ï¼Œä»¥åŠæœ‰é™çš„cç®—æœ¯å’Œé€»è¾‘è¿ç®—ç¬¦æ¥å®Œæˆå…¶ä¸­æ¯ä¸ªå‡½æ•°çš„å†…å®¹ï¼Œåªèƒ½ä½¿ç”¨å¦‚ä¸‹8ä¸ªè¿ç®—ç¬¦ï¼š\n! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\næµ‹è¯„\nåœ¨btestæ–‡ä»¶å¤¹ä¸­ï¼ŒåŒ…å«äº†ä¸€ä¸ªæµ‹è¯•ç¨‹åºï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•æˆ‘ä»¬çš„å®ç°æ˜¯å¦æ­£ç¡®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡makeå‘½ä»¤ç¼–è¯‘btestï¼Œç„¶åè¿è¡Œï¼š\n# ç¼–è¯‘å¹¶è¿è¡Œ\nmake &amp;&amp; ./btest\n# å¯¹æŸä¸ªå‡½æ•°è¿›è¡Œå•å…ƒæµ‹è¯•\nmake &amp;&amp; ./btest -f bitXnor\n# å¯¹æŸä¸ªå‡½æ•°è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸”æŒ‡å®šæµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ -1 æŒ‡å®šç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¾æ¬¡ç±»æ¨\nmake &amp;&amp; ./btest -f bitXnor -1 7 -2 0xf\ndlcï¼šç”¨äºæ£€æŸ¥æˆ‘ä»¬çš„å®ç°æ˜¯å¦ç¬¦åˆå®éªŒè¦æ±‚ï¼š\n./dlc bits.c\næ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§éš¾åº¦ä»æ˜“åˆ°éš¾ï¼Œæˆ‘ä»¬ä¾æ¬¡å®Œæˆå®éªŒ\n1. bitXor\nå¼‚æˆ–ç­‰ä»·äºä¸æ˜¯åŒ0ä¸”ä¸æ˜¯åŒ1ã€‚\nä»£ç \n//1\n/* \n * bitXor - x^y using only ~ and &amp; \n *   Example: bitXor(4, 5) = 1\n *   Legal ops: ~ &amp;\n *   Max ops: 14\n *   Rating: 1\n */\nint bitXor(int x, int y) {\n  return ~(~x&amp;~y)&amp;~(x&amp;y);\n}\n2. tmin\nè·å¾—å¯¹2è¡¥ç çš„æœ€å°intå€¼ã€‚åœ¨Cä¸­ï¼Œintæ˜¯32ä½çš„ï¼Œæ‰€ä»¥è¡¥ç çš„æœ€å°å€¼å°±æ˜¯ç¬¦å·ä½ä¸º1ï¼Œå…¶ä½™ä½ä¸º0çš„å€¼ï¼Œå¯¹0x1å·¦ç§»31ä½å³å¯ã€‚\nä»£ç \n/* \n * tmin - return minimum two&#039;s complement integer \n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 4\n *   Rating: 1\n */\nint tmin(void) {\n  return 1 &lt;&lt; 31;\n}\n3. isTmax\nåˆ¤æ–­xæ˜¯å¦æ˜¯intçš„æœ€å¤§æ•´æ•°ã€‚æœ€å¤§æ•´æ•°tmaxåº”è¯¥ä¸º0x7fffffffã€‚\né¢˜ç›®æç¤ºä¸å…è®¸ä½¿ç”¨ç§»ä½æ“ä½œã€‚\næ³¨æ„åˆ°ï¼š\n\\begin{aligned}\nTmax=0x7fffffff,Tmin=0x80000000\\\\\nso,that:Tmax=\\sim Tmin,Tmax+1 = Tmin\\\\\n-Tmin = \\sim Tmin + 1 = Tmax + 1 = Tmin\\\\\nso,that:\\\\\n-(\\sim Tmax) = Tmax + 1 = \\sim Tmax\\\\\n\\end{aligned}\nä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚~xçš„ç›¸åæ•°ä¸~xç›¸ç­‰ï¼Œåˆ™æ»¡è¶³x=Tmaxã€‚\næ³¨æ„é™¤äº†Tmaxæ‹¥æœ‰è¿™ä¸ªæ€§è´¨ï¼Œå½“x=-1æ—¶ï¼š\n\\begin{aligned}\nx=0xffffffff\\\\ \n\\sim x=0x00000000\\\\\n-(\\sim x)=\\sim (\\sim x)+1 = x+1 = 0x00000000\n\\end{aligned}\nä¹Ÿæ»¡è¶³è¿™ä¸ªä¸Šè¿°ç‰¹ç‚¹ï¼Œéœ€è¦æ’é™¤ã€‚\nä»£ç \n/*\n * isTmax - returns 1 if x is the maximum, two&#039;s complement number,\n *     and 0 otherwise \n *   Legal ops: ! ~ &amp; ^ | +\n *   Max ops: 10\n *   Rating: 1\n */\nint isTmax(int x) {\n  return !!(~x)&amp;!((~x)^(x+1));\n}\n\n\n                  \n                  æç¤º \n                  \n                \n\n\næ³¨æ„è¿”å›å€¼æ˜¯intå‹çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨!!å°†ç»“æœè½¬æ¢ä¸º0æˆ–1ã€‚\n\n\n\n4. allOddBits\nå½“xä¸­æ‰€æœ‰å¥‡æ•°ä½éƒ½ä¸º1æ—¶è¿”å›trueã€‚\nå¥‡æ•°ä½éƒ½ä¸º1çš„æ•°å½¢å¦‚ï¼š\nx=0b1x_{30}1x_{28}1...1x_{2}1x_{0}\næ€è·¯æ˜¯æ„é€ å¶æ•°ä½éƒ½ä¸º1çš„æ©ç 0x55555555ï¼Œå†ä¸xæŒ‰ä½å–æˆ–ï¼Œè‹¥èƒ½æ„é€ å‡º0xffffffffåˆ™å¤åˆè¦æ±‚ã€‚\nç”±äºå®éªŒè¦æ±‚ä¸å…è®¸ä½¿ç”¨é•¿åº¦è¶…è¿‡8ä½çš„å¸¸é‡ï¼Œæ‰€ä»¥é€šè¿‡ç§»ä½æ“ä½œæ¥æ„é€ æ©ç ã€‚\nä»£ç \n/* \n * allOddBits - return 1 if all odd-numbered bits in word set to 1\n *   where bits are numbered from 0 (least significant) to 31 (most significant)\n *   Examples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1\n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 12\n *   Rating: 2\n */\nint allOddBits(int x) {\n  int mask = 0x55 + (0x55 &lt;&lt; 8);\n  mask = mask + (mask &lt;&lt; 16);\n  return !(~(mask | x));\n}\n5. negate\nè¿”å›xçš„ç›¸åæ•°ã€‚\nè¿™ä¸ªæ“ä½œåœ¨ç¬¬ä¸‰ä¸ªå®éªŒé‡Œå…¶å®å·²ç»ä½¿ç”¨è¿‡äº†ã€‚\n-x=\\sim x + 1\nä»£ç \n/* \n * negate - return -x \n *   Example: negate(1) = -1.\n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 5\n *   Rating: 2\n */\nint negate(int x) {\n  return ~x + 1;\n}\n6. isAsciDigit\nåˆ¤æ–­xæ˜¯å¦æ˜¯ASCIIç 0~9ä¸­çš„æŸä¸€ä¸ªï¼Œå³åˆ¤æ–­0x30\\leq x\\leq 0x39ã€‚\næ³¨æ„åˆ°0x30\\sim 0x39çš„ä½4ä½ä»0000\\sim 1001ï¼Œä½5~8ä½ä¸º0011ï¼Œå¯ä»¥åˆ†åˆ«åˆ¤æ–­ã€‚\nåœ¨æ»¡è¶³ä½5~8ä½ä¸º0011çš„å‰æä¸‹ï¼Œè‹¥å€’æ•°ç¬¬4ä½ä¸º0åˆ™ç¬¦åˆè¦æ±‚ï¼Œè‹¥å€’æ•°ç¬¬4ä½ä¸º1åˆ™éœ€åˆ¤æ–­æ˜¯å¦ä¸º1000æˆ–1001ï¼Œå³ä¸­é—´2ä½æ˜¯å¦æ˜¯0ã€‚\nä»£ç \n/* \n * isAsciiDigit - return 1 if 0x30 &lt;= x &lt;= 0x39 (ASCII codes for characters &#039;0&#039; to &#039;9&#039;)\n *   Example: isAsciiDigit(0x35) = 1.\n *            isAsciiDigit(0x3a) = 0.\n *            isAsciiDigit(0x05) = 0.\n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 15\n *   Rating: 3\n */\nint isAsciiDigit(int x) {\n  int f3 = !((x &gt;&gt; 4) ^ 3);\n  int f0t9 =!! (!(x &amp; 8) + !(x &amp; 6));\n  return f3 &amp; f0t9;\n}\n7. conditional\nå®ç°å‡ºw =( x ? y : z)çš„æ¡ä»¶åˆ¤æ–­ã€‚\næ„Ÿè§‰åœ¨ä¸Šä¸ªé¢˜å°±å®ç°äº†ï¼Œä¸Šé¢˜ç›¸å½“äºå¯¹ä¸€ä¸ªäºŒè¿›åˆ¶æ•°x=x_4 x_3 x_2 x_1ï¼Œæ˜¯å¦æ»¡è¶³(x_4 == 1)?(x \\&amp; 6 == 0):1ã€‚\nåˆ¤æ–­xé€šè¿‡!!xè·å¾—0/1ï¼Œå†é€šè¿‡æŒ‰ä½å–å+1åˆ†åˆ«è·å¾—0x00000000å’Œ0xffffffffï¼Œå†ä¸yå’ŒzæŒ‰ä½æˆ–å¹¶ç›¸åŠ ï¼Œè·å¾—ç»“æœã€‚\nä»£ç \n/* \n * conditional - same as x ? y : z \n *   Example: conditional(2,4,5) = 4\n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 16\n *   Rating: 3\n */\nint conditional(int x, int y, int z) {\n  int f = !!x;\n  int mask = ~f + 1;\n  return (y &amp; mask) + (z &amp; ~mask);\n}\n8. isLessOrEqual\nåˆ¤æ–­æ˜¯å¦ç¬¦åˆx\\leq yçš„å…³ç³»ã€‚\né¦–å…ˆæ¯”è¾ƒç¬¦å·ä½ï¼Œè‹¥ç¬¦å·ä½ç›¸åŒï¼Œåˆ™åˆ¤æ–­x-y\\leq 0æ˜¯å¦æˆç«‹ã€‚å‡å·å¯ä»¥ç”±æŒ‰ä½å–å+1è·å¾—ç›¸åæ•°ï¼Œå†ç›¸åŠ å®ç°ã€‚\nä»£ç \n/* \n * isLessOrEqual - if x &lt;= y  then return 1, else return 0 \n *   Example: isLessOrEqual(4,5) = 1.\n *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 24\n *   Rating: 3\n */\nint isLessOrEqual(int x, int y) {\n  int fx = x &gt;&gt; 31;\n  int fy = y &gt;&gt; 31;\n  int f = fx ^ fy;\n  int z = x + ~y + 1;\n  return !!((f &amp; fx) | ((!f) &amp; ((!z) | z &gt;&gt; 31)));\n}\n9. logicalNeg\nå®ç°é€»è¾‘å–åï¼Œxé0è¿”å›0ï¼Œxä¸º0è¿”å›1ã€‚\né€šè¿‡å–å+1è·å¾—ç›¸åæ•°ï¼Œå¦‚æœxæ˜¯0ï¼Œå…¶ç›¸åæ•°ä¸xæ‹¥æœ‰ç›¸åŒçš„ç¬¦å·ä½0ï¼Œå¦åˆ™åœ¨xå’Œå…¶ç›¸åæ•°ä¸¤ä¸ªæ•°ä¹‹é—´ä¸€å®šä¼šæœ‰è‡³å°‘ä¸€ä¸ªç¬¦å·ä½ä¸º1ã€‚\nåœ¨Tmin = 0x80000000ä¸­ä¹Ÿä¸€è‡´ï¼Œ-Tmin = ~Tmin + 1 = 0x7fffffff + 1 = 0x80000000ã€‚\nä»£ç \n/* \n * logicalNeg - implement the ! operator, using all of \n *              the legal operators except !\n *   Examples: logicalNeg(3) = 0, logicalNeg(0) = 1\n *   Legal ops: ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *   Max ops: 12\n *   Rating: 4 \n */\nint logicalNeg(int x) {\n  return (((~x + 1) | x) &gt;&gt; 31) + 1;\n}\n10. howManyBits\nè®¡ç®—å‡ºè¡¨ç¤ºxâ€‹éœ€è¦çš„æœ€å°‘è¡¥ç ä½æ•°ã€‚\n\\begin{aligned}\n0=0b0,1bit\\\\\n1=0b01,2bits\\\\\n-1=0b1,1bit\\\\\n2=0b010,3bits\\\\\n-2=0b10,2bits\\\\\n3=0b011,3bits\\\\\n-3=0b101,3bits\n\\end{aligned}\nå¦‚æœæ˜¯æ­£æ•°çš„è¯xè¡¥ç å½¢å¦‚ï¼š0x00001...ï¼Œæ‰€éœ€è¡¥ç ä½æ•°æ˜¯ä»å·¦å‘å³ç¬¬ä¸€ä¸ª1çš„ä½ç½®åœ¨+1ï¼ˆç¬¦å·ä½ï¼‰ï¼Œè´Ÿæ•°çš„è¯xè¡¥ç å½¢å¦‚ï¼š0x11110...ï¼Œå–åä¹‹åæ˜¯0x00001...ï¼Œæ‰€éœ€ä½æ•°æ˜¯ä»å·¦å‘å³ç¬¬ä¸€ä¸ª1çš„ä½ç½®+1ã€‚\nä¸èƒ½é€šè¿‡å¾ªç¯æ¥ä»å·¦å‘å³æ‰¾ï¼Œå°è¯•äºŒåˆ†æ‰¾ç¬¬ä¸€ä¸ª1çš„ä½ç½®ã€‚\nintå‹æœ‰32ä½ï¼Œé€æ¸äºŒåˆ†ä¸º16ã€8ã€4ã€2ã€1ä½ã€‚\n\\begin{aligned}\n&amp;x = 0b0001,1...,....,....,....,....,....,....\\\\\nloop1:&amp; !!(x&gt;&gt;16)=1,b16=16\\\\\n&amp;\\text{é«˜16ä½å­˜åœ¨1ï¼Œåˆ™å¯ä»¥èˆå»ä½16ä½ï¼Œå°†xå³ç§»16ä½}\\\\\n&amp;x = x&gt;&gt;16=0b0001,1...,...,...\\\\\nloop2:&amp;...\n\\end{aligned}\næœ€åç»Ÿè®¡å®Œæ¯•ä¹‹åè¦+1ç¬¦å·ä½ã€‚\nä»£ç \n/* howManyBits - return the minimum number of bits required to represent x in\n *             two&#039;s complement\n *  Examples: howManyBits(12) = 5\n *            howManyBits(298) = 10\n *            howManyBits(-5) = 4\n *            howManyBits(0)  = 1\n *            howManyBits(-1) = 1\n *            howManyBits(0x80000000) = 32\n *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;\n *  Max ops: 90\n *  Rating: 4\n */\nint howManyBits(int x) {\n  int f = !!(x &gt;&gt; 31);\n  f = ~f + 1;\n  x = (x &amp; ~f) + (~x &amp; f);\n  int b16 = (!!(x &gt;&gt; 16)) &lt;&lt; 4;\n  x = x &gt;&gt; b16;\n  int b8 = (!!(x &gt;&gt; 8)) &lt;&lt; 3;\n  x = x &gt;&gt; b8;\n  int b4 = (!!(x &gt;&gt; 4)) &lt;&lt; 2;\n  x = x &gt;&gt; b4;\n  int b2 = (!!(x &gt;&gt; 2)) &lt;&lt; 1;\n  x = x &gt;&gt; b2;\n  int b1 = !!(x &gt;&gt; 1);\n  x = x &gt;&gt; b1;\n  return b16 + b8 + b4 + b2 + b1 + x + 1;\n}\n11. floatScale2\næ±‚ä¸€ä¸ªfloatæµ®ç‚¹æ•°ä¹˜2ä¹‹åçš„å€¼ã€‚\nfloatçš„å„ä½ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nç¬¦å·æŒ‡æ•°(exp)å°¾æ•°18230/10x01111111+eå°æ•°éƒ¨åˆ†\né€šè¿‡å®šä¹‰å…ˆæŒ‰æŒ‡æ•°æ˜¯å¦ä¸º0x00000000æˆ–0x11111111ã€â‰ 0 &amp; â‰ 255åˆ†ç±»ã€‚\n\n\nå¯¹è§„æ ¼åŒ–æ•°è¿›è¡ŒæŒ‡æ•°+1ï¼ˆè‹¥+1åä¸º255åˆ™è¿”å›æ— ç©·å¤§ï¼‰\n\n\néè§„æ ¼åŒ–æ•°ä¿æŒç¬¦å·ä½ä¸å˜ï¼Œå·¦ç§»ä¸€ä½ï¼ˆæ³¨æ„ï¼šè‹¥å°¾æ•°æœ€å·¦è¾¹ä¸€ä½ä¸º1æ—¶ï¼Œä¹˜2åæ°å¥½æ˜¯è§„æ ¼åŒ–æ•°ï¼Œæ•…ä¿ç•™ç¬¦å·ä½æ•´ä½“å·¦ç§»å³å¯ï¼‰\n\n\næ— ç©·å¤§ä¿æŒä¸å˜\n\n\nNaNä¿æŒä¸å˜ã€‚\n\n\nä»£ç \n/* \n * floatScale2 - Return bit-level equivalent of expression 2*f for\n *   floating point argument f.\n *   Both the argument and result are passed as unsigned int&#039;s, but\n *   they are to be interpreted as the bit-level representation of\n *   single-precision floating point values.\n *   When argument is NaN, return argument\n *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\nunsigned floatScale2(unsigned uf) {\n  unsigned s = uf &amp; 0x80000000;\n  unsigned exp = uf &amp; 0x7f800000;\n  unsigned f = uf &amp; 0x007fffff;\n  if(!exp){\n    return s | (uf &lt;&lt; 1);\n  }\n  if(!(exp ^ 0x7f800000)){\n    return uf;\n  }\n  exp = exp + 0x00800000;\n  if(exp == 0x7f800000){\n    return 0x7f800000 | s;\n  }\n \n  return s | (exp &amp; 0x7f800000) | f;\n}\n12. floatFloat2Int\nå°†floatæµ®ç‚¹æ•°è½¬åŒ–ä¸ºintç±»å‹ã€‚\nç®—å‡ºçœŸå®çš„Expï¼šExp + 0b0111111 = eï¼Œ\nå†ç»™å°¾æ•°æœ€å·¦ä¾§è¡¥ä¸€ä½1ï¼Œæ•´ä½“å³ç§»|Exp-23|ä½ï¼ˆèˆä½ï¼‰ï¼Œå†é€šè¿‡æ­£è´Ÿæ€§å–è¡¥ç ã€‚\næ³¨æ„ï¼Œè‹¥æº¢å‡ºæˆ–æ˜¯NaNè¿”å›0x80000000u\nä»£ç \n/* \n * floatFloat2Int - Return bit-level equivalent of expression (int) f\n *   for floating point argument f.\n *   Argument is passed as unsigned int, but\n *   it is to be interpreted as the bit-level representation of a\n *   single-precision floating point value.\n *   Anything out of range (including NaN and infinity) should return\n *   0x80000000u.\n *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\nint floatFloat2Int(unsigned uf) {\n  unsigned s = uf &amp; 0x80000000,\n           e = uf &amp; 0x7f800000,\n           f = uf &amp; 0x007fffff;\n  int exp = (e &gt;&gt; 23) - 0x7f;\n  unsigned res = f | 0x00800000;\n  if(exp &lt; 0) return 0;\n  if(exp &gt;= 31) return 0x80000000;\n  if(exp &lt; 23)exp = 23 - exp;\n  else exp = exp - 23;\n  res = res &gt;&gt; exp;\n  if(s)return -res;\n  else return res;\n}\n13. floatPower2\næ±‚æµ®ç‚¹è¡¨ç¤ºä¸‹çš„2.0çš„xæ¬¡ã€‚\nemmmå…¶å®å°±æ˜¯exp + xï¼Œé‚£å°±å¤„ç†å¥½0b000000å’Œ0b11111111çš„æƒ…å†µå°±å¥½äº†ã€‚\nä»£ç \n/* \n * floatPower2 - Return bit-level equivalent of the expression 2.0^x\n *   (2.0 raised to the power x) for any 32-bit integer x.\n *\n *   The unsigned value that is returned should have the identical bit\n *   representation as the single-precision floating-point number 2.0^x.\n *   If the result is too small to be represented as a denorm, return\n *   0. If too large, return +INF.\n * \n *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. Also if, while \n *   Max ops: 30 \n *   Rating: 4\n */\nunsigned floatPower2(int x) {\n  int exp = 0x7f + x;\n  if(exp &lt; 0x00)return 0;\n  if(exp &gt;= 0xff)return 0x7f800000;\n  if(exp == 0x00)return 1;\n  return exp &lt;&lt; 23;\n}\nå†™å®Œå“©~æœ€åä¸€ä¸ªæ ·ä¾‹ä¼¼ä¹è·‘äº†å¥½ä¹…ï¼ˆã€‚\næ€»ç»“ç¢ç¢å¿µ\nåšå®Œå®éªŒç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°!få’Œ~fçš„åŒºåˆ«ï¼ˆè¿«çœŸã€‚\nä¸‹ä¸ªå®éªŒå†è§(âˆª.âˆª )â€¦zzz"},"03-algorithm/23HangZhouICPC":{"slug":"03-algorithm/23HangZhouICPC","filePath":"03-algorithm/23HangZhouICPC.md","title":"2023æ­å·ICPCåŒºåŸŸèµ›","links":[],"tags":["ç®—æ³•"],"content":"G. Snake Move\né¢˜æ„\nn\\times mçš„ç½‘æ ¼ä¸­æœ‰ä¸€æ¡é•¿åº¦ä¸ºkçš„è´ªåƒè›‡ï¼Œè´ªåƒè›‡æ”¯æŒä¸Šä¸‹å·¦å³ç§»åŠ¨ 1 æ ¼çš„æ“ä½œï¼Œä»¥åŠç¼©çŸ­ 1 ä¸ªèº«ä½“é•¿åº¦çš„æ“ä½œã€‚\nè®¾f(i,j)ä¸ºä»è›‡å¤´ä»åˆå§‹ä½ç½®åˆ°è¾¾ç½‘æ ¼ä¸­ç‚¹(i,j)æ‰€éœ€è¦çš„æœ€å°‘çš„æ“ä½œæ•°ï¼Œç½‘æ ¼ä¸­ä¸å¯åˆ°è¾¾çš„æ ¼å­æ“ä½œæ•°è®¾ä¸º0ï¼Œæ±‚è§£è¾“å‡ºï¼š\n\\sum_{i=1}^{i=n}\\sum_{j=1}^{j=m}f(i,j)\næ€è·¯\nåˆå§‹æ—¶è›‡èº«å‹ä½çš„æ ¼å­æœ‰ä¸€ä¸ªæœ€æ—©é‡Šæ”¾çš„æ—¶é—´ï¼Œå¯ä»¥é€šè¿‡é¢„å¤„ç†è·å¾—ã€‚\nå½“è›‡å¤´å¼€å§‹ç§»åŠ¨æ—¶ï¼Œè›‡å¤´ç»è¿‡çš„æ ¼å­ä¸ä¼šæœ‰æ›´æ—©çš„åˆ°è¾¾æ—¶åˆ»ï¼Œå¦‚æœä¸‹ä¸€æ­¥å¯ä»¥åˆ°è¾¾è›‡èº«å‹ä½çš„æ ¼å­ï¼Œç»•è¡Œä¸å¯èƒ½ä¼˜äºç›´æ¥ç¼©çŸ­é•¿åº¦çš„æ“ä½œæ•°ã€‚\næ­£å¸¸ä»è›‡å¤´è¿›è¡Œ BFSï¼Œå¦‚æœé‡åˆ°åˆå§‹æ—¶ä¸è¢«è›‡èº«å‹ä½çš„æ ¼å­åˆ™æ­£å¸¸åŠ å…¥é˜Ÿåˆ—ï¼Œå¦‚æœé‡åˆ°è¢«å‹ä½çš„æ ¼å­ï¼Œå¯¹é‡Šæ”¾æ—¶é—´å’Œå½“å‰æ­¥æ•°å–maxã€‚\nä»£ç \n#include &lt;bits/stdc++.h&gt;\n \n#define x first\n#define y second\n \nusing namespace std;\n \ntypedef double ld;\ntypedef unsigned long ul;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair&lt;ll, ll&gt; pll;\n \nconst int maxn = 2e5 + 50;\nconst ll inf = 0x3f3f3f3f3f3f;\nconst vector&lt;pll&gt; dxy = {{-1, 0}, {1, 0}, {0, 1}, {0, -1}};\n \nll n, m, k;\nchar maz[3090][3090];\null dis[3090][3090];\nbool inq[3090][3090], vis[3090][3090];\nmap&lt;ll, pll&gt; snake;\nmap&lt;pll, ll&gt; body;\n \nbool check(pll &amp;p) {\n  return p.x &gt;= 1 &amp;&amp; p.x &lt;= n &amp;&amp; p.y &gt;= 1 &amp;&amp; p.y &lt;= m &amp;&amp; maz[p.x][p.y] != &#039;#&#039;;\n};\n \nvoid bfs(pll st) {\n  priority_queue&lt;pair&lt;ll, pll&gt;, vector&lt;pair&lt;ll, pll&gt;&gt;, greater&lt;&gt;&gt; q;\n  q.push({0ll, st});\n  dis[st.x][st.y] = 0ll;\n  inq[st.x][st.y] = true;\n  while (!q.empty()) {\n    auto [d, p] = q.top();\n    q.pop();\n    dis[p.x][p.y] = d;\n    for (auto [dx, dy] : dxy) {\n      pll pi = {p.x + dx, p.y + dy};\n      if (!check(pi))\n        continue;\n      if (inq[pi.x][pi.y])\n        continue;\n \n      if (body.count(pi)) {\n        ll di = max(d + 1, body[pi]);\n        q.push({di, pi});\n        inq[pi.x][pi.y] = true;\n      } else {\n        q.push({d + 1, pi});\n        inq[pi.x][pi.y] = true;\n      }\n    }\n  }\n}\n \nvoid solve() {\n  cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n \n  body.clear();\n \n  pll st;\n  for (ll i = k - 1; i &gt;= 0; i--) {\n    pll p;\n    cin &gt;&gt; p.x &gt;&gt; p.y;\n    snake[i] = p;\n    if (i == k - 1) {\n      st = p;\n      body[p] = 0;\n    } else {\n      body[p] = i + 1;\n    }\n  }\n \n  for (int i = 1; i &lt;= n; i++) {\n    for (int j = 1; j &lt;= m; j++) {\n      cin &gt;&gt; maz[i][j];\n      dis[i][j] = inf;\n    }\n  }\n \n  bfs(st);\n \n  ull ans = 0;\n  for (ll i = 1; i &lt;= n; i++) {\n    for (ll j = 1; j &lt;= m; j++) {\n      ull d = dis[i][j];\n      if (d == inf)\n        d = 0;\n      ans += d * d;\n    }\n  }\n  cout &lt;&lt; fixed &lt;&lt; setprecision(0) &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\n \nvoid init() {\n}\nint main(void) {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  init();\n  int _t = 1;\n  // cin &gt;&gt; _t;\n  // cin.get();\n  while (_t--)\n    solve();\n \n  return 0;\n}\nJ. Mysterious Tree\né¢˜æ„\näº¤äº’é¢˜ã€‚\næœ‰ä¸€æ£µèŠ‚ç‚¹æ•°n\\ge 4çš„æ ‘ï¼Œæ ‘çš„å½¢çŠ¶æ˜¯é“¾çŠ¶æˆ–è€…æ˜ŸçŠ¶ï¼Œæ¯æ¬¡è¯¢é—®ä¸¤ä¸ªç‚¹uå’Œvï¼Œä¼šè¿”å›(u,v)ä¹‹é—´æ˜¯å¦æœ‰è¾¹ï¼Œéœ€è¦åœ¨\\lceil \\frac{n}{2} \\rceil + 3çš„è¯¢é—®æ¬¡æ•°ä¹‹å†…ç¡®å®šæ ‘çš„å½¢çŠ¶ã€‚\næ€è·¯\næ¯æ¬¡è¯¢é—®2ä¸ªæ²¡æœ‰é—®è¿‡çš„èŠ‚ç‚¹(1,2),(3,4),...å¦‚æœåˆ°ç»“æŸéƒ½æ²¡æœ‰é—®å‡ºè¾¹ï¼Œæ­¤æ—¶èŠ‚ç‚¹æ•°æ˜¯å¶æ•°ï¼Œåˆ™è¯´æ˜æ˜¯é“¾çŠ¶ï¼Œå¦åˆ™ç”¨ä¸‰æ¬¡è¯¢é—®ç¡®å®šèŠ‚ç‚¹næ˜¯å¦æ˜¯æ˜ŸçŠ¶çš„ä¸­å¿ƒï¼ˆè¯¢é—®ä¸­è¦æœ‰ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯æ²¡æœ‰è¾¹çš„ï¼‰ï¼Œè‹¥æ˜¯åˆ™ä¸ºæ˜Ÿï¼Œå¦åˆ™ä¸ºé“¾ã€‚\né—®å‡ºä¸€æ¡è¾¹åï¼ŒæŠ‰æ‹©ç¡®å®šè¿™æ¡è¾¹çš„ä¸¤ä¸ªç‚¹æ˜¯å¦æ˜¯æ˜Ÿçš„ä¸­å¿ƒã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n \n  ll t;\n  auto ask = [&amp;](ll p1, ll p2) {\n    cout &lt;&lt; &quot;? &quot; &lt;&lt; p1 &lt;&lt; &#039; &#039; &lt;&lt; p2 &lt;&lt; endl;\n    cin &gt;&gt; t;\n  };\n  auto conf = [&amp;](ll x) { cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; endl; };\n \n  bool flag = false;\n  ll u = -1, v = -1;\n  for (ll i = 1; i + 1 &lt;= n; i += 2) {\n    ask(i, i + 1);\n    if (t == 1) {\n      flag = true;\n      u = i, v = i + 1;\n      break;\n    }\n  }\n \n  ll t1, t2, t3;\n  if (!flag) {\n    if (n &amp; 1) {\n      ask(n, 1), t1 = t;\n      ask(n, 2), t2 = t;\n      ask(n, 3), t3 = t;\n      if (t1 &amp;&amp; t2 &amp;&amp; t3) {\n        conf(2);\n      } else {\n        conf(1);\n      }\n    } else {\n      conf(1);\n    }\n    return;\n  }\n  if (u - 1 &gt;= 1) {\n    ask(u - 1, u);\n    t1 = t;\n    if (t1 != 1) {\n      ask(u - 1, v);\n      t2 = t;\n      if (t2 != 1) {\n        conf(1);\n      } else {\n        if (v + 1 &lt;= n)\n          ask(v, v + 1);\n        else\n          ask(u - 2, v);\n        t3 = t;\n        if (t3 != 1) {\n          conf(1);\n        } else {\n          conf(2);\n        }\n      }\n    } else {\n      if (u - 2 &gt;= 1) {\n        ask(u - 2, u);\n      } else {\n        ask(v + 1, u);\n      }\n      t2 = t;\n      if (t2 != 1) {\n        conf(1);\n      } else {\n        conf(2);\n      }\n    }\n  } else {\n    ask(v, v + 1);\n    t1 = t;\n    if (t1 != 1) {\n      ask(v + 1, u);\n      t2 = t;\n      if (t2 != 1) {\n        conf(1);\n      } else {\n        ask(v + 2, u);\n        t3 = t;\n        if (t3 != 1) {\n          conf(1);\n        } else {\n          conf(2);\n        }\n      }\n    } else {\n      ask(v, v + 2);\n      t2 = t;\n      if (t2 != 1) {\n        conf(1);\n      } else {\n        conf(2);\n      }\n    }\n  }\n}\nM. V-Diagram\né¢˜æ„\nåœ¨ V å‹æ•°ç»„ï¼Œæ‰¾ä¸€ä¸ªå¹³å‡å€¼æœ€å¤§çš„è¿ç»­å­æ•°ç»„ï¼Œè¦æ±‚å­æ•°ç»„ä¹Ÿæˆ V å‹ï¼Œè¾“å‡ºå¹³å‡å€¼ã€‚\næ€è·¯\nä»æœ€ä½ç‚¹ï¼ˆpiï¼‰åˆ†åˆ«å‘å·¦å‘å³æ‰¾åˆ°å¹³å‡å€¼æœ€å¤§çš„ä½ç½®ï¼ˆlpï¼Œrpï¼‰ï¼Œé€‰æ‹©åŒºé—´[lp,pi+1]ã€[pi-1,rp]ã€[lp,rp]ä¹‹ä¸­å¹³å‡å€¼æœ€å¤§çš„ä¸€ä¸ªã€‚\nä»£ç \nconst int maxn = 3e5 + 50;\nll a[maxn], pre[maxn];\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  ll lp, rp, pi, mna = inf;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    pre[i] = pre[i - 1] + a[i];\n    if (mna &gt; a[i]) {\n      pi = lp = rp = i;\n      mna = a[i];\n    }\n  }\n  ll sum = 0, len = 0, llp = lp, rrp = rp;\n  ld rcur = 0.0, lcur = 0.0;\n  while (lp &gt;= 1) {\n    sum += a[lp];\n    len++;\n    if (1.0 * sum / len &gt; lcur) {\n      lcur = 1.0 * sum / len;\n      llp = lp;\n    }\n    lp -= 1;\n  }\n  sum = 0, len = 0;\n  while (rp &lt;= n) {\n    sum += a[rp];\n    len++;\n    if (1.0 * sum / len &gt; rcur) {\n      rcur = 1.0 * sum / len;\n      rrp = rp;\n    }\n    rp += 1;\n  }\n \n  auto getavl = [&amp;](ll r, ll l) {\n    return 1.0 * (pre[r] - pre[l - 1]) / (r - l + 1);\n  };\n \n  ld ans = max(getavl(rrp, pi - 1), getavl(pi + 1, llp));\n  ans = max(ans, getavl(rrp, llp));\n  cout &lt;&lt; fixed &lt;&lt; setprecision(12) &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/24JilinCCPC":{"slug":"03-algorithm/24JilinCCPC","filePath":"03-algorithm/24JilinCCPC.md","title":"2024å‰æ—çœèµ›è¡¥é¢˜è®°å½•","links":[],"tags":["ç®—æ³•"],"content":"GYMåœ°å€ï¼š2024å‰æ—çœèµ›\né¢˜ç›®é¡ºåºæŒ‰ç…§ä»æ˜“åˆ°éš¾æ’åºã€‚\nI. The Easiest Problem\né¢˜æ„\næ•°ä¸€æ•°\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nvoid solve() {\n    string s = &quot;Scan the QR code to sign in now.&quot;;\n    ll cnt = 0;\n    for (auto c : s) {\n        if (c &lt;= &#039;z&#039; &amp;&amp; c &gt;= &#039;a&#039;)cnt++;\n    }\n    cout &lt;&lt; cnt &lt;&lt; endl;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while(_--)\n        solve();\n \n    return 0;\n}\nL. Recharge\né¢˜æ„\næœ‰xæ¬¡è·å¾—1æ ¼èƒ½é‡çš„æœºä¼šï¼Œyæ¬¡è·å¾—2æ ¼èƒ½é‡çš„æœºä¼šï¼Œå……æ»¡ä¸€ä¸ªç”µæ± éœ€è¦kæ ¼èƒ½é‡ï¼Œæº¢å‡ºçš„èƒ½é‡ä¼šè¢«æµªè´¹ï¼Œé—®æœ€å¤šèƒ½å……æ»¡å¤šå°‘ç”µæ± ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nvoid solve() {\n    ll k, x, y;cin &gt;&gt; k &gt;&gt; x &gt;&gt; y;\n    if (k == 1) { cout &lt;&lt; x + y &lt;&lt; &quot;\\n&quot;;return; }\n    ll ans = 0;\n    if (k &amp; 1) {\n        ll yi = k / 2;\n        if (x &lt;= y / yi) {\n            ans += x;\n            y -= x * yi;\n            x = 0;\n            ans += y / (yi + 1);\n        }\n        else {\n            ans += y / yi;\n            x -= (y / yi);\n            y -= (y / yi) * yi;\n            if (y * 2 + x &gt;= k) {\n                ans += 1;x -= (k - 2 * y);y = 0;\n            }\n            ans += x / k;\n        }\n    }\n    else {\n        ll tot = x + 2 * y;\n        ans = tot / k;\n    }\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int _ = 1;\n    cin &gt;&gt; _;cin.get();\n    while(_--)\n        solve();\n \n    return 0;\n}\nG. Platform Game\né¢˜æ„\nåœ¨äºŒç»´å¹³é¢ä¸­æœ‰nä¸ªå¹³å°ï¼Œæ¯ä¸ªå¹³å°æœ‰ä¸€ä¸ªé«˜åº¦h_iï¼Œä»¥åŠä¸€ä¸ªå·¦ç«¯ç‚¹l_iå’Œå³ç«¯ç‚¹r_iã€‚æœºå™¨äººä»(x,y)å‡ºå‘ï¼Œä¿æŒå‘å³å‰è¿›ï¼Œå¦‚æœé‡åˆ°å¹³å°ç«¯ç‚¹åˆ™ä¼šå‚ç›´ä¸‹è½ï¼Œé—®æœºå™¨äººæœ€ç»ˆçš„è½ç‚¹ã€‚\næ€è·¯\næ’åºé¢˜ï¼ŒæŒ‰ç…§é«˜åº¦ä»é«˜åˆ°ä½ã€å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œéå†å¹³å°ï¼Œå¦‚æœæœºå™¨äººåœ¨å¹³å°ä¸Šåˆ™æ›´æ–°æœºå™¨äººçš„ä½ç½®ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nstruct PLAT {\n    ll l, r, y;\n    operator&lt;(const PLAT&amp; P)const {\n        if (y == P.y)return l &lt; P.l;\n        return y &gt; P.y;\n    }\n};\n \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;PLAT&gt;plats;\n    for (ll i = 0;i &lt; n;i++) {\n        ll l, r, y;cin &gt;&gt; l &gt;&gt; r &gt;&gt; y;\n        plats.push_back({ l,r,y });\n    }\n    sort(plats.begin(), plats.end());\n    ll sx, sy;cin &gt;&gt; sx &gt;&gt; sy;\n    for (auto p : plats) {\n        if (p.l &lt; sx &amp;&amp; p.r &gt;= sx &amp;&amp; p.y &lt; sy) {\n            sy = p.y;\n            sx = p.r;\n        }\n    }\n    cout &lt;&lt; sx &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int _ = 1;\n    cin &gt;&gt; _;cin.get();\n    while(_--)\n        solve();\n \n    return 0;\n}\nD. Parallel Lines\né¢˜æ„\näºŒç»´å¹³é¢ä¸Šæœ‰kæ¡å¹³è¡Œçº¿ï¼Œè¿™äº›ç›´çº¿ä¸Šæœ‰nä¸ªç‚¹ï¼Œå·²çŸ¥æ¯æ¡ç›´çº¿ä¸Šè‡³å°‘æœ‰2ä¸ªç‚¹ã€‚ç°åœ¨ç»™å‡ºnä¸ªç‚¹ï¼Œæ‰¾å‡ºè¿™kæ¡å¹³è¡Œçº¿ï¼ˆç”¨ç‚¹è¡¨ç¤ºï¼‰ã€‚\næ•°æ®èŒƒå›´\n2 \\leq n \\leq 10^4\n1 \\leq k \\leq \\min(50, \\frac{n}{2})\næ€è·¯\næ³¨æ„kçš„èŒƒå›´ï¼Œkæœ€å¤šä¸º50ï¼Œå¯ä»¥æšä¸¾kæ¥é€‰æ‹©å¹³è¡Œçº¿çš„æ–œç‡ï¼Œå¯¹äºkæ¡å¹³è¡Œçº¿ï¼Œå½“æˆ‘é€‰æ‹©äº†k+1ä¸ªç‚¹æ—¶ï¼Œè¿™k+1ä¸ªç‚¹ä¸­å¿…ç„¶è‡³å°‘æœ‰ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æ–œç‡æ˜¯kæ¡å¹³è¡Œçº¿çš„æ–œç‡ã€‚\nç¡®å®šæ–œç‡k_iä¹‹åï¼Œæˆ‘ä»¬åˆ†åˆ«è®¡ç®—è¿‡æ¯ä¸ªç‚¹æ–œç‡ä¸ºk_içš„ç›´çº¿åœ¨yè½´ä¸Šçš„æˆªè·ï¼Œå¹¶è®¡æ•°ç›¸åŒæˆªè·çš„ç‚¹çš„æ•°ç›®ï¼Œæ³¨æ„å‚ç›´äºxè½´çš„æƒ…å†µã€‚\nåªæœ‰åŒæ—¶ç¬¦äº§ç”Ÿæˆªè·æ•°ç›®æ°å¥½ä¸ºkï¼Œä¸”æ¯ä¸ªæˆªè·çš„ç‚¹æ•°ç›®è‡³å°‘ä¸º2æ—¶ï¼Œæˆ‘ä»¬æ‰æ‰¾åˆ°äº†æ‰€è¦çš„kæ¡å¹³è¡Œçº¿ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\n \nstruct Point {\n    ll x, y;\n};\n \nvoid solve() {\n    ll n, k;cin &gt;&gt; n &gt;&gt; k;\n    vector&lt;Point&gt;points(n);\n    map&lt;ll, vector&lt;ll&gt;&gt;rx;\n    for (ll i = 0;i &lt; n;i++) {\n        cin &gt;&gt; points[i].x &gt;&gt; points[i].y;\n        rx[points[i].x].push_back(i + 1);\n    }\n    if (rx.size() == k) {\n        bool f = true;\n        for (auto i : rx) {\n            if (i.second.size() &lt; 2) { f = false;break; }\n        }\n        if (f) {\n            for (auto i : rx) {\n                cout &lt;&lt; i.second.size() &lt;&lt; &quot; &quot;;\n                for (auto j : i.second) {\n                    cout &lt;&lt; j &lt;&lt; &quot; &quot;;\n                }\n                cout &lt;&lt; &quot;\\n&quot;;\n            }\n            return;\n        }\n    }\n    ll b = 1000000;\n    map&lt;ll, bool&gt;mpk;\n    for (ll i = 0;i &lt; k + 1;i++) {\n        for (ll j = i + 1;j &lt; k + 1;j++) {\n            ll px = points[i].x, py = points[i].y, qx = points[j].x, qy = points[j].y;\n            if (px == qx) {\n                continue;\n            }\n            ld ki = 1.0 * (py - qy) / (px - qx);\n            ll kk = (ll)(ki * b);\n            if (mpk.count(kk) == 0)mpk[kk] = true;\n        }\n    }\n    for (auto kk : mpk) {\n        ld ki = 1.0 * kk.first / b;\n        map&lt;ll, vector&lt;ll&gt;&gt;cnt;\n        for (ll i = 0;i &lt; n;i++) {\n            ll x = points[i].x, y = points[i].y;\n            ld bi = y - ki * x;\n            ll bb = (ll)(bi * b);\n            cnt[bb].push_back(i + 1);\n            if (cnt.size() &gt; k)break;\n        }\n        if (cnt.size() == k) {\n            bool f = true;\n            for (auto i : cnt) {\n                if (i.second.size() &lt; 2) { f = false;break; }\n            }\n            if (!f)continue;\n            for (auto i : cnt) {\n                cout &lt;&lt; i.second.size() &lt;&lt; &quot; &quot;;\n                for (auto j : i.second) {\n                    cout &lt;&lt; j &lt;&lt; &quot; &quot;;\n                }\n                cout &lt;&lt; &quot;\\n&quot;;\n            }\n            return;\n        }\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n \n    return 0;\n}\nE. Connected Components\né¢˜æ„\næœ‰nä¸ªç‹å›½ï¼Œç¼–å·ä»1åˆ°nï¼Œæ¯ä¸ªç‹å›½æœ‰ä¸¤ä¸ªå±æ€§å€¼a_iå’Œb_iï¼Œå¦‚æœä¸¤ä¸ªç‹å›½çš„å±æ€§å€¼æ»¡è¶³a_i - a_j \\leq i - j \\leq b_i - b_jæˆ–a_j - a_i \\leq j - i \\leq b_j - b_iï¼Œåˆ™è¿™ä¸¤ä¸ªç‹å›½æ˜¯ç›¸è¿çš„ã€‚é—®æœ‰å¤šå°‘ä¸ªè¿é€šå—ã€‚\næ•°æ®èŒƒå›´\n1 \\leq n \\leq 10^6\næ€è·¯"},"03-algorithm/index":{"slug":"03-algorithm/index","filePath":"03-algorithm/_index.md","title":"âŒ¨ï¸chillæ‰“Açš„","links":[],"tags":["ç®—æ³•","intro"],"content":"Intro\nè¿™ä¸ªç›®å½•ä¸‹è®°å½•äº†è¿™ä¸¤å¹´æ¥çš„å†™é¢˜ä¸å®Œå…¨è®°å½•ï¼Œå¤šæœªå¡«å‘è­¦å‘Š âš ã€‚\næ‰¾å·¥ä½œä¸­çš„å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸ä¼šæ›´æ–°äº†ï¼Œä½†æ˜¯æœŸå¾…æ‰¾åˆ°æ»¡æ„å·¥ä½œä¹‹åå¯ä»¥ç»§ç»­ handle è‡ªå·±çš„æ—¶é—´ï¼Œå¯èƒ½é‚£æ—¶å€™ä¼šç»§ç»­æ‰“ codeforceï¼ï¼ˆè°çŸ¥é“å‘¢\né‚£åœºå¤§é›¨æµ‡ç­äº†æˆ‘çš„ ACM æ¢¦\nèœèœçš„ç®—æ³•ç”Ÿæ¶¯éšç€ä»Šå¹´(2025.06)çš„è“æ¡¥æ¯ç»“æŸå•¦ã€‚\nè™½ç„¶ ddl é€€å½¹äº†ï¼Œä½†æ˜¯ ddl çš„é˜Ÿå‹è¿˜åœ¨å¥‹æ–—ï¼Œç¥æ„¿å¤§å®¶èƒ½æ‹¿åˆ°æ»¡æ„çš„æˆç»©ï¼\næµæ°´è´¦\n\n2023.11 CCPC 2023 å¹´é‡åº†ç«™å¥³ç”Ÿèµ›é“œå¥–ã€‚\n2024.04 è“æ¡¥æ¯å‰æ—çœä¸€ç­‰å¥–ã€å›½ä¼˜ç§€å¥–\n2024.04 CCPC ä¸œåŒ—èµ›å››çœèµ›æš¨å…¨å›½é‚€è¯·èµ›é“œå¥–ã€å‰æ—çœèµ›æš¨å…¨å›½é‚€è¯·èµ›é“¶å¥–\n2024.05 å¤©æ¢¯èµ› CCCC ä¸ªäººå›½ä¸‰ã€å›¢é˜ŸäºŒç­‰å¥–\n2024.11 CCPC 2024 å¹´é‡åº†ç«™å¥³ç”Ÿèµ›é“¶å¥–\n2025.05 å¤©æ¢¯èµ› CCCC ä¸ªäººå›½ä¸‰ï¼Œå›¢é˜ŸäºŒç­‰å¥–\n2025.04 è“æ¡¥æ¯å‰æ—çœä¸€ç­‰å¥–\n"},"03-algorithm/cfedu162div2":{"slug":"03-algorithm/cfedu162div2","filePath":"03-algorithm/cfedu162div2.md","title":"ğŸ’­Educational Codeforces Round 162(div2)","links":[],"tags":["ç®—æ³•"],"content":"A-Moving Chips\né¢˜æ„\næ¯ä¸ªå•å…ƒæ ¼ä¸ºç©ºé—²æˆ–æœ‰ä¸€ä¸ªèŠ¯ç‰‡ï¼ŒèŠ¯ç‰‡å¯ä»¥å‘å·¦ç§»åŠ¨åˆ°æœ€è¿‘çš„ç©ºé—²å¤„ï¼ˆå¦‚æœå­˜åœ¨ç©ºé—²æ ¼ï¼‰ã€‚\nç°åœ¨æœ‰ä¸€æ’å•å…ƒæ ¼ï¼Œæ±‚é—®è¿›è¡Œå¤šå°‘æ¬¡ç§»åŠ¨ï¼Œæ‰èƒ½ä½¿å¾—æ‰€æœ‰èŠ¯ç‰‡é›†ä¸­åœ¨ä¸€èµ·ï¼ˆä¸­é—´æ²¡æœ‰ç©ºæ ¼ï¼‰ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn(2â‰¤nâ‰¤50)â€‹\na_i(a_iâˆˆ\\{1,0\\})\næ€è·¯\nç»Ÿè®¡æ•°ç»„ä¸­ç¬¬ä¸€ä¸ª1å’Œæœ€åä¸€ä¸ª1ä¹‹é—´çš„0çš„æ•°ç›®ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;int&gt;a(n);\n    bool f = false;\n    int cnt = 0;\n    int ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        if (a[i] == 1 &amp;&amp; !f) {\n            f = true;\n        }\n        if (f) {\n            if (a[i] == 0)\n                cnt++;\n            else {\n                ans += cnt;\n                cnt = 0;\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nB-Monsters Attack!\né¢˜æ„\nç©å®¶ä½äºä¸€ç»´åæ ‡0ç‚¹å¤„ï¼Œå¼€å§‹æ¸¸æˆåï¼Œæ¯ä¸€å›åˆç©å®¶å¯ä»¥å‘ä»»æ„ä¸¤ä¸ªæ–¹å‘å‘å°„æ€»å…±ä¸å¤šäºké¢—å­å¼¹ï¼Œæ¯ä¸ªå­å¼¹å¯ä»¥é€ æˆæ€ªç‰©çš„è¡€é‡a_iä¸‹é™1ç‚¹ï¼Œé™ä¸º0åæ€ªç‰©å°†å€’ä¸‹å¹¶ä»åæ ‡ä¸Šç§»é™¤ã€‚ä¹‹åï¼Œæ‰€æœ‰æ€ªç‰©è¶…ç©å®¶ç§»åŠ¨ä¸€æ ¼ã€‚å¦‚æœæ€ªç‰©åˆ°è¾¾äº†ç©å®¶çš„ä½ç½®(å³åæ ‡0ç‚¹)ï¼Œåˆ™æ¸¸æˆå¤±è´¥ã€‚\nè¯¢é—®æ˜¯å¦å¯èƒ½ä½¿ç©å®¶æ¶ˆç­æ‰€æœ‰nåªæ€ªç‰©ï¼Œä¸è®©ä»»ä½•ä¸€åªæ€ªç‰©é è¿‘ç©å®¶ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤3\\times 10^4)\nn,k(1â‰¤nâ‰¤3\\times 10^5,1\\le k\\le 2\\times 10^9)â€‹\na_i(1\\le a_i\\le 10^9)\nx_i(-n\\le x_1\\lt x_2\\lt\\dots\\lt x_n\\le n;x_iâ‰ 0)\næ€è·¯\nå°†æ‰€æœ‰æ€ªç‰©æŠ˜åˆæˆåŒä¸€ä¸ªæ–¹å‘ï¼Œæ¯æ¬¡ç©å®¶å‘æ€ªç‰©ç§»åŠ¨ä¸€æ ¼ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨å®Œæ‰€æœ‰çš„ké¢—å­å¼¹ã€‚éå†æ¨¡æ‹Ÿï¼Œåˆ¤æ–­æ˜¯å¦èƒ½åœ¨åˆ°è¾¾æœ€è¿œåæ ‡ä¹‹å‰æ¶ˆç­æ‰€æœ‰æ€ªç‰©ã€‚\nå‚è€ƒä»£ç \nstruct monster {\n    ll a, x;\n    bool operator&lt;(const monster&amp; other) {\n        return x &lt; other.x;\n    }\n};\n \nvoid solve() {\n    ll n, k;cin &gt;&gt; n &gt;&gt; k;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++)cin &gt;&gt; a[i];\n    vector&lt;ll&gt;x(n);\n    for(int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; x[i];\n        if (x[i] &lt; 0)x[i] *= -1;\n    }\n    vector&lt;monster&gt;monsters;\n    for (int i = 0;i &lt; n;i++) {\n        monsters.push_back({a[i], x[i]});\n    }\n    sort(monsters.begin(), monsters.end());\n    map&lt;ll, ll&gt;turns;\n    for (int i = 0;i &lt; n;i++) {\n        ll t = monsters[i].a;\n        ll s = monsters[i].x;\n        turns[s] += t;\n    }\n    ll lk = 0;\t// å‰©ä½™å­å¼¹\n    ll ix = 0;\n    for (auto i = turns.begin();i != turns.end();i++) {\n        ll iy = i-&gt;first;   // ä½ç½®\n        ll t = i-&gt;second;\n        if ((iy - ix) * k + lk &lt; t) {\n            cout &lt;&lt; &quot;NO\\n&quot;;return;\n        }\n        else {\n            lk = (iy - ix) * k + lk - t;\n            ix = iy;\n        }\n    }\n    cout &lt;&lt; &quot;YES\\n&quot;;\n}\nC-Find B\né¢˜æ„\nç»™ä¸€ä¸ªæ•°ç»„aï¼Œæ¯æ¬¡æˆªå–ä¸€æ®µ[l,r]çš„å­æ•°ç»„bï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦å¯ä»¥å˜åŒ–æˆä¸€ä¸ªæ•°ç»„cï¼Œæ»¡è¶³ï¼š\n\n\\sum_{i=1}^m b_i=\\sum_{i=1}^m c_i\nä»»æ„iâˆˆ[l,r]ï¼Œéƒ½æ»¡è¶³b_iâ‰ c_i\nä»»æ„c_i\\gt 0â€‹\n\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn,q(1â‰¤n,qâ‰¤3\\times 10^5)â€‹\na_i(1\\le a_i\\le 10^9)\nl_i,r_i(1\\le l_i\\le r_i\\le n)\næ€è·¯\né¢„å¤„ç†æ•°ç»„aã€‚\nå¯¹äºå­æ•°ç»„bï¼Œè€ƒè™‘ï¼šå°†æ‰€æœ‰ä¸ä¸º1çš„æ•°å˜æˆ1ï¼Œå°†æ‰€æœ‰çš„1è‡³å°‘å†åŠ 1ã€‚\nè¿™æ ·ç”Ÿæˆçš„æ•°ç»„cæ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚\nå¦‚æœä¸Šè¿°æ“ä½œå¯ä»¥å®ç°æ€»å’Œä¸å˜ï¼Œåˆ™å¯è¡Œã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, q;cin &gt;&gt; n &gt;&gt; q;\n    vector&lt;ll&gt;c(n + 1);c[0] = 0;\n    vector&lt;ll&gt;pc(n + 1);pc[0] = 0;\n    vector&lt;ll&gt;ct(n + 1);ct[0] = 0;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; c[i];\n        pc[i] = c[i] + pc[i - 1];\n        if (c[i] == 1)ct[i] = ct[i - 1] + 1;\n        else ct[i] = ct[i - 1];\n    }\n    while (q--) {\n        ll l, r;cin &gt;&gt; l &gt;&gt; r;\n        if (l == r) {\n            cout &lt;&lt; &quot;NO\\n&quot;;continue;\n        }\n        ll sum = pc[r] - pc[l - 1];\n        ll lr = r - l + 1;\n        lr -= ct[r] - ct[l - 1];    // é1çš„ä¸ªæ•°\n        if (sum - lr &gt;= 2 * (ct[r] - ct[l - 1])) {\n            cout &lt;&lt; &quot;YES\\n&quot;;\n        }\n        else cout &lt;&lt; &quot;NO\\n&quot;;\n    }\n}"},"03-algorithm/cfround927div3":{"slug":"03-algorithm/cfround927div3","filePath":"03-algorithm/cfround927div3.md","title":"ğŸ’­Codeforces Round 927(div3)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Thorns and Coins\né¢˜æ„\né•¿åº¦ä¸ºnçš„å•å…ƒæ ¼è·¯å¾„ï¼Œæ¯ä¸ªå•å…ƒæ ¼æœ‰ç©ºã€æœ‰é‡‘å¸ã€è†æ£˜ä¸‰ç§å¯èƒ½ï¼Œäººç‰©ä»æœ€å·¦è¾¹å¼€å§‹å‘å³ç§»åŠ¨ï¼Œæ¯æ¬¡æ­¥é•¿ä¸å¤šäº2æ ¼ï¼Œæ±‚èƒ½è·å¾—çš„æœ€å¤šé‡‘å¸æ•°ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn(1â‰¤nâ‰¤50)â€‹\n.ä»£è¡¨ç©ºï¼Œ*ä»£è¡¨è†æ£˜ï¼Œ@ä»£è¡¨é‡‘å¸\næ€è·¯\nä»å·¦å¾€å³ï¼Œå¯»æ‰¾ç¬¬ä¸€ä¸ªå«æœ‰2ä¸ªä»¥ä¸Š*çš„*è¿é€šå—ï¼Œå…¶å‰çš„é‡‘å¸éƒ½å¯ä»¥è¾¾åˆ°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    string s;cin &gt;&gt; s;\n    int cnt = 0;\n    bool f = true;\n    for (int i = 0;i &lt; n;i++) {\n        if (s[i] == &#039;@&#039;)cnt++;\n        if (i &gt; 0 &amp;&amp; s[i] == &#039;*&#039; &amp;&amp; s[i - 1] == &#039;*&#039;){\n            break;\n        }\n    }\n    cout &lt;&lt; cnt &lt;&lt; &#039;\\n&#039;;\n}\nB-Chaya Calendar\né¢˜æ„\næŸ¥äºšéƒ¨è½ç›¸ä¿¡ä¸–ç•Œæœ«æ—¥æœ‰nä¸ªå¾å…†ï¼Œç¬¬iä¸ªå¾å…†æ¯éš”a_iå¹´å‡ºç°ä¸€æ¬¡ï¼Œå½“è§‚æµ‹åˆ°ç¬¬i-1ä¸ªå¾å…†åæ‰ä¼šç­‰å¾…ç¬¬iä¸ªå¾å…†ã€‚ç»™å‡ºæ¯ä¸ªå¾å…†çš„å‡ºç°é—´éš”ï¼Œè¯¢é—®è§‚æµ‹åˆ°æ‰€æœ‰nä¸ªå¾å…†æ‰€éœ€è¦çš„å¹´æ•°ã€‚\nps:å½“ç¬¬iä¸ªå¾å…†åœ¨ç¬¬xå¹´è¢«è§‚æµ‹ï¼Œéƒ¨è½ä¼šä»ç¬¬x+1å¹´å¼€å§‹ç­‰å¾…ç¬¬i+1ä¸ªå¾å…†ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn(1â‰¤nâ‰¤100)â€‹\na_i(1\\le a_i\\le 10^6)\næ€è·¯\nç¬¬iä¸ªå¾å…†é—´éš”a_iå¹´å‡ºç°ï¼Œè‹¥ä¸Šä¸€ä¸ªå¾å…†åœ¨ç¬¬xå¹´è¢«è§‚æµ‹ï¼Œåˆ™ä¸‹ä¸€ä¸ªå¾å…†å°†åœ¨ç¬¬y=k\\times a_iå¹´å‡ºç°ï¼ˆx\\lt y\\le x+a_iï¼‰ã€‚ç­‰å¾…çš„æ—¶é—´æ˜¯y-xï¼Œä¹Ÿå°±æ˜¯a_i-x\\text{ }mod\\text{ }a_iå¹´ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    ll sum = 0;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        ll lf = a[i] - sum % a[i];\n        sum += lf;\n    }\n    cout &lt;&lt; sum &lt;&lt; &#039;\\n&#039;;\n}\nC-LR-remainders\né¢˜æ„\næœ‰ä¸€ä¸ªæ•°ç»„aï¼Œä¸€ä¸ªæ­£æ•´æ•°må’Œé•¿åº¦ä¸ºnçš„å‘½ä»¤ï¼ˆç”±Lå’ŒRç»„æˆçš„å­—ç¬¦ä¸²ï¼‰ï¼Œæ¯æ¬¡æ±‚æ•°ç»„ä¸­å‰©ä½™æ•°çš„ç§¯æ¨¡mçš„ä½™æ•°å¹¶è¾“å‡ºï¼Œç„¶åæŒ‰ç…§å‘½ä»¤åˆ æ•°ï¼ˆLåˆ å»æœ€å·¦è¾¹çš„æ•°ï¼ŒRåˆ å»æœ€å³è¾¹çš„æ•°ï¼‰ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn,m(1â‰¤nâ‰¤2\\times 10^5,1\\le m\\le 10^4)â€‹\na_i(1\\le a_i\\le 10^4)\næ€è·¯\nåè¿‡æ¥è€ƒè™‘ï¼Œä»æœ€åä¸€ä¸ªåˆ å»çš„æ•°å¼€å§‹ï¼Œæ¯æ¬¡å¯¹ç§¯ä¹˜ä¸Šä¸Šä¸€æ¬¡è¢«åˆ å»çš„æ•°ï¼Œè®°å½•æ¨¡mçš„å€¼ï¼Œé€†åºè¾“å‡ºã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;int&gt;a(n);\n    for (int i = 0;i &lt; n;i++) { cin &gt;&gt; a[i]; }\n    string s;cin &gt;&gt; s;\n    vector&lt;int&gt;b;\n    int l = 0, r = n - 1;\n    for (int i = 0;i &lt; n;i++) {\n        if (s[i] == &#039;L&#039;)b.push_back(a[l++]);\n        else b.push_back(a[r--]);\n    }\n    ll ans = 1;\n    vector&lt;int&gt;res;\n    reverse(b.begin(), b.end());\n    for (int i = 0;i &lt; n;i++) {\n        ans *= b[i];\n        res.push_back(ans % m);\n        ans %= m;\n    }\n    reverse(res.begin(), res.end());\n    for (int i = 0;i &lt; n;i++) {\n        cout &lt;&lt; res[i] &lt;&lt; &quot; &quot;;\n    }cout &lt;&lt; &#039;\\n&#039;;\n}\nD-Card Game\né¢˜æ„\nçº¸ç‰Œæ¯”å¤§å°æ¸¸æˆï¼Œæœ‰å››ç§èŠ±è‰²Cã€Dã€Hã€Sï¼ŒåŒä¸€ç§èŠ±è‰²ä¹‹é—´æ¯”è¾ƒæ•°å­—ï¼Œæ•°å­—å¤§çš„èƒœå‡ºã€‚åŒæ—¶ï¼Œæ¯å±€æœ‰ä¸€ä¸ªç‹ç‰ŒèŠ±è‰²ï¼Œè¯¥èŠ±è‰²çš„ç‰Œå¯ä»¥æ¯”å‰©ä½™ä¸‰ç§èŠ±è‰²çš„ç‰Œéƒ½å¤§ï¼Œç‹ç‰ŒèŠ±è‰²å’Œç‹ç‰ŒèŠ±è‰²ä¹‹é—´æ¯”è¾ƒæ•°å­—å¤§å°ã€‚\nç»™å‡ºæ‰€æœ‰å·²ç»æ‰“å‡ºçš„ç‰Œï¼Œå°è¯•å¤ç°å¯¹å±€æƒ…å†µï¼ˆç¬¬äºŒä½ç©å®¶å‡»è´¥ç¬¬ä¸€ä½ç©å®¶ï¼‰ï¼›å¦‚æœä¸èƒ½å¤ç°ï¼Œè¾“å‡ºIMPOSSIBLEã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤100)\nn(1\\le n \\le 16)â€‹\næ€è·¯\næ¨¡æ‹Ÿã€‚\nå…ˆå¯¹ä¸åŒèŠ±è‰²çš„ç‰Œåˆ†ç±»ï¼Œç„¶åéå†åŒèŠ±è‰²çš„ç‰Œï¼Œæ’åºåï¼Œå°†éç‹ç‰ŒèŠ±è‰²æ”¾å…¥ä¸€ä¸ªåºåˆ—ï¼Œç‹ç‰ŒèŠ±è‰²å•ç‹¬ä¸€ä¸ªåºåˆ—ã€‚\nä»éç‹ç‰ŒèŠ±è‰²åºåˆ—å¼€å§‹éå†ï¼Œå¦‚æœå½“å‰ç‰Œå’Œå…¶åä¸€ç‰Œæ˜¯åŒä¸€ç§èŠ±è‰²ï¼Œå‡‘æˆä¸€å¯¹å±€ï¼›å¦‚æœä¸æ˜¯ï¼Œç”¨ä¸€å¼ ç‹ç‰ŒèŠ±è‰²å’Œå®ƒå‡‘æˆä¸€ä¸ªå¯¹å±€ã€‚å‡å¦‚å¯ä»¥å‡‘æˆæ‰€æœ‰çš„å¯¹å±€ï¼Œè¾“å‡ºè¿™äº›å¯¹å±€ï¼Œå¦åˆ™ä¸èƒ½æ„æˆå¯¹å±€ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    string w;cin &gt;&gt; w;\n \n    int f = 0;\n    switch (w[0]) {\n    case &#039;S&#039;:f = 3;break;\n    case &#039;H&#039;:f = 2;break;\n    case &#039;D&#039;:f = 1;break;\n    case &#039;C&#039;:f = 0;break;\n    default:break;\n    }\n \n    vector&lt;vector&lt;string&gt;&gt;sp(4);\n    for (int i = 0;i &lt; 2 * n;i++) {\n        string s;cin &gt;&gt; s;\n        if (s[1] == &#039;C&#039;)sp[0].push_back(s);\n        else if (s[1] == &#039;D&#039;)sp[1].push_back(s);\n        else if (s[1] == &#039;H&#039;)sp[2].push_back(s);\n        else sp[3].push_back(s);\n    }\n    vector&lt;string&gt;rk;\n    for (int i = 0;i &lt; 4;i++) {\n        if (i == f)continue;\n        sort(sp[i].begin(), sp[i].end());\n        for (int j = 0;j &lt; sp[i].size();j++)\n            rk.push_back(sp[i][j]);\n    }\n    sort(sp[f].begin(), sp[f].end());\n    for (int j = 0;j &lt; sp[f].size();j++)\n        rk.push_back(sp[f][j]);\n \n    vector&lt;pair&lt;string, string&gt;&gt;ans;\n    int cnt = 0;int p = rk.size() - 1;\n    for (int i = 0;i &lt; p;i++) {\n        if (rk[i][1] == rk[i + 1][1]) {\n            ans.push_back({ rk[i],rk[i + 1] });i++;\n            cnt++;\n        }\n        else {\n            if (f == 0 &amp;&amp; rk[p][1] == &#039;C&#039;) {\n                ans.push_back({ rk[i],rk[p] });p--;\n            }\n            else if (f == 1 &amp;&amp; rk[p][1] == &#039;D&#039;) {\n                ans.push_back({ rk[i],rk[p] });p--;\n            }\n            else if (f == 2 &amp;&amp; rk[p][1] == &#039;H&#039;) {\n                ans.push_back({ rk[i],rk[p] });p--;\n            }\n            else if (f == 3 &amp;&amp; rk[p][1] == &#039;S&#039;) {\n                ans.push_back({ rk[i],rk[p] });p--;\n            }\n            else {\n                cout &lt;&lt; &quot;IMPOSSIBLE\\n&quot;;return;\n            }\n        }\n    }\n    for (int i = 0;i &lt; n;i++) {\n        cout &lt;&lt; ans[i].first &lt;&lt; &quot; &quot; &lt;&lt; ans[i].second &lt;&lt; &#039;\\n&#039;;\n    }\n}\nE-Final Countdown\né¢˜æ„\nå€’è®¡æ—¶ï¼Œä½†æ˜¯æ¯æ¬¡å˜åŒ–æ•°æ‰€éœ€è¦çš„ç§’æ•°ç­‰äºè¦å˜åŒ–çš„æ•°ä½çš„æ•°é‡ã€‚\næ±‚å®é™…ä¸Šéœ€è¦å¤šå°‘ç§’å®Œæˆå€’è®¡æ—¶ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤4\\times 10^5)â€‹\na_i(1\\le a_i\\le 10^4)\næ€è·¯\nè®¡æ•°æ¨¡æ‹Ÿï¼š\n12345\n 1234\n  123\n   12\n    1\n-----+\n13715\nåˆ™å¯¹ä»ç¬¬ä¸€ä½å¼€å§‹åšå‰ç¼€å’Œï¼Œå¯¹(å‰ç¼€å’Œ+è¿›ä½)å€’ç€å–æ¨¡ï¼Œæœ€åè¾“å‡ºå³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    string s;cin &gt;&gt; s;\n    int x = 0;\n    while (s[x] == &#039;0&#039;) {\n        x++;\n    }\n    s = s.substr(x);\n    vector&lt;ll&gt;v;\n    for (int i = 0;i &lt; s.size();i++) {\n        if (i != 0)\n            v.push_back(v.back() + s[i] - &#039;0&#039;);\n        else {\n            v.push_back(s[i] - &#039;0&#039;);\n        }\n    }\n    reverse(v.begin(), v.end());\n    ll k = 0;\n    vector&lt;int&gt;res;\n    for (int i = 0;i &lt; v.size();i++) {\n        res.emplace_back((v[i] + k) % 10);\n        k = (v[i] + k) / 10;\n    }\n    while(k &gt; 0) {\n        res.emplace_back(k % 10);\n        k /= 10;\n    }\n    reverse(res.begin(), res.end());\n    for (int i = 0;i &lt; res.size();i++) {\n        cout &lt;&lt; res[i];\n    }cout &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/cfround929div3":{"slug":"03-algorithm/cfround929div3","filePath":"03-algorithm/cfround929div3.md","title":"ğŸ’­Codeforces Round 929(div3)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Turtle Puzzle: Rearrange and Negate\né¢˜æ„\nå¯¹ä¸€ä¸ªæ•°ç»„æ‰§è¡Œä¸¤ä¸ªæ“ä½œï¼š\n\nå¯¹æ•°ç»„è¿›è¡Œé‡æ–°æ’åºæˆ–ä¿æŒå…ƒç´ é¡ºåºä¸å˜\né€‰æ‹©è¿ç»­çš„ä¸€æ®µï¼Œå¯¹è¯¥æ®µä¸­çš„å…ƒç´ å–ç›¸åæ•°ï¼Œä¹Ÿå¯ä»¥ä¸é€‰æ‹©ä»»ä½•ä¸€æ®µï¼Œå³ä¿æŒæ‰€æœ‰çš„å…ƒç´ ç¬¦å·ä¸å˜ã€‚\n\næ±‚è¿›è¡Œä¸Šè¿°æ“ä½œä¹‹åæ•°ç»„çš„æœ€å¤§å’Œæ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn(1â‰¤nâ‰¤50)â€‹\na_i(-100\\le a_i\\le 100)\næ€è·¯\néå†æ•°ç»„ï¼Œå¯¹æ‰€æœ‰çš„æ•°å–éè´Ÿåç›¸åŠ ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    ll ans = 0ll;\n    for (int i = 0;i &lt; n;i++) {\n        ll x;cin &gt;&gt; x;\n        if (x &lt; 0)ans -= x;\n        else ans += x;\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nB-Turtle Math: Fast Three Task\né¢˜æ„\næœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥å¯¹æ•°ç»„ä¸­çš„æ•°è¿›è¡Œä»»æ„æ¬¡ä¸‹æ–¹ä¸¤ç§æ“ä½œï¼š\n\nå°†æ•°ç§»é™¤\nå°†è¯¥æ•°çš„æ•°å€¼åŠ 1\n\næ±‚è‡³å°‘è¿›è¡Œå¤šå°‘æ¬¡ä¸Šè¿°æ“ä½œï¼Œå¯ä»¥ä½¿æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å’Œæ˜¯3çš„å€æ•°ï¼Ÿ\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤10^5)â€‹\na_i(1\\le a_i\\le 10^4)\næ€è·¯\nç»Ÿè®¡æ•°ç»„aä¸­æ¨¡3ä¸º0ã€1ã€2çš„æ•°é‡å’Œä½™æ•°æ€»å’Œã€‚è®°æ€»å’Œä¸ºsumï¼Œä½™1çš„æ•°é‡ä¸ºxï¼Œä½™2çš„æ•°é‡ä¸ºyã€‚è€ƒè™‘ï¼š\n\nè‹¥sumæ¨¡3ä¸º0ï¼Œåˆ™ä¸éœ€è¦æ“ä½œ\nè‹¥sumæ¨¡3ä¸º2ï¼Œåˆ™ç»™ä»»æ„ä¸€ä¸ªæ•°åŠ 1å³å¯ï¼Œæ“ä½œ1æ¬¡ã€‚\nè‹¥sumæ¨¡3ä¸º1ï¼Œè‹¥æœ‰ä½™1çš„æ•°ï¼Œåˆ™å»æ‰è¿™ä¸ªæ•°å³å¯ï¼Œå¦åˆ™è¿›è¡Œä¸¤æ¬¡åŠ 1æ“ä½œã€‚\n\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;aa(n);\n    ll ans = 0;\n    ll x = 0, y = 0;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; aa[i];\n        aa[i] %= 3;\n        ans += aa[i];\n        if (aa[i] == 1)x++;\n        else if (aa[i] == 2)y++;\n    }\n    if (ans%3 == 0) {\n        cout&lt;&lt;0&lt;&lt;&#039;\\n&#039;;\n    }\n    else if (ans % 3 == 2) {\n        cout &lt;&lt; 1 &lt;&lt; &#039;\\n&#039;;\n    }\n    else {\n        if (x &gt; 0)cout &lt;&lt; 1 &lt;&lt; &#039;\\n&#039;;\n        else cout &lt;&lt; 2 &lt;&lt; &#039;\\n&#039;;\n    }\n}\nC-Turtle Fingers: Count the Values of k\né¢˜æ„\nç»™3ä¸ªæ­£æ•´æ•°a,b,lï¼Œæ‰¾å‡ºæ»¡è¶³l=k\\times a^x\\times b^yçš„kçš„ä¸ªæ•°ï¼Œk,x,yå‡ä¸ºéè´Ÿæ•´æ•°ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\na,b,l(2\\le a,b\\le 100,1\\le l\\le 10^6)\næ€è·¯\n2^{20}\\gt 10^6ï¼Œå¯çŸ¥ï¼Œx,yçš„èŒƒå›´ä¸è¶…è¿‡20ã€‚\né¢„å¤„ç†a^xå’Œb^yï¼Œç„¶åæš´åŠ›éå†å³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll a, b, l;cin &gt;&gt; a &gt;&gt; b &gt;&gt; l;\n    vector&lt;ll&gt;ax, by;\n    ax.push_back(1);by.push_back(1);\n    for (int i = 1;ax.back() &lt;= l;i++) {\n        ax.push_back(ax.back() * a);\n    }\n    for (int i = 1;by.back() &lt;= l;i++) {\n        by.push_back(by.back() * b);\n    }\n    set&lt;ll&gt;k;\n    for (int i = 0;i &lt; ax.size();i++) {\n        for (int j = 0;j &lt; by.size();j++) {\n            if (l%(ax[i] * by[j]) == 0) {\n                k.insert(l/(ax[i] * by[j]));\n            }\n        }\n    }\n    cout &lt;&lt; k.size() &lt;&lt; &#039;\\n&#039;;\n}\nD-Turtle Tenacity: Continual Mods\né¢˜æ„\nç»™æ•°ç»„aé‡æ–°æ’åºï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ’åºä½¿å¾—a_1 \\text{ }mod\\text{ } a_2 \\text{ }mod\\text{ } a_3\\dots a_{n-1}\\text{ }mod\\text{ }a_n=0ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(2â‰¤nâ‰¤10^5)\na_i(1\\le a_i\\le 10^9)\næ€è·¯\næ€è€ƒx\\text{ }mod\\text{ }y\n\nå¦‚æœx\\lt yï¼Œåˆ™ç»“æœè¿˜æ˜¯x\nå¦‚æœx=yâ€‹ï¼Œåˆ™ç»“æœæ˜¯0\n\nå¦‚æœæœ€å°çš„æ•°æ˜¯å”¯ä¸€çš„ï¼Œåˆ™ä¸€å®šæœ‰è§£ï¼›å¦‚æœæœ€å°çš„æ•°ä¸å”¯ä¸€ï¼Œè€ƒè™‘æ˜¯å¦æœ‰è¾ƒå¤§çš„æ•°zä½¿å¾—z\\text{ }mod\\text{ }xâ‰ 0ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™æœ‰æ›´å°çš„å”¯ä¸€æœ€å°å€¼ï¼Œå¯ä»¥æœ‰è§£ï¼Œå¦åˆ™æ— è§£ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    sort(a.begin(), a.end());\n    if (a[0] != a[1]) {\n        cout &lt;&lt; &quot;YES\\n&quot;;\n        return;\n    }\n    for (int i = 1;i &lt; n;i++) {\n        if (a[i] % a[0] != 0) {\n            cout &lt;&lt; &quot;YES\\n&quot;;\n            return;\n        }\n    }\n    cout &lt;&lt; &quot;NO\\n&quot;;\n}\nE-Turtle vs. Rabbit Race: Optimal Trainings\né¢˜æ„\nè®­ç»ƒé‡kæ˜¯è¿ç»­ä¸€æ®µæ—¶é—´çš„æ¯å¤©çš„è®­ç»ƒé‡çš„æ€»å’Œï¼Œæ¯æ¬¡è®­ç»ƒçš„æé«˜å€¼uæŒ‰ç…§è®­ç»ƒæ¬¡æ•°é€’å‡ï¼ˆç¬¬1æ¬¡uï¼Œç¬¬2æ¬¡u-1ï¼Œç¬¬3æ¬¡u-2ï¼Œâ€¦ï¼Œç¬¬kæ¬¡u-k+1ï¼Œï¼Œæé«˜å€¼å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰ï¼Œæ¯æ¬¡ç»™å®šä¸€ä¸ªèµ·å§‹æ—¥lå’Œæé«˜å€¼uï¼Œå¯»æ‰¾ä¸€ä¸ªæœ€ä½³çš„ç»“æŸæ—¥rï¼Œä½¿å¾—è®­ç»ƒæé«˜å€¼æ€»å’Œæœ€é«˜ï¼Œå¦‚æœæœ‰å¤šä¸ªrçš„ç»“æœæä¾›æœ€é«˜è®­ç»ƒå€¼ï¼Œé€‰rè¾ƒå°çš„é‚£ä¸ªã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤10^5)\na_i(1\\le a_i\\le 10^4)\nq(1\\le q\\le 10^5)\nl,u(1\\le l\\le n,1\\le u \\le 10^9)\næ€è·¯\nè®­ç»ƒæé«˜å€¼æ€»é‡Sä¸è®­ç»ƒé‡kä¹‹é—´çš„å…³ç³»æ˜¯S(k)=u\\times k-\\frac{k\\times (k-1)}{2}ï¼Œæ˜¯ä¸€ä¸ªå…³äºkå…ˆå¢åå‡çš„å‡½æ•°ï¼Œæœ€é«˜å€¼åœ¨k=u+0.5å¤„å–åˆ°ï¼Œç”±äºkä¸ºæ•´æ•°ï¼ŒS(k)çš„æœ€é«˜å€¼åº”è¯¥åœ¨uå’Œu+1å¤„å–åˆ°ã€‚\n\nåœ¨å¯¹ç§°è½´å·¦è¾¹ï¼ŒäºŒåˆ†æŸ¥æ‰¾åœ¨[l,u]çš„èŒƒå›´å†…æœ€é è¿‘uçš„kçš„å–å€¼ï¼Œå³å°äºç­‰äºuçš„æœ€åä¸€ä¸ªkå€¼ã€‚\nåœ¨å¯¹ç§°è½´å³è¾¹ï¼ŒäºŒåˆ†æŸ¥æ‰¾[u+1,n]çš„èŒƒå›´å†…æœ€é è¿‘u+1çš„kå€¼ï¼Œå³å¤§äºç­‰äºu+1çš„ç¬¬ä¸€ä¸ªkå€¼ã€‚\n\nkå€¼å¯ä»¥é€šè¿‡å‰ç¼€å’Œè¿›è¡Œç­›é€‰ï¼Œk=pre[r]-pre[l-1]ï¼Œåˆ™å¯¹preæ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾u+pre[l-1]å’Œu+1+pre[l-1]å³å¯ã€‚\nå¯¹æ¯”è¿™ä¸¤ä¸ªå€¼å¯¹åº”çš„S(k)å’Œrï¼Œä»¥åŠåªåœ¨lé‚£å¤©è®­ç»ƒçš„æ•ˆæœï¼Œæ‹©ä¼˜é€‰æ‹©ã€‚\nå‚è€ƒä»£ç \nll f(ll u, ll k) {\n    return k * u - k * (k - 1) / 2;\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n + 1);\n    vector&lt;ll&gt;pre(n + 1);\n    pre[0] = 0;a[0] = 0;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n        pre[i] = pre[i - 1] + a[i];\n    }\n    int q;cin &gt;&gt; q;\n    while (q--) {\n        ll l, u;cin &gt;&gt; l &gt;&gt; u;\n        ll x = pre[l - 1];\n        int ru = upper_bound(pre.begin() + l, pre.end(), x + u) - pre.begin() - 1;\n        ll ans = a[l], ansr = l;\n        if (ru &gt;= l &amp;&amp; ru &lt;= n) {\n            if (f(u, pre[ru] - x) &gt; ans) {\n                ans = f(u, pre[ru] - x);\n                ansr = ru;\n            }\n        }\n        int ru1 = lower_bound(pre.begin() + l, pre.end(), x + u + 1) - pre.begin();\n        if (ru1 &gt;= l, ru1 &lt;= n) {\n            if (f(u, pre[ru1] - x) &gt; ans) {\n                ans = f(u, pre[ru1] - x);\n                ansr = ru1;\n            }\n        }\n        cout &lt;&lt; ansr &lt;&lt; &#039; &#039;;\n    }\n    cout &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/cfround930div2":{"slug":"03-algorithm/cfround930div2","filePath":"03-algorithm/cfround930div2.md","title":"ğŸ’­Codeforces Round 930(div2)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Shuffle Party\né¢˜æ„\nå¯¹ä¸€ä¸ªæ•°ç»„ï¼Œèµ·åˆæ˜¯a_i=i\nå¯¹æ“ä½œswap(k)ï¼š\nè®¾dæ˜¯ä¸ç­‰äºkæœ¬èº«çš„kçš„æœ€å¤§é™¤æ•°ï¼Œç„¶åäº¤æ¢å…ƒç´ a_då’Œa_kã€‚\næŒ‰é¡ºåºå¯¹æ¯ä¸€ä¸ªi=2,3,..,nè¿›è¡Œswap(i)ä¹‹åï¼Œæ‰¾å‡º1åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤10^9)â€‹\næ€è·¯\nç®€å•æ¨¡æ‹Ÿä¹‹åå¯ä»¥å‘ç°ï¼Œa_1=1æœ€åä¼šæŒªåˆ°ä¸å¤§äºnçš„æœ€å¤§2çš„æ¬¡å¹‚å¤„ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    vector&lt;ll&gt;p;\n    ll x = 1;\n    while (x &lt;= 1e9) {\n        p.push_back(x);\n        x *= 2;\n    }\n    int t;cin &gt;&gt; t;\n    while(t--){\n        ll n;cin &gt;&gt; n;\n        ll ans = upper_bound(p.begin(), p.end(), n) - p.begin();\n        cout &lt;&lt; p[ans - 1] &lt;&lt; endl;\n    }\n}\nB-Binary Path\né¢˜æ„\nä¸€ä¸ª2\\times nç½‘æ ¼ï¼Œç½‘æ ¼å……æ»¡0,1ï¼Œæ‰¾ä¸€æ¡ä»(1,1)èµ°åˆ°(2,n)çš„è·¯å¾„ï¼Œè¦æ±‚æ‰¾åˆ°å­—å…¸åºæœ€å°çš„è·¯å¾„å¹¶æ‰¾åˆ°è¿™ä¸ªæœ€å°è·¯å¾„çš„è·¯å¾„æ•°ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(2â‰¤nâ‰¤2\\times 10^5)â€‹\næ€è·¯\nè·¯å¾„çš„ç»„æˆæ˜¯ç¬¬ä¸€è¡Œçš„å‰éƒ¨åˆ†+ç¬¬äºŒè¡Œçš„åéƒ¨åˆ†ï¼Œé•¿åº¦æ˜¯n+1ã€‚å¯¹ä»ç¬¬ä¸€è¡Œåˆ°ç¬¬äºŒè¡Œçš„è½¬æŠ˜çš„ä½ç½®è¿›è¡Œæšä¸¾ï¼Œå‡è®¾å¾€åä¸€ä½å¯ä»¥è·å¾—å­—å…¸åºæ›´å°çš„åˆ™é‡æ–°è®¡æ•°ï¼Œè‹¥ç›¸åŒåˆ™ç´¯è®¡è·¯å¾„æ•°ï¼Œè‹¥ä¸åŒåˆ™ä»£è¡¨æ²¡æœ‰æ›´å¥½çš„è·¯å¾„ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;string&gt;s(2);\n    cin &gt;&gt; s[0] &gt;&gt; s[1];\n    string st = s[0] + s[1];\n    ll cnt = 1;\n    ll ix = 2;\n    for (int i = 2;i + n - 2 &lt; 2 * n - 1;i++) {\n        ll j = i + n - 2;//[i,j]\n        if (st[i - 1] == &#039;0&#039; &amp;&amp; st[j] == &#039;1&#039;) {\n            cnt = 1;\n            ix = i;\n        }\n        else if (st[i - 1] == st[j]) {\n            cnt++;\n        }\n        else {\n            break;\n        }\n    }\n \n    string res = st.substr(0, ix) + st.substr(ix + n - 1);\n    string res1 = s[0][0] + s[1];\n    if (res1 &lt; res)res = res1;\n \n    cout &lt;&lt; res &lt;&lt; &#039;\\n&#039;;\n    cout &lt;&lt; cnt &lt;&lt; &#039;\\n&#039;;\n}\nC-Bitwise Operation Wizard\né¢˜æ„\näº¤äº’é¢˜ã€‚\nå¯¹ä¸€ä¸ªç¥ç§˜åºåˆ—p_0,p_1,...,p_{n-1}ï¼ˆæ˜¯\\{0,1,...,n-1\\}çš„æ’åˆ—ç»„åˆï¼‰ã€‚æˆ‘ä»¬é€šè¿‡è¯¢é—®éœ€è¦è·å¾—p_i\\oplus p_jæœ€å¤§çš„ä¸€ä¸ª(i,j)å¯¹ã€‚\næ¯æ¬¡è¯¢é—®ä»»æ„ç´¢å¼•(a,b,c,d)è¯„å®¡å›¢è®¡ç®—x=(p_a|p_b)å’Œy=(p_c|p_d)ï¼Œå¹¶å‘ŠçŸ¥æ˜¯x\\lt y,x\\gt yè¿˜æ˜¯x=yã€‚æœ€å¤šä½¿ç”¨3nä¸ªæŸ¥è¯¢ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn(2â‰¤nâ‰¤10^4)â€‹\næ€è·¯\nå…ˆä¸¤ä¸¤æ¯”è¾ƒæ‰¾åˆ°æœ€å¤§çš„æ•°ï¼Œå†æ‰¾åˆ°ä¸æœ€å¤§çš„æ•°å¼‚æˆ–çš„ç»“æœæœ€å¤§çš„å¦ä¸€ä¸ªæ•°ã€‚\nå‚è€ƒä»£ç \nchar r;\nchar ask(int a, int b, int c, int d) {\n    cout &lt;&lt; &quot;? &quot; &lt;&lt; a &lt;&lt; &#039; &#039; &lt;&lt; b &lt;&lt; &#039; &#039; &lt;&lt; c &lt;&lt; &#039; &#039; &lt;&lt; d &lt;&lt; endl;\n    cin &gt;&gt; r;\n    return r;\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    int pm = 0;\n    // æ‰¾n-1\n    for (int i = 1;i &lt; n;i++) {\n        if (ask(pm, pm, i, i) == &#039;&lt;&#039;) {\n            pm = i;\n        }\n    }\n    // å¦ä¸€ä¸ªæ•°pnï¼šä¸pmå–æˆ–å¤§äºpmçš„æœ€å°å€¼\n    int pn = 0;\n    for (int i = 1;i &lt; n;i++) {\n        ask(pm, i, pm, pn);\n        if (r == &#039;&gt;&#039;) {\n            pn = i;\n        }\n        else if (r == &#039;=&#039; &amp;&amp; ask(i, i, pn, pn) == &#039;&lt;&#039;) {\n            pn = i;\n        }\n    }\n    cout &lt;&lt; &quot;! &quot; &lt;&lt; pm &lt;&lt; &quot; &quot; &lt;&lt; pn &lt;&lt; endl;\n}"},"03-algorithm/cfround931div2":{"slug":"03-algorithm/cfround931div2","filePath":"03-algorithm/cfround931div2.md","title":"ğŸ’­Codeforces Round 931(div2)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Too Min Too Max\né¢˜æ„\nå¯¹ä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾åˆ°ç´¢å¼•(i,j,k,l)ä½¿å¾—|a_i-a_j|+|a_j-a_k|+|a_k-a_l|+|a_l-a_i|æœ€å¤§çš„å€¼ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤500)\nn(4â‰¤nâ‰¤100)â€‹\na_i(-10^6\\le a_i\\le 10^6)\næ€è·¯\né€‰åˆ™æœ€å¤§çš„ä¸¤ä¸ªæ•°å’Œæœ€å°çš„ä¸¤ä¸ªæ•°ï¼Œç»“æœä¸ºæœ€å¤§-æœ€å°+æ¬¡å¤§-æœ€å°+æœ€å¤§-æ¬¡å°+æ¬¡å¤§-æ¬¡å°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++)\n        cin &gt;&gt; a[i];\n    sort(a.begin(), a.end());\n    cout &lt;&lt; a[n - 1] - a[0] + a[n - 2] - a[0] + a[n - 1] - a[1] + a[n - 2] - a[1] &lt;&lt; &#039;\\n&#039;;\n}\nB-Yet Another Coin Problem\né¢˜æ„\næœ‰ä¸€äº›5ç§ä¸åŒé¢å€¼çš„é‡‘å¸ï¼Œé¢å€¼æœ‰ï¼š1,3,6,10,15ã€‚æ‰¾åˆ°ä½¿ç”¨é‡‘å¸æ•°ç›®æœ€å°‘çš„ç»„åˆæ–¹å¼è¾¾åˆ°æ•°å€¼ä¸ºnçš„ç»„åˆã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤10^9)â€‹\næ€è·¯\næ‰“è¡¨ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;p = { 0,\n    1,2,1,2,3,1,2,3,2,1,\n    2,2,2,3,1,2,3,2,3,2,\n    2,3,3,3,2,3,3,3,4,2\n    };\n    ll ans = n / 15 + p[n % 15];\n    if (n / 15 &gt; 0)\n        ans = min(ans, n / 15 - 1 + p[n % 15 + 15]);\n    cout &lt;&lt; ans &lt;&lt; endl;\n \n}\nC-Find a Mine\né¢˜æ„\näº¤äº’é¢˜ã€‚\nn\\times mçš„åœ°å›¾æœ‰ä¸¤ä¸ªåœ°é›·ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªåæ ‡ç‚¹ï¼Œè¯„å®¡æœºä¼šè¿”å›è·ç¦»è¯¢é—®ç‚¹æœ€è¿‘çš„åœ°é›·çš„ä¸è¯¢é—®ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤3\\times 10^3)\nn,m (2â‰¤nâ‰¤10^8,2\\le m\\le 10^8)â€‹\næ€è·¯\nç¬¬ä¸€æ¬¡è¯¢é—®å¯ä»¥è·å¾—ä¸€æ¡æ–œçº¿ï¼Œæ–œçº¿ä¸Šè‡³å°‘æœ‰ä¸€ä¸ªåœ°é›·ã€‚\nç¬¬äºŒæ¬¡è¯¢é—®å¯èƒ½å¯ä»¥æ‰¾åˆ°æ­£å¥½ä¸€ä¸ªäº¤ç‚¹ï¼Œè¿™ä¸ªäº¤ç‚¹å¯èƒ½æ­£å¥½æ˜¯åœ°é›·æˆ–è€…æ˜¯ä¸¤ä¸ªåœ°é›·çš„è¡Œåˆ—åºå·çš„ç»„åˆã€‚å†åšç¬¬ä¸‰æ¬¡è¯¢é—®ï¼Œå¾—åˆ°ä¸¤ä¸ªäº¤ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åœ°é›·ã€‚ç¬¬å››æ¬¡è¯¢é—®å³å¯æ’é™¤ã€‚\nå‚è€ƒä»£ç \nbool f = false;\n \nint ask(int x, int y) {\n    cout &lt;&lt; &quot;? &quot; &lt;&lt; x &lt;&lt; &#039; &#039; &lt;&lt; y &lt;&lt; endl;\n    int res;cin &gt;&gt; res;\n    if (res == 0) {\n        cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; &#039; &#039; &lt;&lt; y &lt;&lt; endl;\n        f = true;\n    }\n \n    return res;\n}\n \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    f = false;\n \n    int x1 = ask(1, 1);\n    if (f) { return; }\n \n    int x2 = ask(1, m);\n    if (f) { return; }\n \n    int x3 = ask(n, 1);\n    if (f) { return; }\n \n    int x, y;\n    if (x2 + x3 == n + m - 2) {\n        // åŒä¸€æ¡æ–œçº¿\n        y = (x1 + x3 - n + 1) / 2;\n        x = x1 - y;\n        x += 1;y += 1;\n        cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; &#039; &#039; &lt;&lt; y &lt;&lt; endl;\n        return;\n    }\n    else if ((n + m - x2 - x3) % 2 != 0) {\n        // æœ‰ä¸€ä¸ªäº¤ç‚¹\n        if ((x1 + x2 - m + 1) % 2 == 0) {\n            x = (x1 + x2 - m + 1) / 2;\n            y = x1 - x;\n            x += 1;y += 1;\n            cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; &#039; &#039; &lt;&lt; y &lt;&lt; endl;\n        }\n        else {\n            y = (x1 + x3 - n + 1) / 2;\n            x = x1 - y;\n            x += 1;y += 1;\n            cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; endl;\n        }\n \n        return;\n    }\n \n    y = (x1 + x3 - n + 1) / 2;\n    x = x1 - y;\n    x += 1;y += 1;\n \n    if (x &lt; 1 || x &gt; n || y &lt; 1 || y &gt; m) {\n        f = true;\n    }\n    if (!f) {\n        int x4 = ask(x, y);\n        if (f) { return; }\n    }\n \n    x = (x1 + x2 - m + 1) / 2;\n    y = x1 - x;\n    x += 1;y += 1;\n    cout &lt;&lt; &quot;! &quot; &lt;&lt; x &lt;&lt; &#039; &#039; &lt;&lt; y &lt;&lt; endl;\n}"},"03-algorithm/cfround932div2":{"slug":"03-algorithm/cfround932div2","filePath":"03-algorithm/cfround932div2.md","title":"ğŸ’­Codeforces Round 932(div2)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Entertainment in MAC\né¢˜æ„\nå¯ä»¥å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œä¸¤ç§æ“ä½œï¼š\n\nå°†å­—ç¬¦ä¸²åè½¬\nå°†è¯¥å­—ç¬¦ä¸²åè½¬åæ¥åœ¨åŸä¸²çš„åé¢ã€‚\n\nå¯ä»¥è¿›è¡Œä»»æ„æ¬¡ä¸Šè¿°æ“ä½œï¼Œè·å¾—å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤500)\nn(2â‰¤nâ‰¤10^9)â€‹\ns(1\\le |s|\\le 100)\næ€è·¯\nå¯¹æ¯”åè½¬å‰åçš„å­—ç¬¦ä¸²å­—å…¸åºå¤§å°ï¼Œå†å†³å®šæ˜¯æ“ä½œ1è¿˜æ˜¯æ“ä½œ2\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    string s;cin &gt;&gt; s;\n    string t = s;\n    reverse(t.begin(), t.end());\n    if (s &gt; t) {\n        cout &lt;&lt; t &lt;&lt; s &lt;&lt; endl;\n    }\n    else {\n        cout &lt;&lt; s &lt;&lt; endl;\n    }\n}\nB-Informatics in MAC\né¢˜æ„\nMEXï¼šä¸å±äºè¯¥æ•°ç»„çš„æœ€å°éè´Ÿæ•´æ•°ã€‚\nå¯¹ä¸€ä¸ªæ•°ç»„åˆ†æˆkä¸ªå­æ®µï¼Œè¦æ±‚æ¯æ®µçš„MEXéƒ½ç­‰äºç›¸åŒçš„æ•°ã€‚\næ‰¾åˆ°è¿™æ ·çš„å­æ®µåˆ†æ³•ï¼Œæˆ–è€…æŠ¥å‘Šä¸å­˜åœ¨åˆæ³•çš„åˆ†æ³•ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(2â‰¤nâ‰¤10^5)â€‹\na_i(0\\le a_i\\lt n)\næ€è·¯\nå‡è®¾MEX=2ï¼Œåˆ™åˆ†æˆkæ®µçš„æ–¹å¼ä¸ºå‰k-1æ®µåªè¦éƒ½å‡ºç°è¿‡0,1å°±è¿›è¡Œåˆ†æ®µï¼Œæœ€åä¸€æ®µä¿è¯å«0,1å’Œè¾¾åˆ°ç¬¬nä¸ªæ•°ã€‚\nç¡®å®šMEXï¼šéå†æ•°ç»„aï¼Œæ‰¾åˆ°æœ€å°çš„æ²¡æœ‰å‡ºç°è¿‡çš„æ•°ï¼ˆè¯¥æ•°ä¸å¤§äºnï¼‰ï¼Œè¯¥æ•°å³ä¸ºMEXã€‚\nå‚è€ƒä»£ç \n// MEX:ä¸å±äºè¯¥æ•°ç»„çš„æœ€å°éè´Ÿæ•´æ•°\n \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n + 1);\n    vector&lt;bool&gt;ck(n + 1, false);\n    for (int i = 1;i &lt;= n;i++) {\n        ll x;cin &gt;&gt; x;\n        a[i] = x;\n        ck[x] = true;\n    }\n \n    bool f = false;\n    int y = -1;\n    for (int i = 0;i &lt; n;i++) {\n        if (ck[i] == false) {\n            y = i;\n            f = true;\n            break;\n        }\n    }\n \n    if (!f) {\n        cout &lt;&lt; -1 &lt;&lt; endl;\n        return;\n    }\n \n    // MEX=y\n    // cout &lt;&lt; y &lt;&lt; endl;\n    if (y == 0) {\n        cout &lt;&lt; n &lt;&lt; endl;\n        for (int i = 1;i &lt;= n;i++) {\n            cout &lt;&lt; i &lt;&lt; &#039; &#039; &lt;&lt; i &lt;&lt; endl;\n        }\n        return;\n    }\n \n    int p = 1;\n    int cnt = 0;\n    vector&lt;pair&lt;int, int&gt;&gt;ans;\n    vector&lt;bool&gt;hs(y, false);\n    vector&lt;bool&gt;hsf(y, false);\n    for (int i = 1;i &lt;= n;i++) {\n        if (a[i] &lt; y &amp;&amp; !hs[a[i]]) {\n            hs[a[i]] = true;\n            cnt++;\n        }\n        if (cnt == y) {\n            ans.push_back({ p, i });\n            p = i + 1;\n            cnt = 0;\n            // ä¼šä¸ä¼šTle\n            hs = hsf;\n        }\n    }\n \n    if (ans.size() == 1) {\n        cout &lt;&lt; -1 &lt;&lt; endl;\n        return;\n    }\n \n    cout &lt;&lt; ans.size() &lt;&lt; endl;\n    for (int i = 0;i &lt; ans.size();i++) {\n        if (i != ans.size() - 1)\n            cout &lt;&lt; ans[i].first &lt;&lt; &quot; &quot; &lt;&lt; ans[i].second &lt;&lt; endl;\n        else {\n            cout &lt;&lt; ans[i].first &lt;&lt; &quot; &quot; &lt;&lt; n &lt;&lt; endl;\n        }\n    }\n \n}\nD-Exam in MAC\né¢˜æ„\næœ‰ä¸€ä¸ªé›†åˆsã€‚\næ‰¾åˆ°æ»¡è¶³0\\le x\\le y\\le cä¸”x+yå’Œy-xå‡ä¸åŒ…å«åœ¨é›†åˆsä¸­çš„æ•´æ•°å¯¹(x,y)çš„ä¸ªæ•°ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤2\\times 10^4)\nn(1â‰¤nâ‰¤3\\times 10^5)â€‹\nc(1\\le c\\le 10^9)\næ€è·¯\nå®¹æ–¥ã€‚\nåˆæ ¼çš„æ•´æ•°å¯¹=æ»¡è¶³x+y\\in s+æ»¡è¶³y-x\\in s-æ—¢æ»¡è¶³x+y\\in såˆæ»¡è¶³y-x\\in sã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, c;cin &gt;&gt; n &gt;&gt; c;\n    ll tot = (c + 1) * (c + 2) / 2;\n    ll cnt0 = 0, cnt1 = 0;\n    for (ll i = 0;i &lt; n;i++) {\n        ll x;cin &gt;&gt; x;\n        tot -= x / 2 + 1;\n        tot -= c + 1 - x;\n        if (x &amp; 1)cnt1++;\n        else cnt0++;\n    }\n    tot += (cnt0 + 1) * cnt0 / 2 + cnt1 * (cnt1 + 1) / 2;\n    cout &lt;&lt; tot &lt;&lt; endl;\n}"},"03-algorithm/cfround933div3":{"slug":"03-algorithm/cfround933div3","filePath":"03-algorithm/cfround933div3.md","title":"ğŸ’­Codeforces Round 933(div3)","links":[],"tags":["ç®—æ³•","CF"],"content":"A-Rudolf and the Ticket\né¢˜æ„\nå·¦è¾¹å£è¢‹æœ‰ä¸€äº›é¢å€¼ä¸ºb_1,b_2,b_3,...,b_nçš„ç¡¬å¸ï¼Œå³è¾¹æœ‰ä¸€äº›é¢å€¼ä¸ºc_1,c_2,c_3,...,c_mçš„ç¡¬å¸ï¼Œé—®æœ‰å¤šå°‘ä¸ª(f,s)å¯ä»¥ä½¿å¾—b_f+c_s\\le kæˆç«‹\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤100)\nn,m(1â‰¤n,mâ‰¤100)\nk(1\\le k\\le 2000)\nb_i,c_i(1\\le b_i,c_i\\le 1000)\næ€è·¯\nåŒå±‚å¾ªç¯éå†\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m, k;cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    vector&lt;ll&gt;b(n), c(m);\n    for (ll i = 0; i &lt; n; i++) cin &gt;&gt; b[i];\n    for (ll i = 0; i &lt; m; i++) cin &gt;&gt; c[i];\n    ll ans = 0;\n    sort(b.begin(), b.end());\n    sort(c.begin(), c.end());\n    for (ll i = 0;i &lt; n;i++) {\n        for (ll j = 0;j &lt; m;j++) {\n            if (b[i] + c[j] &lt;= k) {\n                ans++;\n            }\n            else { break; }\n        }\n    }\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nB-Rudolf and 121\né¢˜æ„\nå¯ä»¥å¯¹ä¸€ä¸ªæ•°ç»„æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š\né€‰ä¸­ä¸€ä¸ªç´¢å¼•i(2\\le i\\le n-1)ï¼š\n\na_{i-1}=a_{i-1}-1\na_i=a_i-2\na_{i+1}=a_{i+1}-1â€‹\n\nè¯¢é—®æ˜¯å¦å¯ä»¥é€šè¿‡è¿™ä¸ªè¿ç®—ä½¿å¾—æ‰€æœ‰å…ƒç´ å˜ä¸º0\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(3â‰¤nâ‰¤2\\times 10^5)â€‹\na_i(0\\leq a_i\\le 10^9)\næ€è·¯\nä»å·¦å‘å³éå†ï¼Œè‹¥æœ‰å¤§äº0çš„æ•°åˆ™å¯¹å…¶è¿›è¡Œç½®é›¶ï¼Œä¸”æ›´æ–°å…¶åä¸€ä½å’Œä¸¤ä½çš„æ•°å€¼ï¼Œç›´åˆ°å‡ºç°è´Ÿæ•°æˆ–æ— æ³•æ‰§è¡Œä¸ºæ­¢ã€‚æ£€æŸ¥æ“ä½œåçš„aæ•°ç»„æ˜¯å¦ç¬¦åˆè¦æ±‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    for (ll i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    for (ll i = 0;i &lt; n;i++) {\n        if (a[i] &lt; 0) {\n            cout &lt;&lt; &quot;NO\\n&quot;; return;\n        }\n        if (a[i] &gt; 0) {\n            if(i+2&lt;n){\n                a[i + 1] -= 2 * a[i];\n                a[i + 2] -= a[i];\n                a[i] = 0;\n            }\n            else {\n                cout &lt;&lt; &quot;NO\\n&quot;;return;\n            }\n        }\n    }\n    cout &lt;&lt; &quot;YES\\n&quot;;\n}\nC-Rudolf and the Ugly String\né¢˜æ„\nå¯¹å­—ç¬¦ä¸²sï¼Œè¯¢é—®è‡³å°‘éœ€è¦å¤šå°‘æ¬¡åˆ é™¤å­—ç¬¦çš„æ“ä½œå¯ä»¥ä½¿å¾—å­—ç¬¦ä¸²ä¸­æ²¡æœ‰å­æ®µmapå’Œpieã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn(1â‰¤nâ‰¤10^6)â€‹\næ€è·¯\nå…ˆæŸ¥è¯¢å­æ®µmapieçš„æ•°é‡ï¼Œå¹¶åˆ å»å­—ç¬¦pï¼Œå†å¯¹å‰©ä¸‹çš„å­—ç¬¦ä¸²ä¸­å­˜åœ¨çš„mapå’Œpieè¿›è¡Œè®¡æ•°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    string s;cin &gt;&gt; s;\n    int p = s.find(&quot;mapie&quot;);\n    ll cnt = 0;\n    while (p != -1) {\n        s[p + 2] = &#039;x&#039;;\n        p = s.find(&quot;mapie&quot;, p + 1);\n        cnt++;\n    }\n    p = s.find(&quot;map&quot;);\n    while (p != -1) {\n        s[p + 2] = &#039;x&#039;;\n        p = s.find(&quot;map&quot;, p + 1);\n        cnt++;\n    }\n    p = s.find(&quot;pie&quot;);\n    while (p != -1) {\n        s[p] = &#039;x&#039;;\n        p = s.find(&quot;pie&quot;, p + 1);\n        cnt++;\n    }\n    cout &lt;&lt; cnt &lt;&lt; endl;\n}\nD-Rudolf and the Ball Game\né¢˜æ„\næ‰”çƒæ¸¸æˆï¼Œnä¸ªäººå›´æˆä¸€åœˆï¼Œæ¯æ¬¡çƒå¯ä»¥é€‰æ‹©é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆä¼ çƒr_i(1\\le r_i \\le n-1)ä¸ªå•ä½ï¼Œå·²çŸ¥èµ·å§‹çƒçš„ä½ç½®å’Œæ¯æ¬¡ä¼ é€’çš„è·ç¦»ï¼Œä»¥åŠéƒ¨åˆ†æ—¶åˆ»ä¼ çƒçš„æ–¹å‘ã€‚è¯¢é—®æœ€åçƒåˆ°äº†è°çš„æ‰‹ä¸Šã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤10^4)\nn,m(1â‰¤nâ‰¤1000,1\\le m\\le 1000)\nx(1\\le x\\le n)â€‹\nr_i(1\\le r_i\\le n-1)\næ€è·¯\næŒ‰é¢˜æ„æ¨¡æ‹Ÿå³å¯ï¼Œæ¯æ¬¡è®°å½•çƒçš„æ‰€æœ‰å¯èƒ½ä½ç½®ï¼Œå¹¶æ›´æ–°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m, x;cin &gt;&gt; n &gt;&gt; m &gt;&gt; x;\n    set&lt;ll&gt;xi;\n    xi.insert(x);\n    for (ll i = 0;i &lt; m;i++) {\n        ll r;string c;cin &gt;&gt; r &gt;&gt; c;\n        if (c == &quot;?&quot;) {\n            set&lt;ll&gt;yi;\n            for (auto j : xi) {\n                ll b1 = (j + r) % n, b2 = (j - r + n) % n;\n                if (b1 == 0) b1 = n;\n                if (b2 == 0) b2 = n;\n                yi.insert(b1);yi.insert(b2);\n            }\n            xi = yi;\n        }\n        else if (c == &quot;1&quot;) {\n            set&lt;ll&gt;yi;\n            for (auto j : xi) {\n                ll b1 = (j - r + n) % n;\n                if (b1 == 0) b1 = n;\n                yi.insert(b1);\n            }\n            xi = yi;\n        }\n        else {\n            set&lt;ll&gt;yi;\n            for (auto j : xi) {\n                ll b2 = (j + r) % n;\n                if (b2 == 0) b2 = n;\n                yi.insert(b2);\n            }\n            xi = yi;\n        }\n    }\n    cout &lt;&lt; xi.size() &lt;&lt; endl;\n    for (auto i : xi) {\n        cout &lt;&lt; i &lt;&lt; &quot; &quot;;\n    }cout &lt;&lt; &#039;\\n&#039;;\n}\nE-Rudolf and k Bridges\né¢˜æ„\néœ€è¦åœ¨ä¸€æ¡æ²³ä¸Šå»ºæ¡¥ï¼Œæ¯ä¸ªä½ç½®å»ºç«‹æ¡¥å¢©çš„èŠ±è´¹æ˜¯a_{i,j}+1ï¼Œa_{i+j}æ˜¯åˆ°æ°´é¢çš„æ·±åº¦ã€‚æ¡¥è¦æ±‚å®½ä¸ºkï¼Œä»»æ„ä¸¤ä¸ªæ¡¥å¢©çš„è·ç¦»ä¸èƒ½è¶…è¿‡dï¼Œæ¡¥çš„é¦–å°¾éƒ½éœ€è¦æœ‰æ”¯æ¶ã€‚\næ•°æ®èŒƒå›´\nt(1â‰¤tâ‰¤1000)\nn,k(1â‰¤k\\le nâ‰¤100)â€‹\nm(3\\le m\\le 2\\times 10^5)\næ€è·¯\nå¯¹æ¯ä¸€è¡Œè¿›è¡ŒDPï¼Œå¯ä»¥è·å¾—æ¯ä¸€è¡Œå»ºæ¡¥çš„æœ€å°èŠ±è´¹ã€‚å†å¯¹å…¶æ±‚å‰ç¼€å’Œï¼Œæ‰¾åˆ°æ€»èŠ±è´¹æœ€å°çš„è¿ç»­kæ®µã€‚\nè¿›è¡ŒDPçŠ¶æ€è½¬ç§»æ—¶ï¼Œéœ€è¦ä¼˜å…ˆé€‰ä¸­è·ç¦»ä¸å¤§äºdçš„æ¡¥å¢©ç‚¹ä¸­ï¼ŒèŠ±è´¹æœ€å°çš„æ¡¥å¢©ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m, k, d;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k &gt;&gt; d;\n    vector&lt;vector&lt;ll&gt;&gt;a(n, vector&lt;ll&gt;(m));\n    for (ll i = 0;i &lt; n;i++) {\n        for (ll j = 0;j &lt; m;j++) {\n            cin &gt;&gt; a[i][j];\n            a[i][j] += 1;\n        }\n    }\n    // æ¯è¡Œdp\n    vector&lt;ll&gt;spd(n, 0);\n    for (ll ni = 0;ni &lt; n;ni++) {\n        vector&lt;ll&gt;dp(m, 0);\n        for (ll i = 0;i &lt; m;i++) {\n            dp[i] = a[ni][i];\n        }\n        // ç»´æŠ¤å‰dä¸ªå€¼ä¸­çš„æœ€å°å€¼\n        queue&lt;ll&gt;q1;\n        deque&lt;ll&gt;qmin;\n        q1.push(dp[0]);\n        qmin.push_back(dp[0]);\n \n        for (ll i = 1;i &lt; m;i++) {\n            if (i == 1)\n                dp[i] += dp[0];\n            else {\n                ll mn = qmin.front();\n                dp[i] = mn + dp[i];\n            }\n \n            if (q1.size() == d + 1) {\n                if (q1.front() == qmin.front()) {\n                    qmin.pop_front();\n                }\n                q1.pop();\n            }\n            q1.push(dp[i]);\n            while (!qmin.empty() &amp;&amp; dp[i] &lt; qmin.back()) {\n                qmin.pop_back();\n            }\n            qmin.push_back(dp[i]);\n        }\n        spd[ni] = dp[m - 1];\n    }\n \n    vector&lt;ll&gt;sum(n + 1, 0);\n    sum[0] = 0;\n    for (ll i = 1;i &lt;= n;i++) {\n        sum[i] = sum[i - 1] + spd[i - 1];\n    }\n    ll ans = sum[k];\n    for (ll i = k;i &lt;= n;i++) {\n        ans = min(ans, sum[i] - sum[i - k]);\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}"},"03-algorithm/cfround977div2":{"slug":"03-algorithm/cfround977div2","filePath":"03-algorithm/cfround977div2.md","title":"ğŸ’­Codeforces Round 977 (Div. 2, based on COMPFEST 16 - Final Round)","links":[],"tags":["ç®—æ³•","CF"],"content":"A. Meaning Mean\né¢˜æ„\nå¯ä»¥é€‰æ‹© 2 ä¸ªä¸åŒçš„ç´¢å¼•i,jï¼Œå°†æ•°ç»„ä¸­è¿™ä¸¤ä¸ªç´¢å¼•å¯¹åº”çš„æ•°åˆ é™¤ï¼Œç„¶åå°†\\lfloor \\frac{a_i+a_j}{2} \\rflooræ·»åŠ åˆ°æ•°ç»„çš„æœ€åã€‚å¯çŸ¥åˆ°æœ€ååªä¼šå‰©ä¸‹ä¸€ä¸ªæ•°ï¼Œæœ€å¤§åŒ–æœ€åå‰©ä½™çš„è¿™ä¸ªæ•°xï¼Œå¹¶è¾“å‡ºã€‚\næ•°æ®èŒƒå›´\n\n2\\leq n \\leq 50\n1\\leq a_i\\leq 10^9\n\næ€è·¯\nè€ƒè™‘ä¸‰ä¸ªæ•°a\\lt b\\lt cæ—¶ï¼ŒæŒ‰ç…§å„ç§é¡ºåºåˆå¹¶çš„æƒ…å†µä¸‹ï¼Œ\\lfloor \\frac{\\lfloor \\frac{a+b}{2} \\rfloor+c}{2}\\rflooræ˜¯æœ€å¥½çš„æ“ä½œã€‚\nå‚è€ƒä»£ç \nll a[maxn];\n \nvoid solve() {\n  int n;\n  cin &gt;&gt; n;\n  for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  sort(a + 1, a + 1 + n);\n  ll tot = a[1];\n  for (int i = 2; i &lt;= n; i++) {\n    ll x = a[i];\n    tot = (tot + x) / 2;\n  }\n  cout &lt;&lt; tot &lt;&lt; &#039;\\n&#039;;\n}\nB. Maximize Mex\né¢˜æ„\nå¯¹ä¸€ä¸ªç»™å®šçš„æ•°ç»„aå’Œç»™å®šçš„æ•°xï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š\n\né€‰æ‹©ä¸€ä¸ªç´¢å¼•ï¼Œa_i:=a_i + xã€‚\n\nå¯ä»¥æ‰§è¡Œè¿™ä¸ªæ“ä½œä»»æ„æ¬¡ï¼Œè¯¢é—®è¿™ä¸ªæ•°ç»„æœ€å¤§çš„MEXå€¼æ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 5000\n1\\leq n\\leq 2\\times 10^5\n0\\leq x\\leq 10^9\n\næ€è·¯\nèµ›åå†äº¤å‘ç° T äº†â€¦å‰ªæä¼˜åŒ–äº†ä¸€ä¸‹ã€‚\né¦–å…ˆå®¹æ˜“è§‚å¯Ÿåˆ°ï¼Œa_i:=a_i + xçš„æ“ä½œä¸ä¼šæ”¹å˜a_iæ‰€å±çš„æ¨¡xçš„åŒä½™ç³»ï¼Œåœ¨æŠŠaæŒ‰ç…§æ¨¡xçš„å€¼è¿›è¡Œåˆ†ç»„ä¹‹åï¼Œå¯¹æ¯ä¸ªç»„ï¼Œcheck å¯¹åº”é›†åˆä¸­æ˜¯å¦èƒ½æ»¡è¶³[1, n-1]çš„èŒƒå›´å†…çš„a_iéƒ½å­˜åœ¨ï¼Œéå†æ—¶ï¼Œè®¡æ•°a_i=k\\times x + (a_i \\mod x)çš„kçš„æ•°é‡ï¼Œå¦‚æœkä»0åˆ°\\lfloor \\frac{n-1}{x}\\rfloor + ((n-1) \\mod x &gt;= a_i \\mod x)æ¯ä¸€ä½éƒ½æ»¡è¶³\\sum_0^{k_i} cnt[k_i] \\gt k_iï¼Œåˆ™è¯´æ˜åŒä½™é›†åˆä¸­åˆ°ki\\times x+a_i\\mod xçš„å€¼éƒ½æ˜¯å¯ä»¥æ»¡è¶³çš„ã€‚\næœ€åæ£€æµ‹ä¸€ä¸‹visæ•°ç»„ï¼Œå¯»æ‰¾mexã€‚\nå‚è€ƒä»£ç \nll a[maxn];\nbool vis[maxn];\nvoid solve() {\n  ll n, x;\n  cin &gt;&gt; n &gt;&gt; x;\n  for (int i = 0; i &lt;= n; i++) {\n    vis[i] = false;\n  }\n  map&lt;ll, vector&lt;ll&gt;&gt; mp;\n  for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    mp[a[i] % x].push_back(a[i]);\n  }\n \n  for (auto &amp;[i, v] : mp) {\n    sort(v.begin(), v.end());\n    ll tot = (n - 1) / x;\n    if ((n - 1) % x &gt;= i)\n      tot += 1;\n \n    vector&lt;ll&gt; cnt(tot, 0);\n    for (auto j : v) {\n      if ((j - i) / x &lt; tot) {\n        cnt[(j - i) / x]++;\n      } else {\n        break;\n      }\n    }\n    ll sum = 0ll;\n    for (int j = 0; j &lt; tot; j++) {\n      sum += cnt[j];\n      if (sum &lt;= j) {\n        break;\n      }\n      vis[j * x + i] = true;\n    }\n  }\n \n  for (int i = 0; i &lt;= n; i++) {\n    if (!vis[i]) {\n      cout &lt;&lt; i &lt;&lt; &#039;\\n&#039;;\n      return;\n    }\n  }\n}\nC. Adjust The Presentation (Easy Version &amp;&amp; Hard Version)\né¢˜æ„\nnä¸ªäººæ’æˆä¸€é˜Ÿï¼Œä¾æ¬¡æ’­æ”¾må¼ å¹»ç¯ç‰‡ï¼Œå½“ä¸€ä¸ªäººæ’­æ”¾è¿‡å¹»ç¯ç‰‡ä¹‹åï¼Œå¯ä»¥é‡æ–°å°†ä»–æ’å…¥ä»»æ„çš„ä½ç½®ï¼Œæˆ–è€…ç•™åœ¨é˜Ÿé¦–æ’­æ”¾ä¸‹ä¸€å¼ å¹»ç¯ç‰‡ã€‚æ¯å¼ å¹»ç¯ç‰‡éƒ½æœ‰ä¸€ä¸ªæœ€ä½³æ’­æ”¾è€…ï¼Œå¦‚æœæ‰€æœ‰çš„å¹»ç¯ç‰‡éƒ½ç”±å…¶æœ€ä½³æ’­æ”¾è€…æ’­æ”¾ï¼Œåˆ™æ•´ä¸ªæ’­æ”¾æ˜¯å®Œç¾çš„ï¼Œè¾“å‡ºYAï¼Œå¦åˆ™è¾“å‡ºTIDAKã€‚è¯¢é—®æ˜¯å¦å¯ä»¥é€šè¿‡è°ƒæ•´ï¼Œä½¿å¾—æ‰€æœ‰çš„å¹»ç¯ç‰‡éƒ½å®Œç¾æ’­æ”¾ã€‚\nåŒæ—¶æ”¯æŒqæ¬¡ä¿®æ”¹å¹»ç¯ç‰‡çš„æœ€ä½³æ’­æ”¾è€…ï¼Œè¯¢é—®æ¯æ¬¡ä¿®æ”¹ä¹‹åçš„æ’­æ”¾æ•ˆæœï¼Œè¾“å‡ºYAæˆ–TIDAKã€‚\næ•°æ®èŒƒå›´\n\n1 \\leq t\\leq 10^4\n1\\leq n,m \\leq 2\\times 10^5\n0\\leq q\\leq 2\\times 10^5\n1\\leq a_i,b_i\\leq n\n1\\leq s_i\\leq m,1\\leq t_i\\leq n\n\næ€è·¯\nå¹»ç¯ç‰‡iæ˜¯å¦èƒ½è¢«æœ€ä½³æ’­æ”¾è€…æ’­æ”¾ï¼Œåªéœ€è¦ä¿è¯å…¶æ’­æ”¾è€…s_iåœ¨æ’­æ”¾iæ—¶æˆ–ä¹‹å‰å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ•°ç»„bä¸­æ¯ä¸ªç¼–å·æœ€å…ˆå‡ºç°çš„æ¬¡åºæ’åºåï¼Œè‹¥æ°å¥½æ˜¯açš„å‰ç¼€ï¼Œåˆ™æ˜¯å¯ä»¥æ»¡è¶³çš„ã€‚\nå·®åˆ†æ•°ç»„è®¡æ•°aæ•°ç»„ä¸­ç¬¬iä¸ªæ•°a[i]åœ¨bä¸­æœ€å…ˆå‡ºç°æ¬¡åºæ’åºåçš„æ¬¡åºæ˜¯å¦å¤§äºç­‰äºå‰ä¸€ä¸ªæ•°ï¼Œå³æ˜¯å¦ä¸Šå‡ã€‚åˆ©ç”¨setæ›´æ–°bä¸­æ¯ä¸ªç¼–å·æœ€å…ˆå‡ºç°çš„ä½ç½®ã€‚\næ¯æ¬¡b_{s_i}:=t_iæ“ä½œåï¼Œæ›´æ–°æ£€æŸ¥ç¼–å·b[s_i]å‰åç¼–å·çš„æ–°æ¬¡åºæ˜¯å¦åˆæ³•ï¼ˆä¸aä¸­b[s_i]çš„å‰ä¸€ä½ç½®çš„ç¼–å·çš„æœ€æ—©ä½ç½®ç›¸æ¯”æ˜¯å¦ä¸Šå‡ï¼‰ï¼Œç¼–å·t_iå‰åæ˜¯å¦åˆæ³•ï¼Œæ›´æ–°diffæ•°ç»„å’Œsumå€¼ã€‚\nll a[maxn], b[maxn], pos[maxn], diff[maxn];\nvector&lt;set&lt;ll&gt;&gt; st;\n \nvoid YorT(bool f) { f ? cout &lt;&lt; &quot;YA\\n&quot; : cout &lt;&lt; &quot;TIDAK\\n&quot;; }\n \nvoid solve() {\n  int n, m, q;\n  cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;\n \n  st.assign(n + 1, set&lt;ll&gt;());\n \n  for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    pos[a[i]] = i;\n    st[i].insert(m + 1);\n    diff[i] = 0;\n  }\n  for (int i = 1; i &lt;= m; i++) {\n    cin &gt;&gt; b[i];\n    st[b[i]].insert(i);\n  }\n \n  auto check = [&amp;](int s) { // æ£€æŸ¥a[s-1] -&gt; a[s]çš„åˆæ³•æƒ…å†µ,æ˜¯å¦ä¸Šå‡\n    if (s == 1 || s &gt; n)\n      return 0;\n    int res = 0;\n    if (diff[s] &amp;&amp; !(*st[a[s - 1]].begin() &lt;= *st[a[s]].begin())) {\n      diff[s] = 0;\n      res = -1;\n    } else if (!diff[s] &amp;&amp; *st[a[s - 1]].begin() &lt;= *st[a[s]].begin()) {\n      diff[s] = 1;\n      res = 1;\n    }\n    return res;\n  };\n \n  ll sum = 0ll;\n  for (int i = 2; i &lt;= n; i++) {\n    sum += check(i);\n  }\n \n  YorT(sum == n - 1);\n \n  while (q--) {\n    int s, t;\n    cin &gt;&gt; s &gt;&gt; t;\n    st[b[s]].erase(s);\n    st[t].insert(s);\n    sum += check(pos[b[s]]) + check(pos[b[s]] + 1) + check(pos[t]) +\n           check(pos[t] + 1);\n    b[s] = t;\n    YorT(sum == n - 1);\n  }\n}\nD. Boss, Thirsty\nE1. Digital Village (Easy Version) &amp;&amp; (Hard Version)\né¢˜æ„\nå±…æ°‘æˆ¿å±‹æ„æˆä¸€ä¸ªæ— å‘å›¾ï¼ŒåŒ…å«nä¸ªç‚¹mæ¡è¾¹ï¼Œå…¶ä¸­pæˆ·éœ€è¦ç½‘ç»œæœåŠ¡ï¼Œå¯ä»¥åœ¨ä»»æ„çš„æˆ¿å±‹ä¸­å®‰ç½®äº¤æ¢æœºï¼Œæˆ¿å±‹s_iä¸äº¤æ¢æœºæ‰€åœ¨æˆ¿å±‹s_jä¹‹é—´çš„å»¶è¿Ÿæ˜¯s_iåˆ°s_jçš„ç®€å•è·¯å¾„ä¸Šæœ€å¤§çš„å»¶è¿Ÿã€‚å¯ä»¥ä»»æ„é€‰æ‹©æ”¾ç½®äº¤æ¢æœºçš„ä½ç½®ï¼Œè¯¢é—®åœ¨é€æ¸å¢åŠ äº¤æ¢æœºçš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰éœ€è¦ç½‘ç»œæœåŠ¡çš„å±…æ°‘çš„æœ€å°æ€»å»¶è¿Ÿã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t \\leq 2000\n2\\leq n,\\leq 5000\nn-1\\leq m \\leq 5000\n1\\leq p \\leq n\n1\\leq s\\leq n\n1\\leq u_i\\lt w_i\\leq n;1\\leq w_i\\leq 10^9\n\næ€è·¯\nå‚è€ƒä»£ç "},"03-algorithm/cfround980div2":{"slug":"03-algorithm/cfround980div2","filePath":"03-algorithm/cfround980div2.md","title":"ğŸ’­Codeforces Round 980 (Div. 2)","links":[],"tags":["ç®—æ³•","CF"],"content":"A. Profitable Interest Rate\né¢˜æ„\næœ‰ä¸¤ç§å‚¨å€¼æ–¹å¼â€”â€”æ— åˆ©å¯å›¾å’Œç›ˆåˆ©ï¼Œâ€œç›ˆåˆ©â€å¯ä»¥ä¿è¯ç›ˆåˆ©ï¼Œä½†æ˜¯æœ‰æœ€ä½å‚¨å€¼è¦æ±‚ï¼Œâ€œæ— åˆ©å¯å›¾â€ç±»å‹æ²¡æœ‰åˆ©æ¯ï¼Œä½†æ˜¯å¯ä»¥è®©â€œç›ˆåˆ©â€çš„æœ€ä½å‚¨å€¼é™ä½ã€‚åœ¨â€œæ— åˆ©å¯å›¾â€å‚¨å€¼xå…ƒï¼Œå¯ä»¥è®©â€œç›ˆåˆ©â€çš„æœ€ä½å€¼è¦æ±‚é™ä½2\\times xå…ƒï¼Œæœ€ä½å‚¨å€¼ä¸èƒ½ä½äº0å…ƒï¼Œä¸¤ç§å‚¨å€¼å‡ä¸èƒ½å–å‡ºã€‚ç°åœ¨Aliceæ‹¥æœ‰aå…ƒï¼Œå¹¶æƒ³ä½¿å­˜å…¥â€œç›ˆåˆ©â€çš„é‡‘é¢è¶Šå¤šè¶Šå¥½ï¼Œæ±‚Aliceæœ€å¤šå­˜å…¥å¤šå°‘â€œç›ˆåˆ©â€ç±»å‹çš„é‡‘é¢ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^4\n1\\leq a,b\\leq 10^9\n\næ€è·¯\nå‡è®¾å­˜å…¥xå…ƒåœ¨â€œæ— åˆ©å¯å›¾â€ï¼Œåˆ™â€œç›ˆåˆ©â€çš„æœ€ä½å‚¨å€¼é™ä¸ºb-2\\times xï¼Œæ­¤æ—¶å¦‚æœAliceçš„å‰©ä½™é‡‘é¢a-xå¯ä»¥è¾¾åˆ°æœ€ä½å‚¨å€¼ï¼Œåˆ™ç­”æ¡ˆä¸ºa-xï¼Œå¦åˆ™ä¸º0ï¼Œæœ€å°åŒ–xå³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n  ll a, b;\n  cin &gt;&gt; a &gt;&gt; b;\n  ll x = max(0ll, b - a);\n  ll ans = max(0ll, a - x);\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nB. Buying Lemonade\né¢˜æ„\næŸ æª¬æ°´å”®å–æœºæœ‰nä¸ªæŒ‰é’®ï¼Œä½†æ˜¯æ— æ³•è¾¨è®¤æ¯ä¸ªæŒ‰é’®å¯¹åº”çš„æ§½ä½è¿˜å‰©å¤šå°‘æŸ æª¬æ°´ï¼Œè´­ä¹°è€…çŸ¥é“æ¯ä¸ªæ§½ä½æœ€åˆçš„æŸ æª¬æ°´æ•°é‡ï¼Œæ¯æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®ï¼Œå¦‚æœè¯¥æŒ‰é’®å¯¹åº”çš„æ§½ä½è¿˜æœ‰æŸ æª¬æ°´ï¼Œåˆ™å¯ä»¥å”®å‡º1ç“¶æŸ æª¬æ°´ï¼Œè‹¥æ§½ä½ä¸ºç©ºï¼Œåˆ™å°†æ²¡æœ‰ä»»ä½•ä¸œè¥¿æ‰å‡ºæ¥ã€‚ç°åœ¨éœ€è¦ç²¾ç¡®è´­ä¹°kç“¶æŸ æª¬æ°´ï¼Œä¿è¯æŸ æª¬æ°´å”®å–æœºé‡Œæœ‰è¶³å¤Ÿçš„æŸ æª¬æ°´ï¼Œå³\\sum_{i=1}^{n} a_i \\ge kã€‚æ±‚é—®æœ€å°‘çš„å¯ä»¥ä¿è¯è¾¾æˆä»»åŠ¡çš„ç‚¹å‡»æ¬¡æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^4\n1\\leq n\\leq 2\\times 10^5\n1\\leq k\\leq 10^9\n1\\leq a_i\\leq 10^9\n\nnä¹‹å’Œä¸è¶…è¿‡2\\times 10^5ã€‚\næ€è·¯\nåŸºæœ¬çš„è´ªå¿ƒè´­ä¹°æ€è·¯æ˜¯ä¸€ç›´æŒ‰åŒä¸€ä¸ªæŒ‰é’®ï¼Œç›´åˆ°è¯¥æ§½ä½ä¸ºç©ºï¼Œè€ƒè™‘åˆ°è´­ä¹°kç“¶è‡³å°‘éœ€è¦kæ¬¡åŸºæœ¬ç‚¹å‡»ï¼Œæˆ‘ä»¬éœ€è¦æœ€å°åŒ–ä¼šæµªè´¹çš„ç‚¹å‡»æ¬¡æ•°ï¼Œå³ç‚¹ç©ºæ§½ä½çš„æ¬¡æ•°ã€‚\nå‡è®¾å½“å‰æ¯ä¸ªæ§½ä½éƒ½è‡³å°‘æœ‰2ç“¶æŸ æª¬æ°´ï¼Œæˆ‘ä»¬æƒ³æœ€å°åŒ–ç‚¹ç©ºçš„æ¬¡æ•°ï¼Œæœ€å¥½å…ˆæŠŠæ¯ä¸ªæŒ‰é’®éƒ½ç‚¹å‡»2æ¬¡ï¼Œå¦‚æœæ­¤æ—¶çš„æ€»æ•°è¶³å¤Ÿkï¼Œæˆ‘ä»¬å°±è®¡æ•°æ¬¡æ•°ï¼Œå¦åˆ™å»æ‰ç©ºæ§½ä½ï¼ˆé€šè¿‡ 1 æ¬¡ç‚¹å‡»å»é™¤ï¼‰ï¼Œæˆ‘ä»¬è¦ç»§ç»­æœ€å°åŒ–ã€‚\näºŒåˆ†åœ¨æ¯ä¸ªæŒ‰é’®ç‚¹å‡»çš„æ¬¡æ•°ï¼ŒæŸ¥è¯¢èƒ½ä¹°åˆ°çš„æŸ æª¬æ°´æ€»æ•°ï¼Œè®¡æ•°æœ€å°‘çš„æ¬¡æ•°ï¼Œå³ç¬¬ä¸€ä¸ªæ»¡è¶³æ€»æ•°å¤§äºç­‰äºkçš„é‚£ä¸ªæ¬¡æ•°ã€‚\nå‚è€ƒä»£ç \nll a[maxn];\n \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  sort(a + 1, a + 1 + n);\n \n  auto get_cnt = [&amp;](ll cnt) {\n    ll ret = 0ll, tot = 0ll;\n    for (ll i = 1; i &lt;= n; i++) {\n      if (a[i] &lt; cnt) {\n        if (tot + a[i] &lt; k) {\n          ret += a[i] + 1;\n          tot += a[i];\n        } else {\n          ret += k - tot;\n          break;\n        }\n      } else {\n        if (tot + cnt &lt; k) {\n          ret += cnt;\n          tot += cnt;\n        } else {\n          ret += k - tot;\n          break;\n        }\n      }\n    }\n    return ret;\n  };\n  auto get_lemonade = [&amp;](ll cnt) {\n    ll tot = 0ll;\n    for (ll i = 1; i &lt;= n; i++) {\n      if (a[i] &lt; cnt) {\n        tot += a[i];\n      } else {\n        tot += cnt;\n      }\n    }\n    return tot;\n  };\n \n  // å¯ä»¥è·å¾—kçš„ç¬¬ä¸€ä¸ªæ¬¡æ•°çš„ä¸‹æ ‡\n  ll l = 1, r = n;\n  while (l &lt; r) {\n    ll mid = l + (r - l) / 2;\n    if (get_lemonade(a[mid]) &lt; k) {\n      l = mid + 1;\n    } else {\n      r = mid;\n    }\n  }\n  ll ans = get_cnt(a[l]);\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nC. Concatenation of Arrays\né¢˜æ„\næœ‰nä¸ªäºŒå…ƒç»„ï¼Œå°†è¿™äº›äºŒå…ƒç»„é‡æ–°æ’åºåè®©åºåˆ—çš„é€†åºæ•°æœ€å°ï¼Œè¾“å‡ºæ’åºåçš„ç»“æœã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^4\n1\\leq n\\leq 10^5\n1\\leq a_{i,j}\\leq 10^9\n\næ€è·¯\næ’åºï¼Œå°†äºŒå…ƒç»„æŒ‰ç…§ä¸¤æ•°ä¹‹å’Œã€ç¬¬ä¸€ä½æ•°ã€ç¬¬äºŒä½æ•°çš„ä¼˜å…ˆçº§é¡ºåºä»å°åˆ°å¤§æ’åºã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;pll&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    pll p;\n    cin &gt;&gt; p.first &gt;&gt; p.second;\n    v.push_back(p);\n  }\n  sort(v.begin(), v.end(), [&amp;](pll p1, pll p2) {\n    return make_tuple(p1.first + p1.second, p1.first, p1.second) &lt;\n           make_tuple(p2.first + p2.second, p2.first, p2.second);\n  });\n  for (auto i : v) {\n    cout &lt;&lt; i.first &lt;&lt; &#039; &#039; &lt;&lt; i.second &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}\nD. Skipping\né¢˜æ„\né—®ç­”ç³»ç»Ÿï¼Œå¯¹ç¬¬iä¸ªé¢˜ï¼Œå¦‚æœé€‰æ‹©å›ç­”ï¼Œå¯ä»¥è·å¾—a_iåˆ†æ•°ï¼Œæ¥ä¸‹æ¥åªèƒ½é€‰æ‹©åºå·j\\lt iä¸”æ²¡æœ‰æ“ä½œè¿‡çš„é—®é¢˜ã€‚ä¹Ÿå¯ä»¥é€‰æ‹©è·³è¿‡ï¼Œæ¥ä¸‹æ¥å¯ä»¥é€‰æ‹©j\\leq b_içš„æœªæ“ä½œè¿‡çš„é¢˜ç›®ã€‚ä»1å·é—®é¢˜å¼€å§‹å›ç­”ã€‚\næ€è·¯\næ³¨æ„åˆ°ï¼Œå½“è·³åˆ°ç´¢å¼•iæ—¶ï¼Œæ‰€æœ‰1\\leq k\\leq içš„æ²¡æœ‰å›ç­”è¿‡çš„é¢˜ç›®ï¼Œéƒ½å¯ä»¥é€šè¿‡ä¾æ¬¡å›ç­”ã€‚æˆ‘ä»¬åªéœ€è¦è´ªå¿ƒçš„é€‰æ‹©å‰ç½®å’Œ-åˆ°è¾¾æŸä¸ªä½ç½®çš„æœ€å°ä»£ä»·å³å¯ã€‚\nè€ƒè™‘ç”¨ä¸€ä¸ªå…¨å±€multisetç»´æŠ¤å½“å‰å¯ä»¥ä½¿ç”¨çš„ä»£ä»·ï¼Œä»1å·é—®é¢˜å¼€å§‹ï¼Œæ¯ä¸ªé—®é¢˜çš„b_iæŒ‡å‘ä¸€ä¸ªåˆ°b_i+1ä¼šâ€œå¤±æ•ˆâ€çš„æœ€å°ä»£ä»·ï¼Œæ¯æ¬¡ç§»åŠ¨æ—¶å»é™¤å¤±æ•ˆä»£ä»·ï¼Œå¹¶åŠ å…¥æ–°çš„æœ€å°ä»£ä»·ï¼Œç»´æŠ¤æœ€å¤§å¾—åˆ†å³å¯ã€‚\nç»´æŠ¤æ—¶å¯ä»¥æ³¨æ„åˆ°b_i\\leq içš„è·³é¢˜æ²¡æœ‰æ„ä¹‰ï¼Œä¸å¦‚ç›´æ¥å‘å‰ç­”é¢˜ï¼Œå¯ä»¥é€šè¿‡åˆ¤æ–­å»é™¤è¿™ç§ç§»åŠ¨ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    pre[i] = pre[i - 1] + a[i];\n  }\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; b[i];\n  }\n \n  // ll ans = a[1];\n  multiset&lt;ll&gt; st;        // å¯è¡Œä»£ä»·\n  map&lt;ll, vector&lt;ll&gt;&gt; mp; // å­˜å‚¨åˆ°è¾¾içš„æ‰€æœ‰å¯è¡Œä»£ä»·\n  mp[2].push_back(0);\n  st.insert(0);\n  ll ans = a[1];\n  for (ll i = 1; i &lt;= n; i++) {\n    for (auto x : mp[i]) {\n      st.erase(st.find(x)); // åˆ å»ä¸å†é€‚ç”¨çš„ä»£ä»·\n    }\n \n    if (st.empty()) {\n      dis[i] = -1; // æ²¡æœ‰å¯ç”¨çš„ä»£ä»·\n    } else {\n      dis[i] = *st.begin();\n    }\n \n    if (dis[i] == -1)\n      continue;\n    ans = max(ans, pre[i] - dis[i]);\n \n    if (b[i] &lt;= i)\n      continue;\n    // å¯ä»¥æ‹“å±•åˆ°ç‚¹b[i],b[i]+1æ—¶åˆ»è¿™äº›ä»£ä»·éƒ½ä¸å†é€‚ç”¨\n    ll d = dis[i] + a[i];\n    mp[b[i] + 1].push_back(d);\n    st.insert(d);\n  }\n \n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/cfround990div2":{"slug":"03-algorithm/cfround990div2","filePath":"03-algorithm/cfround990div2.md","title":"ğŸ’­Codeforces Round 990 (Div. 2)","links":[],"tags":["ç®—æ³•","CF"],"content":"A. Alyona and a Square Jigsaw Puzzle\né¢˜æ„\nAlyonaæŒ‰ç…§é¡ºæ—¶é’ˆå›´ç»•ç¬¬ä¸€ä¸ªæ‹¼å›¾æ”¾ç½®æ‹¼å›¾ï¼ŒAlyonaæ¯å¤©ä¼šæŒ‰é¡ºåºæ”¾ç½®ä¸€å®šæ•°é‡çš„æ‹¼å›¾ï¼Œå¦‚æœä¸€å¤©ç»“æŸæ—¶æ‹¼å›¾çš„ç»„è£…éƒ¨åˆ†æ²¡æœ‰ä»»ä½•å·²å¼€å§‹ä½†æœªå®Œæˆçš„å±‚ï¼ŒAlyonaä¼šæ„Ÿåˆ°å¼€å¿ƒã€‚ç»™å‡ºæ¯å¤©æ”¾ç½®æ‹¼å›¾çš„æ•°é‡ï¼Œè¯¢é—®Alyonaæ„Ÿåˆ°å¿«ä¹çš„å¤©æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 500\n1\\leq n\\leq 100\n1\\leq a_i\\leq 100,a_1=1\n\næ€è·¯\næ£€æŸ¥æ¯å¤©å®Œæˆæ·»åŠ æ‹¼å›¾æ—¶çš„æ€»æ‹¼å›¾æ•°æ˜¯å¦æ°å¥½æ˜¯ä¸€ä¸ªå¥‡æ•°çš„å¹³æ–¹æ•°ï¼Œè‹¥æ˜¯åˆ™è¯¥å¤©ä¼šæ„Ÿåˆ°å¿«ä¹ã€‚\nä»£ç \nvoid solve() {\n  cin &gt;&gt; n;\n  ll tot = 0, ans = 0;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    tot += a[i];\n    ld t = sqrtl(tot);\n    if ((ll)t &amp; 1 &amp;&amp; t == (ll)t) {\n      ans++;\n    }\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nB. Replace Character\né¢˜æ„\nåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ä¸­ï¼Œæ‰§è¡Œä¸€æ¬¡è¿™æ ·çš„æ“ä½œï¼š\n\né€‰æ‹©ä¸¤ä¸ªç´¢å¼•i,j(1\\leq i,j\\leq n)ï¼Œå¯ä»¥é€‰æ‹©i = jã€‚\nè¿›è¡Œèµ‹å€¼s_i:=s_jã€‚\n\nè¦æ±‚è¾“å‡ºåœ¨è¿›è¡Œè¯¥æ“ä½œä¹‹åï¼Œå­—å…¸åºæœ€å°çš„é‚£ä¸ªå­—ç¬¦ä¸²ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 500\n1\\leq n\\leq 10\n\næ€è·¯\nå°†å…¶ä¸­ä¸€ä¸ªæ•°é‡æœ€å°‘çš„å­—æ¯æ”¹æˆæ•°é‡æœ€å¤šçš„å­—æ¯ï¼Œä¸è¿‡è¿™ä¸ªé¢˜æ•°æ®èŒƒå›´å¾ˆå°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æš´åŠ›ã€‚\nä»£ç \nvoid solve() {\n  cin &gt;&gt; n;\n  string s;\n  cin &gt;&gt; s;\n  map&lt;char, ll&gt; mp;\n  for (auto c : s) {\n    mp[c]++;\n  }\n  vector&lt;pll&gt; v;\n  for (auto i : mp) {\n    v.push_back({i.second, i.first - &#039;a&#039;});\n  }\n  sort(v.begin(), v.end(), greater&lt;&gt;());\n  v[0].first += 1, mp[v[0].second + &#039;a&#039;]++;\n  char cc = v[0].second + &#039;a&#039;;\n  v[v.size() - 1].first -= 1, mp[v[v.size() - 1].second + &#039;a&#039;]--;\n  string ans;\n  for (auto i : s) {\n    if (mp[i]) {\n      ans.push_back(i);\n      mp[i]--;\n    } else {\n      ans.push_back(cc);\n    }\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nC. Swap Columns and Find a Path\né¢˜æ„\nåœ¨ä¸€ä¸ª2\\times nçš„çŸ©é˜µä¸­ï¼Œä»(1,1)èµ°åˆ°(2,n)ç‚¹ï¼Œåªèƒ½å‘å³å’Œå‘ä¸‹èµ°ï¼Œæ¯ä¸ªä½ç½®ä¸Šæœ‰ä¸€ä¸ªa_{i,j}çš„åˆ†æ•°ï¼Œéœ€è¦æœ€å¤§åŒ–è·¯å¾„ä¸Šçš„æ€»åˆ†ã€‚å¯ä»¥æ”¯æŒä»»æ„æ¬¡è¿™æ ·çš„æ“ä½œï¼š\n\né€‰æ‹©ä¸¤åˆ—i,jï¼Œå°†åˆ—iå’Œåˆ—jè¿›è¡Œäº¤æ¢ï¼Œå³swap(a_{1,i},a_{1,j})å’Œswap(a_{2,i},a_{2,j}).\n\nè¯·æ‰§è¡Œæœ€å¤§åŒ–è·¯å¾„ä¸Šçš„æ•°ä¹‹å’Œï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæ€»å’Œã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 5000\n1\\leq n\\leq 5000\n-10^5\\leq a_{i,j}\\leq 10^5\n\næ€è·¯\nè§‚å¯Ÿå¯çŸ¥ï¼Œé€‰æ‹©çš„è·¯å¾„é•¿åº¦å›ºå®šæ˜¯n+1ï¼Œç”±äºåªèƒ½å‘å³æˆ–è€…å‘ä¸‹èµ°ï¼Œå®é™…çš„è·¯å¾„çš„å½¢çŠ¶ä¸€å®šæ˜¯åœ¨ç¬¬ä¸€è¡Œå–å‰ä¸€æ®µï¼Œå†å†ç¬¬äºŒè¡Œå–åä¸€æ®µï¼Œå¯¹æ¯åˆ—è¿›è¡Œæ’åºåè´ªå¿ƒçš„é€‰æ‹©æœ€å¤§çš„ä¸€ç»„åˆæ³•çš„æ•°å³å¯ã€‚\nä¹¦å†™çš„æ—¶å€™åˆ¤æ–­è½¬æŠ˜çš„ä¸€åˆ—æ—¶ï¼Œä¹Ÿå¯ä»¥åå‘å…ˆç®—å‡º2\\times nä¸ªæ•°çš„æ€»å’Œï¼Œå†è´ªå¿ƒçš„å‡æ‰n-1ä¸ªè¾ƒå°çš„æ•°ï¼Œæ³¨æ„åªæœ‰è½¬æŠ˜çš„åœ°æ–¹ä¸€åˆ—çš„ä¸¤ä¸ªæ•°éƒ½èƒ½å–åˆ°ï¼Œè€Œå…¶ä»–ä½ç½®çš„æ•°åªèƒ½å–ä¸€ä¸ªå€¼ã€‚\nä»£ç \nll n, m;\nll a[5][maxn], pre[5][maxn], b[maxn];\nbool vis[maxn];\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;pll&gt; v1, v2;\n  for (ll k = 1; k &lt;= 2; k++) {\n    for (ll i = 1; i &lt;= n; i++) {\n      cin &gt;&gt; a[k][i];\n      vis[i] = false;\n      if (k == 1) {\n        v1.push_back({a[k][i], i});\n      } else {\n        v2.push_back({a[k][i], i});\n      }\n    }\n  }\n  sort(v1.begin(), v1.end(), greater&lt;&gt;());\n  sort(v2.begin(), v2.end(), greater&lt;&gt;());\n  ll ans = 0, cnt = 0;\n  for (ll k = 1; k &lt;= 2; k++) {\n    for (ll i = 1; i &lt;= n; i++) {\n      ans += a[k][i];\n    }\n  }\n  ll p1 = n - 1, p2 = n - 1;\n  while (cnt &lt; n - 1) {\n    while (p1 &gt;= 0 &amp;&amp; vis[v1[p1].second]) {\n      p1--;\n    }\n    while (p2 &gt;= 0 &amp;&amp; vis[v2[p2].second]) {\n      p2--;\n    }\n    if (p1 != -1 &amp;&amp; p2 != -1) {\n      if (v1[p1].first &lt; v2[p2].first) {\n        ans -= v1[p1].first;\n        vis[v1[p1].second] = true;\n        p1--;\n      } else {\n        ans -= v2[p2].first;\n        vis[v2[p2].second] = true;\n        p2--;\n      }\n      cnt++;\n    } else if (p1 != -1) {\n      ans -= v1[p1].first;\n      vis[v1[p1].second] = true;\n      p1--;\n      cnt++;\n    } else if (p2 != -1) {\n      ans -= v2[p2].first;\n      vis[v2[p2].second] = true;\n      p2--;\n      cnt++;\n    } else {\n      break;\n    }\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nD. Move Back at a Cost\né¢˜æ„\nç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„aï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š\n\né€‰æ‹©ä¸€ä¸ªç´¢å¼•iï¼Œå°†a_i+1æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶åˆ å»a_iã€‚\n\nå¯ä»¥æ‰§è¡Œè¿™æ ·çš„æ“ä½œä»»æ„æ¬¡ï¼Œè¯·è¾“å‡ºå­—å…¸åºæœ€å°çš„æ“ä½œä¹‹åçš„æ•°ç»„aã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^4\n1\\leq n\\leq 10^5\n1\\leq a_i\\leq 10^9\n\næ€è·¯\nå°½é‡ä¿ç•™åŸæ•°ç»„ä¸­ä»å°åˆ°è¾¾æ’åˆ—çš„æ•°ï¼Œå°†å…¶ä¸­ä¸ç¬¦åˆå•è°ƒæ€§çš„ç‚¹æŒªåˆ°æ•°ç»„çš„åé¢ï¼Œä¸è¦è®©è¿™äº›å°†æŒªåˆ°æ•°ç»„åé¢çš„æ•°å†æ¬¡æŒªåŠ¨ã€‚\nç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„multisetï¼Œè®°å½•æ‰€æœ‰éœ€è¦æŒªåŠ¨çš„æ•°å­—ï¼Œå°†è¿™äº›æ•°+1 åä¾æ¬¡æ·»åŠ åˆ°åŸæ¥æ•°ç»„ç”Ÿæˆçš„æœ‰åºåºåˆ—çš„åé¢ã€‚\nä»£ç \n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  multiset&lt;ll&gt; st;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    st.insert(a[i]);\n  }\n  ll p = 1;\n  multiset&lt;ll&gt; v;\n  vector&lt;ll&gt; ans;\n  while (p &lt;= n &amp;&amp; !st.empty()) {\n    while (p &lt;= n &amp;&amp; a[p] != *st.begin()) {\n      v.insert(a[p]);\n      st.erase(st.find(a[p]));\n      p++;\n    }\n    if (p &gt; n)\n      break;\n    ans.push_back(a[p]);\n    st.erase(st.find(a[p]));\n    p++;\n  }\n  while (!v.empty() &amp;&amp; ans.back() &gt; *v.begin() + 1) {\n    v.insert(ans.back());\n    ans.pop_back();\n  }\n  for (auto i : v) {\n    ans.push_back(i + 1);\n  }\n  for (auto i : ans) {\n    cout &lt;&lt; i &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/graph_basic":{"slug":"03-algorithm/graph_basic","filePath":"03-algorithm/graph_basic.md","title":"å›¾è®ºåŸºç¡€||å­˜å‚¨å›¾||DFSã€BFS(å›¾è®º)","links":[],"tags":["å›¾è®º","ç®—æ³•","ç®—æ³•æ¨¡æ¿"],"content":"1.1å›¾çš„å®šä¹‰\nä¸Šè¯¾è®²è¿‡ä¸€å¤§å †è¿™é‡Œä¸å†èµ˜è¿°ï¼Œç›´æ¥å­¦ä¹ ä»£ç å®ç°ã€‚\n1.2å›¾çš„å­˜å‚¨\nä¾‹å›¾å±•ç¤ºï¼š\ngraph LR\nv1((v1))--4--&gt;v2((v2))\nv1((v1))--9--&gt;v6((v6))\nv3((v3))--19--&gt;v2((v2))\nv3((v3))--22--&gt;v1((v1))\nv4((v4))--17--&gt;v3((v3))\nv5((v5))--29--&gt;v8((v8))\nv6((v6))--12--&gt;v1((v1))\nv6((v6))--9--&gt;v5((v5))\nv6((v6))--4--&gt;v7((v7))\nv7((v7))--25--&gt;v4((v4))\nv8((v8))--7--&gt;v7((v7))\nv8((v8))--11--&gt;v3((v3))\n\nè®¾nä¸ªç‚¹ï¼Œmæ¡è¾¹\nä¸Šå›¾çš„æ•°æ®ï¼ˆæŒ‰ç…§ èµ·ç‚¹-ç»ˆç‚¹-æƒå€¼ï¼‰ï¼š\n8 12\n5 8 29\n6 1 12\n8 3 11\n1 2 4\n3 1 22\n4 3 17\n7 4 25\n6 5 9\n8 7 7\n1 6 9\n3 2 19\n6 7 4\né‚»æ¥çŸ©é˜µ\n\néå†æ•ˆç‡ä½ã€ä¸èƒ½å­˜é‡è¾¹ã€åˆå§‹åŒ–æ•ˆç‡ä½åˆå§‹åŒ–O(n^2)æ—¶é—´ï¼Œå»ºå›¾O(m)æ—¶é—´ã€ç©ºé—´å¼€é”€å¤§O(n^2)\nå¯¹äºç¨€ç–å›¾æ¥è¯´å¤§éƒ¨åˆ†æ˜¯INFï¼Œç©ºé—´åˆ©ç”¨æ•ˆç‡ä¹Ÿä¸é«˜\n\nå‰å‘æ˜Ÿ\nå‰å‘æ˜Ÿæ¶‰åŠæ’åºï¼Œæ‰€ä»¥å…¶æ—¶é—´å¤æ‚åº¦å’Œæ’åºç®—æ³•æœ‰å…³ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºO(mlog m)ï¼Œç©ºé—´ä¸Šéœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼ˆè®°å½•è¾¹çš„è¾¹æ•°ç»„ã€è®°å½•å„ç‚¹åœ¨è¾¹æ•°ç»„ä¸­èµ·å§‹ä½ç½®çš„headæ•°ç»„ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(m+n)\nä¼˜ç‚¹ï¼šåœ¨ç‚¹ç‰¹åˆ«å¤šæ—¶å¯ä»¥å­˜å‚¨é‡è¾¹\nç¼ºç‚¹ï¼šä¸èƒ½ç›´æ¥åˆ¤æ–­ä»»æ„ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¾¹ã€‚æ’åºå’Œåˆå§‹åŒ–æ•°ç»„è´¹æ—¶é—´ã€‚\néœ€è¦çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š\nint head[maxn];\nstruct NODE{\n    int from;\t// èµ·ç‚¹\n    int to;\t\t// ç»ˆç‚¹\n    int w;\t\t// æƒå€¼\n};\nNODE edge[maxm];\nNODEç”¨æ¥å­˜å‚¨æ¯æ¡è¾¹çš„ä¿¡æ¯ï¼Œè¾¹æŒ‰ç…§è¾“å…¥è¯»å–åå†æ’åºï¼Œæ’åºä¹‹åä½¿ç”¨head[maxn]æ¥å‚¨å­˜å„ä¸ªç‚¹çš„åœ¨edge[maxm]é‡Œçš„èµ·å§‹ä½ç½®ã€‚\næ’åºæ–¹å¼ï¼š\nbool cmp(NODE a, NODE b){\n    if(a.from==b.from&amp;&amp;a.to==b.to)\n        return a.w&lt;b.w;\n    if(a.from==b.from)\n        return a.to&lt;b.to;\n    return a.from&lt;b.from;\n}\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \n \nstruct NODE {\n\tint from, to, w;\n}edge[maxm];\n \nint head[maxn];\n \nbool cmp(NODE a, NODE b) {\n\tif (a.from == b.from &amp;&amp; a.to == b.to)\n\t\treturn a.w &lt; b.w;\n\tif (a.from == b.from)\n\t\treturn a.to &lt; b.to;\n\treturn a.from &lt; b.from;\n}\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++)\n\t\tcin &gt;&gt; edge[i].from &gt;&gt; edge[i].to &gt;&gt; edge[i].w;\n\t\n\t// æ’åº\n\tsort(edge, edge + m, cmp);\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n \n\t// åˆ¶æˆç‚¹ä½æ•°ç»„\n\thead[edge[0].from] = 0;\t// åˆå§‹åŒ–\n\t// edgeæ•°ç»„ä¸­èµ·ç‚¹ä¸ºç‚¹içš„åœ¨æ•°ç»„é‡Œçš„ç¬¬ä¸€æ¡è¾¹åœ¨ä¸‹æ ‡head[i]å¤„\n\tfor (int i = 1;i &lt; m;i++)\n\t\tif (edge[i].from != edge[i - 1].from)\n\t\t\t// è¡¨æ˜æ˜¯æ–°çš„èµ·å§‹ç‚¹\n\t\t\thead[edge[i].from] = i;\n \n\t// éå†è¾“å‡ºå„è¾¹ä¿¡æ¯ï¼ˆæŒ‰ç‚¹ä½è¾“å‡ºï¼‰\n\tfor (int i = 1;i &lt;= n;i++) {\n\t\tcout &lt;&lt; &quot;ä»¥ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ï¼š&quot; &lt;&lt; endl;\n\t\tfor (int j = head[i];j &lt; m &amp;&amp; edge[j].from == i;j++) {\n\t\t\tcout &lt;&lt; &quot;v&quot; &lt;&lt; edge[j].from &lt;&lt; &quot;--&gt;v&quot; &lt;&lt; edge[j].to &lt;&lt; &quot; æƒå€¼ä¸ºï¼š&quot; &lt;&lt; edge[j].w &lt;&lt; &quot; è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º&quot; &lt;&lt; j &lt;&lt; endl;\n\t\t}\n\t\tcout &lt;&lt; endl;\n\t}\n \n\treturn 0;\n}\n \n// Outputï¼š\n/*\nä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv1--&gt;v2 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º0\nv1--&gt;v6 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º1\n \nä»¥ç‚¹v2ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\n \nä»¥ç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv3--&gt;v1 æƒå€¼ä¸ºï¼š22 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º2\nv3--&gt;v2 æƒå€¼ä¸ºï¼š19 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º3\n \nä»¥ç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv4--&gt;v3 æƒå€¼ä¸ºï¼š17 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º4\n \nä»¥ç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv5--&gt;v8 æƒå€¼ä¸ºï¼š29 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º5\n \nä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv6--&gt;v1 æƒå€¼ä¸ºï¼š12 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º6\nv6--&gt;v5 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º7\nv6--&gt;v7 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º8\n \nä»¥ç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv7--&gt;v4 æƒå€¼ä¸ºï¼š25 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º9\n \nä»¥ç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv8--&gt;v3 æƒå€¼ä¸ºï¼š11 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º10\nv8--&gt;v7 æƒå€¼ä¸ºï¼š7 è¯¥è¾¹åœ¨æ•°ç»„edgeä¸­çš„åºå·ä¸º11\n \n*/\né‚»æ¥è¡¨\nå›¾çš„ä¸€ç§é“¾å¼å­˜å‚¨ç»“æ„ï¼ŒæŠŠå›¾Gä¸­æ‰€æœ‰é‚»æ¥äºviçš„é¡¶ç‚¹é“¾æ¥æˆä¸ºä¸€ä¸ªviçš„å•é“¾è¡¨ã€‚\nä¸‰ç§å®ç°æ–¹æ³•ï¼š\n1. åŠ¨æ€å»ºè¡¨\nåŠ¨æ€å»ºè¡¨çš„æ—¶é—´æ•ˆç‡æ˜¯O(m)ï¼Œç©ºé—´æ•ˆç‡æ˜¯O(m)ï¼Œä¸»è¦çš„æ—¶é—´æŸè€—åœ¨äºä¸æ–­åœ°ç”³è¯·æ–°ç©ºé—´ï¼Œä¸”åˆ¤æ–­ä»»æ„ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¾¹ç›¸è¿çš„æ•ˆç‡ä¹Ÿä½ï¼ˆéœ€è¦æœç´¢å„ä¸ªç‚¹çš„å•é“¾è¡¨ï¼‰(æ„Ÿè§‰è¿˜å¥½ï¼Ÿ)ã€‚\næ•°æ®ç»“æ„ï¼š\nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tEdgeNode* next;\t\t// ä¸‹ä¸€è¾¹çš„æŒ‡é’ˆ\n};\n \nstruct VNode {\n\tint from;\t// èµ·ç‚¹ï¼ˆè¿™ä¸ªæ•°æ®ç»“æ„ä¸­fromæ²¡æœ‰ä¼ å€¼ï¼Œæˆ‘ä»¬ä»¥éå†Adjlistæ—¶çš„éå†æ—¶åºç”¨äºæŒ‡å®šèµ·ç‚¹ï¼‰\n\tEdgeNode* first;\t// é‚»æ¥è¡¨çš„å¤´æŒ‡é’ˆ\n};\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tEdgeNode* next;\t\t// ä¸‹ä¸€è¾¹çš„æŒ‡é’ˆ\n};\n \nstruct VNode {\n\tint from;\t// èµ·ç‚¹ï¼ˆè¿™ä¸ªæ•°æ®ç»“æ„ä¸­fromæ²¡æœ‰ä¼ å€¼ï¼Œæˆ‘ä»¬ä»¥éå†Adjlistæ—¶çš„éå†æ—¶åºç”¨äºæŒ‡å®šèµ·ç‚¹ï¼‰\n\tEdgeNode* first;\t// é‚»æ¥è¡¨çš„å¤´æŒ‡é’ˆ\n};\n \nVNode Adjlist[maxn];\t// å…¨å›¾\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\t// åˆ›å»ºä¸€ä¸ªæ–°çš„è¾¹ç»“æ„æ•°æ®\n\t\tEdgeNode* p = new EdgeNode();\n\t\t// ç»™è¯¥æ•°æ®ä¼ å€¼\n\t\tp-&gt;to = ti;\n\t\tp-&gt;w = wi;\n        \n\t\t// è¯¥æ–°è¾¹çš„nextæŒ‡é’ˆæŒ‡å‘ä¸Šä¸€ä¸ªé“¾æ¥åˆ°èµ·ç‚¹ä¸ºfiçš„å•é“¾è¡¨ä¸­çš„èµ·ç‚¹\n        /*\n        ï¼ˆç›¸å½“äºåœ¨å‰é¢æ’å…¥ï¼Œè¿™ç‚¹å¯ä»¥è§‚å¯Ÿéå†è¾“å‡ºéƒ¨åˆ†å‘ç°ï¼Œæ¯”å¦‚å…ˆè¯»å…¥çš„v1--&gt;v2åè¯»å…¥çš„v1--&gt;v6ï¼Œä½†åœ¨å‚¨å­˜æ—¶æˆ‘ä»¬å°†åæ¥çš„v1--&gt;v6æ’å…¥åœ¨äº†v1--&gt;v2å‰é¢ï¼‰\n        */\n\t\tp-&gt;next = Adjlist[fi].first;\n \n\t\t// å°†èµ·ç‚¹ä¸ºfiçš„å•é“¾è¡¨çš„æŒ‡é’ˆæ›´æ–°ä¸ºè¿™ä¸ªæ–°ä¼ å…¥è¾¹çš„åœ°å€\n\t\tAdjlist[fi].first = p;\n\t}\n \n\t// éå†\n\tfor (int i = 1;i &lt;= n;i++) {\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ï¼š&quot; &lt;&lt; endl;\n\t\tint ind = 0;\n\t\tfor (EdgeNode* k = Adjlist[i].first;k != NULL;k = k-&gt;next) {\n\t\t\t// æŒ‡é’ˆéå†è¯¥é“¾è¡¨è‡³ç»“æŸ\n\t\t\tcout &lt;&lt; &quot;v&quot; &lt;&lt; i &lt;&lt; &quot; --&gt;v&quot; &lt;&lt; k-&gt;to &lt;&lt; &quot; æƒå€¼ä¸ºï¼š&quot; &lt;&lt; k-&gt;w &lt;&lt; &quot; è¯¥è¾¹è®°å½•åœ¨ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;çš„å•é“¾è¡¨çš„ç¬¬&quot; &lt;&lt; ind++ &lt;&lt; &quot;ä¸ª&quot; &lt;&lt; endl;\n\t\t}\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºçš„åº¦æ•°ä¸ºï¼š&quot; &lt;&lt; ind &lt;&lt; endl;\n\t\tcout &lt;&lt; endl;\n\t}\n \n\treturn 0;\n}\n \n// Output:\n/*\nç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv1 --&gt;v6 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹è®°å½•åœ¨ç‚¹v1çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nv1 --&gt;v2 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹è®°å½•åœ¨ç‚¹v1çš„å•é“¾è¡¨çš„ç¬¬1ä¸ª\nç‚¹v1ä¸ºçš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v2ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nç‚¹v2ä¸ºçš„åº¦æ•°ä¸ºï¼š0\n \nç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv3 --&gt;v2 æƒå€¼ä¸ºï¼š19 è¯¥è¾¹è®°å½•åœ¨ç‚¹v3çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nv3 --&gt;v1 æƒå€¼ä¸ºï¼š22 è¯¥è¾¹è®°å½•åœ¨ç‚¹v3çš„å•é“¾è¡¨çš„ç¬¬1ä¸ª\nç‚¹v3ä¸ºçš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv4 --&gt;v3 æƒå€¼ä¸ºï¼š17 è¯¥è¾¹è®°å½•åœ¨ç‚¹v4çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nç‚¹v4ä¸ºçš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv5 --&gt;v8 æƒå€¼ä¸ºï¼š29 è¯¥è¾¹è®°å½•åœ¨ç‚¹v5çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nç‚¹v5ä¸ºçš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv6 --&gt;v7 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹è®°å½•åœ¨ç‚¹v6çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nv6 --&gt;v5 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹è®°å½•åœ¨ç‚¹v6çš„å•é“¾è¡¨çš„ç¬¬1ä¸ª\nv6 --&gt;v1 æƒå€¼ä¸ºï¼š12 è¯¥è¾¹è®°å½•åœ¨ç‚¹v6çš„å•é“¾è¡¨çš„ç¬¬2ä¸ª\nç‚¹v6ä¸ºçš„åº¦æ•°ä¸ºï¼š3\n \nç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv7 --&gt;v4 æƒå€¼ä¸ºï¼š25 è¯¥è¾¹è®°å½•åœ¨ç‚¹v7çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nç‚¹v7ä¸ºçš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv8 --&gt;v7 æƒå€¼ä¸ºï¼š7 è¯¥è¾¹è®°å½•åœ¨ç‚¹v8çš„å•é“¾è¡¨çš„ç¬¬0ä¸ª\nv8 --&gt;v3 æƒå€¼ä¸ºï¼š11 è¯¥è¾¹è®°å½•åœ¨ç‚¹v8çš„å•é“¾è¡¨çš„ç¬¬1ä¸ª\nç‚¹v8ä¸ºçš„åº¦æ•°ä¸ºï¼š2\n*/\næ³¨æ„åˆ°ï¼Œæ— å‘å›¾ä¸­å„ç‚¹çš„åº¦æ­£å¥½æ˜¯å„ç‚¹çš„å•é“¾è¡¨ä¸­é“¾èŠ‚çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°ä»£ç ä¸­indæœ€åçš„ç»“æœå€¼ï¼Œè€Œä¹‹ä½™æœ‰å‘å›¾ï¼Œindå°±æ˜¯å¯¹åº”é¡¶ç‚¹çš„å‡ºåº¦ã€‚\nè‹¥è¦æ±‚å¾—å…¥åº¦åˆ™å¿…é¡»éå†æ•´ä¸ªé‚»æ¥è¡¨æˆ–è€…å»ºç«‹ä¸€ä¸ªé€†é“¾æ¥è¡¨ï¼ˆä»¥viè¾¹ä¸ºç»ˆè¾¹çš„é“¾æ¥è¡¨ï¼‰ã€‚\næ³¨æ„ï¼šä¸€ä¸ªå›¾ çš„é‚»æ¥è¡¨ä¸æ˜¯å”¯ä¸€çš„ï¼Œå…¶å…·ä½“çš„é‚»æ¥æ¬¡åºä¸è¾¹çš„è¾“å…¥æ¬¡åºæœ‰å…³ã€‚\n2. vectoræ¨¡æ‹Ÿé“¾è¡¨å®ç°\nvectoræ¨¡æ‹Ÿé“¾è¡¨çš„å®ç°æ–¹å¼ä¸å‰ä¸€ç§åŒºåˆ«ä¸å¤§ï¼ˆå‰æ’å…¥å’Œåæ’å…¥çš„åŒºåˆ«ï¼Ÿåæ­£åŸºæœ¬æ²¡æœ‰è´¨å˜ï¼‰\nä¸è¿‡è¿™ç§æ–¹å¼ä»£ç é‡å°‘ï¼Œä¸å®¹æ˜“å‡ºé”™ï¼Œä¹Ÿä¸ç”¨æŒ‡é’ˆæŒ‡æ¥æŒ‡å»ã€‚ä¹Ÿä¸éœ€è¦æˆ‘ä»¬æ¥è€ƒè™‘å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾ã€‚æ¯”è¾ƒå‹å¥½ï¼ˆqwqï¼‰\néœ€è¦æ•°æ®ç»“æ„ï¼š\nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n};\nvector&lt;EdgeNode&gt;mp[maxn];\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n};\nvector&lt;EdgeNode&gt;mp[maxn];\nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tEdgeNode e;\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\t\n\t\te.to = ti;\n\t\te.w = wi;\n\t\tmp[fi].push_back(e);\n\t}\n \n\t// éå†\n\tfor (int i = 1;i &lt;= n;i++) {\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ï¼š&quot; &lt;&lt; endl;\n\t\t\n\t\tvector&lt;EdgeNode&gt;::iterator it = mp[i].begin();\n\t\tint ind = 0;\n\t\tfor (;it != mp[i].end();it++) {\n\t\t\tcout &lt;&lt; &quot;v&quot; &lt;&lt; i &lt;&lt; &quot;--&gt;v&quot; &lt;&lt; (*it).to &lt;&lt; &quot; æƒå€¼ä¸ºï¼š&quot; &lt;&lt; (*it).w &lt;&lt; &quot; è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º&quot; &lt;&lt; ind++ &lt;&lt; endl;\n\t\t}\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;çš„åº¦æ•°ä¸ºï¼š&quot; &lt;&lt; ind &lt;&lt; endl;\n\t\tcout &lt;&lt; endl;\n\t}\n\t\n \n\treturn 0;\n}\n// Output:\n/*\nç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv1--&gt;v2 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv1--&gt;v6 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v1çš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v2ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nç‚¹v2çš„åº¦æ•°ä¸ºï¼š0\n \nç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv3--&gt;v1 æƒå€¼ä¸ºï¼š22 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv3--&gt;v2 æƒå€¼ä¸ºï¼š19 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v3çš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv4--&gt;v3 æƒå€¼ä¸ºï¼š17 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v4çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv5--&gt;v8 æƒå€¼ä¸ºï¼š29 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v5çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv6--&gt;v1 æƒå€¼ä¸ºï¼š12 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv6--&gt;v5 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nv6--&gt;v7 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º2\nç‚¹v6çš„åº¦æ•°ä¸ºï¼š3\n \nç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv7--&gt;v4 æƒå€¼ä¸ºï¼š25 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v7çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv8--&gt;v3 æƒå€¼ä¸ºï¼š11 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv8--&gt;v7 æƒå€¼ä¸ºï¼š7 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v8çš„åº¦æ•°ä¸ºï¼š2\n \n*/\n3. â˜…â˜…â˜…é™æ€å»ºè¡¨ï¼ˆé“¾å¼å‰å‘æ˜Ÿï¼‰\né‚»æ¥è¡¨çš„é™æ€å»ºè¡¨å­˜å‚¨å›¾çš„æ–¹å¼ä¹Ÿç§°é“¾å¼å‰å‘æ˜Ÿï¼ŒåŸºäºå‰å‘æ˜Ÿï¼Œä»¥æé«˜æ„é€ æ•ˆç‡ä¸ºç›®çš„è®¾è®¡çš„å­˜å‚¨æ–¹å¼ï¼Œæœ€ç»ˆå½¢æˆçš„æ•°æ®æ˜¯ä¸€ä¸ªå˜å½¢çš„é‚»æ¥è¡¨ã€‚\né“¾å¼å‰å‘æ˜Ÿé‡‡ç”¨æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨çš„æ–¹å¼å®ç°é‚»æ¥è¡¨çš„åŠŸèƒ½ï¼Œä½¿ç”¨å¾ˆå°‘çš„é¢å¤–ç©ºé—´ï¼Œæ˜¯ç›®å‰å»ºå›¾å’Œéå†æ•ˆç‡æœ€é«˜çš„å­˜å‚¨æ–¹å¼ã€‚\næ•°æ®ç»“æ„ï¼š\nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\næ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨çš„ä¸»è¦æ–¹å¼æ˜¯è®°å½•ä¸‹ä¸€èŠ‚ç‚¹çš„ä½ç½®åœ¨æ•´ä¸ªæ•°ç»„çš„ä½ç½®åæ ‡ï¼Œå¹¶å°†è¿™ä¸ªæ ‡å¿—åæ ‡å­˜åœ¨ä¸€ä¸ªheadæ•°ç»„ä¸­ï¼Œéå†æ—¶æ ¹æ®è¾“å…¥çš„è¾¹çš„ä¿¡æ¯æ›´æ–°headå¯¹åº”çš„æ›´æ–°ä½ç½®ï¼Œå¹¶å°†åŸæ¥çš„èŠ‚ç‚¹ä¿¡æ¯å­˜åœ¨æ­¤æ—¶è¯»å…¥çš„è¾¹çš„nextæ•°æ®ä¸­ã€‚\nå­˜å€¼æ–¹å¼ï¼š\n// è¯»å…¥æ•°æ®\nfor (int i = 0;i &lt; m;i++) {\n    int fi, ti, wi;\n    cin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n    Edge[i].to = ti;\n    Edge[i].w = wi;\n \n    Edge[i].next = head[fi];\n    head[fi] = i;\n}\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\t\n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\t\n\t// éå†\n\tfor (int i = 1;i &lt;= n;i++) {\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ï¼š&quot; &lt;&lt; endl;\n\t\t\n\t\tint ind = 0;\n\t\tfor (int j = head[i];j != -1;j = Edge[j].next) {\n\t\t\tcout &lt;&lt; &quot;v&quot; &lt;&lt; i &lt;&lt; &quot;--&gt;v&quot; &lt;&lt; Edge[j].to &lt;&lt; &quot; æƒå€¼ä¸ºï¼š&quot; &lt;&lt; Edge[j].w &lt;&lt; &quot; è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º&quot; &lt;&lt; ind++ &lt;&lt; endl;\n\t\t}\n\t\tcout &lt;&lt; &quot;ç‚¹v&quot; &lt;&lt; i &lt;&lt; &quot;çš„åº¦æ•°ä¸ºï¼š&quot; &lt;&lt; ind &lt;&lt; endl;\n\t\tcout &lt;&lt; endl;\n\t}\n \n\t// å±•ç¤ºä¸€ä¸‹headæ•°ç»„é‡Œçš„å†…å®¹ï¼š\n\tcout &lt;&lt; &quot;----------headæ•°ç»„é‡Œçš„å†…å®¹----------&quot; &lt;&lt; endl;\n\tfor (int i = 1;i &lt;= n;i++)\n\t\tcout &lt;&lt; &quot;head[&quot; &lt;&lt; i &lt;&lt; &quot;]=&quot; &lt;&lt; head[i] &lt;&lt; endl;\n\tcout &lt;&lt; endl;\n \n\treturn 0;\n}\n \n// Output:\n/*\nç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv1--&gt;v6 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv1--&gt;v2 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v1çš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v2ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nç‚¹v2çš„åº¦æ•°ä¸ºï¼š0\n \nç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv3--&gt;v2 æƒå€¼ä¸ºï¼š19 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv3--&gt;v1 æƒå€¼ä¸ºï¼š22 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v3ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v3çš„åº¦æ•°ä¸ºï¼š2\n \nç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv4--&gt;v3 æƒå€¼ä¸ºï¼š17 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v4ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v4çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv5--&gt;v8 æƒå€¼ä¸ºï¼š29 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v5ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v5çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv6--&gt;v7 æƒå€¼ä¸ºï¼š4 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv6--&gt;v5 æƒå€¼ä¸ºï¼š9 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nv6--&gt;v1 æƒå€¼ä¸ºï¼š12 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v6ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º2\nç‚¹v6çš„åº¦æ•°ä¸ºï¼š3\n \nç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv7--&gt;v4 æƒå€¼ä¸ºï¼š25 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v7ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nç‚¹v7çš„åº¦æ•°ä¸ºï¼š1\n \nç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ï¼š\nv8--&gt;v7 æƒå€¼ä¸ºï¼š7 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º0\nv8--&gt;v3 æƒå€¼ä¸ºï¼š11 è¯¥è¾¹åœ¨æ‰€æœ‰ä»¥ç‚¹v8ä¸ºèµ·ç‚¹çš„è¾¹ä¸­åºå·ä¸º1\nç‚¹v8çš„åº¦æ•°ä¸ºï¼š2\n \n----------headæ•°ç»„é‡Œçš„å†…å®¹----------\nhead[1]=9\nhead[2]=-1\nhead[3]=10\nhead[4]=5\nhead[5]=0\nhead[6]=11\nhead[7]=6\nhead[8]=8\n*/\né™¤äº†ä¸èƒ½ç›´æ¥ç”¨èµ·ç‚¹ç»ˆç‚¹ç¡®å®šæ˜¯å¦æœ‰è¾¹å¤–ï¼Œé“¾å¼å‰å‘æ˜Ÿå‡ ä¹æ˜¯å®Œç¾çš„ã€‚\n1.3å›¾çš„éå†\nä»v0å‡ºå‘ç³»ç»Ÿçš„è®¿é—®å›¾Gä¸­æ‰€æœ‰çš„é¡¶ç‚¹ï¼Œæ¯ä¸ªé¡¶ç‚¹è®¿é—®ä¸€æ¬¡ï¼Œç§°ä¸ºå›¾çš„éå†ã€‚\næ·±åº¦ä¼˜å…ˆéå†\nä»ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§è¿æ¥ï¼Œè®¿é—®åˆ°æœ€åä¸€ä¸ªæ²¡æœ‰è¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œç„¶åå†ä»é¡ºåºä¸Šæ²¡æœ‰è¢«è®¿é—®çš„åˆ†è·¯ç»§ç»­è®¿é—®åˆ°æœ€æ·±å¤„ï¼Œå¦‚æ­¤å¾ªç¯è‡³å…¨éƒ¨è¢«è®¿é—®ã€‚\næ·±åº¦ä¼˜å…ˆæ ·ä¾‹ä»£ç ï¼š\n// ç”¨ä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„æ¥æ ‡è®°æ˜¯å¦è¢«éå†åˆ°\nbool s[maxn] = { 0 };\n \nvoid dfs(int x) {\n\t// ä¼ å…¥èŠ‚ç‚¹åx\n\ts[x] = true;\t// æ ‡è®°è¢«è®¿é—®\n\tcout &lt;&lt; x &lt;&lt; &quot; &quot;;\n\tfor (int i = head[x];i != -1;i = Edge[i].next) {\n\t\t// æ‰¾åˆ°è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„å¤´ä½ç½®ï¼Œç„¶åæŒ‰é¡ºåºå»éå†ä¸‹ä¸€ä¸ªå’ŒèŠ‚ç‚¹xç›¸è¿çš„èŠ‚ç‚¹ä½ç½®ï¼Œå¹¶æ ‡è®°è®¿é—®\n\t\tif (!s[Edge[i].to])\n\t\t\t// å¦‚æœå½“å‰è¾¹çš„ç»ˆç‚¹æœªè¢«è®¿é—®ï¼Œæˆ‘ä»¬å°±å»è®¿é—®å®ƒ\n\t\t\tdfs(Edge[i].to);\n\t\t\n\t\t// å½“å‰è¾¹çš„ç»ˆç‚¹å¦‚æœå·²è¢«è®¿é—®ï¼Œæˆ‘ä»¬å°±è®¿é—®å’ŒèŠ‚ç‚¹xçš„ä¸‹ä¸€æ¡è¾¹ï¼Œå³ç»™ièµ‹å€¼ä¸ºEdge[i].next\n\t}\n}\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \n// ç”¨ä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„æ¥æ ‡è®°æ˜¯å¦è¢«éå†åˆ°\nbool s[maxn] = { 0 };\n \nvoid dfs(int x) {\n\t// ä¼ å…¥èŠ‚ç‚¹åx\n\ts[x] = true;\t// æ ‡è®°è¢«è®¿é—®\n\tcout &lt;&lt; x &lt;&lt; &quot; &quot;;\t// è¾“å‡ºè¢«æ ‡è®°çš„ç‚¹ï¼ˆè§‚å¯Ÿé¡ºåºï¼‰\n\tfor (int i = head[x];i != -1;i = Edge[i].next) {\n\t\t// æ‰¾åˆ°è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„å¤´ä½ç½®ï¼Œç„¶åæŒ‰é¡ºåºå»éå†ä¸‹ä¸€ä¸ªå’ŒèŠ‚ç‚¹xç›¸è¿çš„èŠ‚ç‚¹ä½ç½®ï¼Œå¹¶æ ‡è®°è®¿é—®\n\t\tif (!s[Edge[i].to])\n\t\t\t// å¦‚æœå½“å‰è¾¹çš„ç»ˆç‚¹æœªè¢«è®¿é—®ï¼Œæˆ‘ä»¬å°±å»è®¿é—®å®ƒ\n\t\t\tdfs(Edge[i].to);\n\t\t\n\t\t// å½“å‰è¾¹çš„ç»ˆç‚¹å¦‚æœå·²è¢«è®¿é—®ï¼Œæˆ‘ä»¬å°±è®¿é—®å’ŒèŠ‚ç‚¹xçš„ä¸‹ä¸€æ¡è¾¹ï¼Œå³ç»™ièµ‹å€¼ä¸ºEdge[i].next\n\t}\n}\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\t\n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\t// æ·±åº¦ä¼˜å…ˆè®¿é—®ï¼Œä»é¡¶ç‚¹1å¼€å§‹ï¼ˆæ²¡æœ‰ç‚¹0å•¦ï¼‰\n\tdfs(1);\n\t// Output:\n\t/*\n\t\t1 6 7 4 3 2 5 8\n\t*/\n\t// å¯ä»¥ç»“åˆå›¾å»è§‚å¯Ÿè¿™ä¸ªé¡ºåºï¼Œä¾¿äºç†è§£æ·±åº¦ä¼˜å…ˆæœç´¢\n \n \n\treturn 0;\n}\n \næ³¨æ„ï¼šè¿™é‡Œè¿˜æ˜¯ä½¿ç”¨å¼ºæ¨çš„é“¾å¼å‰å‘æ˜Ÿæ•°æ®ç»“æ„æ¥å‚¨å­˜å›¾ï¼Œå› ä¸ºè¾¹åœ¨è¯»å…¥çš„æ—¶å€™æ˜¯å‰æ’å…¥ï¼Œæ‰€ä»¥åè¯»å…¥çš„è¾¹ä¼šå…ˆè¢«éå†ã€‚\nå¹¿åº¦ä¼˜å…ˆéå†\nå¹¿åº¦ä¼˜å…ˆå°±æ˜¯å…ˆè®¿é—®é¡¶ç‚¹v0çš„æ‰€æœ‰è¾¹çš„ç»ˆç‚¹ï¼Œç„¶åå†è®¿é—®ç¬¬ä¸€æ¡è¾¹å¾€ä¸‹å»¶ç»­çš„æœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼ˆç¬¬ä¸€æ¡è¾¹å¾€ä¸‹æ²¡æœ‰å°±ç¬¬äºŒæ¡è¾¹â€¦å¦‚æ­¤æœç´¢ï¼‰\nå¹¿åº¦ä¼˜å…ˆç”¨åˆ°äº†é˜Ÿåˆ—æ¥è®°å½•éå†æŸé¡¶ç‚¹å¹¿åº¦æ—¶ï¼Œéå†çš„è¿™ä¸ªç»ˆç‚¹çš„ä¸‹ä¸€ç‚¹(next)æ˜¯å¦è¢«éå†ï¼Œå¦‚æœæœªè¢«éå†åˆ™æ ‡è®°å…¥é˜Ÿï¼Œç­‰å¾…å½“å‰é¡¶ç‚¹æŒ‰ç…§å¹¿åº¦ä¼˜å…ˆè¢«éå†å®Œç»ˆç‚¹åä»è¯¥é˜Ÿåˆ—ä¸­è·å¾—ä¸‹ä¸€è½®è¢«éå†çš„ç‚¹ã€‚\nå¹¿åº¦ä¼˜å…ˆæ ·ä¾‹ä»£ç ï¼š\nï¼ˆå•Šå•Šå•Šçªç„¶å‘ç°æ‹¼é”™å•è¯äº†ï¼Œå…¶å®é˜Ÿåˆ—çš„å•è¯æ˜¯queueï¼Œä¸è¿‡åœ¨c++é‡Œå¼•ç”¨äº†stlå®¹å™¨è¿˜ç”¨queueå‘½åä¸å¤ªå¥½å§(è™½ç„¶æ²¡å½±å“)â€¦ä¸ç®¡äº†ï¼ç®—äº†ï¼Œè¿˜æ˜¯æ”¹è¿‡æ¥å§QAQï¼‰\n// ç”¨ä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„æ¥æ ‡è®°æ˜¯å¦è¢«éå†åˆ°\nbool s[maxn] = { 0 };\n \nvoid bfs(int x) {\n\tint queue[maxn];\n\tint iq = 0;\t\t// éå†ä»¥xä¸ºé¡¶ç‚¹çš„èµ·å§‹çŠ¶æ€æ—¶ï¼Œé˜Ÿåˆ—æ˜¯ç©ºçš„\n\tqueue[iq++] = x;\t// ç»™å½“å‰é˜Ÿåˆ—æ·»åŠ è¢«è®¿é—®çš„è¿™ä¸ªé¡¶ç‚¹x\n\t\n\tfor (int i = 0;i &lt; iq;i++) {\n\t\t\n\t\t// è¿™ä¸ªé˜Ÿåˆ—æŒ‰åºè¾“å‡ºå¯ä»¥ååº”æœç´¢é¡ºåº\n\t\tcout &lt;&lt; queue[i] &lt;&lt; &quot; &quot;;\n\t\t\n\t\t// æŒ‰ç…§å¹¿åº¦ä¼˜å…ˆæ„é€ é¡ºåºé˜Ÿåˆ—(å…¥é˜Ÿçš„éƒ½ç®—ä½œè¢«è®¿é—®äº†ï¼Œä¸‹æ¬¡æ‰§è¡Œå½“å‰å¾ªç¯(i++)å°†ä¼šè¾“å‡ºæœ€åå…¥é˜Ÿçš„è¯¥é¡¶ç‚¹)\n\t\t\n\t\tfor (int k = head[queue[i]];k != -1;k = Edge[k].next) {\n\t\t\t// éå†å½“å‰èŠ‚ç‚¹xç›¸è¿çš„èŠ‚ç‚¹ï¼Œå³å½“å‰è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚æœè¯¥ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œåˆ™å…¥é˜Ÿï¼Œæ ‡è®°å·²è®¿é—®ï¼Œé˜Ÿé•¿++\n\t\t\tif (!s[Edge[k].to]) {\n\t\t\t\ts[Edge[k].to] = true;\n\t\t\t\tqueue[iq++] = Edge[k].to;\n\t\t\t}\n\t\t}\n\t}\n \n}\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \n// ç”¨ä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„æ¥æ ‡è®°æ˜¯å¦è¢«éå†åˆ°\nbool s[maxn] = { 0 };\n \nvoid bfs(int x) {\n\tint queue[maxn];\n\tint iq = 0;\t\t// éå†ä»¥xä¸ºé¡¶ç‚¹çš„èµ·å§‹çŠ¶æ€æ—¶ï¼Œé˜Ÿåˆ—æ˜¯ç©ºçš„\n\tqueue[iq++] = x;\t// ç»™å½“å‰é˜Ÿåˆ—æ·»åŠ è¢«è®¿é—®çš„è¿™ä¸ªé¡¶ç‚¹x\n\t\n\tfor (int i = 0;i &lt; iq;i++) {\n\t\t\n\t\t// è¿™ä¸ªé˜Ÿåˆ—æŒ‰åºè¾“å‡ºå¯ä»¥ååº”æœç´¢é¡ºåº\n\t\tcout &lt;&lt; queue[i] &lt;&lt; &quot; &quot;;\n\t\t\n\t\t// æŒ‰ç…§å¹¿åº¦ä¼˜å…ˆæ„é€ é¡ºåºé˜Ÿåˆ—(å…¥é˜Ÿçš„éƒ½ç®—ä½œè¢«è®¿é—®äº†ï¼Œä¸‹æ¬¡æ‰§è¡Œå½“å‰å¾ªç¯(i++)å°†ä¼šè¾“å‡ºæœ€åå…¥é˜Ÿçš„è¯¥é¡¶ç‚¹)\n\t\t\n\t\tfor (int k = head[queue[i]];k != -1;k = Edge[k].next) {\n\t\t\t// éå†å½“å‰èŠ‚ç‚¹xç›¸è¿çš„èŠ‚ç‚¹ï¼Œå³å½“å‰è¾¹çš„ç»ˆç‚¹ï¼Œå¦‚æœè¯¥ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œåˆ™å…¥é˜Ÿï¼Œæ ‡è®°å·²è®¿é—®ï¼Œé˜Ÿé•¿++\n\t\t\tif (!s[Edge[k].to]) {\n\t\t\t\ts[Edge[k].to] = true;\n\t\t\t\tqueue[iq++] = Edge[k].to;\n\t\t\t}\n\t\t}\n\t}\n \n}\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\t\n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\tbfs(1);\n\t// Output:\n\t/*\n\t\t1 6 2 7 5 1 4 8 3\n\t*/\n\t// ç»“åˆå›¾å»è§‚å¯Ÿè¯¥é¡ºåºï¼Œä¾¿äºç†è§£å¹¿åº¦ä¼˜å…ˆæœç´¢\n \n\treturn 0;\n}\n \n\næ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆéƒ½æ˜¯é€šè¿‡è¾¹æ¥æœç´¢æ£€æŸ¥é‚»è¾¹æ˜¯å¦è¢«éå†åˆ°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä¸è¿‡è®¿é—®åºåˆ—ä¸åŒã€‚\n"},"03-algorithm/hdu24sd1":{"slug":"03-algorithm/hdu24sd1","filePath":"03-algorithm/hdu24sd1.md","title":"2024æ­ç”µé’‰è€™ç¼–ç¨‹è”èµ›Day1||è¡¥é¢˜","links":[],"tags":["ç®—æ³•","æ­ç”µ","2024æš‘å‡é›†è®­"],"content":"1001-å¾ªç¯ä½ç§»\n(709/3775)\né¢˜æ„\nå°†å­—ç¬¦ä¸²S=S_0+S_1+S_2+...+S_{n-1}å¾ªç¯ä½ç§»kæ¬¡åå¾—åˆ°S(k)=S_{k\\bmod n }+...+S_{n-1}+S+0+...+S_{(k-1)\\bmod n}ã€‚\nå®šä¹‰[A]={A(k),k\\in N}ã€‚ç»™å‡ºTç»„ä¸²A,Bï¼Œè¯¢é—®Bæœ‰å¤šå°‘ä¸ªå­ä¸²åœ¨[A]â€‹ä¸­ã€‚\næ•°æ®èŒƒå›´\n\n|A|\\leq |B|\n\\sum|B|\\leq 1048576\n\næ€è·¯\næ€è·¯1ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ\nè®°å­—ç¬¦ä¸²Açš„é•¿åº¦æ˜¯nï¼Œå°†å­—ç¬¦ä¸²Aè½¬å˜ä¸ºé¦–å°¾ç›¸è¿çš„æ ·å­ï¼ˆA=A+A.substr(1,n-1)ï¼‰ï¼Œå¹¶è®¡ç®—å…¶ä¸­æ¯ä¸ªé•¿åº¦ä¸ºnçš„å“ˆå¸Œå€¼ï¼Œç”¨mapå­˜å€¼ï¼Œå†å¯¹å­—ç¬¦ä¸²Bè¿›è¡Œå“ˆå¸Œï¼ŒåŒæ ·ä¹Ÿå¯¹é•¿åº¦ä¸ºnçš„å­ä¸²è®¡ç®—å“ˆå¸Œå€¼ï¼Œè‹¥æœ‰ç¬¦åˆçš„åˆ™è®¡æ•°ã€‚\nä»£ç \nä»£ç 1ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ\nll ha[maxn], hb[maxn];\nll pwr[maxn];\n \nvoid solve() {\n    string a, b;cin &gt;&gt; a &gt;&gt; b;\n    ll n = a.size();\n    a = a.substr(1, n - 1) + a;\n    ll la = a.size(), lb = b.size();\n    a = &quot; &quot; + a, b = &quot; &quot; + b;\n    pwr[0] = 1;\n    map&lt;ll, bool&gt;mp;\n    for (ll i = 1;i &lt;= la;i++) {\n        ha[i] = ha[i - 1] * bas1 + a[i];\n        pwr[i] = pwr[i - 1] * bas1;\n        if (i - n &gt;= 0) {\n            ll x = ha[i] - ha[i - n] * pwr[n];\n            mp[x] = true;\n        }\n    }\n    ll ans = 0;\n    for (ll i = 1;i &lt;= lb;i++) {\n        hb[i] = hb[i - 1] * bas1 + b[i];\n        if (i - n &gt;= 0) {\n            ll x = hb[i] - hb[i - n] * pwr[n];\n            if (mp.count(x)) {\n                ans++;\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n1002-æ˜Ÿæ˜Ÿ\n(991/1659)\né¢˜æ„\nå°Aæœ‰næ¬¡è·å¾—æ˜Ÿæ˜Ÿçš„æœºä¼šï¼Œç¬¬iæ¬¡æœ‰å¦‚ä¸‹5ç§é€‰æ‹©ï¼š\n\nè·³è¿‡\na_içš„ä»£ä»·è·å¾—1é¢—æ˜Ÿæ˜Ÿ\nb_içš„ä»£ä»·è·å¾—2é¢—æ˜Ÿæ˜Ÿ\nc_içš„ä»£ä»·è·å¾—3é¢—æ˜Ÿæ˜Ÿ\nd_içš„ä»£ä»·è·å¾—4é¢—æ˜Ÿæ˜Ÿ\n\nè¯·é—®è‹¥æƒ³æ°å¥½è·å¾—ké¢—æ˜Ÿæ˜Ÿï¼Œæ‰€éœ€è¦çš„æœ€å°ä»£ä»·æ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1000\n0\\leq k\\leq n\\times 4\n0\\lt a_i\\leq b_i\\leq c_i\\leq d_i\\leq 10^9\n\næ€è·¯\nåŸºç¡€çš„åŠ¨æ€è§„åˆ’ã€‚è®°dp[i]è¡¨ç¤ºè·å¾—ié¢—æ˜Ÿæ˜Ÿçš„æœ€å°ä»£ä»·ã€‚\nä»£ç \nll a[maxn], b[maxn], c[maxn], d[maxn];\nll dp[4 * maxn];\n \nvoid solve() {\n    ll n, k;cin &gt;&gt; n &gt;&gt; k;\n    for (ll i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i] &gt;&gt; b[i] &gt;&gt; c[i] &gt;&gt; d[i];\n    }\n    fill(dp, dp + 4 * maxn, inf);\n    dp[0] = 0;\n    for (ll i = 1;i &lt;= n;i++) {\n        ll m = min(k, 4 * i);\n        for (ll j = m;j &gt;= 0;j--) {\n            if (j + 1 &lt;= m)\n                dp[j + 1] = min(dp[j] + a[i], dp[j + 1]);\n            if (j + 2 &lt;= m)\n                dp[j + 2] = min(dp[j] + b[i], dp[j + 2]);\n            if (j + 3 &lt;= m)\n                dp[j + 3] = min(dp[j] + c[i], dp[j + 3]);\n            if (j + 4 &lt;= m)\n                dp[j + 4] = min(dp[j] + d[i], dp[j + 4]);\n        }\n    }\n    cout &lt;&lt; dp[k] &lt;&lt; &quot;\\n&quot;;\n}\n1008-ä½è¿ç®—\n(918/1427)\né¢˜æ„\næœ‰å¤šå°‘åœ¨èŒƒå›´[0,2^k)ä¸­çš„a,b,c,dæ„æˆçš„å››å…ƒç»„(a,b,c,d)æ»¡è¶³a \\\\&amp; b\\oplus c | d=nã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 10\n1\\leq k\\leq 15,0\\leq n\\lt 2^k\n\næ€è·¯\nè®°x=a \\\\&amp; b\\oplus c | dï¼Œxçš„æ¯ä¸€ä½åªæœ‰1å’Œ0çš„å¯èƒ½ï¼Œè€Œæ¯ä½ä¸Šçš„æ•°å­—åªå’Œa,b,c,då¯¹åº”ä½æ˜¯1æˆ–0æœ‰å…³ï¼Œæšä¸¾å››ä¸ªæ•°çš„1/0ï¼Œç»Ÿè®¡xæ˜¯0çš„ç»„åˆå’Œæ˜¯1çš„ç»„åˆçš„æ•°é‡ã€‚å†æ ¹æ®nçš„kä½è¿›è¡Œç»Ÿè®¡å³å¯ã€‚\nä»£ç \nvoid solve() {\n    ll n, k;cin &gt;&gt; n &gt;&gt; k;\n    ll cnt[2];cnt[0] = cnt[1] = 0;\n    for (int i = 0;i &lt;= 1;i++) {\n        for (int j = 0;j &lt;= 1;j++) {\n            for (int k = 0;k &lt;= 1;k++) {\n                for (ll l = 0;l &lt;= 1;l++) {\n                    ll x = i &amp; j ^ k | l;\n                    cnt[x]++;\n                }\n            }\n        }\n    }\n    vector&lt;int&gt;v;\n    ll ans = 1;\n    for (ll i = 0;i &lt; k;i++) {\n        v.push_back(n &amp; 1);\n        ans *= cnt[n &amp; 1];\n        n &gt;&gt;= 1;\n    }\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n1012-å¹¶\n(241/1229)\né¢˜æ„\nç»™å‡ºåœ¨äºŒç»´å¹³é¢ä¸Šçš„nä¸ªçŸ©å½¢ï¼Œéšæœºé€‰æ‹©kä¸ªä¸åŒçš„çŸ©å½¢(k\\in [1,n])ï¼Œæ±‚è¿™kä¸ªçŸ©å½¢æ‰€æœ‰è¦†ç›–éƒ¨åˆ†çš„å¹¶é›†çš„é¢ç§¯çš„æœŸæœ›ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2\\times 10^3\n1\\leq x_{i,1}\\lt x_{i,2} \\leq 10^9\n1\\leq y_{i,1}\\lt y_{i,2} \\leq 10^9\n\næ€è·¯\nå°†æ¨ªçºµåæ ‡ç¦»æ•£åŒ–ä¹‹åå¯ä»¥å°†è¿™nä¸ªçŸ©å½¢è¦†ç›–çš„éƒ¨åˆ†åˆ†å‰²æˆä¸é‡å çš„è‹¥å¹²ä¸ªå°çŸ©å½¢ï¼Œæ¯ä¸ªå°çŸ©å½¢è®¾ç½®æƒå€¼ï¼Œä»£è¡¨è¢«åŸæ¥çš„nä¸ªçŸ©å½¢è¦†ç›–çš„æ¬¡æ•°ã€‚è®¾æŸä¸ªå°çŸ©å½¢çš„è¦†ç›–æ¬¡æ•°æ˜¯mï¼Œåˆ™åœ¨é€‰æ‹©kä¸ªçŸ©å½¢æ—¶ï¼Œè¿™ä¸ªå°çŸ©å½¢çš„è´¡çŒ®æ˜¯ï¼š\\frac{\\binom{k}{n}-\\binom{k}{n-m}}{\\binom{k}{n}}ï¼ˆå…¨é›†-é€‰é™¤è¯¥çŸ©å½¢ä»¥å¤–çš„éƒ¨åˆ†ï¼‰ï¼Œé¢„å¤„ç†ç¦»æ•£åçš„çŸ©å½¢ä»¥åŠè¢«è¦†ç›–mæ¬¡çš„æ‰€æœ‰çŸ©å½¢çš„æ€»é¢ç§¯ï¼Œæšä¸¾è®¡æ•°å³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 2050;\nconst int mo998 = 998244353;\n \nstruct Rec {\n    ll x1, y1, x2, y2;\n}a[maxn];\n \nll X[maxn * 2], Y[maxn * 2];\n \nll fact[maxn], invfact[maxn]; // é˜¶ä¹˜,é˜¶ä¹˜é€†å…ƒ\n \nll qpow(ll a, ll b) {\n    ll res = 1;\n    while (b) {\n        if (b &amp; 1)res = res * a % mo998;\n        b &gt;&gt;= 1;\n        a = a * a % mo998;\n    }\n    return res;\n}\n \nll inv(ll x) {\n    return qpow(x, mo998 - 2);\n}\n \nvoid init() {\n    // é¢„å¤„ç†é˜¶ä¹˜,é˜¶ä¹˜é€†å…ƒ\n    fact[0] = invfact[0] = 1ll;\n    for (int i = 1;i &lt; maxn;i++) {\n        fact[i] = fact[i - 1] * i % mo998;\n        invfact[i] = invfact[i - 1] * inv(i) % mo998;\n    }\n}\n \nll C(int n, int k) {\n    // né€‰kçš„æ–¹æ¡ˆæ•°\n    if (k &gt; n)return 0ll;\n    ll res = fact[n] * invfact[k] % mo998 * invfact[n - k] % mo998;\n    return res;\n}\n \nll Stot[maxn], rec[2 * maxn][2 * maxn];\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        ll x1, y1, x2, y2;\n        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n        a[i] = { x1,y1,x2,y2 };\n        X[i] = x1, X[i + n] = x2;\n        Y[i] = y1, Y[i + n] = y2;\n    }\n    sort(X + 1, X + 1 + 2 * n);\n    sort(Y + 1, Y + 1 + 2 * n);\n    int t1 = unique(X + 1, X + 1 + 2 * n) - X - 1;\n    int t2 = unique(Y + 1, Y + 1 + 2 * n) - Y - 1;\n    for (int i = 1;i &lt;= n;i++) {\n        auto [x1, y1, x2, y2] = a[i];\n        x1 = lower_bound(X + 1, X + 1 + t1, x1) - X; // å€¼x1åœ¨X[]ä¸­çš„ä½ç½®\n        x2 = lower_bound(X + 1, X + 1 + t1, x2) - X;\n        y1 = lower_bound(Y + 1, Y + 1 + t2, y1) - Y;\n        y2 = lower_bound(Y + 1, Y + 1 + t2, y2) - Y;\n        // å·®åˆ†è®¡æ•°\n        rec[x1][y1]++, rec[x2][y1]--;\n        rec[x1][y2]--, rec[x2][y2]++;\n    }\n    for (int i = 1;i &lt;= t1;i++) {\n        for (int j = 1;j &lt;= t2;j++) {\n            rec[i][j] += rec[i - 1][j] + rec[i][j - 1] - rec[i - 1][j - 1];\n        }\n    }\n    for (int i = 1;i &lt; t1;i++) {\n        for (int j = 1;j &lt; t2;j++) {\n            // è¦†ç›–rec[i][j]æ¬¡çš„çŸ©å½¢çš„é¢ç§¯\n            Stot[rec[i][j]] += (X[i + 1] - X[i]) * (Y[j + 1] - Y[j]) % mo998;\n            Stot[rec[i][j]] %= mo998;\n        }\n    }\n \n \n    for (int k = 1;k &lt;= n;k++) {\n        ll ans = 0, Cnk = C(n, k);\n        ll iCnk = inv(Cnk);\n        for (int i = 1;i &lt;= n;i++) {\n            ll Si = Stot[i];\n            ans += (Cnk - C(n - i, k) + mo998) % mo998 * iCnk % mo998 * Si % mo998;\n            ans %= mo998;\n        }\n        cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    init();\n    int t = 1;\n    // cin &gt;&gt; t;cin.tie(0);\n    while (t--)\n        solve();\n \n    return 0;\n}"},"03-algorithm/intervaldp":{"slug":"03-algorithm/intervaldp","filePath":"03-algorithm/intervaldp.md","title":"åˆ·é¢˜è®°å½•||åŒºé—´åŠ¨æ€è§„åˆ’","links":[],"tags":["ç®—æ³•","DP"],"content":"åŒºé—´åŠ¨æ€è§„åˆ’ä¸€èˆ¬ä»¥åŒºé—´ä½œä¸ºåŠ¨æ€è§„åˆ’çš„é˜¶æ®µã€‚\n[P1880]çŸ³å­åˆå¹¶\né¢˜ç›®æè¿°\nåœ¨ä¸€ä¸ªåœ†å½¢æ“åœºçš„å››å‘¨æ‘†æ”¾ N å †çŸ³å­ï¼Œç°è¦å°†çŸ³å­æœ‰æ¬¡åºåœ°åˆå¹¶æˆä¸€å †ï¼Œè§„å®šæ¯æ¬¡åªèƒ½é€‰ç›¸é‚»çš„ 2 å †åˆå¹¶æˆæ–°çš„ä¸€å †ï¼Œå¹¶å°†æ–°çš„ä¸€å †çš„çŸ³å­æ•°ï¼Œè®°ä¸ºè¯¥æ¬¡åˆå¹¶çš„å¾—åˆ†ã€‚\nè¯•è®¾è®¡å‡ºä¸€ä¸ªç®—æ³•,è®¡ç®—å‡ºå°† N å †çŸ³å­åˆå¹¶æˆ 1 å †çš„æœ€å°å¾—åˆ†å’Œæœ€å¤§å¾—åˆ†ã€‚\nè¾“å…¥æ ¼å¼\næ•°æ®çš„ç¬¬ 1 è¡Œæ˜¯æ­£æ•´æ•° Nï¼Œè¡¨ç¤ºæœ‰ N å †çŸ³å­ã€‚\nç¬¬ 2 è¡Œæœ‰ N ä¸ªæ•´æ•°ï¼Œç¬¬ i ä¸ªæ•´æ•° a_i è¡¨ç¤ºç¬¬ i å †çŸ³å­çš„ä¸ªæ•°ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºå…± 2 è¡Œï¼Œç¬¬ 1 è¡Œä¸ºæœ€å°å¾—åˆ†ï¼Œç¬¬ 2 è¡Œä¸ºæœ€å¤§å¾—åˆ†ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n4\n4 5 9 4\næ ·ä¾‹è¾“å‡º #1\n43\n54\næç¤º\n1\\leq N\\leq 100ï¼Œ0\\leq a_i\\leq 20â€‹ã€‚\næ€è·¯\nè€ƒè™‘çŠ¶æ€è½¬ç§»ï¼š\næ¯æ¬¡åˆå¹¶åŒºé—´[l,r]æ—¶ï¼Œå¯ä»¥ç”±åŒºé—´[l,k]å’Œ[k+1,r]çš„çŠ¶æ€è½¬ç§»è¿‡æ¥ï¼Œè®°f(i,j)æ˜¯åˆå¹¶åŒºé—´[i,j]çš„æœ€å¤§å¾—åˆ†ï¼Œsum(i,j)æ˜¯åˆå¹¶[i,j]çš„å¾—åˆ†ï¼Œåˆ™æœ‰ï¼š\nf(i,j)=max(f(i,j),f(i,k)+f(k+1,j)+sum(i,j))\næ­¤é¢˜è€ƒè™‘åˆ°æ˜¯ç¯å½¢æ•°ç»„ï¼Œå¯ä»¥å°†æ•°ç»„å¤åˆ¶ä¸€å€ï¼Œæšä¸¾åŒºé—´é•¿åº¦æ˜¯nçš„æœ€ä¼˜å€¼ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 250;\nconst int mo109 = 1000000007;\n \nll a[maxn];\nll f1[maxn][maxn], f2[maxn][maxn];\n \nll pre[maxn];\n \nll sum(int l, int r) {\n    return pre[r] - pre[l - 1];\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    pre[0] = 0;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n        pre[i] = a[i] + pre[i - 1];\n    }\n    for (int i = n + 1;i &lt;= 2 * n;i++) {\n        pre[i] = a[i - n] + pre[i - 1];\n    }\n \n    for (int i = 0;i &lt;= 2 * n;i++) {\n        for (int j = 0;j &lt;= 2 * n;j++) {\n            f2[i][j] = f1[i][j] = 0;\n        }\n    }\n    for (int len = 1;len &lt;= n;len++) {\n        for (int i = 1;i + len &lt;= 2 * n;i++) {\n            int j = len + i - 1;\n            for (int k = i;k &lt; j;k++) {\n                if (!f1[i][j])f1[i][j] = f1[i][k] + f1[k + 1][j] + sum(i, j);\n                else f1[i][j] = min(f1[i][j], f1[i][k] + f1[k + 1][j] + sum(i, j));\n                f2[i][j] = max(f2[i][j], f2[i][k] + f2[k + 1][j] + sum(i, j));\n            }\n        }\n    }\n    ll mx = 0, mn = 1e18;\n    for (int i = 1;i &lt;= n;i++) {\n        int j = i + n - 1;\n        mx = max(mx, f2[i][j]);\n        mn = min(mn, f1[i][j]);\n    }\n    cout &lt;&lt; mn &lt;&lt; &#039;\\n&#039; &lt;&lt; mx &lt;&lt; &#039;\\n&#039;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\n[P3146]248G\né¢˜é¢ç¿»è¯‘\nç»™å®šä¸€ä¸ª 1\\ \\times n çš„åœ°å›¾ï¼Œåœ¨é‡Œé¢ç© 2048ï¼Œæ¯æ¬¡å¯ä»¥åˆå¹¶ç›¸é‚»ä¸¤ä¸ªï¼ˆæ•°å€¼èŒƒå›´ 1\\sim 40ï¼‰ï¼Œé—®åºåˆ—ä¸­å‡ºç°çš„æœ€å¤§æ•°å­—çš„å€¼æœ€å¤§æ˜¯å¤šå°‘ã€‚æ³¨æ„åˆå¹¶åçš„æ•°å€¼å¹¶éåŠ å€è€Œæ˜¯ +1ï¼Œä¾‹å¦‚ 2 ä¸ 2 åˆå¹¶åçš„æ•°å€¼ä¸º 3ã€‚\né¢˜ç›®æè¿°\nBessie likes downloading games to play on her cell phone, even though she  doesfind the small touch screen rather cumbersome to use with her large hooves.\nShe is particularly intrigued by the current game she is playing.The game starts with a sequence of N positive integers (2 \\leq N\\leq 248), each in the range 1 \\ldots 40.  In one move, Bessie cantake two adjacent numbers with equal values and replace them a singlenumber of value one greater (e.g., she might replace two adjacent 7swith an 8).  The goal is to maximize the value of the largest numberpresent in the sequence at the end of the game.  Please help Bessiescore as highly as possible!\nè¾“å…¥æ ¼å¼\nThe first line of input contains N, and the next N lines give the sequence\nof N numbers at the start of the game.\nè¾“å‡ºæ ¼å¼\nPlease output the largest integer Bessie can generate.\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n4\n1\n1\n1\n2\næ ·ä¾‹è¾“å‡º #1\n3\næç¤º\nIn this example shown here, Bessie first merges the second and third 1s to\nobtain the sequence 1 2 2, and then she merges the 2s into a 3.  Note that it is\nnot optimal  to join the first two 1s.\næ€è·¯\nåŒºé—´dpï¼Œè€ƒè™‘è½¬ç§»ï¼š\nf(i,j)=f(i,k)+1\\quad when:f(i,k)=f(k+1,j)\nåŒæ—¶è¦ä¿è¯f(i,k)å’Œf(k+1,j)åœ¨å‘f(i,j)è½¬ç§»ä¹‹å‰ï¼Œå·²ç»è¿›è¡Œäº†â€åˆå¹¶â€ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 550;\nconst int mo109 = 1000000007;\n \nint a[maxn];\nint f[maxn][maxn];\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    for (int i = 0;i &lt;= n;i++) {\n        for (int j = 0;j &lt;= n;j++) {\n            f[i][j] = 0;\n        }\n        if (i)\n            f[i][i] = a[i];\n    }\n    for (int len = 1;len &lt;= n;len++) {\n        for (int i = 1;i + len - 1 &lt;= n;i++) {\n            int j = i + len - 1;\n            for (int k = i;k + 1 &lt;= j;k++) {\n                if (f[i][k] == f[k + 1][j] &amp;&amp; f[i][k]) {\n                    f[i][j] = max(f[i][j], f[i][k] + 1);\n                }\n            }\n        }\n    }\n    int ans = a[1];\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = i;j &lt;= n;j++) {\n            ans = max(ans, f[i][j]);\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\n[NOIP2006 æé«˜ç»„] èƒ½é‡é¡¹é“¾\né¢˜ç›®æè¿°\nåœ¨ Mars æ˜Ÿçƒä¸Šï¼Œæ¯ä¸ª Mars äººéƒ½éšèº«ä½©å¸¦ç€ä¸€ä¸²èƒ½é‡é¡¹é“¾ã€‚åœ¨é¡¹é“¾ä¸Šæœ‰ N é¢—èƒ½é‡ç ã€‚èƒ½é‡ç æ˜¯ä¸€é¢—æœ‰å¤´æ ‡è®°ä¸å°¾æ ‡è®°çš„ç å­ï¼Œè¿™äº›æ ‡è®°å¯¹åº”ç€æŸä¸ªæ­£æ•´æ•°ã€‚å¹¶ä¸”ï¼Œå¯¹äºç›¸é‚»çš„ä¸¤é¢—ç å­ï¼Œå‰ä¸€é¢—ç å­çš„å°¾æ ‡è®°ä¸€å®šç­‰äºåä¸€é¢—ç å­çš„å¤´æ ‡è®°ã€‚å› ä¸ºåªæœ‰è¿™æ ·ï¼Œé€šè¿‡å¸ç›˜ï¼ˆå¸ç›˜æ˜¯ Mars äººå¸æ”¶èƒ½é‡çš„ä¸€ç§å™¨å®˜ï¼‰çš„ä½œç”¨ï¼Œè¿™ä¸¤é¢—ç å­æ‰èƒ½èšåˆæˆä¸€é¢—ç å­ï¼ŒåŒæ—¶é‡Šæ”¾å‡ºå¯ä»¥è¢«å¸ç›˜å¸æ”¶çš„èƒ½é‡ã€‚å¦‚æœå‰ä¸€é¢—èƒ½é‡ç çš„å¤´æ ‡è®°ä¸º mï¼Œå°¾æ ‡è®°ä¸º rï¼Œåä¸€é¢—èƒ½é‡ç çš„å¤´æ ‡è®°ä¸º rï¼Œå°¾æ ‡è®°ä¸º nï¼Œåˆ™èšåˆåé‡Šæ”¾çš„èƒ½é‡ä¸º m \\times r \\times nï¼ˆMars å•ä½ï¼‰ï¼Œæ–°äº§ç”Ÿçš„ç å­çš„å¤´æ ‡è®°ä¸º mï¼Œå°¾æ ‡è®°ä¸º nã€‚\néœ€è¦æ—¶ï¼ŒMars äººå°±ç”¨å¸ç›˜å¤¹ä½ç›¸é‚»çš„ä¸¤é¢—ç å­ï¼Œé€šè¿‡èšåˆå¾—åˆ°èƒ½é‡ï¼Œç›´åˆ°é¡¹é“¾ä¸Šåªå‰©ä¸‹ä¸€é¢—ç å­ä¸ºæ­¢ã€‚æ˜¾ç„¶ï¼Œä¸åŒçš„èšåˆé¡ºåºå¾—åˆ°çš„æ€»èƒ½é‡æ˜¯ä¸åŒçš„ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªèšåˆé¡ºåºï¼Œä½¿ä¸€ä¸²é¡¹é“¾é‡Šæ”¾å‡ºçš„æ€»èƒ½é‡æœ€å¤§ã€‚\nä¾‹å¦‚ï¼šè®¾ N=4ï¼Œ4 é¢—ç å­çš„å¤´æ ‡è®°ä¸å°¾æ ‡è®°ä¾æ¬¡ä¸º (2,3)(3,5)(5,10)(10,2)ã€‚æˆ‘ä»¬ç”¨è®°å· \\oplus è¡¨ç¤ºä¸¤é¢—ç å­çš„èšåˆæ“ä½œï¼Œ(j \\oplus k) è¡¨ç¤ºç¬¬ j,k ä¸¤é¢—ç å­èšåˆåæ‰€é‡Šæ”¾çš„èƒ½é‡ã€‚åˆ™ç¬¬ 4ï¼Œ1 ä¸¤é¢—ç å­èšåˆåé‡Šæ”¾çš„èƒ½é‡ä¸ºï¼š\n(4 \\oplus 1)=10 \\times 2 \\times 3=60ã€‚\nè¿™ä¸€ä¸²é¡¹é“¾å¯ä»¥å¾—åˆ°æœ€ä¼˜å€¼çš„ä¸€ä¸ªèšåˆé¡ºåºæ‰€é‡Šæ”¾çš„æ€»èƒ½é‡ä¸ºï¼š\n(((4 \\oplus 1) \\oplus 2) \\oplus 3)=10 \\times 2 \\times 3+10 \\times 3 \\times 5+10 \\times 5 \\times 10=710ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•° Nï¼ˆ4 \\le N \\le 100ï¼‰ï¼Œè¡¨ç¤ºé¡¹é“¾ä¸Šç å­çš„ä¸ªæ•°ã€‚ç¬¬äºŒè¡Œæ˜¯ N ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ­£æ•´æ•°ï¼Œæ‰€æœ‰çš„æ•°å‡ä¸è¶…è¿‡ 1000ã€‚ç¬¬ i ä¸ªæ•°ä¸ºç¬¬ i é¢—ç å­çš„å¤´æ ‡è®°ï¼ˆ1 \\le i \\le Nï¼‰ï¼Œå½“ i&lt;N æ—¶ï¼Œç¬¬ i é¢—ç å­çš„å°¾æ ‡è®°åº”è¯¥ç­‰äºç¬¬ i+1 é¢—ç å­çš„å¤´æ ‡è®°ã€‚ç¬¬ N é¢—ç å­çš„å°¾æ ‡è®°åº”è¯¥ç­‰äºç¬¬ 1 é¢—ç å­çš„å¤´æ ‡è®°ã€‚\nè‡³äºç å­çš„é¡ºåºï¼Œä½ å¯ä»¥è¿™æ ·ç¡®å®šï¼šå°†é¡¹é“¾æ”¾åˆ°æ¡Œé¢ä¸Šï¼Œä¸è¦å‡ºç°äº¤å‰ï¼Œéšæ„æŒ‡å®šç¬¬ä¸€é¢—ç å­ï¼Œç„¶åæŒ‰é¡ºæ—¶é’ˆæ–¹å‘ç¡®å®šå…¶ä»–ç å­çš„é¡ºåºã€‚\nè¾“å‡ºæ ¼å¼\nä¸€ä¸ªæ­£æ•´æ•° Eï¼ˆE\\le 2.1 \\times 10^9ï¼‰ï¼Œä¸ºä¸€ä¸ªæœ€ä¼˜èšåˆé¡ºåºæ‰€é‡Šæ”¾çš„æ€»èƒ½é‡ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n4\n2 3 5 10\n\næ ·ä¾‹è¾“å‡º #1\n710\n\næç¤º\nNOIP 2006 æé«˜ç»„ ç¬¬ä¸€é¢˜\næ€è·¯\nå°†æ•°ç»„å¤„ç†æˆç¯å½¢æ•°ç»„ï¼Œè€ƒè™‘è½¬ç§»ï¼š\nf(i,j)=max(f(i,j),f(i,k)+f(k+1,j)+head[i]\\times tail[k]\\times tail[j])\næšä¸¾é•¿åº¦ä¸ºnçš„åŒºé—´ï¼Œè·å¾—æœ€å¤§å€¼ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 550;\nconst int mo109 = 1000000007;\n \nll h[maxn], t[maxn];\nll f[maxn][maxn];\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; h[i];\n        t[i - 1] = h[i];\n    }\n    for (int i = n + 1;i &lt;= 2 * n;i++) {\n        h[i] = h[i - n];\n        t[i - 1] = t[i - 1 - n];\n    }\n    t[2 * n] = t[n];\n \n    for (int i = 0;i &lt;= 2 * n;i++) {\n        for (int j = 0;j &lt;= 2 * n;j++) {\n            f[i][j] = 0;\n        }\n    }\n \n    for (int len = 1;len &lt;= n;len++) {\n        for (int i = 1;i + len - 1 &lt;= 2 * n;i++) {\n            int j = i + len - 1;\n            for (int k = i;k + 1 &lt;= j;k++) {\n                f[i][j] = max(f[i][j], f[i][k] + f[k + 1][j] + h[i] * t[k] * t[j]);\n            }\n        }\n    }\n    ll ans = 0;\n    for (int i = 1;i &lt;= n;i++) {\n        int j = i + n - 1;\n        ans = max(ans, f[i][j]);\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\n[NOIP2007 æé«˜ç»„] çŸ©é˜µå–æ•°æ¸¸æˆ\né¢˜ç›®æè¿°\nå¸…å¸…ç»å¸¸è·ŸåŒå­¦ç©ä¸€ä¸ªçŸ©é˜µå–æ•°æ¸¸æˆï¼šå¯¹äºä¸€ä¸ªç»™å®šçš„ n \\times m çš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´  a_{i,j} å‡ä¸ºéè´Ÿæ•´æ•°ã€‚æ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š\n\næ¯æ¬¡å–æ•°æ—¶é¡»ä»æ¯è¡Œå„å–èµ°ä¸€ä¸ªå…ƒç´ ï¼Œå…± n ä¸ªã€‚ç»è¿‡ m æ¬¡åå–å®ŒçŸ©é˜µå†…æ‰€æœ‰å…ƒç´ ï¼›\næ¯æ¬¡å–èµ°çš„å„ä¸ªå…ƒç´ åªèƒ½æ˜¯è¯¥å…ƒç´ æ‰€åœ¨è¡Œçš„è¡Œé¦–æˆ–è¡Œå°¾ï¼›\næ¯æ¬¡å–æ•°éƒ½æœ‰ä¸€ä¸ªå¾—åˆ†å€¼ï¼Œä¸ºæ¯è¡Œå–æ•°çš„å¾—åˆ†ä¹‹å’Œï¼Œæ¯è¡Œå–æ•°çš„å¾—åˆ† = è¢«å–èµ°çš„å…ƒç´ å€¼ \\times 2^iï¼Œå…¶ä¸­ i è¡¨ç¤ºç¬¬ i æ¬¡å–æ•°ï¼ˆä» 1 å¼€å§‹ç¼–å·ï¼‰ï¼›\næ¸¸æˆç»“æŸæ€»å¾—åˆ†ä¸º m æ¬¡å–æ•°å¾—åˆ†ä¹‹å’Œã€‚\n\nå¸…å¸…æƒ³è¯·ä½ å¸®å¿™å†™ä¸€ä¸ªç¨‹åºï¼Œå¯¹äºä»»æ„çŸ©é˜µï¼Œå¯ä»¥æ±‚å‡ºå–æ•°åçš„æœ€å¤§å¾—åˆ†ã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥æ–‡ä»¶åŒ…æ‹¬ n+1 è¡Œï¼š\nç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•° n å’Œ mã€‚\nç¬¬ 2\\sim n+1 è¡Œä¸º n \\times m çŸ©é˜µï¼Œå…¶ä¸­æ¯è¡Œæœ‰ m ä¸ªç”¨å•ä¸ªç©ºæ ¼éš”å¼€çš„éè´Ÿæ•´æ•°ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºæ–‡ä»¶ä»…åŒ…å« 1 è¡Œï¼Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œå³è¾“å…¥çŸ©é˜µå–æ•°åçš„æœ€å¤§å¾—åˆ†ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n2 3\n1 2 3\n3 4 2\n\næ ·ä¾‹è¾“å‡º #1\n82\n\næç¤º\nã€æ•°æ®èŒƒå›´ã€‘\nå¯¹äº 60\\% çš„æ•°æ®ï¼Œæ»¡è¶³ 1\\le n,m\\le 30ï¼Œç­”æ¡ˆä¸è¶…è¿‡ 10^{16}ã€‚\nå¯¹äº 100\\% çš„æ•°æ®ï¼Œæ»¡è¶³ 1\\le n,m\\le 80ï¼Œ0\\le a_{i,j}\\le1000ã€‚\nã€é¢˜ç›®æ¥æºã€‘\nNOIP 2007 æé«˜ç¬¬ä¸‰é¢˜ã€‚\næ€è·¯\nè®¾ç½®f(i,j)è¡¨ç¤ºå–åŒºé—´[i,j]è·å¾—çš„æœ€å¤§å¾—åˆ†ï¼Œæ ¹æ®é¢˜æ„å¯çŸ¥ï¼Œæ¯è¡Œçš„æœ€å¤§å€¼ä¹‹é—´å¹¶ä¸ç›¸å…³ï¼Œå¯ä»¥åˆ†åˆ«è®¡ç®—æ¯è¡Œå–æ•°å¾—åˆ†çš„æœ€å¤§å€¼å†ç›¸åŠ ï¼Œæ³¨æ„æ­¤é¢˜æ¶‰åŠåˆ°é«˜ç²¾åº¦ã€‚\nè€ƒè™‘è½¬ç§»ï¼š\nf(i,j)å¯ä»¥ç”±ä¸¤ç§çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œä¸€ç§æ˜¯å…ˆå–a[i]ï¼Œå†å–f(i+1,j)ï¼Œè¿™æ—¶çš„å¾—åˆ†æ˜¯f(i+1,j)\\times 2 + a[i]\\times 2ï¼›å¦ä¸€ç§æ˜¯å…ˆå–a[j]ï¼Œå†å–f(i,j-1)ï¼Œè¿™æ—¶çš„å¾—åˆ†æ˜¯f(i,j-1)\\times 2+a[j]\\times 2ã€‚ä¸¤è€…å–è¾ƒå¤§å€¼å³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 550;\nconst int mo109 = 1000000007;\nconst ll mo118 = 1e18;\n \nstruct int128 {\n    ll hig, low;\n    int128 operator+(const int128&amp; b)const {\n        int128 k = { 0ll,0ll };\n        k.low = low + b.low;\n        k.hig = k.low / mo118 + hig + b.hig;\n        k.low %= mo118;\n        return k;\n    }\n    int128 operator*(const int&amp; b)const {\n        int128 k = { 0ll,0ll };\n        k.low = b * low;\n        k.hig = k.low / mo118 + hig * b;\n        k.low %= mo118;\n        return k;\n    }\n    void output() {\n        if (!hig)cout &lt;&lt; low;\n        else cout &lt;&lt; hig &lt;&lt; setw(18) &lt;&lt; setfill(&#039;0&#039;) &lt;&lt; low;\n    }\n};\n \nbool leq(int128 a, int128 b) {\n    if (a.hig != b.hig)return a.hig &lt; b.hig;\n    return a.low &lt; b.low;\n}\n \nint128 a[maxn][maxn];\nint128 f[maxn][maxn];\nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= m;j++) {\n            cin &gt;&gt; a[i][j].low;\n            a[i][j].hig = 0ll;\n        }\n    }\n \n    int128 ans = { 0ll,0ll };\n    for (int ni = 1;ni &lt;= n;ni++) {\n        for (int i = 1;i &lt;= m;i++) {\n            for (int j = 1;j &lt;= m;j++) {\n                f[i][j] = { 0ll,0ll };\n            }\n        }\n \n        for (int len = 1;len &lt;= m;len++) {\n            for (int i = 1;i + len - 1 &lt;= m;i++) {\n                int j = i + len - 1;\n                int128 na = (f[i + 1][j] + a[ni][i]) * 2;\n                int128 nb = (f[i][j - 1] + a[ni][j]) * 2;\n                f[i][j] = max(na, nb, leq);\n            }\n        }\n        ans = ans + f[1][m];\n    }\n    ans.output();\n}\n \nint main() {\n    // ios::sync_with_stdio(false);\n    // cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\n[CQOI2007] æ¶‚è‰²\né¢˜ç›®æè¿°\nå‡è®¾ä½ æœ‰ä¸€æ¡é•¿åº¦ä¸º 5 çš„æœ¨æ¿ï¼Œåˆå§‹æ—¶æ²¡æœ‰æ¶‚è¿‡ä»»ä½•é¢œè‰²ã€‚ä½ å¸Œæœ›æŠŠå®ƒçš„ 5 ä¸ªå•ä½é•¿åº¦åˆ†åˆ«æ¶‚ä¸Šçº¢ã€ç»¿ã€è“ã€ç»¿ã€çº¢è‰²ï¼Œç”¨ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„å­—ç¬¦ä¸²è¡¨ç¤ºè¿™ä¸ªç›®æ ‡ï¼š\\texttt{RGBGR}ã€‚\næ¯æ¬¡ä½ å¯ä»¥æŠŠä¸€æ®µè¿ç»­çš„æœ¨æ¿æ¶‚æˆä¸€ä¸ªç»™å®šçš„é¢œè‰²ï¼Œåæ¶‚çš„é¢œè‰²è¦†ç›–å…ˆæ¶‚çš„é¢œè‰²ã€‚ä¾‹å¦‚ç¬¬ä¸€æ¬¡æŠŠæœ¨æ¿æ¶‚æˆ \\texttt{RRRRR}ï¼Œç¬¬äºŒæ¬¡æ¶‚æˆ \\texttt{RGGGR}ï¼Œç¬¬ä¸‰æ¬¡æ¶‚æˆ \\texttt{RGBGR}ï¼Œè¾¾åˆ°ç›®æ ‡ã€‚\nç”¨å°½é‡å°‘çš„æ¶‚è‰²æ¬¡æ•°è¾¾åˆ°ç›®æ ‡ã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥ä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œå³æ¶‚è‰²ç›®æ ‡ã€‚å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªå¤§å†™å­—æ¯ï¼Œä¸åŒçš„å­—æ¯ä»£è¡¨ä¸åŒé¢œè‰²ï¼Œç›¸åŒçš„å­—æ¯ä»£è¡¨ç›¸åŒé¢œè‰²ã€‚\nè¾“å‡ºæ ¼å¼\nä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•°ï¼Œå³æœ€å°‘çš„æ¶‚è‰²æ¬¡æ•°ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\nAAAAA\n\næ ·ä¾‹è¾“å‡º #1\n1\n\næ ·ä¾‹ #2\næ ·ä¾‹è¾“å…¥ #2\nRGBGR\n\næ ·ä¾‹è¾“å‡º #2\n3\n\næç¤º\n40\\% çš„æ•°æ®æ»¡è¶³ 1\\le n\\le 10ã€‚\n100\\% çš„æ•°æ®æ»¡è¶³ 1\\le n\\le 50ã€‚\næ€è·¯\nè®¾f(i,j)è¡¨ç¤ºå®ŒæˆåŒºé—´[i,j]çš„æœ€å°æ¶‚è‰²æ¬¡æ•°ã€‚å–i\\leq k\\lt jåˆ™f(i,j)å¯ä»¥ç”±f(i,k)å’Œf(k+1,j)åˆå¹¶è½¬ç§»è€Œæ¥ï¼Œè½¬ç§»æ—¶ï¼Œè‹¥s[k]=s[k+1]ï¼Œæ˜¾ç„¶åœ¨åŒºé—´[i,k]ä¸­æ¶‚ä½ç½®kå’Œæ¶‚ä½ç½®k+1å¯ä»¥æ˜¯åŒä¸€æ­¥æ“ä½œï¼›è‹¥s[i]=s[j]ï¼Œåˆ™æ¶‚ä½ç½®iå’Œjä¹Ÿå¯ä»¥æ˜¯åŒä¸€æ­¥æ“ä½œï¼Œåˆ™è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š\nf(i,j)=f(i,k)+f(k+1,j)-(s[i]==s[j] \\or s[k]==s[k+1])\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 550;\nconst int mo109 = 1000000007;\nconst ll mo118 = 1e18;\n \nll f[maxn][maxn];\nvoid solve() {\n    string s;cin &gt;&gt; s;\n    int n = s.size();\n    s = &quot; &quot; + s;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= n;j++) {\n            f[i][j] = 1e18;\n        }\n        f[i][i] = 1;\n    }\n    for (int len = 1;len &lt;= n;len++) {\n        for (int i = 1;i + len - 1 &lt;= n;i++) {\n            int j = i + len - 1;\n            // f[i][j]:å®Œæˆ[i,j]åŒºé—´æ¶‚è‰²çš„æœ€å°æ¶‚è‰²æ¬¡æ•°\n            for (int k = i;k + 1 &lt;= j;k++) {\n                if (s[k] == s[k + 1] || s[i] == s[j])\n                    f[i][j] = min(f[i][j], f[i][k] + f[k + 1][j] - 1);\n                else\n                    f[i][j] = min(f[i][j], f[i][k] + f[k + 1][j]);\n            }\n        }\n    }\n    cout &lt;&lt; f[1][n] &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\n[SCOI2003] å­—ç¬¦ä¸²æŠ˜å \né¢˜ç›®æè¿°\næŠ˜å çš„å®šä¹‰å¦‚ä¸‹ï¼š\n\n\nä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥çœ‹æˆå®ƒè‡ªèº«çš„æŠ˜å ã€‚è®°ä½œ S = S\n\n\nX(S) æ˜¯ X ä¸ª S è¿æ¥åœ¨ä¸€èµ·çš„ä¸²çš„æŠ˜å ã€‚è®°ä½œ X(S) = SSSSâ€¦Sã€‚\n\n\nå¦‚æœ A = Aâ€™, B = Bâ€™ï¼Œåˆ™ AB = Aâ€™Bâ€™ ã€‚ä¾‹å¦‚ï¼šå› ä¸º 3(A) = AAA, 2(B) = BBï¼Œæ‰€ä»¥ 3(A)C2(B) = AAACBBï¼Œè€Œ 2(3(A)C)2(B) = AAACAAACBB\n\n\nç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚å®ƒçš„æœ€çŸ­æŠ˜å ã€‚\nä¾‹å¦‚ AAAAAAAAAABABABCCD çš„æœ€çŸ­æŠ˜å ä¸ºï¼š9(A)3(AB)CCDã€‚\nè¾“å…¥æ ¼å¼\nä»…ä¸€è¡Œï¼Œå³å­—ç¬¦ä¸² Sï¼Œé•¿åº¦ä¿è¯ä¸è¶…è¿‡ 100ã€‚\nè¾“å‡ºæ ¼å¼\nä»…ä¸€è¡Œï¼Œå³æœ€çŸ­çš„æŠ˜å é•¿åº¦ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\nNEERCYESYESYESNEERCYESYESYES\n\næ ·ä¾‹è¾“å‡º #1\n14\n\næç¤º\nä¸€ä¸ªæœ€çŸ­çš„æŠ˜å ä¸ºï¼š2(NEERC3(YES))\næ€è·¯\nè®¾f(i,j)æ˜¯åŒºé—´[i,j]æŠ˜å ä¹‹åçš„æœ€çŸ­é•¿åº¦ï¼Œå¦‚æœåŒºé—´[i,j]å¯ä»¥è¢«æŠ˜å ï¼Œåˆ™çŠ¶æ€è½¬ç§»ï¼š\nf(i,j)=max(f(i,j),f(i,k)+2+Len((j-i+1)/(k-i+1)))\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef pair&lt;int, int&gt; pii;\nconst int maxn = 550;\nconst int mo109 = 1000000007;\nconst ll mo118 = 1e18;\n \nstring s;\nint n;\nll f[maxn][maxn];\nll ff[maxn][maxn];\n \nint Len(int x) {\n    if (x == 1)return -2;\n    int res = 0;\n    while (x) {\n        res++;\n        x /= 10;\n    }\n    return res;\n}\n \nbool check(int l, int r, int p) {\n    for (int i = l + p;i &lt;= r;i++) {\n        if (s[i] == s[(i - l) % p + l])continue;\n        return false;\n    }\n    return true;\n}\n \nvoid solve() {\n    cin &gt;&gt; s;\n    n = s.size();\n    s = &quot; &quot; + s;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= n;j++) {\n            f[i][j] = max(0, j - i + 1); // S=S&#039;\n        }\n        f[i][i] = 1;\n    }\n \n    for (int len = 2;len &lt;= n;len++) { // åŒºé—´é•¿åº¦æ˜¯len\n        for (int i = 1;i + len - 1 &lt;= n;i++) {\n            int j = i + len - 1;\n            for (int k = i;k + 1 &lt;= j;k++) {\n                f[i][j] = min(f[i][j], f[i][k] + f[k + 1][j]);\n            }\n            for (int d = 1;d + i - 1 &lt; j;d++) {\n                if (len % d)continue;\n                // [i,j]æŒ‰ç…§é•¿åº¦dè¿›è¡ŒæŠ˜å \n                int k = d + i - 1;\n                if (check(i, j, d)) {\n                    f[i][j] = min(f[i][j], f[i][k] + 2 + Len(len / d));\n                }\n            }\n        }\n    }\n \n    cout &lt;&lt; f[1][n] &lt;&lt; &#039;\\n&#039;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}"},"03-algorithm/lchot100":{"slug":"03-algorithm/lchot100","filePath":"03-algorithm/lchot100.md","title":"LeetCode Hot 100è®°å½•ï¼ˆ19/100ï¼‰","links":[],"tags":["ç®—æ³•","LeetCode"],"content":"å“ˆå¸Œ(3/3)\n1. ä¸¤æ•°ä¹‹å’Œ\né¢˜æ„\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsÂ  å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ Â targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º Â å’Œä¸ºç›®æ ‡å€¼Â targetÂ  çš„é‚£ Â ä¸¤ä¸ªÂ  æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚\nä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„å…ƒç´ ã€‚\nä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) {\n        unordered_map&lt;int, int&gt; mp;\n        int n = nums.size();\n        for (int i = 0; i &lt; n; i++) {\n            if (mp.count(target - nums[i])) {\n                return {mp[target - nums[i]], i};\n            }\n            mp[nums[i]] = i;\n        }\n        return {};\n    }\n};\n49. å­—æ¯å¼‚ä½è¯åˆ†ç»„\né¢˜æ„\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† å­—æ¯å¼‚ä½è¯ ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚\nå­—æ¯å¼‚ä½è¯ æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„æ‰€æœ‰å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;vector&lt;string&gt;&gt; groupAnagrams(vector&lt;string&gt;&amp; strs) {\n        unordered_map&lt;string, vector&lt;string&gt;&gt; mp;\n        for (auto&amp; s : strs) {\n            string t = s;\n            sort(t.begin(), t.end());\n            mp[t].push_back(s);\n        }\n        vector&lt;vector&lt;string&gt;&gt; v;\n        for (auto&amp; i : mp) {\n            v.push_back(move(i.second));\n        }\n        return v;\n    }\n};\n128. æœ€é•¿è¿ç»­åºåˆ—\né¢˜æ„\nç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ Â numsÂ ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚\nè¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º Â O(n)Â  çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚\nä»£ç \nclass Solution {\npublic:\n    int longestConsecutive(vector&lt;int&gt;&amp; nums) {\n        if (nums.empty())\n            return 0;\n        if (nums.size() == 1)\n            return 1;\n \n        sort(nums.begin(), nums.end());\n        int ans = 1, mx = 1;\n        int n = nums.size();\n        for (int i = 1; i &lt; n; i++) {\n            if (nums[i] == nums[i - 1])\n                continue;\n            if (nums[i] == nums[i - 1] + 1) {\n                mx++;\n            } else {\n                mx = 1;\n            }\n            ans = max(mx, ans);\n        }\n        return ans;\n    }\n};\nåŒæŒ‡é’ˆ(4/4)\n283. ç§»åŠ¨é›¶\né¢˜æ„\nç»™å®šä¸€ä¸ªæ•°ç»„ Â numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ Â 0Â  ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚\nè¯·æ³¨æ„Â ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚\nä»£ç \nclass Solution {\npublic:\n    void moveZeroes(vector&lt;int&gt;&amp; nums) {\n        int pre = 0, cur = 0;\n        while (cur &lt; nums.size()) {\n            if (nums[cur]) {\n                if (pre != cur)\n                    swap(nums[pre], nums[cur]);\n                pre++;\n            }\n            cur++;\n        }\n    }\n};\n11. ç››æœ€å¤šæ°´çš„å®¹å™¨\né¢˜æ„\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸º Â nÂ  çš„æ•´æ•°æ•°ç»„ Â heightÂ ã€‚æœ‰ Â nÂ  æ¡å‚çº¿ï¼Œç¬¬ Â iÂ  æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ Â (i, 0)Â  å’Œ Â (i, height[i])Â ã€‚\næ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ Â xÂ  è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚\nè¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚\nè¯´æ˜ï¼š ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚\nä»£ç \nclass Solution {\npublic:\n    int maxArea(vector&lt;int&gt;&amp; height) {\n        int l = 0, r = height.size() - 1;\n        int cur = (r - l) * min(height[l], height[r]);\n        int ans = cur;\n        while (l &lt; r) {\n            ans = max(ans, cur);\n            if (height[l] &lt; height[r]) {\n                l++;\n            } else {\n                r--;\n            }\n            cur = (r - l) * min(height[l], height[r]);\n        }\n        return ans;\n    }\n};\n15. ä¸‰æ•°ä¹‹å’Œ\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsÂ ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ Â [nums[i], nums[j], nums[k]]Â  æ»¡è¶³ Â i != jã€i != kÂ  ä¸” Â j != kÂ ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ Â nums[i] + nums[j] + nums[k] == 0Â ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º Â 0Â  ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚\næ³¨æ„ï¼š ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;vector&lt;int&gt;&gt; threeSum(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        sort(nums.begin(), nums.end());\n        vector&lt;vector&lt;int&gt;&gt; res;\n        int i = 0;\n        while (i + 2 &lt; n) {\n            if (nums[i] &gt; 0) {\n                break;\n            }\n            if (i &gt; 0 &amp;&amp; nums[i] == nums[i - 1]) {\n                i++;\n                continue;\n            }\n \n            int l = i + 1, r = n - 1;\n            while (l &lt; r) {\n                if (nums[i] + nums[l] + nums[r] &lt; 0) {\n                    l++;\n                } else if (nums[i] + nums[l] + nums[r] &gt; 0) {\n                    r--;\n                } else {\n                    res.push_back({nums[i], nums[l], nums[r]});\n                    while (l &lt; r &amp;&amp; nums[l] == nums[l + 1]) {\n                        l++;\n                    }\n                    while (l &lt; r &amp;&amp; nums[r] == nums[r - 1]) {\n                        r--;\n                    }\n                    l++, r--;\n                }\n            }\n            i++;\n        }\n        return res;\n    }\n};\n42. æ¥é›¨æ°´\né¢˜æ„\nç»™å®š Â nÂ  ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º Â 1Â  çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚\nä»£ç \nclass Solution {\npublic:\n    int trap(vector&lt;int&gt;&amp; height) {\n        int n = height.size();\n        int lmx = 0, rmx = 0, mx = 0;\n        int ans = 0;\n        int l = 0, r = n - 1;\n        while (l &lt; r) {\n            lmx = max(lmx, height[l]);\n            rmx = max(rmx, height[r]);\n            if (height[l] &lt; height[r]) { // ä½çš„å­˜æ°´ä¸Šé™å·²ç»å®šäº†\n                ans += lmx - height[l];\n                l++;\n            } else {\n                ans += rmx - height[r];\n                r--;\n            }\n        }\n        return ans;\n    }\n};\næ»‘åŠ¨çª—å£(2/2)\n3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²\né¢˜æ„\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² Â sÂ ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ Â æœ€é•¿å­ä¸²Â  çš„é•¿åº¦ã€‚\nä»£ç \nclass Solution {\npublic:\n    int lengthOfLongestSubstring(string s) {\n        int n = s.size();\n        if (!n) {\n            return 0;\n        }\n        unordered_map&lt;char, int&gt; cnt;\n        int l = 0, r = 1;\n        int ans = 1;\n        cnt[s[0]]++;\n        while (r &lt; n) {\n            while (r &lt; n &amp;&amp; cnt[s[r]] == 0) {\n                cnt[s[r]]++;\n                r++;\n            }\n            ans = max(r - l, ans);\n            while (l &lt; r &amp;&amp; cnt[s[r]] != 0) {\n                cnt[s[l]]--;\n                l++;\n            }\n            if (r &lt; n) {\n                cnt[s[r]]++;\n                r++;\n            }\n        }\n \n        return ans;\n    }\n};\n438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯\né¢˜æ„\nç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² Â sÂ  å’Œ Â pï¼Œæ‰¾åˆ° Â sÂ  ä¸­æ‰€æœ‰ Â pÂ  çš„ Â å¼‚ä½è¯Â  çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;int&gt; findAnagrams(string s, string p) {\n        if (s.size() &lt; p.size() || s.empty() || p.empty()) {\n            return {};\n        }\n        vector&lt;int&gt; ts(26, 0), tp(26, 0);\n        int n = s.size(), m = p.size();\n        for (int i = 0; i &lt; m; i++) {\n            ts[s[i] - &#039;a&#039;]++, tp[p[i] - &#039;a&#039;]++;\n        }\n        int mc = 0;\n        for (int i = 0; i &lt; 26; i++) {\n            mc += tp[i] == ts[i];\n        }\n        int l = 0, r = m;\n        vector&lt;int&gt; pos;\n        while (r &lt;= n) {\n            if (mc == 26) {\n                pos.push_back(l);\n            }\n            if (r == n)\n                break;\n            mc -= tp[s[l] - &#039;a&#039;] == ts[s[l] - &#039;a&#039;];\n            mc -= tp[s[r] - &#039;a&#039;] == ts[s[r] - &#039;a&#039;];\n            ts[s[l] - &#039;a&#039;]--, ts[s[r] - &#039;a&#039;]++;\n            mc += tp[s[l] - &#039;a&#039;] == ts[s[l] - &#039;a&#039;];\n            mc += tp[s[r] - &#039;a&#039;] == ts[s[r] - &#039;a&#039;];\n            l++, r++;\n        }\n \n        return pos;\n    }\n};\nå­ä¸²(3/3)\n560. å’Œä¸º K çš„å­æ•°ç»„\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsÂ  å’Œä¸€ä¸ªæ•´æ•° Â kÂ ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› Â è¯¥æ•°ç»„ä¸­å’Œä¸º Â kÂ  çš„å­æ•°ç»„çš„ä¸ªæ•°Â ã€‚\nå­æ•°ç»„æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„è¿ç»­éç©ºåºåˆ—ã€‚\nä»£ç \nclass Solution {\npublic:\n    int subarraySum(vector&lt;int&gt;&amp; nums, int k) {\n        int n = nums.size();\n        vector&lt;int&gt; pre(n + 1, 0);\n        unordered_map&lt;int, int&gt; mp;\n        int ans = 0;\n        mp[0] = 1;\n        for (int i = 0; i &lt; n; i++) {\n            pre[i + 1] = pre[i] + nums[i];\n            ans += mp[pre[i + 1] - k];\n            mp[pre[i + 1]]++;\n        }\n        return ans;\n    }\n};\n239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º Â kÂ  çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ Â kÂ  ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚\nè¿”å› Â æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼Â ã€‚\nä»£ç \nvector&lt;int&gt; maxSlidingWindow(vector&lt;int&gt; &amp;nums, int k) {\n  deque&lt;int&gt; q;\n  int n = nums.size();\n  for (int i = 0; i &lt; k; i++) {\n    while (!q.empty() &amp;&amp; nums[q.back()] &lt; nums[i]) {\n      q.pop_back();\n    }\n    q.push_back(i);\n  }\n  vector&lt;int&gt; ans = {nums[q.front()]};\n  for (int i = k; i &lt; n; i++) {\n    while (!q.empty() &amp;&amp; q.front() &lt;= i - k) {\n      q.pop_front();\n    }\n    while (!q.empty() &amp;&amp; nums[q.back()] &lt; nums[i]) {\n      q.pop_back();\n    }\n    q.push_back(i);\n    ans.push_back(nums[q.front()]);\n  }\n \n  return ans;\n}\n76. æœ€å°è¦†ç›–å­ä¸²\né¢˜æ„\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² Â sÂ ã€ä¸€ä¸ªå­—ç¬¦ä¸² Â tÂ ã€‚è¿”å› Â sÂ  ä¸­æ¶µç›– Â tÂ  æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ Â sÂ  ä¸­ä¸å­˜åœ¨æ¶µç›– Â tÂ  æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² Â &quot;&quot;Â ã€‚\nä»£ç \nclass Solution {\npublic:\n    string minWindow(string s, string t) {\n        int n = s.size(), m = t.size();\n        if (n &lt; m) {\n            return &quot;&quot;;\n        }\n        vector&lt;int&gt; mc(128, 0), cur(128, 0);\n        for (int i = 0; i &lt; m; i++) {\n            mc[t[i]]++, cur[s[i]]++;\n        }\n \n        int tot = 0;\n \n        for (char c = &#039;A&#039;; c &lt;= &#039;Z&#039;; c++) {\n            if (mc[c] &lt;= cur[c]) {\n                tot++;\n            }\n        }\n        for (char c = &#039;a&#039;; c &lt;= &#039;z&#039;; c++) {\n            if (mc[c] &lt;= cur[c]) {\n                tot++;\n            }\n        }\n \n        int L = 0, R = 0;\n        string ans = &quot;&quot;;\n        int l = 0, r = m;\n        if (tot == 52) {\n            if (R == 0 || r - l &lt; R - L) {\n                L = l, R = r;\n            }\n        }\n        while (r &lt; n) {\n            while (tot != 52 &amp;&amp; r &lt; n) {\n                tot -= cur[s[r]] &gt;= mc[s[r]];\n                cur[s[r]]++;\n                tot += cur[s[r]] &gt;= mc[s[r]];\n                r++;\n            }\n            while (l &lt; r &amp;&amp; mc[s[l]] &lt; cur[s[l]]) {\n                tot -= cur[s[l]] &gt;= mc[s[l]];\n                cur[s[l]]--;\n                tot += cur[s[l]] &gt;= mc[s[l]];\n                l++;\n            }\n            if (tot == 52) {\n                if (R == 0 || r - l &lt; R - L) {\n                    L = l, R = r;\n                }\n            }\n            tot -= cur[s[l]] &gt;= mc[s[l]];\n            cur[s[l]]--;\n            tot += cur[s[l]] &gt;= mc[s[l]];\n            l++;\n            while (l &lt; r &amp;&amp; mc[s[l]] == 0) {\n                tot -= cur[s[l]] &gt;= mc[s[l]];\n                cur[s[l]]--;\n                tot += cur[s[l]] &gt;= mc[s[l]];\n                l++;\n            }\n        }\n \n        return s.substr(L, R - L);\n    }\n};\næ™®é€šæ•°ç»„(5/5)\n53. æœ€å¤§å­æ•°ç»„å’Œ\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsÂ ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚\nå­æ•°ç»„æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚\nä»£ç \nclass Solution {\npublic:\n    int maxSubArray(vector&lt;int&gt;&amp; nums) {\n        int pre = 0;\n        int mx = nums.front();\n        for (int i : nums) {\n            pre = max(pre + i, i);\n            mx = max(mx, pre);\n        }\n        return mx;\n    }\n};\n56. åˆå¹¶åŒºé—´\né¢˜æ„\nä»¥æ•°ç»„ Â intervalsÂ  è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º Â intervals[i] = [starti, endi]Â ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› Â ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´Â ã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;vector&lt;int&gt;&gt; merge(vector&lt;vector&lt;int&gt;&gt;&amp; intervals) {\n        sort(intervals.begin(), intervals.end());\n        vector&lt;vector&lt;int&gt;&gt; v;\n        int l = -1, r = -1;\n        for (auto&amp; a : intervals) {\n            if (l == -1) {\n                l = a[0], r = a[1];\n                continue;\n            }\n            if (a[0] &gt; r) {\n                v.push_back({l, r});\n                l = a[0];\n            }\n            r = max(r, a[1]);\n        }\n        v.push_back({l, r});\n        return v;\n    }\n};\n57. è½®è½¬æ•°ç»„\né¢˜æ„\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ Â kÂ  ä¸ªä½ç½®ï¼Œå…¶ä¸­ Â kÂ  æ˜¯éè´Ÿæ•°ã€‚\nä»£ç \nclass Solution {\npublic:\n    void rotate(vector&lt;int&gt;&amp; nums, int k) {\n        int n = nums.size();\n        k %= n;\n        reverse(nums.begin(), nums.end());\n        reverse(nums.begin(), nums.begin() + k);\n        reverse(nums.begin() + k, nums.end());\n    }\n};\n58. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsï¼Œè¿”å› æ•°ç»„ Â answerÂ ï¼Œå…¶ä¸­ Â answer[i]Â  ç­‰äº Â numsÂ  ä¸­é™¤ Â nums[i]Â  ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ Â ã€‚\né¢˜ç›®æ•°æ® Â ä¿è¯Â  æ•°ç»„ Â numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨ Â Â 32 ä½Â  æ•´æ•°èŒƒå›´å†…ã€‚\nè¯· Â ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œ ä¸”åœ¨ Â O(n)Â  æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;int&gt; productExceptSelf(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        vector&lt;int&gt; pre(n, 1), suf(n, 1);\n        pre[0] = nums[0], suf[n - 1] = nums[n - 1];\n        for (int i = 1; i &lt; n; i++) {\n            pre[i] = pre[i - 1] * nums[i];\n            suf[n - i - 1] = suf[n - i] * nums[n - i - 1];\n        }\n        vector&lt;int&gt; arr;\n        for (int i = 0; i &lt; n; i++) {\n            if (i - 1 &gt;= 0 &amp;&amp; i + 1 &lt;= n - 1)\n                arr.push_back(pre[i - 1] * suf[i + 1]);\n            else if (i == 0)\n                arr.push_back(suf[1]);\n            else\n                arr.push_back(pre[n - 2]);\n        }\n        return arr;\n    }\n};\n59. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°\né¢˜æ„\nç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ Â numsÂ ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚\nè¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸º Â O(n)Â  å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚\nä»£ç \nclass Solution {\npublic:\n    int firstMissingPositive(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        for (int i = 0; i &lt; n; i++) {\n            if (nums[i] &lt;= 0)\n                continue;\n            while (nums[i] &lt;= n &amp;&amp; nums[i] - 1 &gt;= 0 &amp;&amp;\n                   nums[nums[i] - 1] != nums[i]) {\n                swap(nums[i], nums[nums[i] - 1]);\n            }\n        }\n        for (int i = 0; i &lt; n; i++) {\n            if (nums[i] != i + 1)\n                return i + 1;\n        }\n        return n + 1;\n    }\n};\nçŸ©é˜µ(2/4)\n73. çŸ©é˜µç½®é›¶\né¢˜æ„\nç»™å®šä¸€ä¸ª Â m \\times nÂ  çš„çŸ©é˜µï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ ä¸º Â 0Â ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½è®¾ä¸º Â 0Â ã€‚è¯·ä½¿ç”¨ Â åŸåœ°Â  ç®—æ³•ã€‚\nä»£ç \nclass Solution {\npublic:\n    void setZeroes(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) {\n        int n = matrix.size();\n        if (!n)\n            return;\n        int m = matrix[0].size();\n        vector&lt;bool&gt; row(n), col(m);\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; m; j++) {\n                if (matrix[i][j] == 0) {\n                    row[i] = col[j] = true;\n                }\n            }\n        }\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; m; j++) {\n                if (row[i] || col[j])\n                    matrix[i][j] = 0;\n            }\n        }\n    }\n};\n54. èºæ—‹çŸ©é˜µ\né¢˜æ„\nç»™ä½ ä¸€ä¸ª Â mÂ  è¡Œ Â nÂ  åˆ—çš„çŸ©é˜µ Â matrixÂ ï¼Œè¯·æŒ‰ç…§ Â é¡ºæ—¶é’ˆèºæ—‹é¡ºåºÂ ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\nä»£ç \nclass Solution {\npublic:\n    vector&lt;int&gt; spiralOrder(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) {\n        int n = matrix.size();\n        if (!n)\n            return {};\n        if (n == 1)\n            return matrix[0];\n        int m = matrix[0].size();\n        if (m == 1) {\n            vector&lt;int&gt; v;\n            for (int i = 0; i &lt; n; i++)\n                v.emplace_back(matrix[i][0]);\n            return v;\n        }\n        int x = 0, y = 0, k = 0;\n        vector&lt;pair&lt;int, int&gt;&gt; dxy = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};\n        vector&lt;int&gt; v = {matrix[x][y]};\n        matrix[x][y] = -101;\n        while (v.size() &lt; n * m) {\n            int px = x + dxy[k].first, py = y + dxy[k].second;\n            if (px &lt; 0 || px &gt;= n || py &lt; 0 || py &gt;= m ||\n                matrix[px][py] == -101) {\n                k = (k + 1) % 4;\n                px = x + dxy[k].first, py = y + dxy[k].second;\n            }\n            v.push_back(matrix[px][py]);\n            matrix[px][py] = -101;\n            x = px, y = py;\n        }\n \n        return v;\n    }\n};\n48. æ—‹è½¬å›¾åƒ\né¢˜æ„\nç»™å®šä¸€ä¸ª Â n\\times n çš„äºŒç»´çŸ©é˜µ Â matrixÂ  è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚\nä½ å¿…é¡»åœ¨ Â åŸåœ°Â  æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦Â  ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚\n240. æœç´¢äºŒç»´çŸ©é˜µ II\n"},"03-algorithm/lineardp":{"slug":"03-algorithm/lineardp","filePath":"03-algorithm/lineardp.md","title":"åˆ·é¢˜è®°å½•||çº¿æ€§åŠ¨æ€è§„åˆ’","links":[],"tags":["ç®—æ³•","DP"],"content":"çº¿æ€§åŠ¨æ€è§„åˆ’\nçº¿æ€§åŠ¨æ€è§„åˆ’ï¼Œå³å…·æœ‰çº¿æ€§é˜¶æ®µåˆ’åˆ†çš„åŠ¨æ€è§„åˆ’ã€‚\n[P1216]æ•°å­—ä¸‰è§’å½¢\né¢˜ç›®æè¿°\nè§‚å¯Ÿä¸‹é¢çš„æ•°å­—é‡‘å­—å¡”ã€‚\nå†™ä¸€ä¸ªç¨‹åºæ¥æŸ¥æ‰¾ä»æœ€é«˜ç‚¹åˆ°åº•éƒ¨ä»»æ„å¤„ç»“æŸçš„è·¯å¾„ï¼Œä½¿è·¯å¾„ç»è¿‡æ•°å­—çš„å’Œæœ€å¤§ã€‚æ¯ä¸€æ­¥å¯ä»¥èµ°åˆ°å·¦ä¸‹æ–¹çš„ç‚¹ä¹Ÿå¯ä»¥åˆ°è¾¾å³ä¸‹æ–¹çš„ç‚¹ã€‚\n\nåœ¨ä¸Šé¢çš„æ ·ä¾‹ä¸­ï¼Œä» 7 \\to 3 \\to 8 \\to 7 \\to 5 çš„è·¯å¾„äº§ç”Ÿäº†æœ€å¤§æƒå€¼ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€ä¸ªè¡Œä¸€ä¸ªæ­£æ•´æ•° r ,è¡¨ç¤ºè¡Œçš„æ•°ç›®ã€‚\nåé¢æ¯è¡Œä¸ºè¿™ä¸ªæ•°å­—é‡‘å­—å¡”ç‰¹å®šè¡ŒåŒ…å«çš„æ•´æ•°ã€‚\nè¾“å‡ºæ ¼å¼\nå•ç‹¬çš„ä¸€è¡Œ,åŒ…å«é‚£ä¸ªå¯èƒ½å¾—åˆ°çš„æœ€å¤§çš„å’Œã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n5\n7\n3 8\n8 1 0\n2 7 4 4\n4 5 2 6 5\næ ·ä¾‹è¾“å‡º #1\n30\næç¤º\nã€æ•°æ®èŒƒå›´ã€‘\nå¯¹äº 100\\% çš„æ•°æ®ï¼Œ1\\le r \\le 1000ï¼Œæ‰€æœ‰è¾“å…¥åœ¨ [0,100] èŒƒå›´å†…ã€‚\né¢˜ç›®ç¿»è¯‘æ¥è‡ªNOCOWã€‚\nUSACO Training Section 1.5\nIOI1994 Day1T1\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\nll number[maxn][maxn];\nll dp[maxn][maxn]; // è®°å½•èµ°åˆ°(i,j)ç‚¹æ—¶æœ€å¥½çš„å’Œ\n \nint main() {\n    int n;\n    cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++)\n        for (int j = 1;j &lt;= i;j++)\n            cin &gt;&gt; number[i][j];\n    for (int i = 1;i &lt; n;i++)\n        dp[n][i] = number[n][i];\n    for (int i = n;i &gt; 1;i--) {\n        for (int j = 1;j &lt;= i;j++) {\n            dp[i - 1][j] = max(dp[i][j], dp[i][j + 1]) + number[i - 1][j];\n        }\n    }\n    cout &lt;&lt; dp[1][1] &lt;&lt; endl;\n \n    return 0;\n}\n[P1020]å¯¼å¼¹æ‹¦æˆª\né¢˜ç›®æè¿°\næŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå‘å±•å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚ä½†æ˜¯è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼šè™½ç„¶å®ƒçš„ç¬¬ä¸€å‘ç‚®å¼¹èƒ½å¤Ÿåˆ°è¾¾ä»»æ„çš„é«˜åº¦ï¼Œä½†æ˜¯ä»¥åæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚æŸå¤©ï¼Œé›·è¾¾æ•æ‰åˆ°æ•Œå›½çš„å¯¼å¼¹æ¥è¢­ã€‚ç”±äºè¯¥ç³»ç»Ÿè¿˜åœ¨è¯•ç”¨é˜¶æ®µï¼Œæ‰€ä»¥åªæœ‰ä¸€å¥—ç³»ç»Ÿï¼Œå› æ­¤æœ‰å¯èƒ½ä¸èƒ½æ‹¦æˆªæ‰€æœ‰çš„å¯¼å¼¹ã€‚\nè¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼Œè®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œå¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚\nè¾“å…¥æ ¼å¼\nä¸€è¡Œï¼Œè‹¥å¹²ä¸ªæ•´æ•°ï¼Œä¸­é—´ç”±ç©ºæ ¼éš”å¼€ã€‚\nè¾“å‡ºæ ¼å¼\nä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºè¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œç¬¬äºŒä¸ªæ•°å­—è¡¨ç¤ºå¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n389 207 155 300 299 170 158 65\næ ·ä¾‹è¾“å‡º #1\n6\n2\næç¤º\nå¯¹äºå‰ 50\\% æ•°æ®ï¼ˆNOIP åŸé¢˜æ•°æ®ï¼‰ï¼Œæ»¡è¶³å¯¼å¼¹çš„ä¸ªæ•°ä¸è¶…è¿‡ 10^4 ä¸ªã€‚è¯¥éƒ¨åˆ†æ•°æ®æ€»åˆ†å…± 100 åˆ†ã€‚å¯ä½¿ç”¨\\mathcal O(n^2) åšæ³•é€šè¿‡ã€‚\nå¯¹äºå 50\\% çš„æ•°æ®ï¼Œæ»¡è¶³å¯¼å¼¹çš„ä¸ªæ•°ä¸è¶…è¿‡ 10^5 ä¸ªã€‚è¯¥éƒ¨åˆ†æ•°æ®æ€»åˆ†ä¹Ÿä¸º 100 åˆ†ã€‚è¯·ä½¿ç”¨ \\mathcal O(n\\log n) åšæ³•é€šè¿‡ã€‚\nå¯¹äºå…¨éƒ¨æ•°æ®ï¼Œæ»¡è¶³å¯¼å¼¹çš„é«˜åº¦ä¸ºæ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 5\\times 10^4ã€‚\næ­¤å¤–æœ¬é¢˜å¼€å¯ spjï¼Œæ¯ç‚¹ä¸¤é—®ï¼ŒæŒ‰é—®ç»™åˆ†ã€‚\n\n\\text{upd 2022.8.24}ï¼šæ–°å¢åŠ ä¸€ç»„ Hack æ•°æ®ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50;\nvector&lt;int&gt;a, b, c;\nint main() {\n    int n;\n    while (cin &gt;&gt; n) { a.push_back(n); }\n    for (int i = 0;i &lt; a.size();i++) {\n        if (b.size() == 0 || a[i] &lt;= b.back())\n            b.push_back(a[i]);\n        else {\n            int l = 0, r = b.size() - 1;\n            int pos = 0;\n            while (l &lt; r) {\n                pos = (l + r) / 2;\n                if (b[pos] &gt;= a[i])l = pos + 1;\n                else r = pos;\n            }\n            b[l] = a[i];\n        }\n        if (c.size() == 0 || c.back() &lt; a[i])\n            c.push_back(a[i]);\n        else {\n            int l = 0, r = c.size() - 1;\n            int pos = 0;\n            while (l &lt; r) {\n                pos = (l + r) / 2;\n                if (c[pos] &lt; a[i])l = pos + 1;\n                else r = pos;\n            }\n            c[l] = a[i];\n        }\n    }\n    cout &lt;&lt; b.size() &lt;&lt; endl;\n    cout &lt;&lt; c.size() &lt;&lt; endl;\n \n    return 0;\n}\n[P1091]åˆå”±é˜Ÿå½¢\né¢˜ç›®æè¿°\nn ä½åŒå­¦ç«™æˆä¸€æ’ï¼ŒéŸ³ä¹è€å¸ˆè¦è¯·å…¶ä¸­çš„ n-k ä½åŒå­¦å‡ºåˆ—ï¼Œä½¿å¾—å‰©ä¸‹çš„ k ä½åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚\nåˆå”±é˜Ÿå½¢æ˜¯æŒ‡è¿™æ ·çš„ä¸€ç§é˜Ÿå½¢ï¼šè®¾ k ä½åŒå­¦ä»å·¦åˆ°å³ä¾æ¬¡ç¼–å·ä¸º 1,2, â€¦ ,kï¼Œä»–ä»¬çš„èº«é«˜åˆ†åˆ«ä¸º t_1,t_2, â€¦ ,t_kï¼Œåˆ™ä»–ä»¬çš„èº«é«˜æ»¡è¶³ t_1&lt; \\cdots &lt;t_i&gt;t_{i+1}&gt; â€¦ &gt;t_k(1\\le i\\le k)ã€‚\nä½ çš„ä»»åŠ¡æ˜¯ï¼Œå·²çŸ¥æ‰€æœ‰ n ä½åŒå­¦çš„èº«é«˜ï¼Œè®¡ç®—æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ï¼Œå¯ä»¥ä½¿å¾—å‰©ä¸‹çš„åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚\nè¾“å…¥æ ¼å¼\nå…±äºŒè¡Œã€‚\nç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° nï¼ˆ2\\le n\\le100ï¼‰ï¼Œè¡¨ç¤ºåŒå­¦çš„æ€»æ•°ã€‚\nç¬¬äºŒè¡Œæœ‰ n ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬ i ä¸ªæ•´æ•° t_iï¼ˆ130\\le t_i\\le230ï¼‰æ˜¯ç¬¬ i ä½åŒå­¦çš„èº«é«˜ï¼ˆå˜ç±³ï¼‰ã€‚\nè¾“å‡ºæ ¼å¼\nä¸€ä¸ªæ•´æ•°ï¼Œæœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n8\n186 186 150 200 160 130 197 220\næ ·ä¾‹è¾“å‡º #1\n4\næç¤º\nå¯¹äº 50\\% çš„æ•°æ®ï¼Œä¿è¯æœ‰ n \\le 20ã€‚\nå¯¹äºå…¨éƒ¨çš„æ•°æ®ï¼Œä¿è¯æœ‰ n \\le 100ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;int&gt;t;\n    for (int i = 0; i &lt; n; i++) {\n        int x;cin &gt;&gt; x;\n        t.push_back(x);\n    }\n    int k = 1;\n    for (int m = 0;m &lt; n;m++) {\n        // æšä¸¾ä¸­é—´ä½m\n        vector&lt;int&gt;l, r;\n        // å·¦è¾¹æœ€é•¿ä¸Šå‡å­åºåˆ—\n        for (int i = 0;i &lt; m;i++) {\n            if (t[i] &gt;= t[m])continue;\n            if (l.size()!=0) {\n                if (t[i] &gt; l.back()) {\n                    l.push_back(t[i]);\n                }\n                else {\n                    auto it = lower_bound(l.begin(), l.end(), t[i]);\n                    *it = t[i];\n                }\n            }\n            else {\n                l.push_back(t[i]);\n            }\n        }\n        \n        // å³è¾¹æœ€é•¿ä¸Šå‡å­åºåˆ—\n        for (int i = n - 1;i &gt; m;i--) {\n            if (t[i] &gt;= t[m])continue;\n            if (r.size()!=0) {\n                if (t[i] &gt; r.back()) {\n                    r.push_back(t[i]);\n                }\n                else {\n                    auto it = lower_bound(r.begin(), r.end(), t[i]);\n                    *it = t[i];\n                }\n            }\n            else {\n                r.push_back(t[i]);\n            }\n        }\n        k = max(k, (int)l.size() + (int)r.size() + 1);\n    }\n    cout &lt;&lt; n - k &lt;&lt; endl;\n}\n[P1095]å®ˆæœ›è€…çš„é€ƒç¦»\né¢˜ç›®èƒŒæ™¯\næ¶é­”çŒæ‰‹å°¤è¿ªå®‰é‡å¿ƒå‹ƒå‹ƒï¼Œä»–èƒŒå›äº†æš—å¤œç²¾çµï¼Œç‡é¢†æ·±è—åœ¨æµ·åº•çš„å¨œè¿¦æ—ä¼å›¾å›å˜ã€‚\né¢˜ç›®æè¿°\nå®ˆæœ›è€…åœ¨ä¸å°¤è¿ªå®‰çš„äº¤é”‹ä¸­é­é‡äº†å›´æ€ï¼Œè¢«å›°åœ¨ä¸€ä¸ªè’èŠœçš„å¤§å²›ä¸Šã€‚\nä¸ºäº†æ€æ­»å®ˆæœ›è€…ï¼Œå°¤è¿ªå®‰å¼€å§‹å¯¹è¿™ä¸ªè’å²›æ–½å’’ï¼Œè¿™åº§å²›å¾ˆå¿«å°±ä¼šæ²‰ä¸‹å»ã€‚åˆ°é‚£æ—¶ï¼Œå²›ä¸Šçš„æ‰€æœ‰äººéƒ½ä¼šé‡éš¾ã€‚\nå®ˆæœ›è€…çš„è·‘æ­¥é€Ÿåº¦ä¸º 17m/sï¼Œä»¥è¿™æ ·çš„é€Ÿåº¦æ˜¯æ— æ³•é€ƒç¦»è’å²›çš„ã€‚åº†å¹¸çš„æ˜¯å®ˆæœ›è€…æ‹¥æœ‰é—ªçƒæ³•æœ¯ï¼Œå¯åœ¨ 1s å†…ç§»åŠ¨ 60mï¼Œä¸è¿‡æ¯æ¬¡ä½¿ç”¨é—ªçƒæ³•æœ¯éƒ½ä¼šæ¶ˆè€—é­”æ³•å€¼ 10 ç‚¹ã€‚å®ˆæœ›è€…çš„é­”æ³•å€¼æ¢å¤çš„é€Ÿåº¦ä¸º 4 ç‚¹æ¯ç§’ï¼Œåªæœ‰å¤„åœ¨åŸåœ°ä¼‘æ¯çŠ¶æ€æ—¶æ‰èƒ½æ¢å¤ã€‚\nç°åœ¨å·²çŸ¥å®ˆæœ›è€…çš„é­”æ³•åˆå€¼ Mï¼Œä»–æ‰€åœ¨çš„åˆå§‹ä½ç½®ä¸å²›çš„å‡ºå£ä¹‹é—´çš„è·ç¦» Sï¼Œå²›æ²‰æ²¡çš„æ—¶é—´ Tã€‚ä½ çš„ä»»åŠ¡æ˜¯å†™ä¸€ä¸ªç¨‹åºå¸®åŠ©å®ˆæœ›è€…è®¡ç®—å¦‚ä½•åœ¨æœ€çŸ­çš„æ—¶é—´å†…é€ƒç¦»è’å²›ï¼Œè‹¥ä¸èƒ½é€ƒå‡ºï¼Œåˆ™è¾“å‡ºå®ˆæœ›è€…åœ¨å‰©ä¸‹çš„æ—¶é—´å†…èƒ½èµ°çš„æœ€è¿œè·ç¦»ã€‚\næ³¨æ„ï¼šå®ˆæœ›è€…è·‘æ­¥ã€é—ªçƒæˆ–ä¼‘æ¯æ´»åŠ¨å‡ä»¥ç§’ä¸ºå•ä½ï¼Œä¸”æ¯æ¬¡æ´»åŠ¨çš„æŒç»­æ—¶é—´ä¸ºæ•´æ•°ç§’ã€‚è·ç¦»çš„å•ä½ä¸ºç±³ã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥æ•°æ®å…±ä¸€è¡Œä¸‰ä¸ªéè´Ÿæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º Mï¼ŒSï¼ŒTã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºæ•°æ®å…±ä¸¤è¡Œã€‚\nç¬¬ä¸€è¡Œä¸€ä¸ªå­—ç¬¦ä¸² \\texttt{Yes} æˆ– \\texttt{No}ï¼Œå³å®ˆæœ›è€…æ˜¯å¦èƒ½é€ƒç¦»è’å²›ã€‚\nç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚ç¬¬ä¸€è¡Œä¸º \\texttt{Yes} æ—¶è¡¨ç¤ºå®ˆæœ›è€…é€ƒç¦»è’å²›çš„æœ€çŸ­æ—¶é—´ï¼›ç¬¬ä¸€è¡Œä¸º \\texttt{No} æ—¶è¡¨ç¤ºå®ˆæœ›è€…èƒ½èµ°çš„æœ€è¿œè·ç¦»ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n39 200 4\næ ·ä¾‹è¾“å‡º #1\nNo\n197\næ ·ä¾‹ #2\næ ·ä¾‹è¾“å…¥ #2\n36 255 10\næ ·ä¾‹è¾“å‡º #2\nYes\n6\næç¤º\nå¯¹äº 30\\% çš„æ•°æ®ï¼Œ1  \\le  T   \\le  10ï¼Œ 1   \\le   S   \\le  100ï¼›\nå¯¹äº 50\\% çš„æ•°æ®ï¼Œ1   \\le  T   \\le   10^3ï¼Œ 1   \\le  S  \\le   10^4ï¼›\nå¯¹äº 100\\% çš„æ•°æ®ï¼Œ1   \\le   T   \\le   3\\times  10^5ï¼Œ0   \\le   M   \\le   10^3ï¼Œ 1   \\le  S   \\le   10^8ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll m, s, t;cin &gt;&gt; m &gt;&gt; s &gt;&gt; t;\n    vector&lt;ll&gt;f(t + 1);\n    f[0] = 0;ll bl = m;\n    for (ll i = 1;i &lt;= t;i++) {\n        if (bl &gt;= 10) {\n            f[i] = f[i - 1] + 60;\n            bl -= 10;\n        }\n        else {\n            f[i] = f[i - 1];\n            bl += 4;\n        }\n    }\n    for (int i = 1;i &lt;= t;i++) {\n        f[i] = max(f[i], f[i - 1] + 17);\n    }\n    if (f[t] &gt;= s) {\n        cout &lt;&lt; &quot;Yes\\n&quot;;\n        cout &lt;&lt; lower_bound(f.begin(), f.end(), s) - f.begin() &lt;&lt; endl;\n    }\n    else {\n        cout &lt;&lt; &quot;No\\n&quot; &lt;&lt; f[t] &lt;&lt; endl;\n    }\n}\n[P1541]ä¹Œé¾Ÿæ£‹\né¢˜ç›®èƒŒæ™¯\nå°æ˜è¿‡ç”Ÿæ—¥çš„æ—¶å€™ï¼Œçˆ¸çˆ¸é€ç»™ä»–ä¸€å‰¯ä¹Œé¾Ÿæ£‹å½“ä½œç¤¼ç‰©ã€‚\né¢˜ç›®æè¿°\nä¹Œé¾Ÿæ£‹çš„æ£‹ç›˜æ˜¯ä¸€è¡Œ N ä¸ªæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­ä¸Šä¸€ä¸ªåˆ†æ•°ï¼ˆéè´Ÿæ•´æ•°ï¼‰ã€‚æ£‹ç›˜ç¬¬ 1 æ ¼æ˜¯å”¯ä¸€çš„èµ·ç‚¹ï¼Œç¬¬ N æ ¼æ˜¯ç»ˆç‚¹ï¼Œæ¸¸æˆè¦æ±‚ç©å®¶æ§åˆ¶ä¸€ä¸ªä¹Œé¾Ÿæ£‹å­ä»èµ·ç‚¹å‡ºå‘èµ°åˆ°ç»ˆç‚¹ã€‚\nä¹Œé¾Ÿæ£‹ä¸­ M å¼ çˆ¬è¡Œå¡ç‰‡ï¼Œåˆ†æˆ 4 ç§ä¸åŒçš„ç±»å‹ï¼ˆM å¼ å¡ç‰‡ä¸­ä¸ä¸€å®šåŒ…å«æ‰€æœ‰ 4 ç§ç±»å‹çš„å¡ç‰‡ï¼Œè§æ ·ä¾‹ï¼‰ï¼Œæ¯ç§ç±»å‹çš„å¡ç‰‡ä¸Šåˆ†åˆ«æ ‡æœ‰ 1,2,3,4 å››ä¸ªæ•°å­—ä¹‹ä¸€ï¼Œè¡¨ç¤ºä½¿ç”¨è¿™ç§å¡ç‰‡åï¼Œä¹Œé¾Ÿæ£‹å­å°†å‘å‰çˆ¬è¡Œç›¸åº”çš„æ ¼å­æ•°ã€‚æ¸¸æˆä¸­ï¼Œç©å®¶æ¯æ¬¡éœ€è¦ä»æ‰€æœ‰çš„çˆ¬è¡Œå¡ç‰‡ä¸­é€‰æ‹©ä¸€å¼ ä¹‹å‰æ²¡æœ‰ä½¿ç”¨è¿‡çš„çˆ¬è¡Œå¡ç‰‡ï¼Œæ§åˆ¶ä¹Œé¾Ÿæ£‹å­å‰è¿›ç›¸åº”çš„æ ¼å­æ•°ï¼Œæ¯å¼ å¡ç‰‡åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚\næ¸¸æˆä¸­ï¼Œä¹Œé¾Ÿæ£‹å­è‡ªåŠ¨è·å¾—èµ·ç‚¹æ ¼å­çš„åˆ†æ•°ï¼Œå¹¶ä¸”åœ¨åç»­çš„çˆ¬è¡Œä¸­æ¯åˆ°è¾¾ä¸€ä¸ªæ ¼å­ï¼Œå°±å¾—åˆ°è¯¥æ ¼å­ç›¸åº”çš„åˆ†æ•°ã€‚ç©å®¶æœ€ç»ˆæ¸¸æˆå¾—åˆ†å°±æ˜¯ä¹Œé¾Ÿæ£‹å­ä»èµ·ç‚¹åˆ°ç»ˆç‚¹è¿‡ç¨‹ä¸­åˆ°è¿‡çš„æ‰€æœ‰æ ¼å­çš„åˆ†æ•°æ€»å’Œã€‚\nå¾ˆæ˜æ˜¾ï¼Œç”¨ä¸åŒçš„çˆ¬è¡Œå¡ç‰‡ä½¿ç”¨é¡ºåºä¼šä½¿å¾—æœ€ç»ˆæ¸¸æˆçš„å¾—åˆ†ä¸åŒï¼Œå°æ˜æƒ³è¦æ‰¾åˆ°ä¸€ç§å¡ç‰‡ä½¿ç”¨é¡ºåºä½¿å¾—æœ€ç»ˆæ¸¸æˆå¾—åˆ†æœ€å¤šã€‚\nç°åœ¨ï¼Œå‘Šè¯‰ä½ æ£‹ç›˜ä¸Šæ¯ä¸ªæ ¼å­çš„åˆ†æ•°å’Œæ‰€æœ‰çš„çˆ¬è¡Œå¡ç‰‡ï¼Œä½ èƒ½å‘Šè¯‰å°æ˜ï¼Œä»–æœ€å¤šèƒ½å¾—åˆ°å¤šå°‘åˆ†å—ï¼Ÿ\nè¾“å…¥æ ¼å¼\næ¯è¡Œä¸­ä¸¤ä¸ªæ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚\nç¬¬ 1 è¡Œ 2 ä¸ªæ­£æ•´æ•° N,Mï¼Œåˆ†åˆ«è¡¨ç¤ºæ£‹ç›˜æ ¼å­æ•°å’Œçˆ¬è¡Œå¡ç‰‡æ•°ã€‚\nç¬¬ 2 è¡Œ N ä¸ªéè´Ÿæ•´æ•°ï¼Œa_1,a_2,â€¦,a_Nï¼Œå…¶ä¸­ a_i è¡¨ç¤ºæ£‹ç›˜ç¬¬ i ä¸ªæ ¼å­ä¸Šçš„åˆ†æ•°ã€‚\nç¬¬ 3 è¡Œ M ä¸ªæ•´æ•°ï¼Œb_1,b_2,â€¦,b_Mï¼Œè¡¨ç¤º M å¼ çˆ¬è¡Œå¡ç‰‡ä¸Šçš„æ•°å­—ã€‚\nè¾“å…¥æ•°æ®ä¿è¯åˆ°è¾¾ç»ˆç‚¹æ—¶åˆšå¥½ç”¨å…‰Må¼ çˆ¬è¡Œå¡ç‰‡ã€‚\nè¾“å‡ºæ ¼å¼\n1 ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå°æ˜æœ€å¤šèƒ½å¾—åˆ°çš„åˆ†æ•°ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n9 5\n6 10 14 2 8 8 18 5 17\n1 3 1 2 1\næ ·ä¾‹è¾“å‡º #1\n73\næç¤º\næ¯ä¸ªæµ‹è¯•ç‚¹ 1sã€‚\nå°æ˜ä½¿ç”¨çˆ¬è¡Œå¡ç‰‡é¡ºåºä¸º 1,1,3,1,2ï¼Œå¾—åˆ°çš„åˆ†æ•°ä¸º 6+10+14+8+18+17=73ã€‚æ³¨æ„ï¼Œç”±äºèµ·ç‚¹æ˜¯ 1ï¼Œæ‰€ä»¥è‡ªåŠ¨è·å¾—ç¬¬ 1 æ ¼çš„åˆ†æ•° 6ã€‚\nå¯¹äº 30\\% çš„æ•°æ®æœ‰ 1â‰¤Nâ‰¤30,1â‰¤Mâ‰¤12ã€‚\nå¯¹äº 50\\% çš„æ•°æ®æœ‰ 1â‰¤Nâ‰¤120,1â‰¤Mâ‰¤50ï¼Œä¸” 4 ç§çˆ¬è¡Œå¡ç‰‡ï¼Œæ¯ç§å¡ç‰‡çš„å¼ æ•°ä¸ä¼šè¶…è¿‡ 20ã€‚\nå¯¹äº 100\\% çš„æ•°æ®æœ‰ 1â‰¤Nâ‰¤350,1â‰¤Mâ‰¤120ï¼Œä¸” 4 ç§çˆ¬è¡Œå¡ç‰‡ï¼Œæ¯ç§å¡ç‰‡çš„å¼ æ•°ä¸ä¼šè¶…è¿‡ 40ï¼›0â‰¤a_iâ‰¤100,1â‰¤iâ‰¤N,1â‰¤b_iâ‰¤4,1â‰¤iâ‰¤Mã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;ll&gt;a(n + 1);\n    for (ll i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    vector&lt;ll&gt;cnt(5);\n    for (int i = 0;i &lt; m;i++) {\n        ll x;cin &gt;&gt; x;\n        cnt[x]++;\n    }\n    vector&lt;vector&lt;vector&lt;vector&lt;ll&gt;&gt;&gt;&gt;dp(cnt[1] + 1, vector&lt;vector&lt;vector&lt;ll&gt;&gt;&gt;(cnt[2] + 1, vector&lt;vector&lt;ll&gt;&gt;(cnt[3] + 1, vector&lt;ll&gt;(cnt[4] + 1, 0))));\n \n    dp[0][0][0][0] = a[1];\n    for (int i = 0;i &lt;= cnt[1];i++) {\n        for (int j = 0;j &lt;= cnt[2];j++) {\n            for (int k = 0;k &lt;= cnt[3];k++) {\n                for (int l = 0;l &lt;= cnt[4];l++) {\n                    ll x = i * 1 + j * 2 + k * 3 + l * 4 + 1;   // èµ°åˆ°çš„æ ¼å­æ˜¯x\n                    if (i &gt; 0)\n                        // èµ°åˆ°xçš„æ—¶å€™ï¼Œå¦‚æœi &gt; 0ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»i - 1èµ°åˆ°iï¼Œä¸‹é¢åŒç†\n                        dp[i][j][k][l] = max(dp[i][j][k][l], dp[i - 1][j][k][l] + a[x]);\n                    if (j &gt; 0)\n                        dp[i][j][k][l] = max(dp[i][j][k][l], dp[i][j - 1][k][l] + a[x]);\n                    if (k &gt; 0)\n                        dp[i][j][k][l] = max(dp[i][j][k][l], dp[i][j][k - 1][l] + a[x]);\n                    if (l &gt; 0)\n                        dp[i][j][k][l] = max(dp[i][j][k][l], dp[i][j][k][l - 1] + a[x]);\n                }\n            }\n        }\n    }\n    cout &lt;&lt; dp[cnt[1]][cnt[2]][cnt[3]][cnt[4]] &lt;&lt; endl;\n}\n[P1868]é¥¥é¥¿çš„å¥¶ç‰›\né¢˜ç›®æè¿°\næœ‰ä¸€æ¡å¥¶ç‰›å†²å‡ºäº†å›´æ ï¼Œæ¥åˆ°äº†ä¸€å¤„åœ£åœ°ï¼ˆå¯¹äºå¥¶ç‰›æ¥è¯´ï¼‰ï¼Œä¸Šé¢ç”¨ç‰›è¯­å†™ç€ä¸€æ®µæ–‡å­—ã€‚\nç°ç”¨æ±‰è¯­ç¿»è¯‘ä¸ºï¼š\næœ‰ N ä¸ªåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´ x,y è¡¨ç¤ºæä¾›çš„ x\\sim y å…± y-x+1 å †ä¼˜è´¨ç‰§è‰ã€‚ä½ å¯ä»¥é€‰æ‹©ä»»æ„åŒºé—´ä½†ä¸èƒ½æœ‰é‡å¤çš„éƒ¨åˆ†ã€‚\nå¯¹äºå¥¶ç‰›æ¥è¯´ï¼Œè‡ªç„¶æ˜¯åƒçš„è¶Šå¤šè¶Šå¥½ï¼Œç„¶è€Œå¥¶ç‰›æ™ºå•†æœ‰é™ï¼Œç°åœ¨è¯·ä½ å¸®åŠ©ä»–ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° Nã€‚\næ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•° x,yï¼Œæè¿°ä¸€ä¸ªåŒºé—´ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºæœ€å¤šèƒ½åƒåˆ°çš„ç‰§è‰å †æ•°ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n3\n1 3\n7 8\n3 4\næ ·ä¾‹è¾“å‡º #1\n5\næç¤º\n1 \\leq n \\leq 1.5 \\times 10^5ï¼Œ0 \\leq x \\leq y \\leq 3 \\times 10^6ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    map&lt;ll, vector&lt;ll&gt;&gt; mp;\n    ll my = 0;\n    for (ll i = 0;i &lt; n;i++) {\n        ll x, y;cin &gt;&gt; x &gt;&gt; y;\n        x += 1;y += 1;  // é¿å…è¶Šç•Œ\n        my = max(my, y);\n        mp[y].push_back(x);\n    }\n    vector&lt;ll&gt;dp(my + 1, 0);\n    dp[0] = 0;\n    for (ll i = 1;i &lt;= my;i++) {\n        dp[i] = dp[i - 1];\n        if (mp.count(i)) {\n            for (ll j = 0;j &lt; mp[i].size();j++) {\n                ll y = mp[i][j];\n                dp[i] = max(dp[i], dp[y - 1] + i - y + 1);\n            }\n        }\n    }\n    cout &lt;&lt; dp[my] &lt;&lt; endl;\n}"},"03-algorithm/nc24sd1":{"slug":"03-algorithm/nc24sd1","filePath":"03-algorithm/nc24sd1.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day1||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Bit Common\né¢˜æ„\nè®¡ç®—æ»¡è¶³é•¿åº¦ä¸ºnï¼Œæ¯ä¸ªå…ƒç´ å°äº2^mï¼Œä¸”å­˜åœ¨è‡³å°‘ä¸€ä¸ªå­åºåˆ—æ»¡è¶³æŒ‰ä½ANDåæ˜¯1çš„åºåˆ—çš„æ•°é‡ã€‚\nç­”æ¡ˆå¯¹æ­£æ•´æ•°qå–æ¨¡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m\\leq 5000\n1\\leq q\\leq 10^9\n\næ€è·¯\næŒ‰ä½åˆ†æï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œåºåˆ—ä¸­çš„æ•°åˆ†ä¸ºkä¸ªæœ«å°¾æ˜¯1çš„æ•°å’Œn-kä¸ªæœ«å°¾æ˜¯0çš„æ•°ã€‚\n\næœ«å°¾ä¸º1çš„æ•°ä¸­ï¼Œé™¤æœ«ä½ä»¥å¤–çš„æ•°ä½ï¼ˆm-1ä½ï¼‰ï¼Œæ¯ä¸€ä½çš„ç»„åˆæ˜¯2^k-1ç§ï¼ˆè¦é™¤å»å…¨ä¸º1çš„æƒ…å†µï¼‰ã€‚\næœ«å°¾ä¸º0çš„æ•°ä¸­ï¼Œé™¤æœ«ä½ä»¥å¤–æ•°ä½ä¸Šçš„å–å€¼æ˜¯ä»»æ„çš„ã€‚\né€‰æ‹©å“ªäº›æ•°æ˜¯æœ«å°¾1éœ€è¦è€ƒè™‘ç»„åˆæ•°ã€‚\n\næ‰€ä»¥ï¼Œæ€»æ–¹æ¡ˆæ•°æ˜¯ï¼š\n\\binom{n}{k}\\times (2^k-1)^{m-1}\\times (2^{n-k})^{(m-1)} = \\binom{n}{k}\\times (2^n-2^{n-k})^{m-1}\næœ€åå¯¹qå–æ¨¡å³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst ll maxn = 5050;\n \nll qpow(ll a, ll b, ll m) {\n    // å¿«é€Ÿå¹‚\n    ll res = 1;\n    while (b) {\n        if (b &amp; 1)res = res * a % m;\n        a = a * a % m;\n        b &gt;&gt;= 1;\n    }\n    return res % m;\n}\n \nll C[maxn][maxn];\n \nvoid solve() {\n    ll n, m, q;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;\n    C[0][0] = 1;\n    for (ll i = 1;i &lt;= n;i++) {\n        C[i][0] = 1, C[i][i] = 1;\n        for (ll j = 1;j &lt; i;j++) {\n            C[i][j] = (C[i - 1][j - 1] + C[i - 1][j]) % q;\n        }\n    }\n    ll ans = 0;\n    for (ll k = 1;k &lt;= n;k++) {\n        ll tmp = C[n][k];\n        ll x = (qpow(2, n, q) - qpow(2, n - k, q) + q) % q;\n        tmp *= qpow(x, m - 1, q);\n        tmp %= q;\n        ans = (ans + tmp + q) % q;\n    }\n    cout &lt;&lt; ans % q &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n \n    return 0;\n}\nB-A Bit More Common\né¢˜æ„\nåœ¨Aé¢˜çš„æ¡ä»¶ä¸‹ï¼Œå¢åŠ è¦æ±‚æ»¡è¶³å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„éç©ºå­åºåˆ—ANDå’Œæ˜¯1ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m\\leq 5000\n1\\leq q \\leq 10^9\n\næ€è·¯\næœ‰Aé¢˜çš„åŸºç¡€ï¼Œæˆ‘ä»¬å·²çŸ¥è‡³å°‘æœ‰1ä¸ªå­åºåˆ—çš„ç»„åˆæ•°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è®¡ç®—åªæœ‰1ä¸ªå­åºåˆ—çš„ç»„åˆæ•°ã€‚ä¸¤è€…ç›¸å‡å³å¯æ±‚å‡ºç­”æ¡ˆã€‚\næ»¡è¶³åªæœ‰1ä¸ªå­åºåˆ—çš„ç»„åˆæ•°æ‰€ä»£è¡¨çš„æƒ…å†µæ˜¯è¿™æ ·çš„ï¼š\n\\begin{aligned}\nlet:k=3\\\\\n101111\\\\\n010101\\\\\n111011\n\\end{aligned}\néœ€è¦æ»¡è¶³æ¯ä¸€ä¸ªç«–åˆ—è‡³å°‘æœ‰ä¸€ä¸ªç‰¹æ®Šçš„0ï¼ˆè¿™ä¸ª0åŒæ—¶æ˜¯è¯¥æ•°ä½ä¸Šå”¯ä¸€çš„0ï¼‰ï¼Œä¸”è¿™kä¸ªæ•°æ¯ä¸ªæ•°è‡³å°‘æœ‰1ä¸ª0â€‹ï¼ˆæ¡ä»¶2ï¼‰ã€‚\nå¯¹äºå¶æ•°çš„ç»„åˆç§æ•°è¿˜æ˜¯ä¸å˜çš„ï¼Œä¸º\\binom{n}{k}\\times 2^{(n-k)(m-1)}ã€‚\n\n\nå½“k=1æ—¶ï¼Œå­åºåˆ—æ˜¯\\\\{0b00000001\\\\}ï¼Œåªæœ‰ä¸€ä¸ªæ•°ï¼Œå‰©ä½™çš„n-kä¸ªæ•°éƒ½æ˜¯å¶æ•°ã€‚\n\n\nå½“k\\neq 1æ—¶ï¼Œè€ƒè™‘ï¼šä¸€å…±æœ‰m-1ä¸ªç‰¹æ®Š0ï¼Œæ¯ä¸ª0æœ‰å¯¹åº”çš„æ•°ä½ï¼Œè¦å°†è¿™m-1ä¸ª0åˆ†é…åˆ°kä¸ªä½ç½®ï¼ˆä½ç½®å¹¶ä¸äº’ç›¸åŒºåˆ†ï¼‰ï¼Œæ¯ä¸ªä½ç½®è‡³å°‘æœ‰1ä¸ªï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°ã€‚\n\n\nè€ƒè™‘çŠ¶æ€è½¬ç§»ï¼š\nç°åœ¨æœ‰iä¸ªæ•°ï¼Œè¦ä»j-1ä¸ªç‰¹æ®Šä½çš„åŸºç¡€ä¸Šå†å¢åŠ ä¸€ä¸ªç‰¹æ®Š0ï¼Œè¿™ä¸ªç‰¹æ®Šä½è¦ä¹ˆå¢åŠ åˆ°ç¬¬iä¸ªæ•°ï¼ˆç¬¬iä¸ªæ•°å·²ç»æœ‰è‡³å°‘1ä¸ªç‰¹æ®Š0ï¼‰ä¸Šï¼Œè¦ä¹ˆå¢åŠ åˆ°å‰i-1ä¸ªï¼ˆå·²ç»è‡³å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Š0çš„ï¼‰æ•°ä¸Šï¼Œè¿™ä¸¤ç§å¢åŠ æ–¹æ³•éƒ½æœ‰iç§ä¸åŒçš„æ–¹æ¡ˆã€‚\nè¿™iä¸ªæ•°ä¸­è¦åŒ…å«jä¸ªç‰¹æ®Š0çš„æ–¹æ¡ˆæ•°è®°ä¸ºf[i][j]ï¼Œåˆ™å­˜åœ¨é€’æ¨å¼ï¼š\nf[i][j]= i\\times (f[i-1][j-1] + f[i][j-1])\nè€ƒè™‘åˆ°åªæœ‰kä¸ªæ•°ä¸­ç‰¹æ®Š0çš„ä¸ªæ•°å¤§äºç­‰äºkæ—¶çš„æ–¹æ¡ˆæ•°æ‰æ˜¯æœ‰æ•ˆçš„ï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªæœ‰æ•ˆæ–¹æ¡ˆä¸­ï¼Œæ¯ä¸€åˆ—é™¤äº†ä½œä¸ºç‰¹æ®Š0çš„ä½ç½®ä»¥å¤–çš„ä½ç½®éƒ½å¯ä»¥ä»»æ„å¡«ï¼ˆåªè¦ä¸æ˜¯å…¨1æˆ–è€…åªæœ‰1ä¸ªç‰¹æ®Š0çš„æƒ…å†µï¼‰ï¼Œæ•…è¿™kä¸ªå¥‡æ•°çš„æ–¹æ¡ˆæ€»æ•°æ˜¯\\sum_{t=k}^{m-1} f[k][t]\\times (2^k-1-k)^{m-1-t}ï¼Œå†ä¹˜æ­¤æ—¶çš„å¶æ•°æ–¹æ¡ˆæ•°ï¼Œå³ä¸ºkæ—¶çš„æ€»æ•°ã€‚\nä»£ç \nll qpow(ll a, ll b, ll m) {\n    // å¿«é€Ÿå¹‚\n    ll res = 1;\n    a %= m;\n    while (b) {\n        if (b &amp; 1)res = res * a % m;\n        a = a * a % m;\n        b &gt;&gt;= 1;\n    }\n    return res % m;\n}\n \nll C[maxn][maxn];\nll f[maxn][maxn];\n \nvoid solve() {\n    ll n, m, q;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;\n    C[0][0] = 1ll;\n    for (ll i = 1;i &lt;= 5000;i++) {\n        C[i][0] = 1, C[i][i] = 1;\n        for (ll j = 1;j &lt;= 5000;j++) {\n            C[i][j] = (C[i - 1][j - 1] + C[i - 1][j]) % q;\n        }\n    }\n    ll ans = 0;\n    for (ll k = 1;k &lt;= n;k++) {\n        ll tmp = C[n][k];\n        ll x = (qpow(2ll, n, q) - qpow(2ll, n - k, q) + q) % q;\n        tmp *= qpow(x, m - 1ll, q);\n        tmp %= q;\n        ans = (ans + tmp + q) % q;\n    }\n \n    ll res = qpow(2ll, (n - 1) * (m - 1) % q, q) * n % q;\n    // å­˜åœ¨1ä¸ªå­åºåˆ—AND=1çš„ï¼Œå‡å»åªæœ‰1ä¸ªå­åºåˆ—AND=1çš„\n    f[0][0] = 1ll;\n    for (ll i = 1;i &lt;= 5000;i++) {\n        for (ll j = i;j &lt;= 5000;j++) {\n            f[i][j] = i * ((f[i - 1][j - 1] + f[i][j - 1]) % q) % q;\n        }\n    }\n    for (ll k = 2;k &lt;= n;k++) {\n        ll tmp = qpow(2ll, (n - k) * (m - 1) % q, q) % q * C[n][k] % q;\n        ll tmp2 = (qpow(2ll, k, q) - 1ll - k + q) % q;\n        ll cur = 1ll;\n        for (ll t = m - 1;t &gt;= k;t--) {\n            res = (res + f[k][t] * cur % q * C[m - 1][t] % q * tmp % q) % q;\n            cur = tmp2 * cur % q;\n        }\n    }\n \n    cout &lt;&lt; (ans - res + q) % q &lt;&lt; &quot;\\n&quot;;\n}\nC-Sum of Suffix Sums\né¢˜æ„\nç»´æŠ¤ä¸€ä¸ªåˆå§‹ä¸ºç©ºçš„éè´Ÿæ•´æ•°åºåˆ—ï¼Œæ”¯æŒqæ¬¡å¦‚ä¸‹æ“ä½œï¼š\næ¯æ¬¡ç§»é™¤æœ«å°¾çš„tä¸ªæ•´æ•°ï¼Œç„¶ååœ¨æœ«å°¾å‡å¦‚ä¸€ä¸ªæ•´æ•°vï¼Œæ“ä½œåè¾“å‡ºå½“å‰åºåˆ—æ‰€æœ‰åç¼€å’Œçš„æ€»å’Œï¼Œç­”æ¡ˆå¯¹10^9+7å–æ¨¡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq q\\leq 5\\times 10^5\n0\\leq v\\leq 10^9\n\næ€è·¯\næ¯ä¸ªæ•°å¯¹åç¼€å’Œæ€»å’Œçš„è´¡çŒ®æ˜¯å®ƒå½“å‰ä½ç½®çš„åºå·ä¹˜ä»¥å®ƒæœ¬èº«çš„å€¼ï¼Œä¹Ÿå°±æ˜¯a_içš„è´¡çŒ®æ˜¯a_i\\times iâ€‹ã€‚æ ¹æ®è¿™ä¸ªç‰¹ç‚¹å’Œæ•°æ®èŒƒå›´ï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤åç¼€å’Œæ€»å’Œã€‚\nä»£ç \nvoid solve() {\n    ll q;cin &gt;&gt; q;\n    vector&lt;ll&gt;a;\n    ll tot = 0;\n    while (q--) {\n        ll t, v;cin &gt;&gt; t &gt;&gt; v;\n        v %= mo;\n        for (ll i = 0;i &lt; t;i++) {\n            if (a.empty())break;\n            ll x = a.back();\n            tot -= x * a.size();\n            tot = (tot + mo) % mo;\n            a.pop_back();\n        }\n        a.push_back(v);\n        ll n = a.size() % mo;\n        tot = (tot + v * n % mo + mo) % mo;\n        cout &lt;&lt; tot &lt;&lt; &quot;\\n&quot;;\n    }\n}\nH-World Finals\nç­¾åˆ°é¢˜ã€‚\né¢˜æ„\nlzr010506é˜Ÿä¼å¯ä»¥å‚åŠ 46thçš„WFå’Œ47thçš„WFï¼Œè¿™ä¸¤ä¸ªWFå°†åŒæ—¶ä¸¾è¡Œï¼Œæ‰€ä»¥lzr010506å¿…é¡»é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå‚åŠ ã€‚lzr010506å¯ä»¥é¢„çŸ¥æ¯ä¸ªé˜Ÿä¼çš„åœ¨æ¯”èµ›ä¸­çš„æˆç»©ï¼ˆè¿‡é¢˜æ•°å’Œç½šæ—¶ï¼‰ï¼Œæ’åè§„åˆ™ä¸ºè¿‡é¢˜æ•°å¤šä¼˜å…ˆï¼Œè¿‡é¢˜æ•°ç›¸åŒåˆ™ç½šæ—¶å°‘ä¼˜å…ˆã€‚\né™¤äº†lzr010506é˜Ÿä¼ï¼Œè¿˜æœ‰å…¶ä»–æœ‰èµ„æ ¼å‚åŠ ä¸¤åœºæ¯”èµ›çš„é˜Ÿä¼ã€‚æé—®ï¼Œåœ¨ç»™å‡ºæ‰€æœ‰é˜Ÿä¼çš„é¢„æµ‹æˆç»©ä¹‹åï¼Œlzr010506é˜Ÿä¼èƒ½å¤Ÿè·å¾—çš„æœ€å¥½æˆç»©æ’åæ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\n\n1 \\leq number of teams \\leq 105\n\næ€è·¯\næœ€ä¼˜æƒ…å†µæ˜¯ï¼Œé™¤äº†lzr010506é˜Ÿä¼ï¼ŒåŒæ—¶å¯ä»¥å‚åŠ ä¸¤åœºæ¯”èµ›çš„é˜Ÿä¼éƒ½å‚åŠ lzr010506é˜Ÿä¼æ²¡æœ‰å‚åŠ é‚£ä¸€åœºï¼Œç„¶åè®¡ç®—æœ€ä½³æ’åå³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nstruct team {\n    string s;\n    ll p, t;\n    bool operator&lt;(const team&amp; other)const {\n        if (other.p == p)return other.t &gt; t;\n        return other.p &lt; p;\n    }\n};\n \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;team&gt;t46(n);\n    map&lt;string, bool&gt;mp46;\n    for (ll i = 0;i &lt; n;i++) {\n        string s; ll p, t;\n        cin &gt;&gt; s &gt;&gt; p &gt;&gt; t;\n        t46[i] = { s,p,t };\n        mp46[s] = true;\n    }\n    ll m;cin &gt;&gt; m;\n    vector&lt;team&gt;t47(m);\n    map&lt;string, bool&gt;both;\n    for (ll i = 0;i &lt; m;i++) {\n        string s; ll p, t;\n        cin &gt;&gt; s &gt;&gt; p &gt;&gt; t;\n        t47[i] = { s,p,t };\n        if (mp46.count(s)) {\n            both[s] = true;\n        }\n    }\n    sort(t46.begin(), t46.end());\n    sort(t47.begin(), t47.end());\n    string st = &quot;lzr010506&quot;;\n    ll rk = min(n, m);\n    ll cnt = 1;\n    for (ll i = 0;i &lt; n;i++) {\n        if (t46[i].s == st) {\n            rk = min(cnt, rk);\n            break;\n        }\n        if (both.count(t46[i].s))continue;\n        cnt++;\n    }\n    cnt = 1;\n    for (ll i = 0;i &lt; m;i++) {\n        if (t47[i].s == st) {\n            rk = min(cnt, rk);\n            break;\n        }\n        if (both.count(t47[i].s))continue;\n        cnt++;\n    }\n    cout &lt;&lt; rk &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\nI-Mirror Maze\nè¡¥å‡ºè¿™é¢˜ddlä¹Ÿæ˜¯æ­»è€Œæ— æ†¾äº†ã€‚\né¢˜æ„\nåœ¨n\\times mâ€‹çš„çŸ©é˜µé•œå­è¿·å®«é‡Œï¼Œç»™å‡ºä¸€ä¸ªç‚¹å…‰æºï¼Œå…‰çš„ä¼ æ’­ä¸é•œå­çš„ç±»å‹\\ã€|ã€-ã€/æœ‰å…³ï¼ˆè¯¦æƒ…æˆ³è¿™ï¼‰ã€‚\næé—®ç»è¿‡è¶³å¤Ÿé•¿çš„æ—¶é—´åï¼Œè¿™æŸå…‰è¢«å¤šå°‘ä¸ªä¸åŒçš„é•œå­åå°„è¿‡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m \\leq 1000\n1\\leq q\\leq 10^5\n\næ€è·¯\nè€ƒè™‘åˆ°å…‰è·¯å¯é€†ï¼Œåœ¨è¿·å®«ä¸­çš„æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„å…‰è·¯å¿…ç„¶æ˜¯é“¾æˆ–è€…ç¯ï¼Œä¸ä¼šå‡ºç°åˆ†å‰æˆ–è€…æ˜¯æ±‡é›†ã€‚è€ƒè™‘æ•°æ®èŒƒå›´1\\leq n,m\\leq 1000å’Œå…‰çš„æ–¹å‘æœ‰ä¸Šä¸‹å·¦å³4ä¸ªï¼Œå¯ä»¥é€šè¿‡è®°å¿†åŒ–æœç´¢æ¥è®°å½•å·²ç»æœç´¢è¿‡çš„çŠ¶æ€ï¼Œä¿è¯æ¯æ¬¡æœç´¢çš„å¤æ‚åº¦åœ¨n\\times mä»¥å†…ï¼Œæ€»å¤æ‚åº¦ä¸è¶…è¿‡4\\times n\\times mã€‚\nå…·ä½“æœç´¢æ–¹æ³•è§ä»£ç ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nmap&lt;pair&lt;ll, char&gt;, ll&gt;redir;\n \nvoid initRedir() {\n    redir[{1, &#039;|&#039;}] = 1;\n    redir[{1, &#039;-&#039;}] = 2;\n    redir[{1, &#039;/&#039;}] = 4;\n    redir[{1, &#039;\\\\&#039;}] = 3;\n \n    redir[{2, &#039;|&#039;}] = 2;\n    redir[{2, &#039;-&#039;}] = 1;\n    redir[{2, &#039;/&#039;}] = 3;\n    redir[{2, &#039;\\\\&#039;}] = 4;\n \n    redir[{3, &#039;|&#039;}] = 4;\n    redir[{3, &#039;-&#039;}] = 3;\n    redir[{3, &#039;/&#039;}] = 2;\n    redir[{3, &#039;\\\\&#039;}] = 1;\n \n    redir[{4, &#039;|&#039;}] = 3;\n    redir[{4, &#039;-&#039;}] = 4;\n    redir[{4, &#039;/&#039;}] = 1;\n    redir[{4, &#039;\\\\&#039;}] = 2;\n}\n \nbool vis[1005][1005][5] = { false }, visp[1005][1005] = { false };\nll n, m;\nchar maz[1005][1005];\nll mem[1005][1005][5] = { 0 };\n \nll circlelen;\n \nll dfs(ll u, ll v, ll dr, ll cnt) {\n    if (u&lt;1 || u&gt;n || v&lt;1 || v&gt;m) {\n        // é€šè¿‡è¾¹ç•Œå‡ºå°„çš„ç‚¹æ˜¯é“¾å‹å…‰è·¯\n        vis[u][v][dr] = false;visp[u][v] = false;\n        mem[u][v][dr] = cnt;\n        return cnt;\n    }\n    if (vis[u][v][dr]) {\n        // å› ä¸ºè®¿é—®è¿‡åŒæ ·çŠ¶æ€ç»“æŸæœç´¢çš„æ˜¯ç¯å½¢å…‰è·¯\n        vis[u][v][dr] = false;visp[u][v] = false;\n        circlelen = cnt;\n        return cnt;\n    }\n    if (mem[u][v][dr])return mem[u][v][dr];\n \n    vis[u][v][dr] = true;\n \n    ll rdr = redir[{dr, maz[u][v]}];\n \n    if (!visp[u][v] &amp;&amp; dr != rdr) {\n        cnt++;\n        visp[u][v] = true;\n    }\n \n    if (rdr == 1) cnt = dfs(u - 1, v, 1, cnt);\n    else if (rdr == 2) cnt = dfs(u + 1, v, 2, cnt);\n    else if (rdr == 3) cnt = dfs(u, v - 1, 3, cnt);\n    else cnt = dfs(u, v + 1, 4, cnt);\n \n    // å›æº¯æ—¶å¤åŸçŠ¶æ€\n    vis[u][v][dr] = false;\n    visp[u][v] = false;\n    // è‹¥æ˜¯ç¯å½¢å…‰è·¯ï¼Œåœ¨dfså›æº¯æ—¶memåº”è¯¥è®°å½•ä¸ºç¯å½¢è·¯å¾„çš„é•¿åº¦\n    if (circlelen)\n        mem[u][v][dr] = circlelen;\n    return cnt;\n}\n \nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (ll i = 1;i &lt;= n;i++) {\n        for (ll j = 1;j &lt;= m;j++) {\n            cin &gt;&gt; maz[i][j];\n        }\n    }\n    // pre();\n    ll q;cin &gt;&gt; q;\n    while (q--) {\n        ll u, v;string dir;\n        cin &gt;&gt; u &gt;&gt; v &gt;&gt; dir;\n        ll dr;\n        if (dir == &quot;above&quot;) { dr = 1;u--; }\n        else if (dir == &quot;below&quot;) { dr = 2;u++; }\n        else if (dir == &quot;left&quot;) { dr = 3; v--; }\n        else if (dir == &quot;right&quot;) { dr = 4; v++; }\n        circlelen = 0;\n        ll ans = dfs(u, v, dr, 0);\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n}\n \nint main() {\n    initRedir();\n    int t = 1;\n    // cin &gt;&gt; t; cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}"},"03-algorithm/nc24sd10":{"slug":"03-algorithm/nc24sd10","filePath":"03-algorithm/nc24sd10.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day10||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Surrender to My Will\né¢˜æ„\næ ¹æ®ä¸Šç¥¨çŠ¶æ€åˆ¤æ–­æ˜¯å¦æŠ•é™ã€‚4ç¥¨åŠä»¥ä¸ŠèµåŒæŠ•é™åˆ™æŠ•é™æˆåŠŸã€‚\næ•°æ®èŒƒå›´\n\n1\\leq i \\leq 5\n1\\leq j\\leq i,S[j]\\in\\\\{Y,N\\\\}\n\næ€è·¯\nè®¡æ•°æ¨¡æ‹Ÿå³å¯ã€‚\nä»£ç \nvoid solve() {\n    string s;cin &gt;&gt; s;\n    int y = 0, n = 0;\n    for (auto c : s) {\n        if (c == &#039;Y&#039;)y++;\n        else if (c == &#039;N&#039;)n++;\n    }\n    if (y &gt;= 4)cout &lt;&lt; &quot;1\\n&quot;;\n    else if (n &gt;= 2)cout &lt;&lt; &quot;-1\\n&quot;;\n    else cout &lt;&lt; &quot;0\\n&quot;;\n}\nB-std::pair\né¢˜æ„\nä½¿ç”¨std::pairå£°æ˜nä¸ªå˜é‡ï¼Œè¿›è¡Œå¯¹äºè¿™äº›å˜é‡çš„qä¸ªè¯¢é—®ï¼Œå›ç­”å…¶æ•°æ®ç±»å‹ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,q\\leq 1000\n\næ¯è¡Œè¾“å…¥ä¸è¶…è¿‡5000å­—ç¬¦\næ€è·¯\næŒ‰.åˆ†å‰²è¯¢é—®çš„å˜é‡ï¼Œé€å±‚ç¡®å®šå½“å‰çš„æ•°æ®ç±»å‹ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 1e6 + 50;\n \nmap&lt;string, string&gt;mp;\n \nvoid solve() {\n    int n, q;cin &gt;&gt; n &gt;&gt; q;\n    for (int i = 0;i &lt; n;i++) {\n        string s1, s2;\n        cin &gt;&gt; s1 &gt;&gt; s2;\n        if (s2.back() == &#039;;&#039;)s2.pop_back();\n        mp[s2] = s1;\n    }\n \n    while (q--) {\n        string s;cin &gt;&gt; s;\n        s = s + &quot;.&quot;;\n        vector&lt;string&gt;stk;\n \n        int p = s.find(&quot;.&quot;);\n        int pr = 0;\n        while (p != -1) {\n            string t = s.substr(pr, p - pr);\n            stk.push_back(t);\n            s = s.substr(p + 1);\n            p = s.find(&quot;.&quot;);\n        }\n        string typ = mp[stk.front()];\n        for (int i = 1;i &lt; stk.size();i++) {\n            string c = stk[i];\n            vector&lt;int&gt;v;\n            int pp; // ä¸­ç‚¹çš„&#039;,&#039;ä½ç½®\n            int cnt1, cnt2;\n            cnt1 = cnt2 = 0;\n            for (int j = 0;j &lt; typ.size();j++) {\n                if (typ[j] == &#039;&lt;&#039;) {\n                    cnt1++;\n                }\n                else if (typ[j] == &#039;,&#039;) {\n                    cnt2++;\n                    v.push_back(j);\n                }\n                else if (typ[j] == &#039;&gt;&#039;) {\n                    cnt1--, cnt2--;\n                    if (!cnt1 &amp;&amp; !cnt2) {\n                        pp = v.back();\n                        break;\n                    }\n                    v.pop_back();\n                }\n            }\n            if (c == &quot;first&quot;) {\n                typ = typ.substr(5, pp - 5);\n            }\n            else {\n                typ = typ.substr(pp + 1, typ.size() - pp - 2);\n            }\n        }\n \n        cout &lt;&lt; typ &lt;&lt; &quot;\\n&quot;;\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\nF-Collinear Exception\né¢˜æ„\nåœ¨\\\\{1,...,n\\\\}\\times \\\\{1,...,n\\\\}çš„åæ ‡é€æ¸åŠ å…¥n\\times nä¸ªæ•°ï¼Œå¦‚æœå³å°†åŠ å…¥çš„è¿™ä¸ªæ•°ä¸å·²æœ‰çš„å½¢æˆäº†ä¸‰ç‚¹å…±çº¿ï¼Œåˆ™è¯¥æ•°ä¸èƒ½è¢«æˆåŠŸåŠ å…¥ï¼Œè¾“å‡ºä¸€ä¸ªé•¿åº¦ä¸ºn\\times nçš„01ä¸²ï¼Œè¡¨ç¤ºç¬¬iä¸ªç‚¹èƒ½å¦æˆåŠŸåŠ å…¥ã€‚\næ•°æ®ç»“æ„\n\n1\\leq n\\leq 1000\n1\\leq x_i,y_i\\leq n\n\næ€è·¯\næ¯è¡Œæ¯åˆ—éƒ½ä¸èƒ½æ‹¥æœ‰è¶…è¿‡2ä¸ªç‚¹ï¼Œè‹¥æŸè¡Œæˆ–æŸåˆ—å·²ç»è¶…è¿‡2ä¸ªç‚¹åˆ™ç›´æ¥åˆ¤ä¸èƒ½åŠ å…¥ï¼Œç”¨ä¸€ä¸ªvisæ•°ç»„è®°å½•æŸç‚¹æ˜¯å¦èƒ½è¢«æˆåŠŸåŠ å…¥ï¼ŒåŠ å…¥æ–°ç‚¹æ—¶ï¼Œéå†å›¾ä¸­å·²æœ‰çš„ç‚¹ï¼Œæšä¸¾ä¸å›¾ä¸­å·²æœ‰ç‚¹å½¢æˆçš„ç›´çº¿çš„æ–œç‡(dx,dy)ï¼Œdxã€dyäº’è´¨ï¼Œä»å½“å‰ç‚¹(x,y)å‘ä¸¤è¾¹è½¬ç§»åˆ°(x\\pm dx,y\\pm dy)ï¼Œå¹¶æ ‡è®°è¯¥å¤„ä¸èƒ½è¢«è®¿é—®ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1050;\nstruct point {\n    int x, y;\n};\nint X[maxn], Y[maxn];\nbool vis[maxn][maxn];\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;point&gt;v;\n    for (int i = 1;i &lt;= n * n;i++) {\n        int x1, y1;cin &gt;&gt; x1 &gt;&gt; y1;\n        if (X[x1] + 1 &gt; 2 || Y[y1] + 1 &gt; 2 || vis[x1][y1]) {\n            cout &lt;&lt; &quot;0&quot;;\n            continue;\n        }\n        X[x1]++, Y[y1]++;\n        if (i == 1) {\n            v.push_back({ x1,y1 });\n            vis[x1][y1] = true;\n            cout &lt;&lt; &quot;1&quot;;continue;\n        }\n        for (auto [x2, y2] : v) {\n            if (y2 == y1 || x2 == x1)continue;\n            int dx = abs(x2 - x1), dy = abs(y2 - y1), c = (1.0 * (y1 - y2) / (x1 - x2) &gt; 0 ? 1 : -1);\n            int g = gcd(dx, dy);\n            dx /= g, dy /= g;\n            int x = x1, y = y1;\n            while (x &gt;= 1 &amp;&amp; x &lt;= n &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= n) {\n                vis[x][y] = true;\n                x += dx, y += c * dy;\n            }\n            x = x1, y = y1;\n            while (x &gt;= 1 &amp;&amp; x &lt;= n &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= n) {\n                vis[x][y] = true;\n                x -= dx, y -= c * dy;\n            }\n        }\n        v.push_back({ x1,y1 });\n        cout &lt;&lt; &quot;1&quot;;\n    }\n    cout &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\nH-All-in at the Pre-flop\né¢˜æ„\nä¸¤ä¸ªç©å®¶æ‹¥æœ‰aå’Œbçš„ç­¹ç ï¼Œåœ¨ä¸€åœºå…¬å¹³æ¸¸æˆä¸­å…¨æŠ¼ï¼Œç­‰æ¦‚ç‡æˆä¸ºè¾“å®¶æˆ–èµ¢å®¶ï¼Œè‹¥èµ¢å®¶çš„ç­¹ç ä¸å°‘äºè¾“å®¶ï¼Œæ¸¸æˆç»“æŸï¼Œè¯¥å±€èµ¢å®¶ä¸ºæœ€ç»ˆèƒœåˆ©è€…ã€‚å¦åˆ™è¾“å®¶å‘èµ¢å®¶æ”¯ä»˜ç­‰åŒäºèµ¢å®¶ç­¹ç çš„ç­¹ç ã€‚é—®æ¸¸æˆç»“æŸæ—¶ä¸¤ä¸ªç©å®¶åˆ†åˆ«çš„èƒœç‡æ˜¯å¤šå°‘ï¼ˆæ¨¡998244353ï¼‰ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq a,b\\leq 998244353\n\næ€è·¯\næ¸¸æˆç»“æŸæ—¶è¦æ±‚èµ¢å®¶ç­¹ç ä¸å°‘äºè¾“å®¶ï¼Œå¦f(x)ä¸ºç©å®¶ç­¹ç é‡ä¸ºxæ—¶çš„èƒœç‡ï¼Œnä¸ºæ€»ç­¹ç æ•°ï¼Œä¹Ÿå°±æ˜¯a+bï¼Œåˆ™æœ‰ï¼š\nf(0)=0,f(n)=1\n\\begin{cases}\nf(x)=\\frac{1}{2}\\times f(0)+\\frac{1}{2}\\times f(2 x)\\quad x\\lt n/2\\\\\nf(x)=\\frac{1}{2}\\times f(n)+\\frac{1}{2}\\times f(2 x-n)\\quad x\\geq  n/2\n\\end{cases}\nç©å®¶æŠ¼ä¸Šxç­¹ç åï¼Œå¯¹æ–¹æŠ¼ä¸Šn-xç­¹ç ï¼Œè‹¥x\\geq n-xåˆ™ç©å®¶ä¸ºèµ¢å®¶æ—¶ç›´æ¥èƒœåˆ©ï¼Œä¸ºè¾“å®¶æ—¶å‘å¯¹æ–¹äº¤ä»˜n-xç­¹ç ï¼Œè‡ªå·±ç•™ä¸‹x-(n-x)=2\\times x-nç­¹ç ï¼Œè¿™æ—¶å€™çš„èƒœç‡å˜ä¸ºf(2x-n)ï¼Œå‘ç”Ÿè¿™ä¸¤ç§æƒ…å†µçš„æ¦‚ç‡éƒ½æ˜¯0.5ã€‚æ‰“è¡¨åå‘ç°f(x)=\\frac{x}{n}æ˜¯çº¿æ€§æ–¹ç¨‹çš„è§£ã€‚\nè¾“å‡º\\frac{a}{a+b}å’Œ\\frac{a}{a+b}ã€‚\nä»£ç \nll qpow(ll a, ll b) {\n    ll res = 1;\n    while (b) {\n        if (b &amp; 1)res = res * a % mo998;\n        b &gt;&gt;= 1;\n        a = a * a % mo998;\n    }\n    return res;\n}\n \nll inv(ll x) {\n    return qpow(x, mo998 - 2);\n}\n \nvoid solve() {\n    ll a, b;cin &gt;&gt; a &gt;&gt; b;\n    ll c = (a + b) % mo998;\n    cout &lt;&lt; a * inv(c) % mo998 &lt;&lt; &quot; &quot; &lt;&lt; b * inv(c) % mo998 &lt;&lt; &quot;\\n&quot;;\n}"},"03-algorithm/nc24sd2":{"slug":"03-algorithm/nc24sd2","filePath":"03-algorithm/nc24sd2.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day2||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Floor Tiles\né¢˜æ„\nå­˜åœ¨Aå‹ã€Bå‹ä¸¤ç§ç –ï¼š\n\nç°ç”¨è¿™ä¸¤ç§ç –æ‹¼æˆN\\times Mçš„çŸ©å½¢ï¼Œæé—®æ˜¯å¦æœ‰æ°å¥½å­˜åœ¨Kæ¡æ›²çº¿çš„å¹³é“ºæ–¹å¼ï¼Œæ›²çº¿å¦‚ä¸‹ï¼š\n\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 10^5\n1\\leq N,M\\leq 800\n1\\leq K \\leq 2\\times N\\times M\n\næ€è·¯\nè¾¹ç¼˜ä¸€åœˆçš„ç‚¹æ‰€åœ¨çš„çº¿ä¸€å®šä¸æ˜¯ä¸€ä¸ªç¯ï¼Œæ‰€ä»¥æœ€å°‘çš„çº¿æ•°ç›¸å½“äºéƒ½æ˜¯Aå‹æˆ–Bå‹æ—¶çš„çº¿æ•°ï¼Œä¹Ÿå°±æ˜¯N\\times Mä¸ªï¼Œè‹¥è¦æ¯”N\\times Mä¸ªå¤šï¼Œåˆ™å¤šçš„éƒ¨åˆ†åªèƒ½æ˜¯å›¾å½¢ä¸­ç¯çš„æ•°ç›®ï¼Œè´ªå¿ƒçš„è®©æ‰€æœ‰çš„ç¯æœ€å°ï¼Œåˆ™èƒ½æ„é€ å‡ºæœ€å¤šçš„ç¯ï¼Œæœ€å°çš„ç¯å¦‚ä¾‹å›¾ä¸­ä¸€æ ·ï¼Œå½“å¹³é“ºçš„æ–¹å¼æ˜¯\n\\begin{aligned}\nAB\\\\\nBA\n\\end{aligned}\næ—¶ï¼Œå½¢æˆçš„ç¯æ˜¯æœ€å°çš„ã€‚\nåŒæ—¶æ³¨æ„åˆ°ï¼Œæˆç¯çš„å››å—ç –å—æ˜¯å¯ä»¥å…±ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ï¼š\n\\begin{aligned}\nABAB\\\\\nBABA\\\\\nABAB\n\\end{aligned}\nä¸­æœ‰3ä¸ªç¯ã€‚\né¦–å…ˆæ„é€ æˆç¯æ•°é‡æœ€å¤šçš„N\\times Mï¼Œåœ¨è¾“å‡ºæ—¶è®°å½•å½“å‰å·²ç»æ‹¥æœ‰å¤šå°‘ä¸ªç¯ï¼Œè‹¥è¶…è¿‡æ‰€éœ€çš„æ•°é‡åˆ™ä¸å†è¾“å‡ºå¯ä»¥æˆç¯çš„ç –å—ç±»å‹ã€‚\nä»£ç \nvoid solve() {\n    int x, y;\n    char ty;\n    int n, m, k;\n    char a = &#039;A&#039;, b = &#039;B&#039;;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    cin &gt;&gt; x &gt;&gt; y &gt;&gt; ty;\n    vector&lt;string&gt;ans(n + 1, string(m + 1, &#039;X&#039;));\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= m;j++) {\n            if (abs(i + j - x - y) % 2) {\n                ans[i][j] = a + b - ty;\n            }\n            else {\n                ans[i][j] = ty;\n            }\n        }\n    }\n \n    int cnt = n + m;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= m;j++) {\n            if (ans[i][j] == a &amp;&amp; ans[i][j - 1] == b &amp;&amp; ans[i - 1][j] == b &amp;&amp; ans[i - 1][j - 1] == a)\n                cnt++;\n        }\n    }\n \n    if (cnt &lt; k || k &lt; n + m) {\n        cout &lt;&lt; &quot;No\\n&quot;;\n        return;\n    }\n \n    k -= n + m;\n    cout &lt;&lt; &quot;Yes\\n&quot;;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= m;j++) {\n            if (k &gt; 0) {\n                cout &lt;&lt; ans[i][j];\n                if (ans[i][j] == a &amp;&amp; ans[i][j - 1] == b &amp;&amp; ans[i - 1][j] == b &amp;&amp; ans[i - 1][j - 1] == a)\n                    k--;\n            }\n            else cout &lt;&lt; ty;\n        }\n        cout &lt;&lt; &#039;\\n&#039;;\n    }\n}\nB-MST\né¢˜æ„\nç»™å®šä¸€ä¸ªné¡¶ç‚¹çš„å¸¦æƒæ— å‘å›¾Gã€‚\næ¯æ¬¡è¯¢é—®ä¸€ä¸ªç‚¹é›†Sï¼Œæ±‚Så…³äºGçš„å¯¼å‡ºå­å›¾çš„æœ€å°ç”Ÿæˆæ ‘çš„è´¨é‡ï¼Œè‹¥æ— åˆ™è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\n\n2\\leq n\\leq 10^5\n1\\leq m,q\\leq 10^5\n1\\leq w_i \\leq 10^9\n\\sum k_i\\leq 10^5\n\næ€è·¯\næ³¨æ„ç‚¹æ•°nå’Œè¾¹æ•°mçš„èŒƒå›´éƒ½ä¸è¶…è¿‡10^5ï¼Œè‹¥é€šè¿‡æšä¸¾ä¸¤ä¸ªç‚¹æ¥ç¡®å®šç¬¦åˆæ¡ä»¶çš„è¾¹ï¼Œåˆ™å¤æ‚åº¦æ˜¯O(n^2)ï¼Œè€Œå¦‚æœæŒ‰ç…§æšä¸¾è¾¹æ¥ç¡®å®šç¬¦åˆæ¡ä»¶çš„è¾¹ï¼Œå¤æ‚åº¦æ˜¯O(m)ï¼Œäºæ˜¯ä¼˜åŒ–çš„æ€è·¯æ˜¯æ ¹æ®æ¯æ¬¡kå’Œ\\sqrt {maxn}çš„å¤§å°å…³ç³»æ¥é€‰æ‹©åŠ å…¥è¾¹çš„æ–¹å¼ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50;\nstruct edge {\n    int s, t, w;\n    bool operator&lt;(const edge&amp; e)const {\n        return w &lt; e.w;\n    }\n};\n \nvector&lt;vector&lt;edge&gt;&gt;graph;\nmap&lt;pair&lt;int, int&gt;, int&gt;gp;\n \nint s[maxn];\nint fa[maxn];\nint findfa(int x) {\n    if (x == fa[x])return x;\n    return fa[x] = findfa(fa[x]);\n}\n \nll krus(int n, vector&lt;edge&gt;subgraph) {\n    ll res = 0;\n    int cnt = 0;\n    for (auto e : subgraph) {\n        if (cnt == n - 1)break;\n        if (!cnt) {\n            fa[e.t] = e.s;\n            res += e.w;\n            ++cnt;\n            continue;\n        }\n        auto [u, v, w] = e;\n        int fu = findfa(u), fv = findfa(v);\n        if (fu == fv)continue;\n        fa[fu] = fv;\n        res += w;\n        ++cnt;\n    }\n    int fx = findfa(s[1]);\n    for (int i = 2;i &lt;= n;i++) {\n        if (fx != findfa(s[i])) {\n            return -1ll;\n        }\n    }\n \n    return res;\n}\n \nvoid solve() {\n    int n, m, q;cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;\n    graph.assign(n + 1, vector&lt;edge&gt;());\n    for (int i = 0;i &lt;= n;i++)fa[i] = i;\n \n    for (int i = 1;i &lt;= m;i++) {\n        int u, v, w;cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;\n        graph[u].push_back({ u,v,w });\n        graph[v].push_back({ v,u,w });\n        gp[{u, v}] = w;\n        gp[{v, u}] = w;\n    }\n    while (q--) {\n        int k;cin &gt;&gt; k;\n        map&lt;int, bool&gt;mp;\n        for (int i = 1;i &lt;= k;i++) {\n            cin &gt;&gt; s[i];\n            fa[s[i]] = s[i];\n            mp[s[i]] = true;\n        }\n        vector&lt;edge&gt;subgraph;\n        if (k * k &lt; maxn) { // ç‚¹å°‘\n            // å–å‡ºç¬¦åˆè¦æ±‚çš„è¾¹\n            for (int i = 1;i &lt;= k;i++) {\n                for (int j = i + 1;j &lt;= k;j++) {\n                    int u = s[i], v = s[j];\n                    if (gp.count({ u,v })) {\n                        int w = gp[{u, v}];\n                        subgraph.push_back({ u,v,w });\n                    }\n                }\n            }\n        }\n        else {\n            for (int i = 1;i &lt;= k;i++) {\n                int u = s[i];\n                for (auto e : graph[u]) {\n                    if (mp.count(e.t))\n                        subgraph.push_back(e);\n                }\n            }\n        }\n        sort(subgraph.begin(), subgraph.end());\n        cout &lt;&lt; krus(k, subgraph) &lt;&lt; &quot;\\n&quot;;\n    }\n}\n \nint main() {\n    int t = 1;\n    while (t--)\n        solve();\n \n    return 0;\n}\nC-Red Walking on Grid\né¢˜æ„\nåœ¨ä¸€ä¸ª2\\times nâ€‹çš„ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªæ ¼å­è¦ä¹ˆæ˜¯çº¢è‰²ï¼ˆRï¼‰ï¼Œè¦ä¹ˆæ˜¯ç™½è‰²ï¼ˆWï¼‰ã€‚æ¯æ¬¡åªèƒ½è¸©åœ¨å½“å‰æ ¼å­çš„ä¸Šä¸‹å·¦å³ç›¸é‚»çš„çº¢è‰²æ ¼å­ä¸Šï¼Œå¹¶ä¸”åœ¨ç¦»å¼€å½“å‰çš„æ ¼å­ä¹‹åï¼Œå½“å‰æ ¼å­å°†ä»çº¢è‰²å˜ä¸ºç™½è‰²ï¼Œæé—®æœ€é•¿ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 10^6\n\næ€è·¯\nç›´æ¥ä»å·¦å¾€å³æœç´¢å³å¯ï¼Œè‹¥å½“å‰åˆ—æœ‰çº¢è‰²æ ¼å­ï¼Œåˆ™å®ƒå¯ä»¥ç”±å‰ä¸€åˆ—ç›¸é‚»æ ¼å­çš„æ­¥æ•°+1è½¬ç§»è¿‡æ¥ï¼Œæˆ–è€…æ˜¯ä»ä¸‹æ–¹æˆ–ä¸Šæ–¹çš„çº¢è‰²æ ¼å­è½¬ç§»è¿‡æ¥ï¼Œä¸¤è€…é€‰æ›´ä¼˜çš„è§£ä½œä¸ºç­”æ¡ˆå³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst ll maxn = 1e6 + 50;\nconst ll mo = 1e9 + 7;\n \nll n;\nchar mp[3][maxn];\nll dp[3][maxn] = { 0 };\nvoid solve() {\n    cin &gt;&gt; n;\n    for (ll i = 1;i &lt;= 2;i++) {\n        for (ll j = 1;j &lt;= n;j++)\n            cin &gt;&gt; mp[i][j];\n    }\n    mp[1][0] = mp[2][0] = mp[1][n + 1] = mp[2][n + 1] = &#039;W&#039;;\n    ll ans = 0;\n    for (ll i = 1;i &lt;= n;i++) {\n        if (mp[1][i] == &#039;R&#039;)dp[1][i] = dp[1][i - 1] + 1;\n        if (mp[2][i] == &#039;R&#039;)dp[2][i] = dp[2][i - 1] + 1;\n        if (mp[1][i] == &#039;R&#039; &amp;&amp; mp[2][i] == &#039;R&#039;) {\n            ll tmp = dp[1][i];\n            if (dp[1][i] &lt; dp[2][i] + 1) {\n                dp[1][i] = dp[2][i] + 1;\n            }\n            if (dp[2][i] &lt; tmp + 1) {\n                dp[2][i] = tmp + 1;\n            }\n        }\n        ll tmp = max(dp[1][i], dp[2][i]);\n        ans = max(tmp, ans);\n    }\n    cout &lt;&lt; max(ans - 1, 0ll) &lt;&lt; endl;\n}\n \nint main() {\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\nE-GCD VS XOR\næœ‰äººå¡ç­¾åˆ°ã€‚ã€‚ã€‚TAT\né¢˜æ„\nç»™å®šæ­£æ•´æ•°xï¼Œæ±‚æ»¡è¶³gcd(x,y)=x\\oplus yçš„å°äºxçš„æ­£æ•´æ•°yã€‚è‹¥æ— åˆ™æ‰“å°-1\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^4\n1\\leq x\\leq 10^{18}\n\næ€è·¯\nè·ç¦»è€ƒè™‘ï¼Œå¯¹äºæ•°x=0b10011010ï¼Œè€ƒè™‘å¼‚æˆ–çš„æ€§è´¨A\\oplus 0=A,A\\oplus A=0ï¼Œè®¾x\\oplus y=kï¼Œy\\lt xï¼Œæˆ‘ä»¬ç›´æ¥æ„é€ kä¸ºxæœ€å³ä¾§çš„1å¼€å§‹çš„æ•°ï¼Œè¿™æ ·çš„kå¯ä»¥æ»¡è¶³å¿…ç„¶ä¸ºxçš„å€æ•°ï¼ŒåŒæ—¶ï¼Œè‹¥è¦æ»¡è¶³gcd(x,y)=kï¼Œæ„é€ yçš„æ—¶å€™è¦æ»¡è¶³é™¤äº†lowbit(x)ä»¥å¤–çš„æ•°ä½éƒ½ä¸xç›¸åŒã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst ll N = 1000001;\n \nll lowbit(ll x) { return x &amp; -x; }\n \nvoid solve() {\n    ll x;cin &gt;&gt; x;\n    ll ans = -1;\n    if (lowbit(x) != x) {\n        ans = x - lowbit(x);\n    }\n \n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    int _ = 1;\n    cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n \n    return 0;\n}\nH-Instructions Substring\né¢˜æ„\næœ‰ä¸€ä¸ªæ“ä½œå­—ç¬¦ä¸²ï¼Œç”±Wï¼ŒSï¼ŒAï¼ŒDç»„æˆï¼Œå¯¹åº”ä¸Šä¸‹å·¦å³ä½ç§»ä¸€ä½ï¼Œä»åŸç‚¹(0,0)å¼€å§‹ï¼Œå°†æ“ä½œå­—ç¬¦ä¸²çš„ä¸€ä¸ªéç©ºè¿ç»­å­æ®µä½œä¸ºé€‰æ‹©çš„æ“ä½œï¼Œé—®æœ‰å¤šå°‘æ“ä½œå¯ä»¥ç»è¿‡ç›®æ ‡ç‚¹(x,y)ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2\\times 10^5\n-10^5\\leq x,y\\leq 10^5\n\næ€è·¯\nè€ƒè™‘è®°å½•æ¯æ¬¡æ“ä½œåçš„åæ ‡(u,v)ï¼Œå¯¹è¯¥åç§»åæ ‡(\\Delta x,\\Delta y)è®¡æ•°ï¼Œå¹¶é€æ­¥è®¡ç®—åˆ°è¾¾ç›®æ ‡(x,y)éœ€è¦å»é™¤çš„åç§»åæ ‡é‡(u-\\Delta x,v - \\Delta y)ï¼Œè¿™ä¸ªéœ€è¦å»æ‰çš„æ“ä½œæ•°ä¹˜ä»¥å½“å‰çš„æ­¥æ•°åæ ‡ï¼ˆå»æ‰(u-\\Delta x,v-\\Delta y)ä¹‹åï¼Œä»å½“å‰æ­¥å¼€å§‹ï¼Œä¹‹åä¸ç®¡åœ¨å“ªåœä¸‹ï¼Œéƒ½æ˜¯æœ‰æ•ˆçš„è·¯å¾„æ•°ç›®ï¼‰ï¼Œä¹‹åå¯¹è¯¥åç§»åæ ‡æ•°æ¸…é›¶ï¼Œé¿å…é‡å¤è®¡æ•°ï¼ˆä¹‹åæ–°å‡ºç°çš„åªåœ¨ä¹‹åçš„æ“ä½œä¸­è¢«è®¡æ•°ï¼‰ã€‚\nä»£ç \nll n, x, y;\nstring st;\nmap&lt;char, pair&lt;ll, ll&gt;&gt;dxy;\nmap&lt;ll, map&lt;ll, ll&gt;&gt;mp; // mp[i][j]:xä½ç§»é‡ä¸ºi,yä½ç§»é‡ä¸ºjçš„æ“ä½œæ•°é‡ã€‚\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; x &gt;&gt; y;\n    cin &gt;&gt; st;\n    dxy[&#039;A&#039;] = { 0,-1 };\n    dxy[&#039;D&#039;] = { 0,1 };\n    dxy[&#039;S&#039;] = { -1,0 };\n    dxy[&#039;W&#039;] = { 1,0 };\n    if (!x &amp;&amp; !y) {\n        cout &lt;&lt; n * (n + 1) / 2 &lt;&lt; endl;\n        return;\n    }\n    ll ans = 0;\n    ll u = 0, v = 0;\n    mp[0][0] = 1; // åŸç‚¹å½¢æˆçš„ç¬¦åˆ{0,0}æ–¹æ¡ˆæ•°æœ‰1ä¸ª\n    for (ll i = 0;i &lt; n;i++) {\n        u += dxy[st[i]].second;\n        v += dxy[st[i]].first;\n        if (mp.count(u - x)) {\n            // u-x:å½“å‰èµ°äº†uæ­¥ï¼Œå»æ‰ä¹‹å‰åœ¨xè½´ä¸Šèµ°è¿‡çš„u-xæ­¥å¯ä»¥åˆ°ç›®æ ‡xè½´\n            if (mp[u - x].count(v - y)) {   // åŒç†\n                // æ»¡è¶³å»é™¤å‰é¢çš„å¤šä½™x,yä½ç§»ï¼Œä¹‹åçš„æ“ä½œéƒ½æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚\n                ans += mp[u - x][v - y] * (n - i);\n                // è¿™æ¬¡ä½¿ç”¨è¿‡å»é™¤ç¬¦åˆè¦æ±‚çš„ä½ç§»çš„æ“ä½œæ–¹æ¡ˆæ•°ç›®äº†,ä¹‹åé‡æ–°å‡ºç°çš„ç›¸åŒä½ç§»æƒ…å†µéœ€è¦é‡æ–°è®¡æ•°ã€‚\n                mp[u - x][v - y] = 0;\n            }\n        }\n        mp[u][v]++;\n    }\n \n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nI-Red Playing Cards\né¢˜æ„\nå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º2\\times nçš„ä¸€ç»´æ•°ç»„ï¼Œ1åˆ°næ¯ä¸ªå…ƒç´ æ°å¥½å‡ºç°ä¸¤æ¬¡ã€‚æ¯æ¬¡æ“ä½œå¯ä»¥åˆ æ‰ä¸€ä¸ªé•¿åº¦ä¸å°äº2çš„é¦–å°¾ç›¸åŒçš„è¿ç»­å­æ•°ç»„ï¼Œè·å¾—è¯¥è¿ç»­å­æ•°ç»„çš„é¦–å°¾å…ƒç´ å€¼ä¹˜ä»¥å…ƒç´ æ•°é‡çš„åˆ†æ•°ã€‚ä¸ºæœ€ç»ˆå¯ä»¥å¾—åˆ°å¤šå°‘åˆ†ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq a_i\\leq n\\leq 3000\n\næ€è·¯\næ¯ä¸ªæ•°æœ‰ä¸¤ä¸ªåæ ‡ï¼Œå‡è®¾æ•°içš„åæ ‡ä¸ºl_iå’Œr_iï¼Œé¢„å¤„ç†å‡ºä»¥æ•°iä¸ºä¸€ä¸ªæ“ä½œæ—¶çš„åˆ†æ•°f(i)ï¼Œé‚£ä¹ˆå¯¹äºåŒºé—´[l_i,r_i]ï¼Œå¯ä»¥è®¡ç®—å…¶ä¸­æ¯ä¸ªæ•°çš„è´¡çŒ®ï¼ˆå³iï¼‰ï¼Œè‹¥å‡ºç°æ»¡è¶³l_i\\lt l_j \\lt r_j\\lt r_i ï¼Œåˆ™ç”¨max(i,j)ä»£æ›¿åŒºé—´[l_j,r_j]çš„è´¡çŒ®ã€‚\nè®¡ç®—åŒºé—´[l_i,k]çš„æœ€å¤§åˆ†æ•°g(k)ï¼Œg(k)ç¬¦åˆï¼š\ng(k)= \n\\begin{cases}\nmax(g(k-1) + i,g(l_j-1)+f(j)),&amp; (k=r_j \\quad and \\quad l_i \\lt l_j)\\\\\ng(k-1) + i &amp; \n\\end{cases}\nç›´åˆ°k=r_iï¼Œå¾—åˆ°f(i)=g(r_i)ã€‚\nä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(2 * n + 3);\n    map&lt;ll, plr&gt;idx;\n    for (ll i = 2;i &lt;= 2 * n + 1;i++) {\n        cin &gt;&gt; a[i];\n        if (idx.count(a[i])) {\n            idx[a[i]].r = i;\n            idx[a[i]].len = idx[a[i]].r - idx[a[i]].l + 1;\n        }\n        else idx[a[i]].l = i;\n    }\n \n    // ç”¨0åŒ…è£¹æ•°ç»„ï¼Œå–0è¿™ä¸€å¯¹ä¸å½±å“ç»“æœï¼Œä½†æ˜¯æ–¹ä¾¿ç»Ÿè®¡æœ€ä½³åˆ†æ•°\n    a[1] = a[2 * n + 2] = 0ll;\n    idx[0] = { 1,2 * n + 2,2 * n + 2 }; \n \n    vector&lt;pair&lt;plr, ll&gt;&gt;idv;\n    for (auto i : idx) {\n        idv.push_back({ i.second, i.first });\n    }\n    sort(idv.begin(), idv.end());\n \n    vector&lt;ll&gt;f(n + 1);\n    for (auto x : idv) {\n        ll i = x.second;\n        ll li = x.first.l, ri = x.first.r;\n \n        vector&lt;ll&gt;g(2 * n + 2);\n        for (ll k = li;k &lt;= ri;k++) {\n            ll j = a[k];\n            ll lj = idx[j].l, rj = idx[j].r;\n            if (li &lt; lj &amp;&amp; k == rj) {\n                g[k] = max(g[k - 1] + i, g[lj - 1] + f[j]);\n            }\n            else {\n                g[k] = g[k - 1] + i;\n            }\n        }\n        f[i] = g[ri];\n    }\n    cout &lt;&lt; f[0] &lt;&lt; endl;\n}"},"03-algorithm/nc24sd3":{"slug":"03-algorithm/nc24sd3","filePath":"03-algorithm/nc24sd3.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day3||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Bridging the Gap 2\né¢˜æ„\nåœ¨æ²³å²¸çš„ä¸€ä¾§æœ‰nä¸ªäººï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªä½“åŠ›å€¼h_iï¼Œæœ‰ä¸€è‰˜èˆ¹å¯ä»¥å°†äººä»ä¸€ä¾§è½½åˆ°å¦ä¸€ä¾§ï¼Œæ¯æ¬¡èˆªè¡Œéœ€è¦è‡³å°‘Lä¸ªäººæŒèˆµï¼Œæ¯æ¬¡æŒèˆµä¼šèŠ±è´¹æ¯ä¸ªæŒèˆµäººçš„ä¸€ç‚¹ä½“åŠ›ï¼Œå½“ä½“åŠ›ä¸è¶³ä¸€ç‚¹æ—¶ï¼Œè¿™ä¸ªäººä¸èƒ½å†æŒèˆµï¼Œèˆ¹çš„å®¹é‡æœ€å¤§æ˜¯Rï¼Œæé—®æ˜¯å¦èƒ½å¤Ÿå°†è¿™äº›äººéƒ½è¿é€åˆ°å¯¹å²¸ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq L\\lt R\\leq n\\leq 5\\times 10^5â€‹\n1\\leq h_i\\leq 5\\times 10^5\n\næ€è·¯\nè´ªå¿ƒçš„è¿è¾“ï¼Œä»å·¦å²¸è¿è¾“çš„æœ€å°æ¬¡æ•°æ˜¯k=\\lceil \\frac{n-R}{R-L} \\rceilï¼Œè®¡ç®—æ¯ä¸ªäººæœ€å¤šçš„æ¥å›æ¬¡æ•°a_iï¼Œå‡å¦‚æ»¡è¶³\\sum_{i-1}^{n} min(k,a_i)\\geq k\\times Lï¼Œåˆ™å¯ä»¥å°†æ‰€æœ‰äººéƒ½è¿è¾“åˆ°å¯¹å²¸ã€‚\nä»£ç \nll h[maxn], a[maxn];\nvoid solve() {\n    int n, L, R;cin &gt;&gt; n &gt;&gt; L &gt;&gt; R;\n    ll sum = 0, k = (n - L - 1) / (R - L);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; h[i];\n        a[i] = (h[i] - 1) / 2;\n        sum += min(k, a[i]);\n    }\n    if (sum &gt;= k * L)cout &lt;&lt; &quot;Yes\\n&quot;;\n    else cout &lt;&lt; &quot;No\\n&quot;;\n}\nB-Crash Test\né¢˜æ„\nå°è½¦æœ‰nä¸ªå¼•æ“ï¼Œç¬¬iä¸ªå¼•æ“å¯ä»¥è®©è½¦å‰è¿›h[i]ç±³ã€‚åœ¨å°è½¦èµ·ç‚¹æ­£å‰æ–¹è·ç¦»ä¸ºDå¤„æœ‰ä¸€åå¼¹å¢™é¢ï¼Œå°è½¦å¦‚æœæ’åœ¨å¢™ä¸Šå°†ä¼šè¢«å›å¼¹ä¸å½“å‰å‰©ä½™çš„å‰è¿›ç±³æ•°ç›¸åŒçš„è·ç¦»ï¼Œå¹¶ä¿æŒè½¦å¤´æœå‘å¢™é¢ã€‚å°è½¦å¯ä»¥ä½¿ç”¨ä»»æ„å¼•æ“ä»»æ„æ¬¡ï¼Œè¯¢é—®è·ç¦»å¢™é¢æœ€è¿‘çš„è·ç¦»æ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 100\n1\\leq D \\leq 10^{18}\n1\\leq h[i]\\leq 10^{18}\n\næ€è·¯\nå‡è®¾å½“å‰é€‰æ‹©äº†æŸä¸ªå¼•æ“ï¼Œå¹¶åªä½¿ç”¨è¿™ä¸ªå¼•æ“ï¼Œæ˜“çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†è·ç¦»då‡å°åˆ°\\min(d\\bmod h[i],h[i]-d\\bmod h[i])ã€‚\næ¥ä¸‹æ¥é€‰æ‹©å¦ä¸€ç§å¼•æ“ï¼Œåœ¨åˆšæ‰çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†è·ç¦»å‡å°åˆ°\\min(d\\bmod h[i+1],h[i+1]-d\\bmod h[i+1])ã€‚\nè®¾gcd(h[i],h[i+1])=kï¼Œh[i]=ak,h[i+1]=bkï¼Œåˆ™dçš„å˜åŒ–å…¶å®æ˜¯è¿™æ ·çš„ï¼š\n\\begin{align*}\nd_1=\\&amp;\\min(d_0\\bmod ak,d_0-d_0\\bmod ak)\\\\\n=\\&amp;\\min(d_0\\bmod k,d_0-d_0\\bmod k)\\\\\nd_2=\\&amp;\\min(d_1\\bmod bk,d_1-d_1\\bmod bk)\\\\\n=\\&amp;\\min(d_1\\bmod k,d_1-d_1\\bmod k)\\\\\n=\\&amp;d_1\\\\\n=\\&amp;\\min(d_0\\bmod k,d_0-d_0\\bmod k)\\\\\n\\&amp;.......\n\\end{align*}\nè§‚å¯Ÿç»“æœï¼Œå¯ä»¥å‘ç°æœ€å°çš„|dis-d|ä¹‹å’Œæ‰€æœ‰å¼•æ“çš„gcdæœ‰å…³ï¼Œè®¡ç®—h[]æ•°ç»„çš„gcdå³å¯ã€‚\nä»£ç \nvoid solve() {\n    ll n, d;cin &gt;&gt; n &gt;&gt; d;\n    vector&lt;ll&gt;h(n + 1);\n    for (ll i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; h[i];\n    }\n    sort(h.begin() + 1, h.end());\n    ll x = h[n];\n    for (ll i = n;i &gt;= 1;i--) {\n        x = gcd(x, h[i]);\n    }\n    cout &lt;&lt; min(d % x, x - d % x) &lt;&lt; endl;\n}\nD-Dominoes!\né¢˜æ„\nä¸€å¼ å¤šç±³è¯ºéª¨ç‰Œçš„å·¦å³ä¸¤ç«¯å„æœ‰ä¸€ä¸ªæ•°å­—ï¼Œç»™å‡ºnå¼ è¿™æ ·çš„å¤šç±³è¯ºéª¨ç‰Œï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå¯ä»¥å¦æ‰€æœ‰ç›¸é‚»ä¸”ä¸åœ¨åŒä¸€å¼ ç‰Œä¸Šçš„ä¸¤ä¸ªæ•°å­—ä¸ä¸€æ ·çš„åºåˆ—ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2\\times 10^5\n1\\leq x_i,y_i\\leq 10^9\n\næ€è·¯\né¦–å…ˆæ³¨æ„åˆ°å½“ æŸä¸ªæ•°å­—çš„æ•°é‡å¤§äºç­‰äºn+2æ—¶ï¼Œä¸€å®šæ²¡æœ‰åˆæ³•çš„æ’åˆ—ã€‚\nè€Œå¦‚æœç¬¦åˆ\\lt n+2ï¼Œä¸€å®šæœ‰åˆæ³•åºåˆ—ã€‚\nå¦‚æœæ‰€æœ‰éª¨ç‰Œéƒ½æ»¡è¶³x_i\\neq y_iï¼Œåˆ™åªè¦æ»¡è¶³æ¯æ¬¡ä»ä¸¤ä¾§åŠ å…¥çš„ç‰Œç›¸é‚»æ²¡æœ‰ç›¸åŒæ•°å­—å³å¯ï¼Œä¸€å®šæœ‰åˆæ³•åºåˆ—ã€‚\nä¼˜å…ˆè€ƒè™‘æ’åˆ—x_i=y_içš„éª¨ç‰Œã€‚å°†x_i = y_içš„éª¨ç‰ŒæŒ‰ç…§æ•°é‡ä»å¤§åˆ°å°æ’åºï¼Œæ¯æ¬¡é€‰æ‹©ä¸€å¼ ç‰Œï¼Œå‡è®¾è¿™å¼ ç‰Œçš„æ•°å­—æ˜¯pï¼Œä¹‹åé€‰æ‹©ç°å­˜æ•°é‡æœ€å¤šçš„ä¸”ç¬¦åˆx_j = y_j\\neq pçš„ä¸€å¼ ç‰Œï¼Œæ”¾åœ¨å³ä¾§ï¼Œæ¥ä¸‹æ¥ç»§ç»­å–ä¸¤ä¾§ç›¸åŒéª¨ç‰Œä¸­æ•°ç›®æœ€å¤šçš„ï¼Œè‹¥ä¸¤ä¾§ç›¸åŒéª¨ç‰Œæ•°ç›®ä¸è¶³2ç§ï¼Œåˆ™åŠ å…¥ä»»æ„ä¸¤ä¾§ä¸åŒçš„ç‰Œï¼Œæ³¨æ„æ¥è§¦ç«¯çš„æ¡ä»¶\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst ll maxn = 2e5 + 50;\n \nstruct Domi {\n    ll x, y;\n \n    bool operator==(const Domi&amp; d)const {\n        return tie(x, y) == tie(d.x, d.y);\n    }\n    bool operator!=(const Domi&amp; d)const {\n        return tie(x, y) != tie(d.x, d.y);\n    }\n    bool operator&lt;(const Domi&amp; d)const {\n        return tie(x, y) &lt; tie(d.x, d.y);\n    }\n};\n \nbool compare(const pair&lt;ll, Domi&gt;&amp; a, const pair&lt;ll, Domi&gt;&amp; b) {\n    if (a.first == b.first)return a.second &lt; b.second;\n    return a.first &gt; b.first;\n}\n \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;Domi&gt;v, w;\n    map&lt;ll, ll&gt;cnt;\n    for (ll i = 1;i &lt;= n;i++) {\n        ll x, y;cin &gt;&gt; x &gt;&gt; y;\n        if (x &gt; y) { x = x ^ y, y = x ^ y, x = x ^ y; }\n        cnt[x]++, cnt[y]++;\n        if (x == y)\n            v.push_back({ x,y });\n        else\n            w.push_back({ x,y });\n    }\n    ll lv = v.size();\n    ll lw = w.size();\n \n \n    for (auto i : cnt) {\n        if (i.second &gt;= n + 2) {\n            cout &lt;&lt; &quot;No\\n&quot;;\n            return;\n        }\n    }\n    cout &lt;&lt; &quot;Yes\\n&quot;;\n \n    if (n == 1) {\n        struct Domi d;\n        if (v.empty()) {\n            d = w.back();\n        }\n        else {\n            d = v.back();\n        }\n        cout &lt;&lt; d.x &lt;&lt; &quot; &quot; &lt;&lt; d.y &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n \n    sort(v.begin(), v.end());\n    ll c = 1;\n    priority_queue&lt;pair&lt;ll, Domi&gt;&gt;pris;\n    for (ll i = 1;i &lt; lv;i++) {\n        if (v[i] != v[i - 1]) {\n            pris.push({ c,v[i - 1] });\n            c = 1;\n        }\n        else {\n            c++;\n        }\n    }\n    if (lv) {\n        pris.push({ c,v.back() });\n    }\n \n    vector&lt;Domi&gt;ans;\n    ll pw = 0;\n    ll las = -1;\n    while (!pris.empty() || pw &lt; lw) {\n        if (pris.empty()) {\n            struct Domi x = w[pw++];\n            if (x.x == las) {\n                x = { x.y,x.x };\n            }\n            ans.push_back(x);\n            las = x.y;\n            continue;\n        }\n \n        auto [cntx, x] = pris.top();pris.pop();\n        if (las != x.x) {\n            cntx--;\n            if (cntx) {\n                pris.push({ cntx,x });\n            }\n            ans.push_back(x);\n            las = x.y;\n            continue;\n        }\n \n        if (pris.empty()) {\n            pris.push({ cntx,x });\n            x = w[pw++];\n            if (x.x == las) {\n                x = { x.y,x.x };\n            }\n            ans.push_back(x);\n            las = x.y;\n            continue;\n        }\n \n        auto [cnty, y] = pris.top();pris.pop();\n        pris.push({ cntx,x });\n        cnty--;\n        if (cnty) {\n            pris.push({ cnty,y });\n        }\n        ans.push_back(y);\n        las = y.y;\n    }\n \n    for (auto i : ans) {\n        cout &lt;&lt; i.x &lt;&lt; &quot; &quot; &lt;&lt; i.y &lt;&lt; &quot;\\n&quot;;\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)solve();\n \n    return 0;\n}\nE-Malfunctioning Typewriter\né¢˜æ„\næœ‰ä¸€å°æ‰“å­—æœºï¼Œå¯¹äºæ¯æ¬¡é”®å…¥çš„å­—ç¬¦ï¼ˆåªæœ‰0æˆ–1ï¼‰ï¼Œæ¯æ¬¡æœ‰pçš„æ¦‚ç‡æ­£ç¡®é”®å…¥ï¼Œæœ‰nå¥é•¿åº¦ä¸ºmçš„ä¸ä¼šé‡å¤çš„è¯—å¥ï¼Œè¿™äº›è¯—å¥å¯ä»¥ä»¥ä»»æ„é¡ºåºç»„åˆæˆä¸€é¦–é•¿åº¦ä¸ºnçš„è¯—ã€‚è¯¢é—®åœ¨æ‰“å­—è¿™é¦–è¯—çš„æ—¶å€™ï¼Œæœ‰å¤šå¤§çš„æ¦‚ç‡æˆæœæ‰“å‡ºã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m\\leq 1000\n0.5\\leq q\\leq 1\n\næ€è·¯\nå°†nå¥è¯—å»ºç«‹å­—å…¸æ ‘ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹ç»Ÿè®¡ä»¥è¯¥ç»“ç‚¹ä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²æ•°ç›®ã€‚\nè€ƒè™‘åˆ°åªæœ‰01ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸‹æœ€å¤šåªæœ‰0æˆ–1çš„å­èŠ‚ç‚¹ã€‚è®°æŸä¸ªèŠ‚ç‚¹ä¸ºuï¼Œå°†èŠ‚ç‚¹uå‰ç¼€æ‰“å¯¹çš„æ¦‚ç‡å¯ä»¥é¢„å¤„ç†ï¼ˆf(x,y)è¡¨ç¤ºæ‰“å¯¹xä¸ª1ï¼Œyä¸ª0çš„æ¦‚ç‡ï¼‰ï¼Œæ‰“å¯¹ä¸€æ•´é¦–è¯—æ­Œæ˜¯éå†å®Œå­—å…¸æ ‘ä¸Šçš„æ¯ä¸ªå­—ç¬¦ä¸²1æ¬¡ï¼Œå¯¹äºå­—å…¸æ ‘ä¸Šçš„æŸä¸ªéå¶å­èŠ‚ç‚¹ï¼Œåœ¨éå†æ—¶ï¼Œç»è¿‡è¯¥ç»“ç‚¹çš„æ•°ç›®æ˜¯å®ƒçš„å­æ ‘ä¸­æœ‰å¤šå°‘ä¸ªå¶å­ç»“ç‚¹å†³å®šçš„ï¼Œå‡è®¾æœ‰xæ˜¯ä»è¯¥èŠ‚ç‚¹ï¼ˆè¡¨ç¤ºä¸€ä¸ªå‰ç¼€ï¼‰å¾€åä»¥1ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­çš„å¶å­ç»“ç‚¹æ•°ç›®ï¼Œyæ˜¯ä»¥0ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­å¶å­ç»“ç‚¹çš„æ•°ç›®ï¼Œé‚£ä¹ˆåœ¨å†³ç­–å½“å‰æ˜¯å¦æ­£ç¡®è¾“å‡ºäº†0/1çš„æ¦‚ç‡æ˜¯f(x,y)ï¼ˆç›¸å½“äºåœ¨å½“å‰èŠ‚ç‚¹è¾“å‡ºæ­£ç¡®çš„xä¸ª1å’Œyä¸ª0çš„æ¦‚ç‡ä»£è¡¨è¿™ä¸€æ­¥æ‰“å­—è¾“å‡ºäº†x+yä¸ªåˆæ³•ä¸‹è¡Œå­ä¸²çš„æ¦‚ç‡ï¼‰ï¼Œæ•…æ€»æ¦‚ç‡æ˜¯\\prod_u f(sz(lp),sz(rp))ã€‚\nå¯¹f(x,y)çš„é¢„å¤„ç†ï¼š\nf(x,y)=\\max(p\\times f(x-1,y)+(1-p)\\times f(x,y),p\\times f(x,y-1)+(1-p)\\times f(x-1,y))\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst ll maxn = 1010;\n \nint node = 0;\nint nxt[maxn * maxn][2];\nint sz[maxn * maxn];\nvoid triInsert(string s) {\n    int n = s.size();\n    int p = 0;\n    for (int i = 0;i &lt; n;i++) {\n        int c = s[i] - &#039;0&#039;;\n        if (!nxt[p][c])nxt[p][c] = ++node;\n        sz[nxt[p][c]]++; // ä»¥è¿™ä¸ªç‚¹ä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²æ•°ç›®\n        p = nxt[p][c];\n    }\n}\n \n \nld f[maxn][maxn];\nvoid solve() {\n    int n, m;ld p;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; p;\n    vector&lt;string&gt;st(n);\n    for (int i = 0;i &lt; n;i++) {\n        string s;cin &gt;&gt; s;\n        triInsert(s);\n    }\n    f[0][0] = 1.0; // æ‰“å‡º0ä¸ª1,0ä¸ª0æ¦‚ç‡ä¸º1\n    for (int x = 0;x &lt;= n;x++) {\n        // f(x,y):æ°å¥½æ­£ç¡®æ‰“å‡ºxä¸ª1,yä¸ª0\n        for (int y = 0;y &lt;= n;y++) {\n            if (!x &amp;&amp; !y)continue;\n            ld w = x ? f[x - 1][y] : 0.0;\n            ld v = y ? f[x][y - 1] : 0.0;\n            f[x][y] = max(\n                p * w + (1 - p) * v,\n                p * v + (1 - p) * w\n            );\n        }\n    }\n    ld ans = 1.0;\n    for (int i = 0;i &lt;= node;i++) {\n        ans *= f[sz[nxt[i][0]]][sz[nxt[i][1]]];\n    }\n    printf(&quot;%.12lf&quot;, ans);\n}\n \nint main() {\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n \n    return 0;\n}\nJ-Rigged Games\né¢˜æ„\næ¯”èµ›ç”±å¤§åˆ†æ¯”å’Œå°åˆ†æ¯”ä¸€åŒå†³å®šæœ€ç»ˆçš„èƒœè´Ÿï¼Œå°åˆ†æ¯”Bo2a-1ï¼šå…ˆèƒœå‡ºaåœºä¸ºèƒœã€‚å¤§åˆ†æ¯”Bo2b-1ï¼šå…ˆèƒœå‡ºbåœºä¸ºèƒœã€‚è®°1æ¬¡å°åˆ†æ¯”èƒœè´Ÿä¸ºå¤§åˆ†æ¯”çš„ä¸€åœºã€‚\nç°åœ¨æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„01å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²æ˜¯æ— é™å¾ªç¯é‡å¤çš„ï¼Œç”¨äºè®°å½•æ¯ä¸€æ¬¡æ¯”èµ›çš„èƒœè´Ÿï¼Œä»01å­—ç¬¦ä¸²çš„æ¯ä¸ªä½ç½®å¼€å§‹æ¯”èµ›ï¼Œè¯¢é—®è°ä¼šèµ¢å¾—æ•´ä¸ªæ¯”èµ›ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,a,b\\leq 10^5\n\næ€è·¯\nå€å¢æ€æƒ³ï¼Œåœ¨01å¾ªç¯ä¸²ä¸­ï¼Œè®°å½•æ¯ä¸ªä½ç½®å¼€å§‹åè¿›è¡ŒBo2a-1å°å±€çš„èƒœè´Ÿï¼Œä»¥åŠä¸‹ä¸€æ­¥ä»å“ªä¸ªä½ç½®å¼€å§‹ã€‚æ•°ç»„f[i][j]è¡¨ç¤ºä»iå¼€å§‹è¿›è¡Œ2^jè½®ååˆ°è¾¾çš„ä½ç½®ã€å¯¹åº”çš„0ã€1â€‹çš„èƒœåˆ©æ¬¡æ•°ã€‚\nåœ¨ç»Ÿè®¡Bo2b-1æ—¶ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ç¬¬ä¸€æ¬¡0æˆ–1èƒœåˆ©bæ¬¡ä»¥ä¸Šçš„ä½ç½®ï¼Œå°†jå€’åºå¤„ç†ï¼Œ2b-1æ˜¯æœ€å¤šè·å¾—ç»ˆå±€çš„æ¬¡æ•°ï¼Œbæ˜¯æœ€å°‘è·å¾—ç»ˆå±€çš„æ¬¡æ•°ã€‚å‡è®¾b=5ï¼Œéœ€è¦è‡³å°‘5å±€ï¼Œè‡³å¤š9å±€å®šèƒœè´Ÿï¼Œæ³¨æ„åˆ°9=2^3+2^0ï¼Œåœ¨è®¡æ•°æ°å¥½9å±€æ—¶ï¼Œåº”å½“åªç»Ÿè®¡å…ˆ2^3=8å±€ï¼Œç„¶åå¾€åå†ç»Ÿè®¡2^0=1å±€ï¼ˆè¿™é‡Œå…ˆ1å8ä¹Ÿä¸ä¼šå½±å“ç»“æœï¼Œåªè¦ä¿è¯ä¸è¶…è¿‡9å±€å³å¯ï¼‰ã€‚åœ¨è®¡ç®—Bo2b-1çš„ç»“æœæ—¶ï¼Œæ¯æ¬¡ç»Ÿè®¡æ°å¥½2b-1ã€‚\nä»£ç \nstruct status {\n    int n0, n1;\n    int overpos;\n}f[maxn][20]; // ä»ä½ç½®iå¼€å§‹ç»“æŸjå°å±€åçš„çŠ¶æ€\n \nvoid solve() {\n    ll n, a, b;cin &gt;&gt; n &gt;&gt; a &gt;&gt; b;\n    string s;cin &gt;&gt; s;\n    // æ›´æ–°Bo2a-1çš„çŠ¶æ€\n    int w0 = 0, w1 = 0; // ç»Ÿè®¡0/1èƒœåˆ©å¤šå°‘æ¬¡\n    int pos = 0;\n    for (int i = 0;i &lt; n;i++) {\n        // ä½ç½®iå¼€å§‹\n        while (w0 &lt; a &amp;&amp; w1 &lt; a) { // æœªå‡ºå°å±€ç»“æœ\n            if (s[pos] == &#039;1&#039;)w1++;\n            else w0++;\n            pos = (pos + 1) % n;\n        }\n        if (w0 &gt;= a) {\n            f[i][0] = { 1,0,pos };\n        }\n        else {\n            f[i][0] = { 0,1,pos };\n        }\n        if (s[i] == &#039;1&#039;)w1--;\n        else w0--; // ä¸‹ä¸€æ¬¡å¾ªç¯ä¼šä»i+1å¼€å§‹,å‡å»iä½ç½®çš„åˆ†\n    }\n    // å€å¢ç»“æœ\n    for (int j = 1;j &lt; 20;j++) {\n        // æšä¸¾è¿›è¡Œäº†2^jå±€\n        for (int i = 0;i &lt; n;i++) {\n            // æšä¸¾å¼€å§‹ä½ç½®\n            // ç¬¬iä½ç½®å¼€å§‹è¿›è¡Œ2^jå±€=ç¬¬iå¼€å§‹è¿›è¡Œ2^(j-1)å±€+ç¬¬iå¼€å§‹è¿›è¡Œ2^(j-1)å±€åçš„ä½ç½®poså¼€å§‹è¿›è¡Œ2^(j-1)å±€\n            int pos = f[i][j - 1].overpos;\n            f[i][j].overpos = f[pos][j - 1].overpos;\n            f[i][j].n0 = f[i][j - 1].n0 + f[pos][j - 1].n0;\n            f[i][j].n1 = f[i][j - 1].n1 + f[pos][j - 1].n1;\n        }\n    }\n    // è¿›è¡ŒBo2b-1çš„ç»“æœç»Ÿè®¡\n    for (int i = 0;i &lt; n;i++) {\n        int w0 = 0, w1 = 0;\n        int tot = 0;\n        int pos = i;\n        for (int j = 0;j &lt; 20;j++) {\n            // ä»poså¼€å§‹è¿›è¡Œ2^jæ¬¡æ¯”èµ›,ç´¯è®¡0/1çš„èƒœåˆ©æ¬¡æ•°\n            if ((2 * b - 1) &gt;&gt; j &amp; 1) {\n                w0 += f[pos][j].n0;\n                w1 += f[pos][j].n1;\n                pos = f[pos][j].overpos;\n            }\n        }\n        // cout &lt;&lt; w0 &lt;&lt; &quot; &quot; &lt;&lt; w1 &lt;&lt; endl; // å‡ºç°ç¬¬ä¸€ä¸ªèƒœåˆ©bæ¬¡æ—¶æ­£ç¡®\n        if (w0 &gt;= b)cout &lt;&lt; &#039;0&#039;;\n        else cout &lt;&lt; &#039;1&#039;;\n    }\n    cout &lt;&lt; &quot;\\n&quot;;\n}\nL-Sudoku and Minesweeper\né¢˜æ„\nç»™å‡ºä¸€ä¸ª9\\times 9çš„æ•°ç‹¬ï¼Œåœ¨è¿™ä¸ªæ•°ç‹¬çš„åŸºç¡€ä¸Šæ„é€ ä¸€ä¸ªæ‰«é›·åœ°å›¾ï¼Œå°†æ•°ç‹¬ä¸Šçš„ä¸€äº›æ•°å­—æ›¿æ¢ä¸º*ï¼Œä½†æ˜¯ä¸èƒ½å°†æ‰€æœ‰æ•°å­—éƒ½æ›¿æ¢ä¸º*ï¼Œä½¿å¾—æ•´ä¸ªæ‰«é›·åœ°å›¾åˆæ³•ã€‚\næ€è·¯\nåœ¨é“ºæ»¡åœ°é›·çš„åœ°å›¾ä¸Šä¿ç•™ä¸€äº›æ•°å­—ï¼Œæ•°å­—8è¡¨æ˜è¯¥æ ¼å‘¨å›´éƒ½æ˜¯*ï¼Œæ‰€ä»¥é€‰æ‹©ä¿ç•™æ‰€æœ‰çš„8ï¼Œå¹¶å†æ¬¡éå†ä¸€éæ‰€æœ‰çš„åœ°å›¾ï¼ˆæ³¨æ„è¾¹ç•Œï¼‰ï¼Œåˆ æ‰ä¸ç¬¦åˆè¦æ±‚çš„8ã€‚\næˆ–è€…å¦ä¸€ä¸ªæƒ³æ³•ï¼šä¸­é—´3\\times 3çš„æ ¼å­ä¸­ä¸­ä¸€å®šæœ‰ä¸€ä¸ªæ•°å­—8ï¼Œåœ¨å»æ‰é™¤äº†è¿™ä¸ª8ä»¥å¤–çš„æ‰€æœ‰æ•°å­—ä¹‹åï¼Œè¿™ä¸ª8ä¸€å®šæ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚\nä»£ç \nchar mp[10][10];\n \nvoid solve() {\n    for (int i = 1;i &lt;= 9;i++) {\n        for (int j = 1;j &lt;= 9;j++) {\n            cin &gt;&gt; mp[i][j];\n            if (mp[i][j] != &#039;8&#039;)mp[i][j] = &#039;*&#039;;\n        }\n    }\n    vector&lt;pair&lt;int, int&gt;&gt;dxy = {\n        {-1,-1},{-1,0},{-1 ,1},\n        {0,-1},{0 ,1},\n        {1,-1},{1,0},{1 ,1},\n    };\n    for (int i = 1;i &lt;= 9;i++) {\n        for (int j = 1;j &lt;= 9;j++) {\n            if (mp[i][j] == &#039;*&#039;)continue;\n            int x = mp[i][j] - &#039;0&#039;;\n            int y = 0;\n            for (int k = 0;k &lt; 8;k++) {\n                int ii = i + dxy[k].first, jj = j + dxy[k].second;\n                if (ii &gt;= 1 &amp;&amp; ii &lt;= 9 &amp;&amp; jj &gt;= 1 &amp;&amp; jj &lt;= 9)\n                    if (mp[ii][jj] == &#039;*&#039;) { y++; }\n            }\n            if (x != y)mp[i][j] = &#039;*&#039;;\n        }\n    }\n    for (int i = 1;i &lt;= 9;i++) {\n        for (int j = 1;j &lt;= 9;j++) {\n            cout &lt;&lt; mp[i][j];\n        }\n        cout &lt;&lt; &quot;\\n&quot;;\n    }\n}"},"03-algorithm/nc24sd4":{"slug":"03-algorithm/nc24sd4","filePath":"03-algorithm/nc24sd4.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day4||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-LCT\né¢˜æ„\nç»™å®šä¸€æ£µæœ‰æ ¹æ ‘ï¼Œæ¯æ¬¡è¯¢é—®å‰iæ¡è¾¹ç»„æˆçš„æ£®æ—ä¸­ï¼Œç¬¬c_iä¸ªç‚¹ä¸ºæ ¹çš„æ ‘çš„æ·±åº¦ã€‚\næ•°æ®èŒƒå›´\n\n2\\leq n\\leq 10^6\n1\\leq a_i,b_i,c_i\\leq n,a_i\\neq b_i\n\næ€è·¯\nå¸¦æƒå¹¶æŸ¥é›†ï¼Œç»´æŠ¤æ¯ä¸ªèŠ‚ç‚¹åœ¨å½“å‰æ‰€å±æ ‘çš„å±‚æ•°ï¼Œç»´æŠ¤æ‰€æœ‰ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘çš„æ·±åº¦ã€‚\nä»£ç \nint deep[maxn], fa[maxn], dis[maxn];\nint findfa(int x) {\n    if (x == fa[x])return x;\n    int fx = findfa(fa[x]);\n    // æ›´æ–°deep,æ—§æ ¹:fa[x],æ–°æ ¹:fx\n    deep[x] += deep[fa[x]];\n    return fa[x] = fx;\n}\n \nvoid merge(int u, int v) {\n    int fu = findfa(u);\n    fa[v] = fu;\n    deep[v] = deep[u] + 1;\n    dis[fu] = max(dis[fu], dis[v] + deep[v]);\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        fa[i] = i;\n        deep[i] = 0;\n        dis[i] = 0;\n    }\n    for (int i = 1;i &lt;= n - 1;i++) {\n        int u, v, c;cin &gt;&gt; u &gt;&gt; v &gt;&gt; c;\n        merge(u, v);\n        cout &lt;&lt; dis[c] &lt;&lt; &quot; &quot;;\n    }\n    cout &lt;&lt; &quot;\\n&quot;;\n}\nC-Sort4\né¢˜æ„\nç»™å‡ºä¸€ä¸ªæ’åˆ—ï¼Œæ¯æ¬¡é€‰æ‹©å››ä¸ªä½ç½®äº¤æ¢å…¶ä¸­çš„å…ƒç´ ï¼Œæ±‚å°†è¯¥æ’åˆ—æ’åºæˆä¸Šå‡åºåˆ—çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^5\n1\\leq n\\leq 10^6\n\næ€è·¯\nä»¤p_iæ˜¯æ’åºä¹‹åæ•°a_içš„ä½ç½®ï¼Œæ¯ä¸ª(p_i,a_i)å¯¹åº”äº†ä¸€ä¸ªå…³ç³»ã€‚æ˜“çŸ¥è¿™æ ·çš„å…³ç³»ä¼šå½¢æˆè‹¥å¹²ä¸ªç¯ï¼Œå¦‚æœç¯çš„é•¿åº¦æ˜¯3æˆ–4ï¼Œåˆ™ä¸€æ¬¡äº¤æ¢å¯ä»¥è®©è¿™ä¸ªç¯ä¸Šçš„æ•°å­—éƒ½å½’ä½ï¼Œå¦‚æœæ˜¯å¤§äº4çš„ç¯ï¼Œæ¯æ¬¡åœ¨è¿™ä¸ªç¯ä¸Šè¿›è¡Œä¸€æ¬¡æ“ä½œå¯ä»¥è®©ç¯çš„é•¿åº¦å‡å°‘3ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªé•¿åº¦ä¸º2çš„ç¯ï¼Œåˆ™ä¸€æ¬¡æ“ä½œå¯ä»¥è®©ä¸¤ä¸ªé•¿åº¦ä¸º2çš„ç¯å½’ä½ã€‚\nä»£ç \nint p[maxn], fa[maxn], len[maxn];\n \nint findfa(int x) {\n    if (x == fa[x])return x;\n    int fx = findfa(fa[x]);\n    len[fa[x]] = len[fx];\n    return fa[x] = fx;\n}\n \nvoid merge(int x, int y) {\n    int fx = findfa(x), fy = findfa(y);\n    if (fx == fy)return;\n    fa[fx] = fy;\n    len[fy] += len[fx];\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        len[i] = 1;fa[i] = i;\n    }\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; p[i];\n        merge(i, p[i]);\n    }\n    map&lt;int, int&gt;mp;\n    for (int i = 1;i &lt;= n;i++) {\n        int fx = findfa(i);\n        if (mp.count(fx))continue;\n        mp[fx] = len[fx];\n    }\n    int ans = 0, cnt2 = 0;\n    for (auto [i, s] : mp) {\n        if (s == 1)continue;\n        else if (s == 3 || s == 4)ans++;\n        else if (s &gt; 4) {\n            int t = s / 3;\n            ans += t;\n            if (s % 3 == 2) {\n                cnt2++;\n            }\n        }\n        else cnt2++;\n    }\n    ans += (cnt2 + 1) / 2;\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\nF-Good Tree\né¢˜æ„\nä¸€æ£µæ ‘ï¼Œæ ‘ä¸Šçš„è¾¹æƒéƒ½æ˜¯1ï¼Œå®šä¹‰f(u)=\\sum_v dis(u,v)ï¼Œç»™å‡ºä¸€ä¸ªxï¼Œå¯»æ‰¾ä¸€ä¸ªæ»¡è¶³å­˜åœ¨ä¸¤ä¸ªç‚¹u,vä½¿å¾—f(u)-f(v)=xæˆç«‹çš„æœ€å°‘èŠ‚ç‚¹å­æ ‘ï¼Œè¾“å‡ºèŠ‚ç‚¹æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^5\n1\\leq x \\leq 10^{18}\n\næ€è·¯\nf(u)ä¸ºç‚¹uåˆ°å„ä¸ªå…¶ä»–èŠ‚ç‚¹çš„è·ç¦»ä¹‹å’Œï¼Œåªæœ‰u\\rightarrow vä¸€æ¡è·¯å¾„çš„æ—¶å€™ï¼Œf(u)=f(v)=dia(u,v)ï¼Œè‹¥è¦å¢åŠ f(u)å’Œf(v)ä¹‹é—´çš„å·®å€¼ï¼Œæ¯åœ¨vä¸Šå¢åŠ ä¸€ä¸ªåœ¨vçš„å­æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œf(u)-f(v)çš„å€¼å°±ä¼šå¢åŠ ä¸€å€dis(u,v)ã€‚\nå½“æœ‰å¥‡æ•°ä¸ªç‚¹ï¼Œ2\\times k +1ä¸ªç‚¹ï¼Œå¦dis(u,v)=kï¼Œå‰©ä½™kä¸ªç‚¹éƒ½æ˜¯vçš„å­æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œf(u)-f(v)æœ€å¤§æ˜¯k^2ã€‚\nå½“æœ‰å¶æ•°ä¸ªç‚¹ï¼Œ2\\times k+2ï¼ŒåŒç†ï¼Œf(u)-f(v)çš„æœ€å¤§å€¼æ˜¯k(k+1)ã€‚\nä¸‹ä¸€ä¸ªå¥‡æ•°æ˜¯(k+1)^2ï¼Œå†ä¸‹ä¸€ä¸ªå¶æ•°çš„æ˜¯(k+1)(k+2)â€¦\næ•…å¯¹äºä¸€ä¸ªç¡®å®šçš„xï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šè½åœ¨å“ªä¸ª(k^2,(k+1)^2]åŒºé—´ï¼Œç„¶åå†ç¡®å®šæ˜¯åœ¨åŒºé—´(k^2,k(k+1)]è¿˜æ˜¯(k(k+1),(k+1)^2]ï¼Œä¹Ÿå°±æ˜¯ç‚¹æ•°åº”è¯¥è‡³å°‘æ˜¯å¤§äº2\\times k+1è¿˜æ˜¯2\\times k+2ã€‚\nåœ¨åŒºé—´(k(k+1),(k+1)^2)ä¸­ï¼Œä¸€å®šå¯ä»¥æ„é€ å‡º2\\times k+3çš„æ–¹æ³•ï¼›\nåœ¨åŒºé—´(k^2,k(k+1)]ä¸­ï¼Œå¦‚æœkä¸ºå¥‡æ•°ï¼Œå¯ä»¥æ„é€ å‡º2\\times k+3ï¼Œå¦‚æœkä¸ºå¶æ•°ï¼Œå¯ä»¥æ„é€ å‡º2\\times k+2ã€‚\nä»£ç \nvoid solve() {\n    ll x;cin &gt;&gt; x;\n    ll k = sqrtl(x); // æ³¨æ„å¼€æ–¹long long\n    if (k * k == x) {\n        cout &lt;&lt; 2 * k + 1 &lt;&lt; &quot;\\n&quot;;\n    }\n    else if (k * (k + 1) &lt; x) {\n        cout &lt;&lt; 2 * k + 3 &lt;&lt; &quot;\\n&quot;;\n    }\n    else if ((x - k * k) % 2ll != k % 2ll) {\n        cout &lt;&lt; 2 * k + 3 &lt;&lt; &quot;\\n&quot;;\n    }\n    else {\n        cout &lt;&lt; 2 * k + 2 &lt;&lt; &quot;\\n&quot;;\n    }\n}\nG-Horse Drinks Water\né¢˜æ„\nå°†å†›é¥®é©¬é—®é¢˜ã€‚åœ¨å¹³é¢åæ ‡è½´ä¸­ï¼Œåªæœ‰x\\text{ã€} yè½´çš„é£è´ŸåŠè½´æ˜¯æ°´æºï¼Œç»™å‡ºé©¬å„¿çš„åæ ‡å’Œè¥åœ°çš„åæ ‡ï¼Œæ±‚æœ€çŸ­è·ç¦»ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 10^5\n0\\leq x_G,y_G,x_T,u_T\\leq 10^9\n\næ€è·¯\nå°†åæ ‡æŒ‰åæ ‡è½´å¯¹ç§°ï¼Œæ±‚è·ç¦»ã€‚\nä»£ç \nld dist(ld r, ld c) {\n    return sqrt(r * r + c * c);\n}\n \nvoid solve() {\n    ll x1, y1, x2, y2;\n    cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n    ld ans1 = dist(1.0 * abs(y1 - y2), 1.0 * (abs(x1) + abs(x2)));\n    ld ans2 = dist(1.0 * (abs(y1) + abs(y2)), 1.0 * abs(x1 - x2));\n    ld ans = min(ans1, ans2);\n    printf(&quot;%.12lf\\n&quot;, ans);\n}\nH-Yet Another Origami Problem\né¢˜æ„\nå¯ä»¥é€‰æ‹©ä»»æ„åæ ‡pï¼Œè¿›è¡Œå¦‚ä¸‹äºŒé€‰ä¸€æ“ä½œï¼š\n\nè‹¥ç¬¦åˆa_i\\leq a_pï¼Œå¯ä»¥é‡æ–°èµ‹å€¼a_i\\leftarrow a_i + 2(a_p-a_i)ã€‚\nè‹¥ç¬¦åˆa_i\\geq a_pï¼Œå¯ä»¥é‡æ–°èµ‹å€¼a_i \\leftarrow a_i-a(a_i-a_p)\n\nå¯ä»¥è¿›è¡Œä¸Šè¿°æ“ä½œè‹¥å¹²æ¬¡ï¼Œæ±‚é—®å¯ä»¥å°†aæ•°ç»„çš„èŒƒå›´æ”¶æ•›åˆ°å¤šå°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 5\\times 10^5\n1\\leq n\\leq 10^5\n0\\leq a_i\\leq 10^{16}\n\næ€è·¯\nä¸Šé¢çš„æ“ä½œå¯ä»¥è¿›è¡Œæ— æ•°æ¬¡ï¼Œé€šè¿‡æ¨¡æ‹Ÿå¯ä»¥æ„è¯†åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼æŠ˜çº¸çš„æ“ä½œï¼Œæ˜¯å°†æŸä¸ªæ•°æ²¿ç€æŸæ¡çº¿æŠ˜å åˆ°å¦ä¸€è¾¹çš„æ“ä½œã€‚æ³¨æ„åˆ°æ¯æ¬¡æ“ä½œä¸æ˜¯å¿…é¡»è¦å¯¹æ¯ä¸ªa_iè¿›è¡Œè¿™æ ·çš„ç¿»æŠ˜çš„ï¼Œä¾‹å¦‚å½“a_i\\lt a_pæ—¶é€‰æ‹©æ“ä½œ2ï¼Œå¯ä»¥é¿å…a_içš„ç¿»æŠ˜ã€‚\né€šè¿‡ç¿»æŠ˜è®©æ•°ç»„çš„èŒƒå›´æ”¶æŸåˆ°æœ€å°ã€‚å‡è®¾å½“å‰åªæœ‰3ä¸ªå„ä¸ç›¸åŒçš„æ•°ï¼Œè¿™ä¸‰ä¸ªæ•°ä»å°åˆ°å¤§æ’åˆ—ä¹‹åæ˜¯\\{a,b,c\\}ï¼Œé‚£ä¹ˆåœ¨æ•°è½´ä¸Šå½¢æˆäº†è·ç¦»x=b-aå’Œy=c-bï¼Œå¯¹äºè¿™ä¸‰ä¸ªæ•°æ¥è¯´ï¼Œé€šè¿‡æŠ˜å ï¼Œå‡è®¾æ˜¯aæ²¿ç€bå‘cæŠ˜å ï¼Œå°†xå˜ä¸ºx\\bmod yï¼ˆä¸æ–­æ²¿ç€yçš„ä¸¤è¾¹æŠ˜å ï¼Œç›´åˆ°è½åœ¨b\\text{ã€} cä¹‹é—´ï¼‰ï¼Œè‹¥æ­¤æ—¶x\\neq 0ï¼Œåˆ™yä¹Ÿå¯ä»¥é€šè¿‡ä¸€æ ·çš„æ–¹æ³•æ”¶æŸåˆ°å°äºxçš„æŸä¸ªé•¿åº¦ã€‚æ•…è·å¾—çš„æœ€å°çš„èŒƒå›´åº”è¯¥æ˜¯x\\text{ã€}yçš„gcdã€‚\nåŒæ ·çš„æ€æƒ³å¯ä»¥æ‹“å±•åˆ°å¤šä¸ªæ•°çš„æ—¶å€™ã€‚\nä»£ç \nll a[maxn];\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 0;i &lt; n;i++) { cin &gt;&gt; a[i]; }\n    sort(a, a + n);\n    if (n == 1) {\n        cout &lt;&lt; 0 &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    if (n == 2) {\n        cout &lt;&lt; a[1] - a[0] &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    ll ans = a[1] - a[0];\n    for (int i = 2;i &lt; n;i++) {\n        ans = gcd(ans, a[i] - a[i - 1]);\n    }\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\nI-Friends\né¢˜æ„\nnä¸ªäººä»å·¦åˆ°å³æ’æˆä¸€æ’ï¼Œç¼–å·ä»1åˆ°n-1ï¼Œè¿™nä¸ªäººä¹‹é—´æœ‰må¯¹å¥½æœ‹å‹ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªåŒºé—´[l,r]ä¸­æ¯ä¸¤å¯¹éƒ½æ˜¯å¥½æœ‹å‹ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m \\leq 10^6\n\næ€è·¯\nå‡è®¾å·²æœ‰ä¸€ä¸ªåŒºé—´[l,r]ç¬¦åˆè¦æ±‚ï¼Œä¸”ræ˜¯ä»¥lä¸ºå·¦ç«¯ç‚¹çš„æ—¶å€™æœ€è¿œçš„ç¬¦åˆè¦æ±‚çš„å³ç«¯ç‚¹ã€‚é‚£ä¹ˆæ˜¾ç„¶æœ‰ï¼š\nå½“åŠ å…¥r+1æ—¶ï¼Œr+1å·ä¸[l,r]ä¸­çš„è‡³å°‘ä¸€ä¸ªäººä¸æ˜¯å¥½å‹å…³ç³»ã€‚åŒæ—¶ï¼ŒåŒºé—´[l+1,r]æ˜¯ä¸€ä¸ªå‹å¥½åŒºé—´ï¼Œäºæ˜¯åœ¨ç§»åŠ¨å·¦ç«¯ç‚¹æ—¶ï¼Œå³ç«¯ç‚¹åªéœ€è¦ä»ä¸Šä¸€ä¸ªå·¦ç«¯ç‚¹çš„æœ€è¿œå³ç«¯ç‚¹å¼€å§‹æ£€æŸ¥å³å¯ã€‚\nä»£ç \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;map&lt;int, bool&gt;&gt;links(n + 1);\n    for (int i = 0;i &lt; m;i++) {\n        int u, v;cin &gt;&gt; u &gt;&gt; v;\n        links[u][v] = true;\n        links[v][u] = true;\n    }\n    int ans = 0;\n    int prer = 1;\n    for (int i = 1;i &lt;= n;i++) {\n        int j = prer;\n        while (j &lt;= n) {\n            // check\n            bool f = true;\n            for (int k = i;k &lt; j;k++) {\n                if (links[j].count(k))continue;\n                f = false;\n                break;\n            }\n            if (!f)break;\n            j++;\n        }\n        ans += j - i;\n        prer = j - 1;\n    }\n \n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}"},"03-algorithm/nc24sd5":{"slug":"03-algorithm/nc24sd5","filePath":"03-algorithm/nc24sd5.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day5||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"\nTODO"},"03-algorithm/nc24sd6":{"slug":"03-algorithm/nc24sd6","filePath":"03-algorithm/nc24sd6.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day6||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Cake\né¢˜æ„\nOscarå’ŒGrammyç©æ¸¸æˆï¼Œç¬¬ä¸€é˜¶æ®µä¸¤äººè½®æµåœ¨æœ‰æ ¹æ ‘ä¸Šèµ°ï¼Œèµ°åˆ°å¶å­åœæ­¢ï¼Œç»è¿‡çš„è¾¹æœ‰ä¸¤ç§ï¼Œæ ‡0è¾¹æˆ–è€…æ ‡1è¾¹ï¼Œè®°å½•èµ°ä¸‹çš„01ä¸²ã€‚è®¾01ä¸²çš„é•¿åº¦æ˜¯mï¼Œç¬¬äºŒé˜¶æ®µOscarå°†è›‹ç³•åˆ‡æˆmä»½ï¼Œæœ‰äº›è›‹ç³•å¯ä»¥æ˜¯ç©ºçš„ï¼ŒæŒ‰ç…§ç¬¬ä¸€é˜¶æ®µçš„01ä¸²é¡ºåºä¾æ¬¡æ‹¿è›‹ç³•ï¼ˆ1ä»£è¡¨Grammyæ‹¿ï¼Œ0ä»£è¡¨Oscaræ‹¿ï¼‰ï¼Œä¸¤äººéƒ½æƒ³è·å¾—æœ€å¤šçš„è›‹ç³•ï¼Œæ±‚æœ€åGrammyè·å¾—çš„è›‹ç³•æ¯”ä¾‹ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2\\times 10^5\n\næ€è·¯\nåœ¨ç¬¬äºŒé˜¶æ®µï¼ŒOscaråˆ†è›‹ç³•çš„æ—¶å€™ï¼Œæ˜¯å¯¹å½“å‰ä¸²å¯»æ‰¾ä¸€ä¸ª0å æ¯”æœ€å¤§çš„å‰ç¼€ï¼Œç„¶åæ‹¿èµ°å æ¯”ä¸€è‡´çš„è›‹ç³•ã€‚\näºæ˜¯ï¼Œåœ¨ç¬¬ä¸€é˜¶æ®µæ—¶ï¼Œé¦–å…ˆæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹å³ä»£è¡¨ä¸€ä¸ªå‰ç¼€ï¼Œé¢„å¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹ä¸ºå‰ç¼€æ—¶0çš„å æ¯”ï¼Œåœ¨ä¹‹åä¸¤äººè½®æµå–æ•°æ—¶ï¼ŒOscarä¼šå–é€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è½®æµé€‰æ‹©å0å æ¯”æœ€å¤§çš„èŠ‚ç‚¹ï¼ŒGrammyä¼šé€‰æ‹©0å æ¯”æœ€å°çš„èŠ‚ç‚¹ã€‚\nä»£ç \nstruct edge {\n    int s, t, typ;\n};\n \nstruct status {\n    int cnt0, cnt1;\n    status(int a, int b) :cnt0(a), cnt1(b) {}\n    status operator+(const status&amp; s)const {\n        return status(s.cnt0 + cnt0,s.cnt1 + cnt1);\n    }\n};\n \nvector&lt;vector&lt;edge&gt;&gt;tree;\n \ndouble dfs(int p, int fr, int who, status now, double mx) { \n    // mxä¸ºè·¯å¾„ä¸­0æ¯”ä¾‹æœ€å¤§çš„å‰ç¼€ä¸­0çš„æ¯”ä¾‹\n    if (tree[p].size() == 1 &amp;&amp; fr) {\n        return mx;\n    }\n \n    double ans = 1.0 * who;\n    for (int i = 0;i &lt; tree[p].size();i++) {\n        struct edge e = tree[p][i];\n        if (e.t == fr)continue;\n        double nxt = dfs(e.t, p, 1 - who, now + status(1 - e.typ, e.typ), max(mx, 1.0 * (now.cnt0 + 1 - e.typ) / (now.cnt0 + now.cnt1 + 1)));\n        if (who) { // Grammyé€‰æ‹©(å½“å‰è·¯å¾„+æ¥ä¸‹æ¥çš„è·¯å¾„)ä¸­0æ¯”ä¾‹å°‘çš„\n            ans = min(ans, nxt);\n        }\n        else { // Oscaré€‰æ‹©0æ¯”ä¾‹å¤šçš„\n            ans = max(ans, nxt);\n        }\n    }\n    return ans;\n}\n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n \n    tree.assign(n + 1, vector&lt;edge&gt;());\n \n    for (int i = 0;i &lt; n - 1;i++) {\n        int u, v, t;\n        cin &gt;&gt; u &gt;&gt; v &gt;&gt; t;\n        tree[u].push_back({ u,v,t });\n        tree[v].push_back({ v,u,t });\n    }\n    double ans = dfs(1, 0, 1, { 0,0 }, 0.0);\n    cout &lt;&lt; fixed &lt;&lt; setprecision(15) &lt;&lt; 1.0 - ans &lt;&lt; &quot;\\n&quot;;\n}\nB-Cake 2\né¢˜æ„\nå¯¹ä¸€ä¸ªæ­£nè¾¹å½¢ï¼Œé¡¶ç‚¹æŒ‰é¡ºæ—¶é’ˆæ ‡ä¸º0\\sim n-1ï¼Œåœ¨æ¯ä¸€ä¸ªiå’Œ(i+k)\\bmod nçš„é¡¶ç‚¹ä¹‹é—´åˆ‡ä¸€åˆ€ï¼Œé—®æœ€ç»ˆèƒ½åˆ‡å‡ºå¤šå°‘å—è›‹ç³•ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 10^6\n2\\leq k\\leq n-2\n\næ€è·¯\næ‰¾è§„å¾‹å¯ä»¥å‘ç°é™¤äº†2\\times k=næ—¶ç­”æ¡ˆä¸ºnï¼Œå…¶ä»–æƒ…å†µéƒ½ç¬¦åˆn\\times \\min(n-k,k) +1ã€‚\nä»£ç \nvoid solve() {\n    ll n, k;cin &gt;&gt; n &gt;&gt; k;\n    if (n == k * 2) {\n        cout &lt;&lt; n &lt;&lt; &quot;\\n&quot;;\n    }\n    else {\n        k = min(k, n - k);\n        cout &lt;&lt; k * n + 1 &lt;&lt; &quot;\\n&quot;;\n    }\n}\nD-Puzzle: Wagiri\né¢˜æ„\næ— å‘å›¾ä¸­æœ‰ä¸¤ç§è¾¹ï¼Œå¯¹åŸå›¾è¿›è¡Œåˆ è¾¹ï¼Œè¦æ±‚åˆ å®Œè¾¹ä¹‹åå›¾ä»æ˜¯è”é€šçš„ï¼Œä¸”æ‰€æœ‰çš„è½®è¾¹åªåœ¨ç¯ä¸­å‡ºç°ï¼Œæ‰€æœ‰çš„åˆ‡è¾¹éƒ½ä¸åœ¨ç¯ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨åˆé€‚çš„åˆ è¾¹æ“ä½œï¼Œè‹¥æœ‰å†è¾“å‡ºç»“æœçš„è¿æ¥æƒ…å†µã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 10^5\nn-1\\leq m\\leq 2\\times 10^5\n1\\leq u_i,v_i\\leq n\nt_i\\in \\\\{&quot;Lun&quot;,&quot;Qie&quot;\\\\}\n\næ€è·¯\nå°†æ‰€æœ‰çš„Lunè¾¹ä¸­æˆç¯çš„éƒ¨åˆ†è¿›è¡Œç¼©ç‚¹ï¼Œå†æ ¹æ®Qieè¾¹å¯¹è¿™äº›ç‚¹ç”Ÿæˆä¸€æ£µæ ‘ã€‚\nä»£ç \nstruct E {\n    int id;\n    int s, t;\n    int typ;\n};\n \nvector&lt;vector&lt;E&gt;&gt;edge;\nll deep, top, sum, res = 0;\nll dfn[maxn], low[maxn], color[maxn], vis[maxn], stk[maxn];\n \nvector&lt;E&gt;ans;\n \nvoid tarjan(int v, int fa) {\n    dfn[v] = ++deep;\n    low[v] = deep;\n    vis[v] = 1;\n    stk[++top] = v; // å…¥æ ˆ\n \n    for (int i = 0;i &lt; edge[v].size();i++) {\n        auto e = edge[v][i];\n        if (e.typ == 0 || e.t == fa) // å¿½ç•¥Qieè¾¹å’Œé¿å…é‡è¾¹ç¯\n            continue;\n        if (dfn[e.t] == 0) {\n            tarjan(e.t, v);\n            low[v] = min(low[v], low[e.t]);\n        }\n        else {\n            if (vis[e.t]) {\n                low[v] = min(low[v], low[e.t]);\n            }\n        }\n    }\n \n    if (low[v] == dfn[v]) { // å½¢æˆå¼ºè”é€šåˆ†é‡æˆ–ä»…è‡ªå·±,ç¼©ç‚¹\n        color[v] = ++sum;\n        vis[v] = 0;\n        while (stk[top] != v) {\n            color[stk[top]] = sum;\n            vis[stk[top--]] = 0;\n        }\n        top--;\n    }\n}\n \nint fa[maxn];\nint findfa(int u) {\n    if (fa[u] == u)return u;\n    return fa[u] = findfa(fa[u]);\n}\n \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    edge.assign(n + 1, vector&lt;E&gt;());\n    for (int i = 1;i &lt;= m;i++) {\n        int u, v;cin &gt;&gt; u &gt;&gt; v;\n        string s;cin &gt;&gt; s;\n        int c = (s == &quot;Lun&quot; ? 1 : 0);\n        edge[u].push_back({ ++tot,u,v,c });\n        edge[v].push_back({ ++tot,v,u,c });\n    }\n \n    memset(dfn, 0, sizeof(dfn));\n \n    for (int i = 1;i &lt;= n;i++) {\n        if (dfn[i] == 0) {\n            tarjan(i, -1);\n        }\n    }\n \n    // for (int i = 1;i &lt;= n;i++) {\n    //     cout &lt;&lt; color[i] &lt;&lt; &quot; &quot;; // å„ä¸ªç‚¹çš„é¢œè‰²\n    // }\n    // cout &lt;&lt; &quot;\\n&quot;;\n \n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 0;j &lt; edge[i].size();j++) {\n            auto e = edge[i][j];\n            if (color[e.t] == color[i]) { // s,tç›¸åŒé¢œè‰²çš„è½®è¾¹ç›´æ¥åŠ å…¥ç­”æ¡ˆ\n                if (e.typ == 1)\n                    ans.push_back(e);\n            }\n        }\n    }\n \n    for (int i = 1;i &lt;= sum;i++)fa[i] = i;\n    int cntc = sum;\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 0;j &lt; edge[i].size();j++) {\n            auto e = edge[i][j];\n            if (e.typ == 1) { // è·³è¿‡è½®è¾¹\n                continue;\n            }\n            if (color[i] != color[e.t]) {\n                int f1 = findfa(color[i]);\n                int f2 = findfa(color[e.t]);\n                if (f1 != f2) {\n                    fa[f1] = f2;\n                    ans.push_back(e); // ç”¨eå°†ä¸¤ä¸ªé¢œè‰²è¿èµ·æ¥\n                    cntc--;\n                }\n            }\n        }\n    }\n \n    if (cntc == 1) {\n        cout &lt;&lt; &quot;YES\\n&quot;;\n        // å»é™¤åŠ å…¥çš„åŒå‘è¾¹\n        map&lt;pair&lt;ll, ll&gt;, bool&gt;mp;\n        for (auto e : ans) {\n            if (e.s &lt; e.t) {\n                mp[{e.s, e.t}] = true;\n            }\n            else {\n                mp[{e.t, e.s}] = true;\n            }\n        }\n        cout &lt;&lt; mp.size() &lt;&lt; &quot;\\n&quot;;\n        for (auto [e, f] : mp) {\n            cout &lt;&lt; e.first &lt;&lt; &quot; &quot; &lt;&lt; e.second &lt;&lt; &quot;\\n&quot;;\n        }\n    }\n    else {\n        cout &lt;&lt; &quot;NO\\n&quot;;\n    }\n}\nH-Genshin Impactâ€™s Fault\né¢˜æ„\næ¯æ¬¡æŠ½å¡çš„ç»“æœæ˜¯3æ˜Ÿã€4æ˜Ÿã€5æ˜ŸéUpã€5æ˜ŸUpå››ç§ç»“æœä¸­çš„ä¸€ç§ã€‚åŒæ—¶ä¹Ÿç¬¦åˆå¦‚ä¸‹çš„è¦æ±‚ï¼š\n\nè¿ç»­10æŠ½ä¸­ä¸ä¼šå…¨æ˜¯3æ˜Ÿã€‚\nè¿ç»­90æŠ½ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯5æ˜ŸéUpæˆ–5æ˜ŸUp\næ¯ä¸¤ä¸ªè¿ç»­çš„5æ˜Ÿä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯5æ˜ŸéUp\n\nç»™å‡ºä¸€ä¸ªæŠ½å¡ç»“æœåºåˆ—ï¼Œåˆ¤æ–­è¯¥æŠ½å¡ç»“æœæ˜¯å¦ç¬¦åˆä¸Šè¿°è§„åˆ™ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 10^5\n1\\leq |S|\\leq 10^6\n\næ€è·¯\næ¨¡æ‹Ÿã€‚\nä»£ç \nvoid solve() {\n    string s;cin &gt;&gt; s;\n    bool hasup = true;\n    int cnt10 = 0, cnt90 = 0;\n    bool f = true;\n    for (auto c : s) {\n        if (c == &#039;4&#039; || c == &#039;5&#039; || c == &#039;U&#039;)cnt10 = 0;\n        else cnt10++;\n        if (cnt10 == 10) {\n            f = false;break;\n        }\n \n        if (c == &#039;5&#039; &amp;&amp; !hasup) {\n            f = false;break;\n        }\n \n        if (c == &#039;5&#039; || c == &#039;U&#039;) {\n            cnt90 = 0;\n            if (c == &#039;U&#039;)\n                hasup = true;\n            else if (c == &#039;5&#039;)\n                hasup = false;\n        }\n        else {\n            cnt90++;\n \n        }\n        if (cnt90 == 90) {\n            f = false;break;\n        }\n    }\n \n    f ? cout &lt;&lt; &quot;valid\\n&quot; : cout &lt;&lt; &quot;invalid\\n&quot;;\n}\nF-Challenge NPC 2\né¢˜æ„\nåœ¨ä¸€ä¸ªæ£®æ—çš„è¡¥å›¾ä¸­å¯»æ‰¾å“ˆå¯†é¡¿è·¯å¾„ã€‚\næ³¨ï¼šå“ˆå¯†é¡¿è·¯å¾„æŒ‡ç»è¿‡å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹ä¸€æ¬¡ä¸”ä»…ç»è¿‡ä¸€æ¬¡ã€‚\næ•°æ®èŒƒå›´\n\nn\\leq 5\\times 10^5\n\næ€è·¯\næ£®æ—ä¸­æœ‰ä¸”åªæœ‰ä¸€æ£µèŠèŠ±æ˜¯æ— è§£çš„ã€‚å‰©ä½™æƒ…å†µä¸­ï¼Œå‡å¦‚æ ‘æ˜¯ä¸€æ£µèŠèŠ±ï¼Œåˆ™å°†å…¶åˆ†ä¸ºèŠ±ç“£å’ŒèŠ±å¿ƒä¸¤éƒ¨åˆ†ï¼ŒèŠ±ç“£å¯ä»¥è¿æˆä¸€æ¡è·¯å¾„ï¼ŒèŠ±å¿ƒå•ç‹¬æˆä¸ºä¸€æ¡è·¯å¾„ï¼Œå‡å¦‚ä¸æ˜¯ä¸€æ£µèŠèŠ±ï¼Œåˆ™å¯»æ‰¾æ ‘çš„ä¸€ä¸ªå¶å­ç»“ç‚¹ï¼Œå†ä»å¶å­ç»“ç‚¹è¿›è¡ŒBFSï¼ŒæŒ‰ç…§246â€¦135â€¦çš„é¡ºåºå°†ç‚¹ç©¿èµ·æ¥ï¼ŒåŠ å…¥ç­”æ¡ˆã€‚\næœ€åå°†ä¸èƒ½ç›¸è¿çš„ä¸€ç»„èŠ±ç“£èŠ±å¿ƒåˆ†åˆ«æ¥åœ¨ç­”æ¡ˆçš„ä¸¤è¾¹ï¼Œè¾“å‡ºç­”æ¡ˆå³å¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 5e5 + 50;\nconst ll mo998 = 998244353;\n \nstruct edge {\n    int s, t;\n};\n \nvector&lt;vector&lt;edge&gt;&gt;tree;\nint fa[maxn];\nint rk[maxn];\nint deg[maxn];\nbool vis[maxn];\n \nint findfa(int x) {\n    if (fa[x] == x)return x;\n    return fa[x] = findfa(fa[x]);\n}\n \nvector&lt;int&gt;ans;\nvector&lt;pair&lt;vector&lt;int&gt;, vector&lt;int&gt;&gt;&gt;tmp; // ä¸èƒ½ç›¸é‚»çš„ä¸¤æ¡è·¯\n \nint tail, c;\n \nvoid getpath(vector&lt;int&gt;v) {\n    if (v.size() == 1) {\n        vis[v.front()] = true;\n        ans.push_back(v.front());\n        return;\n    }\n    if (v.size() == 2) {\n        tmp.push_back({ {v.front()},{v.back()} });\n        return;\n    }\n    // åˆ¤æ–­èŠèŠ±\n    int n = v.size();\n    vector&lt;int&gt;wi, wj;\n    for (int i = 0;i &lt; n;i++) {\n        int p = v[i];\n        if (deg[p] == n - 1) {\n            wj.push_back(p);\n        }\n        else if (deg[p] == 1) {\n            wi.push_back(p);\n        }\n    }\n \n    if (wj.size() == 1) {\n        tmp.push_back({ wi,wj });\n        return;\n    }\n \n    // å¯»æ‰¾å¶å­ç»“ç‚¹\n    for (auto i : v) {\n        if (tree[i].size() == 1) {\n            tail = i;\n            break;\n        }\n    }\n \n    // åˆ†å±‚bfs\n    c = 0;\n    wi.clear();\n    vector&lt;int&gt;x;\n    x.push_back(tail);\n    while (!x.empty()) {\n        vector&lt;int&gt;y;\n        for (auto p : x) {\n            vis[p] = true;\n            for (int i = 0;i &lt; tree[p].size();i++) {\n                struct edge e = tree[p][i];\n                if (vis[e.t])continue;\n                y.push_back(e.t);\n            }\n            if (c)ans.push_back(p);\n            else wi.push_back(p);\n        }\n        c = 1 - c;\n        x = y;\n    }\n    for (auto i : wi) {\n        ans.push_back(i);\n    }\n}\n \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n \n    tree.assign(n + 1, vector&lt;edge&gt;());\n    for (int i = 1;i &lt;= n;i++) {\n        fa[i] = i;\n        deg[i] = 0;\n        vis[i] = false;\n        rk[i] = 1;\n    }\n \n    for (int i = 0;i &lt; m;i++) {\n        int u, v;cin &gt;&gt; u &gt;&gt; v;\n        deg[u]++, deg[v]++;\n        tree[u].push_back({ u,v });\n        tree[v].push_back({ v,u });\n \n        int fu = findfa(u), fv = findfa(v);\n        if (rk[fu] &gt; rk[fv])fa[fv] = fu;\n        else {\n            if (rk[fu] == rk[fv])rk[fv]++;\n            fa[fu] = fv;\n        }\n    }\n \n \n    map&lt;int, vector&lt;int&gt;&gt;mp;\n    for (int i = 1;i &lt;= n;i++) {\n        int f = findfa(i);\n        mp[f].push_back(i);\n    }\n \n    ans.clear(), tmp.clear();\n \n    for (auto i : mp) {\n        getpath(i.second);\n    }\n \n    if (ans.empty() &amp;&amp; tmp.size() == 1) {\n        cout &lt;&lt; -1 &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    \n    if (tmp.size() &gt;= 2) { // åªæœ‰ä¸¤ä¸ªèŠèŠ±æ—¶è¦äº¤å‰æ”¾\n        auto [v1, v2] = tmp[0];\n        auto [w1, w2] = tmp[1];\n        for (int i = 0;i &lt; v1.size();i++) {\n            ans.push_back(v1[i]);\n        }\n        for (int i = 0;i &lt; w1.size();i++) {\n            ans.push_back(w1[i]);\n        }\n        for (int i = 0;i &lt; v2.size();i++) {\n            ans.push_back(v2[i]);\n        }\n        for (int i = 0;i &lt; w2.size();i++) {\n            ans.push_back(w2[i]);\n        }\n        tmp.erase(tmp.begin());\n        tmp.erase(tmp.begin());\n    }\n \n    vector&lt;int&gt;x, y;\n    for (auto [w, v] : tmp) {\n        for (auto i : w) {\n            x.push_back(i);\n        }\n        for (auto i : v) {\n            y.push_back(i);\n        }\n    }\n \n \n    for (auto i : x) {\n        cout &lt;&lt; i &lt;&lt; &quot; &quot;;\n    }\n \n    for (auto i : ans) {\n        cout &lt;&lt; i &lt;&lt; &quot; &quot;;\n    }\n \n    for (auto i : y) {\n        cout &lt;&lt; i &lt;&lt; &quot; &quot;;\n    }\n \n    cout &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ll t;\n    cin &gt;&gt; t;\n    while (t--)\n        solve();\n \n    return 0;\n}"},"03-algorithm/nc24sd7":{"slug":"03-algorithm/nc24sd7","filePath":"03-algorithm/nc24sd7.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day7||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"I-Fight Against the Monster\né¢˜æ„\nä½¿ç”¨æœºå™¨å¯¹æŠ—æ€ªå…½ï¼Œä¸€å°æœºå™¨æœ‰ä»¥ä¸‹ä¸¤ç§åŠŸèƒ½ï¼š\n\næˆ˜æ–—ï¼šä½¿æ€ªå…½è¡€é‡å‡å°‘1ç‚¹ï¼ŒåæŠ€å·§ä¸§å¤±æ‰€æœ‰åŠŸèƒ½\nåˆ›é€ ï¼šéœ€è¦må°æœºå™¨åŒæ—¶ä½¿ç”¨ï¼Œåˆ›é€ å‡ºkå°æ–°æœºå™¨ï¼Œæ¯å°æœºå™¨ä»…èƒ½ä½¿ç”¨ä¸€æ¬¡åˆ›é€ åŠŸèƒ½ã€‚\n\næ€ªå…½åˆå§‹è¡€é‡æ˜¯hï¼Œè¡€é‡ä¸‹é™è‡³0â€‹æ—¶æ­»äº¡ï¼Œè¯·è®¡ç®—åˆå§‹æœ€å°‘éœ€è¦å¤šå°‘æœºå™¨æ‰èƒ½æ‰“è´¥æ€ªå…½ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 2\\times 10^5\n1\\leq k\\leq m \\leq 10^6\n0\\leq h\\leq 10^9\n\næ€è·¯\næ ¹æ®æœºå™¨çš„åŠŸèƒ½ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°½å¯èƒ½è®©æ¯å°æœºå™¨è¿›è¡Œåˆ›é€ ã€‚è‹¥æœ€åˆæœ‰xå°æœºå™¨ï¼Œåˆ™è¿›è¡Œä¸€æ¬¡åˆ›é€ ä¹‹åæ‹¥æœ‰x+k(x\\ge m)å°æœºå™¨ï¼Œå…¶ä¸­æœ‰k+x-må°æœºå™¨æ‹¥æœ‰åˆ›é€ èƒ½åŠ›ï¼Œæœ€å¤šæ‹¥æœ‰çš„æœºå™¨æ•°ç›®æ˜¯ç›´åˆ°æ‹¥æœ‰åˆ›é€ èƒ½åŠ›çš„æœºå™¨æ•°ç›®ä½äºmæ—¶æ‹¥æœ‰çš„æœºå™¨æ•°ç›®ã€‚å¯ä»¥å‘ç°é™¤äº†ç¬¬ä¸€æ¬¡ä½¿ç”¨må°æœºå™¨è¿›è¡Œåˆ›é€ ï¼Œä¹‹åä½¿ç”¨må°æœºå™¨è¿›è¡Œåˆ›é€ æ—¶ï¼Œå¯ä»¥ä½¿ç”¨kå°æ–°åˆ¶é€ çš„æœºå™¨åŠ ä¸Šm-kå°æœ€åˆæ‹¥æœ‰çš„æœºå™¨è¿›è¡Œåˆ›é€ ï¼Œé‚£ä¹ˆæœ€å¤šæ‹¥æœ‰çš„æœºå™¨æ•°ç›®æ˜¯ï¼š\nf(x)=\n\\begin{cases}\nx\\quad x\\lt m\\\\\nx+k\\times (\\lfloor (x-m)/(m-k)\\rfloor+1)\n\\end{cases}\näºŒåˆ†å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„æœ€å°‘çš„æœ€åˆæœºå™¨æ•°å³å¯ã€‚\nä¸è¿‡é˜Ÿå‹åœ¨èµ›æ—¶æä¾›äº†ä¸€ç§æ›´åŠ ç›´è§‚ä¸å¿…äºŒåˆ†æ±‚è§£çš„æ–¹æ³•ï¼š\næ€ªå…½æ¯å—åˆ°mç‚¹æ”»å‡»æ—¶ï¼Œå¯ä»¥å°†è¿™mç‚¹æ”»å‡»çœ‹æˆæ˜¯èŠ±è´¹m-kå°æœºå™¨ï¼Œåœ¨ä¿è¯è‡³å°‘èƒ½å‘å‡ºä¸€æ¬¡mç‚¹æ”»å‡»æ—¶ï¼Œæœ€åˆçš„æœºå™¨æ•°ç›®è¦æœ‰mä¸ªï¼ŒåŒæ—¶ï¼Œæ€ªç‰©å‰©ä½™ä¸è¶³mç‚¹è¡€é‡æ—¶ï¼Œåªèƒ½å†ç”¨é¢å¤–çš„æœºå™¨è¿›è¡Œæ”»å‡»ã€‚ç›¸å…³ä»£ç ä¹Ÿè´´åœ¨ä¸‹é¢äº†ã€‚\nä»£ç \n// äºŒåˆ†\nll m, k, h;\nll getmax(ll x) {\n    if (x &lt; m)return x;\n    return x + k * ((x - m) / (m - k) + 1);\n}\n \nvoid solve() {\n    cin &gt;&gt; m &gt;&gt; k &gt;&gt; h;\n    if (m == k || h &lt;= m) {\n        cout &lt;&lt; min(h, m) &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    ll l = m, r = h + 1;\n    while (l &lt; r) {// [l,r)\n        ll x = (l + r) &gt;&gt; 1;\n        if (h &gt; getmax(x)) {\n            l = x + 1;\n        }\n        else {\n            r = x;\n        }\n    }\n    cout &lt;&lt; l &lt;&lt; &quot;\\n&quot;;\n}\n \n// ç›´æ¥æ±‚è§£\nvoid solve(){\n    cin &gt;&gt; m &gt;&gt; k &gt;&gt; h;\n    ll ans = (h / m) * (m - k);\n    if(h / m) ans += max(h % m, k);\n    else ans = h;\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\nJ-Ball\né¢˜æ„\nåæ ‡è½´ä¸Šæœ‰ä¸€æ ¹æœ¨æ£’ï¼Œå·¦ç«¯ç‚¹åœ¨åŸç‚¹(0,0)å¤„ï¼Œå‚ç›´yè½´æ”¾ç½®ï¼Œå³ç«¯ç‚¹åœ¨(l,0)å¤„ï¼Œåœ¨åæ ‡è½´ä¸Šæœ‰ä¸€ä¸ªç‚¹P(x,y)ï¼Œè¯¢é—®åœ¨æœ¨æ£’ä¸Šæ˜¯å¦æœ‰ä¸€ä¸ªç‚¹ï¼Œæ»¡è¶³å½“æœ¨æ£’ç»•ç€è¯¥ç‚¹æ—‹è½¬æ—¶å¯ä»¥å‡»ä¸­ç‚¹Pï¼Œå¦‚æœ‰åˆ™è¾“å‡ºè¯¥ç‚¹åæ ‡ï¼Œè‹¥æ— è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 10^4\n1\\leq l\\leq 10^5\n-10^5\\leq x,y \\leq 10^5\n\næ€è·¯\næœ¨æ£’å¯ä»¥åˆ°è¾¾çš„æœ€å¤§èŒƒå›´æ˜¯ä»¥(0,0)ä¸ºæ—‹è½¬ä¸­å¿ƒå’Œä»¥(l,0)ä¸ºæ—‹è½¬ä¸­å¿ƒçš„æ—‹è½¬èŒƒå›´çš„å¹¶é›†ã€‚\nä»£ç \nld sqr(ld dx, ld dy) {\n    return sqrt(dx * dx + dy * dy);\n}\n \nld dist(ll x1, ll y1, ll x2, ll y2) {\n    return sqr(1.0 * (x1 - x2), 1.0 * (y1 - y2));\n}\n \nvoid solve() {\n    ll l, x, y;cin &gt;&gt; l &gt;&gt; x &gt;&gt; y;\n    ld d1 = dist(0, 0, x, y), d2 = dist(l, 0, x, y);\n    if (d1 &gt; l &amp;&amp; d2 &gt; l) {\n        cout &lt;&lt; &quot;No\\n&quot;;return;\n    }\n    cout &lt;&lt; &quot;Yes\\n&quot;;\n    if (d1 &lt;= l) {\n        cout &lt;&lt; &quot;0.00000000\\n&quot;;\n    }\n    else if (d2 &lt;= l) {\n        printf(&quot;%.8lf\\n&quot;, 1.0 * l);\n    }\n}\nK-Strings, Subsequences, Reversed Subsequences, Prefixes\né¢˜æ„\nç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²så’Œä¸€ä¸ªå­—ç¬¦ä¸²tï¼Œè¦æ±‚åœ¨sä¸­å¯»æ‰¾ä»¥tä¸ºå‰ç¼€ï¼Œä»¥tçš„ç¿»è½¬ä¸²ä¸ºåç¼€çš„sçš„å­ä¸²ï¼Œæ±‚è¿™æ ·çš„æœ¬è´¨ä¸åŒçš„å­ä¸²æ•°ç›®ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m \\leq 10^6\ns_i,t_i\\in [a,z]\n\næ€è·¯\nå‰ç¼€å’Œåç¼€å¯ä»¥ç›´æ¥æš´åŠ›ä»sæœ€å·¦ä¾§å’Œæœ€å³ä¾§æšä¸¾ï¼Œå‰åç¼€è¿˜è¦åŠ ä¸Šæœ‰å…¬å…±é‡å éƒ¨åˆ†çš„æ•°ç›®ï¼Œä¹‹åçš„é—®é¢˜å°±æ˜¯å¦‚ä½•è®¡ç®—ä¸­é—´éƒ¨åˆ†çš„æœ¬è´¨ä¸åŒçš„å­ä¸²äº†ã€‚\nå¦ä¸­é—´éƒ¨åˆ†çš„å­—ç¬¦ä¸²ä¸ºs&#039;ï¼Œåœ¨s&#039;ä¸Šï¼Œè®¾f[i]è¡¨ç¤ºåˆ°ç¬¬iä½æ—¶æ‹¥æœ‰å¤šå°‘ä¸ªæœ¬è´¨ä¸åŒçš„å­ä¸²ï¼Œå°†a[i]åŠ å…¥æ—¶ï¼Œa[i]å¯ä»¥åŠ å…¥åœ¨f[i-1]æ—¶çš„æ‰€æœ‰æœ¬è´¨ä¸åŒçš„å­ä¸²çš„åé¢ï¼Œè¿™æ ·å½¢æˆçš„å­—ç¬¦ä¸²ä¸­ï¼Œä¸åŸæ¥ç­”æ¡ˆé‡å¤çš„æ˜¯ä¸Šä¸€ä¸ªå­—ç¬¦a[i]åŠ å…¥æ—¶æ‹¥æœ‰çš„æœ¬è´¨ä¸åŒçš„å­—ç¬¦ä¸²æ•°ç›®ï¼Œæ‰€ä»¥è½¬ç§»æ–¹ç¨‹æ˜¯è¿™æ ·ï¼š\nf[i]=2\\times f[i-1]-f[last[a[i]]-1]\nåœ¨å¤„ç†å‰åç¼€çš„æ—¶å€™ï¼Œå½“å‰åç¼€æ‰€å¤„çš„æœ€å°åŒºåŸŸæœ‰ç›¸äº¤æ—¶ï¼Œæšä¸¾å…è®¸é‡å çš„é•¿åº¦æ—¶è¦è‡³å°‘ä»é‡å éƒ¨åˆ†çš„é•¿åº¦å¼€å§‹è¿›è¡Œæšä¸¾ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst ll mo998 = 998244353;\nconst ll mo109 = 1000000007;\nconst int maxn = 1e5 + 50;\n \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    string s, t;cin &gt;&gt; s &gt;&gt; t;\n    ll l = 0, r = n - 1;\n    ll p0 = 0;\n    while (p0 &lt; m &amp;&amp; l &lt; n) {\n        if (t[p0] == s[l]) {\n            p0++;\n        }\n        l++;\n    }\n    if (p0 != m) {\n        cout &lt;&lt; 0 &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    p0 = 0;\n    ll pos = 0;\n    while (p0 &lt; m &amp;&amp; r &gt;= 0) {\n        if (t[p0] == s[r]) {\n            p0++;\n            if (r &gt;= l)pos = p0; // ç‹¬è‡ªèƒ½è‡ªåŒ¹é…çš„é•¿åº¦\n        }\n        r--;\n    }\n    if (p0 != m) {\n        cout &lt;&lt; 0 &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    // å¤„ç†å›æ–‡\n    ll cnt = 0;\n    vector&lt;ll&gt;h1(m + 5), h2(m + 5), p(m + 5);\n    ll b = 131;\n    t = &quot; &quot; + t;\n    p[0] = 1;\n    for (int i = 1;i &lt;= m;i++) {\n        h1[i] = h1[i - 1] * b + t[i];\n        h2[i] = h2[i - 1] * b + t[m - i + 1];\n        p[i] = p[i - 1] * b;\n    }\n    for (int i = 1;i &lt;= m;i++) { // åˆ¤æ–­é•¿åº¦ä¸ºiçš„å‰åç¼€æ˜¯å¦ç›¸åŒ\n        ll hh1 = h1[m] - h1[m - i] * p[i];\n        ll hh2 = h2[i] - h2[0] * p[i];\n        if (hh1 == hh2)cnt++;\n    }\n \n    int len = r - l + 1;\n    if (len &lt; 0) {\n        ll ans = 0;\n        len = m - pos;\n        for (ll i = len;i &lt;= m;i++) {\n            ll hh1 = h1[m] - h1[m - i] * p[i];\n            ll hh2 = h2[i] - h2[0] * p[i];\n            if (hh1 == hh2)ans++;\n        }\n        cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n        return;\n    }\n    string a = s.substr(l, len);\n    vector&lt;ll&gt;f(len + 5, 0), las(30, -1);\n    a = &quot; &quot; + a;\n    f[0] = 1;\n    for (ll i = 1;i &lt;= len;i++) {\n        int c = a[i] - &#039;a&#039;;\n        if (las[c] != -1)\n            f[i] = (2 * f[i - 1] % mo109 - f[las[c] - 1] + mo109) % mo109;\n        else\n            f[i] = 2 * f[i - 1] % mo109;\n        las[c] = i;\n    }\n    cout &lt;&lt; f[len] + cnt &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    int _ = 1;\n    while (_--)\n        solve();\n \n    return 0;\n}\n "},"03-algorithm/nc24sd8":{"slug":"03-algorithm/nc24sd8","filePath":"03-algorithm/nc24sd8.md","title":"ğŸ«Ÿ2024ç‰›å®¢æš‘å‡å¤šæ ¡è®­ç»ƒè¥Day8||è¡¥é¢˜","links":[],"tags":["2024æš‘å‡é›†è®­","ç®—æ³•","ç‰›å®¢"],"content":"A-Haitang and Game\né¢˜æ„\nç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œä¸¤äººè½®æµï¼Œæ¯æ¬¡é€‰æ‹©æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°ï¼Œè‹¥è¿™ä¸¤ä¸ªæ•°çš„gcdä¸åœ¨å½“å‰çš„æ•°ç»„é‡Œï¼Œå°±å°†è¿™ä¸¤ä¸ªæ•°çš„gcdåŠ å…¥åˆ°æ•°ç»„ä¸­ï¼Œä¸èƒ½å†åŠ æ•°çš„ä¸€æ–¹è¾“ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq t\\leq 100\n1\\leq n\\leq 10^5\n1\\leq a_i\\leq 10^5\n\næ€è·¯\næ•´ä¸ªæ•°ç»„çš„æœ€ç»ˆå«æœ‰å“ªäº›æ•°æ˜¯ç¡®å®šçš„ï¼Œæšä¸¾1\\sim a_{max}çš„æ¯ä¸ªæ•°ï¼Œè®°ä¸ºxï¼ŒæŸ¥çœ‹æ•°ç»„ä¸­å¤§äºxçš„æ•´æ•°å€çš„æ•°ï¼Œè‹¥è¿™äº›å€æ•°çš„gcdæ°å¥½ç­‰äºxï¼Œåˆ™xä¼šå‡ºç°åœ¨æœ€ç»ˆçš„æ•°ç»„ä¸­ã€‚\nä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;int&gt;a(n);\n    vector&lt;bool&gt;vis(100005, false);\n    int mx = -1;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        vis[a[i]] = true;\n        if (mx != -1)mx = max(mx, a[i]);\n        else mx = a[i];\n    }\n    if (n == 1) {\n        cout &lt;&lt; &quot;Haitang\\n&quot;;return;\n    }\n    int ans = 0;\n    for (int i = 1;i &lt;= mx;i++) {\n        if (vis[i])continue;\n        vector&lt;int&gt;g;\n        for (int j = 2 * i;j &lt;= mx;j += i) {\n            if (vis[j])g.push_back(j);\n        }\n        if (g.size() &gt;= 2) {\n            int k = gcd(g[0], g[1]);\n            for (int j = 2;j &lt; g.size();j++) {\n                k = gcd(k, g[j]);\n            }\n            if (k == i) {\n                ans++;\n                vis[i] = true;\n            }\n        }\n    }\n    if (ans % 2) {\n        cout &lt;&lt; &quot;dXqwq\\n&quot;;\n    }\n    else {\n        cout &lt;&lt; &quot;Haitang\\n&quot;;\n    }\n}\nK-Haitang and Ava\né¢˜æ„\nç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„å­—ç¬¦ä¸²çš„åˆæ³•çš„ï¼š\n\nç©ºä¸²æ˜¯åˆæ³•çš„ã€‚\nåœ¨åˆæ³•ä¸²Sçš„å‰é¢æˆ–åé¢åŠ avaâ€‹å½¢æˆçš„å­—ç¬¦ä¸²æ˜¯åˆæ³•çš„ã€‚\nåœ¨åˆæ³•ä¸²Sçš„å‰é¢æˆ–åé¢åŠ avavaâ€‹å½¢æˆçš„å­—ç¬¦ä¸²æ˜¯åˆæ³•çš„ã€‚\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦åˆæ³•ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 1.7\\times 10^5\n3\\leq |S| \\leq 5\\times 10^5\n\næ€è·¯\né€æ­¥åˆ å»å‰ç¼€æˆ–åç¼€ï¼Œè‹¥æœ€åèƒ½åˆ æˆç©ºä¸²ï¼Œåˆ™ä¸ºåˆæ³•ä¸²ã€‚\nä»£ç \nvoid solve() {\n    string s;cin &gt;&gt; s;\n    int l = 0, r = s.size() - 1;\n    while (l &lt;= r) {\n        string t;\n        if (r - l + 1 &gt;= 5) {\n            t = s.substr(l, 5);\n            if (t == &quot;avava&quot;) {\n                l += 5;continue;\n            }\n            t = s.substr(r - 4, 5);\n            if (t == &quot;avava&quot;) {\n                r -= 5;continue;\n            }\n        }\n        if (r - l + 1 &gt;= 3) {\n            t = s.substr(l, 3);\n            if (t == &quot;ava&quot;) {\n                l += 3;continue;\n            }\n            t = s.substr(r - 2, 3);\n            if (t == &quot;ava&quot;) {\n                r -= 3;continue;\n            }\n        }\n        break;\n    }\n    if (l &gt; r) {\n        cout &lt;&lt; &quot;Yes\\n&quot;;\n    }\n    else {\n        cout &lt;&lt; &quot;No\\n&quot;;\n    }\n}"},"03-algorithm/nc24wd1":{"slug":"03-algorithm/nc24wd1","filePath":"03-algorithm/nc24wd1.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥1||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-DFSæœç´¢\né¢˜æ„\nç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å…¶ä¸­æ˜¯å¦åŒ…å«dfså­åºåˆ—å’ŒDFSå­åºåˆ—ã€‚\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤100)\nn(1â‰¤nâ‰¤50)\næ€è·¯\nç›´æ¥æœã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    string s;cin &gt;&gt; s;\n    int f1 = 1, f2 = 1;\n    int p = s.find(&#039;D&#039;);\n    if (p != -1) {\n        p = s.find(&#039;F&#039;, p);\n        if (p != -1) {\n            p = s.find(&#039;S&#039;, p);\n            if (p == -1) { f1 = 0; }\n        } else { f1 = 0; }\n    }\n    else { f1 = 0; }\n    p = s.find(&#039;d&#039;);\n    if (p != -1) {\n        p = s.find(&#039;f&#039;, p);\n        if (p != -1) {\n            p = s.find(&#039;s&#039;, p);\n            if (p == -1) { f2 = 0; }\n        } else { f2 = 0; }\n    }\n    else { f2 = 0; }\n    cout &lt;&lt; f1 &lt;&lt; &quot; &quot; &lt;&lt; f2 &lt;&lt; endl;\n}\nB-å…³é¸¡\né¢˜æ„\n\nä»ç‚¹(1, 0)å‡ºå‘ï¼Œåœ¨å®½ä¸º22ã€é•¿ä¸º2Ã—10^9^+12Ã—10^9^+1çš„ç®¡é“ä¸­æœ‰ä¸€äº›ä¸å¯è·¨è¶Šçš„åæ ‡ç‚¹ï¼Œåˆ¤æ–­æœ€å°‘æ·»åŠ å‡ ä¸ªç€ç«ç‚¹ï¼Œä½¿å¾—æ— æ³•èµ°åˆ°å·¦å³ç«¯ç‚¹ã€‚\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤1e4)\n0â‰¤nâ‰¤1e5\nr,c(1â‰¤râ‰¤2,âˆ’1e9â‰¤câ‰¤1e9)\næ€è·¯\nåˆ†åˆ«å µä½ä¸¤ç«¯çš„ç®¡é“å³å¯ï¼Œå µä½æœ‰ä¸‰ç§æƒ…å†µï¼š\n   x\t\t  1 2 3\n 1 2 3  æˆ–è€…     x\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    map&lt;pair&lt;ll, ll&gt;, bool&gt;fires;   // è®°å½•æ˜¯å¦æœ‰æŸä¸ªç‚¹\n    int fl = 2, fr = 2, fn = 0; // ç©ºç™½ï¼Œå·¦2å³2\n    for (int i = 0;i &lt; n;i++) {\n        ll r, c;cin &gt;&gt; r &gt;&gt; c;\n        fires[{c, r}] = true;\n        if ((c == -1 &amp;&amp; r == 1) || (c == 0 &amp;&amp; r == 2) || (c == 1 &amp;&amp; r == 1))fn++;   // ç¯ç»•\n        if (c &lt;= 0)fl = 1;\n        if (c &gt;= 0)fr = 1;\n    }\n    for (auto i = fires.begin(); i != fires.end();i++) {\n        auto pr = i-&gt;first;bool hs = i-&gt;second;\n        ll c = pr.first, r = pr.second;\n        for (int j = -1;j &lt; 2;j++) {\n            if (fires.find({ c + j, (3 - r) }) != fires.end()) {\n                if (c &lt; 0) { fl = 0; }  // å·¦è¾¹ä¸ç”¨å†åŠ \n                if (c &gt; 0) { fr = 0; }  // å³è¾¹ä¸ç”¨å†åŠ \n            }\n        }\n    }\n    int ans = 3 - fn;\n    cout &lt;&lt; min(ans, fl + fr) &lt;&lt; endl;\n}\nC-æŒ‰é—¹åˆ†é…\né¢˜æ„\næœ‰nä¸ªäººè¦æ’é˜ŸåŠç†ä¸šåŠ¡ï¼Œæ¯ä¸ªäººçš„ä¸æ»¡æ„åº¦DiæŒ‰ç…§åŠå®Œæœ¬äººä¸šåŠ¡åçš„é‚£ä¸€åˆ»ä¸€å…±èŠ±è´¹äº†å¤šå°‘æ—¶é—´æ¥ç®—ï¼ŒåŠäº‹äººå‘˜åˆç†å®‰æ’æ’é˜Ÿé¡ºåºï¼Œä½¿å¾—æ€»ä¸æ»¡æ„åº¦S_{min}=\\sum_{i=1}^{n}D_iæœ€å°ï¼Œè®°ä¸ºS_{min}ã€‚\nç„¶åæ€¥æ€¥é¸¡å¸¦ç€éœ€è¦èŠ±è´¹tcæ—¶é—´çš„ä¸šåŠ¡æƒ³æ’é˜Ÿï¼ŒåŠäº‹äººå‘˜å¯¹å…¶çš„å®¹å¿åº¦Må¦‚æœä¸å°äºæ€¥æ€¥é¸¡æ’é˜Ÿåçš„ä¸æ»¡æ„åº¦S_{c}ä¸S_{min}çš„å·®å€¼ï¼Œåˆ™ä¼šå…è®¸æ€¥æ€¥é¸¡æ’é˜Ÿã€‚\næœ‰qç»„è¯¢é—®ï¼Œæ¯ç»„è¯¢é—®ç»™å‡ºå®¹å¿åº¦Mï¼Œæ±‚å‡ºåœ¨è¯¥å®¹å¿åº¦ä¸‹æ€¥æ€¥é¸¡æœ€å¿«èƒ½åŠå®Œä¸šåŠ¡çš„æ—¶é—´ã€‚\næ•°æ®èŒƒå›´\nn,Q,t_c(1â‰¤n,Qâ‰¤105,1â‰¤t_câ‰¤1e9)\nt_i(1â‰¤t_iâ‰¤1e6)\nM(0â‰¤Mâ‰¤1e18)\næ€è·¯\nåˆå§‹ä»å°åˆ°å¤§æ’ï¼Œæ±‚æ¯ä¸ªå®¢æˆ·çš„ä¸æ»¡æ„åº¦Diï¼ˆåšå‰ç¼€å’Œï¼‰\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, q, tc;cin &gt;&gt; n &gt;&gt; q &gt;&gt; tc;\n    vector&lt;ll&gt;t(n+1);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; t[i];\n    }\n    t[n] = 0;\n    sort(t.begin(), t.end());\n    ll tn = 0ll;\n    vector&lt;ll&gt;d(n+1);\n    for (int i = 0;i &lt;= n;i++) {\n        d[i] = tn + t[i];   // ç¬¬iä¸ªäººçš„ä¸æ»¡æ„åº¦\n        tn += t[i]; // æ—¶é—´çº¿\n    }\n    while (q--) {\n        ll m;cin &gt;&gt; m;\n        ll l = 0, r = n;\n        while (l &lt; r) {\n            ll x = (l + r) &gt;&gt; 1;    // æ’åœ¨xå·å®¢æˆ·å‰é¢\n            if ((n - x) * tc &lt;= m) {\n                // å¯ä»¥\n                r = x;\n            }\n            else {\n                l = x + 1;\n            }\n        }\n        // æœ€æ—©ï¼šæ’åœ¨lçš„å‰é¢\n        cout &lt;&lt; d[l] + tc &lt;&lt; endl;\n    }\n}\nD-æœ¬é¢˜åˆä¸»è¦è€ƒå¯Ÿäº†è´ªå¿ƒ\né¢˜æ„\nå¤§éª—å­ï¼\nnä¸ªäººçš„æ¯”èµ›ï¼Œè¿˜å‰©må±€ï¼Œæ¯å±€çš„ç»“æœæœ‰ï¼š\n\nèƒœæ–¹åŠ 3åˆ†ï¼Œè´¥æ–¹ä¸å¾—åˆ†\nå¹³å±€å„åŠ ä¸€åˆ†\n\næ±‚ä¸€å·é€‰æ‰‹æœ€å¥½çš„åæ¬¡ï¼ˆå¹¶åˆ—çš„å–å¹¶åˆ—çš„æ’åï¼‰\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤100)\nn,m(2â‰¤nâ‰¤10,1\\leq m\\leq 10)\n0\\leq a_i\\leq 100\nu_i,v_i,1\\leq u_i,v_i\\leq n,u_iâ‰ v_i\næ€è·¯\nä¸ä¼šè´ªï¼Œæ•°æ®èŒƒå›´å°å¯ä»¥ç›´æ¥dfsæš´åŠ›æ¯ç§æƒ…å†µå–æœ€ä¼˜ï¼ŒO(3^m)\nå‚è€ƒä»£ç \nint dfs(vector&lt;int&gt;a, vector&lt;pair&lt;int, int&gt;&gt;tb, int now) {\n    if (now == tb.size()) {     // æœ€åä¸€å±€\n        int rk = 1;\n        for (int i = 1;i &lt; a.size();i++) {\n            if (a[i] &gt; a[1])rk++;\n        }\n        return rk;\n    }\n    int ret = a.size() - 1;\n    int u = tb[now].first, v = tb[now].second;\n    // uèµ¢\n    a[u] += 3;\n    ret = min(ret, dfs(a, tb, now + 1));\n    a[u] -= 3;\n    // vèµ¢\n    a[v] += 3;\n    ret = min(ret, dfs(a, tb, now + 1));\n    a[v] -= 3;\n    // å¹³å±€\n    a[v] += 1;a[u] += 1;\n    ret = min(ret, dfs(a, tb, now + 1));\n    a[v] -= 1;a[u] -= 1;\n \n    return ret;\n}\nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;int&gt;a(n + 1);\n    for (int i = 1;i &lt;= n;i++)cin &gt;&gt; a[i];\n    vector&lt;pair&lt;int, int&gt;&gt;tb;\n    for (int i = 0;i &lt; m;i++) {\n        int u, v;cin &gt;&gt; u &gt;&gt; v;\n        tb.push_back({ u,v });\n    }\n    int ans = dfs(a, tb, 0);\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nF-é¸¡æ•°é¢˜\né¢˜æ„\næ±‚æœ‰å¤šå°‘ä¸ªé•¿ä¸ºmçš„æ•°ç»„aåŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\n\nå¯¹ä»»æ„iï¼Œéƒ½æœ‰a_i&gt;0\næ•°ç»„aä¸¥æ ¼é€’å¢\na_1|a_2|...|a_{m-1}|a_m=2^n-1ï¼ˆå…¶ä¸­|ä¸ºæŒ‰ä½æˆ–æ“ä½œï¼‰\nå¯¹ä»»æ„iâ‰ jæœ‰a_i\\&amp;a_j=0ï¼ˆå…¶ä¸­&amp;ä¸ºæŒ‰ä½ä¸æ“ä½œï¼‰\n\nç­”æ¡ˆè¦å¯¹10^9+7å–æ¨¡\næ•°æ®èŒƒå›´\n1\\leq n,m\\leq 10^5\næ€è·¯\næ¡ä»¶3è¯´æ˜ï¼Œåœ¨2è¿›åˆ¶ä¸‹çš„2^n-1ï¼ˆä¹Ÿå°±æ˜¯æ•°(\\overbrace{11\\dots111}^n)_2ï¼‰æ¯ä¸€ä½1éƒ½è‡³å°‘åœ¨a_1~a_mä¸­å‡ºç°ä¸€æ¬¡ï¼Œæ•°ç»„açš„å¤§å°ä¸ºmï¼Œè”åˆæ¡ä»¶4è¯´æ˜æ¯ä¸ªæ•°ä½ä¸Šçš„1æœ€å¤šåªèƒ½å‡ºç°1æ¬¡ï¼Œæ‰€ä»¥é—®é¢˜è½¬åŒ–ä¸ºï¼Œå°†nä¸ªä¸åŒä½ç½®ä¸Š1åˆ†é…ç»™mä¸ªæ•°ï¼Œä¸”æ¯ä¸ªæ•°è‡³å°‘æœ‰1ä¸ª1ã€‚å¯çŸ¥n\\geq mã€‚\nä¹Ÿå°±æ˜¯ä¸€ä¸ªç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°n\\brace mã€‚\né€’æ¨å¼ï¼š\n{n\\brace k}={n-1\\brace k-1}+k{n-1\\brace k}\nè¾¹ç•Œæ˜¯ï¼š{n\\brace m}=[n=0]ã€‚\né€šé¡¹ï¼š\n{n\\brace m}=\\sum_{i=0}^m \\frac{(-1)^{m-i}\\times i^n}{i!\\times (m-i)!}\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    if (n &lt; m) { cout &lt;&lt; &quot;0\\n&quot;; return; }\n    // é˜¶ä¹˜\n    vector&lt;ll&gt;fac;\n    fac.push_back(1);fac.push_back(1);\n    for (ll i = 2;i &lt;= n;i++) {\n        ll faci = (fac.back() * i) % mod;\n        fac.push_back(faci);\n    }\n    vector&lt;ll&gt;finv(n + 1); // é˜¶ä¹˜çš„é€†å…ƒ\n    finv[n] = powerMod(fac[n], mod - 2, mod);\n    for (int i = n - 1;i &gt;= 0;i--) {\n        finv[i] = finv[i + 1] * (i + 1) % mod;\n    }\n \n    ll ans = 0ll;\n    for (ll i = 0;i &lt;= m;i++) {\n        ll ansi = 1ll;\n        if ((m - i) &amp; 1)ansi = -1;\n \n        ansi *= powerMod(i, n, mod);\n        ansi *= finv[i] * finv[m - i] % mod;\n        ans = (ans + ansi) % mod + mod;     // åŠ ä¸€ä¸ªmodå–æ­£æ•°\n        ans %= mod;\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nG-whyä¹°å¤–å–\né¢˜æ„\nä¸€äº›å¯ä»¥å åŠ çš„æ»¡aiå‡biçš„åˆ¸ï¼Œç°åœ¨æœ‰må…ƒï¼Œæé—®å¯ä»¥ä¹°åˆ°é£Ÿç‰©çš„åŸä»·æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤1e4)\nn,m(1â‰¤nâ‰¤1e5,1â‰¤mâ‰¤1e9)\na_i,b_i(1â‰¤a_i,b_iâ‰¤1e9)\næ€è·¯\nå‰ç¼€å’Œï¼ŒæŒ‰ç…§aiå‡åºæ’åˆ—ï¼Œèƒ½ç”¨aiçš„åˆ¸çš„é£Ÿç‰©ä¸€å®šä¹Ÿèƒ½ä½¿ç”¨åŸä»·å°äºç­‰äºaiçš„æ‰€æœ‰çš„åˆ¸ï¼Œæœ€åæšä¸¾åŸä»·å³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    map&lt;ll, ll&gt;discnt;\n    for (int i = 0;i &lt; n;i++) {\n        ll a, b;cin &gt;&gt; a &gt;&gt; b;\n        discnt[a] += b;    // ä¸€æ¬¡å‰ç¼€å’Œï¼Œåˆå¹¶ç›¸åŒaiçš„åˆ¸\n    }\n    for (auto i = discnt.begin(); i != discnt.end();i++) {\n        ll price = i-&gt;first, discount = i-&gt;second;\n        auto j = i;j++;\n        if (j != discnt.end()) {\n            (j-&gt;second) += discount;    // ç¬¬äºŒæ¬¡å‰ç¼€å’Œï¼Œåˆå¹¶å°äºç­‰äºaiçš„åˆ¸\n        }\n    }\n    ll x = m;\n    for (auto i = discnt.begin();i != discnt.end();i++) {\n        ll price = i-&gt;first, discount = i-&gt;second;\n        if (m + discount &gt;= price)x = m + discount;    // æšä¸¾ï¼Œå–æœ€å¤§åŸä»·\n    }\n    cout &lt;&lt; x &lt;&lt; endl;\n}\nI-Itâ€™s bertrand paradox. Again!\né¢˜æ„\næœ‰ä¸¤ç§ç”Ÿæˆå¹³é¢ä¸Šçš„åœ†çš„æ–¹å¼ï¼Œç»™å·²ç”Ÿæˆçš„æ•°æ®åˆ¤æ–­æ˜¯å“ªç§æ–¹å¼ç”Ÿæˆçš„ã€‚\nbit-noobçš„æ–¹æ³•ï¼š\n\néšæœºç­‰æ¦‚ç‡åœ°ä»å¼€åŒºé—´(âˆ’100,100)ç”Ÿæˆä¸¤ä¸ªæ•´æ•°x,yã€‚\néšæœºç­‰æ¦‚ç‡åœ°ä»é—­åŒºé—´[1,100]ä¸­ç”Ÿæˆä¸€ä¸ªrã€‚\nåˆ¤æ–­(x,y)ä¸ºåœ†å¿ƒã€rä¸ºåŠå¾„çš„åœ†æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œè‹¥ä¸æ»¡è¶³ï¼Œè¿”å›æ­¥éª¤2é‡æ–°ç”Ÿæˆrï¼Œè‹¥æ»¡è¶³ï¼Œåˆ™å°†è¯¥åœ†åŠ å…¥åˆ°ç»“æœä¸­ã€‚\n\nbuaa-noobçš„æ–¹æ³•ï¼š\n\néšæœºç­‰æ¦‚ç‡åœ°ä»å¼€åŒºé—´(âˆ’100,100)ç”Ÿæˆä¸¤ä¸ªæ•´æ•°x,yï¼Œéšæœºç­‰æ¦‚ç‡åœ°ä»é—­åŒºé—´[1,100]ä¸­ç”Ÿæˆä¸€ä¸ªrã€‚\nåˆ¤æ–­(x,y)ä¸ºåœ†å¿ƒã€rä¸ºåŠå¾„çš„åœ†æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œè‹¥ä¸æ»¡è¶³ï¼Œè¿”å›æ­¥éª¤1é‡æ–°ç”Ÿæˆx,y,rï¼Œè‹¥æ»¡è¶³ï¼Œåˆ™å°†è¯¥åœ†åŠ å…¥åˆ°ç»“æœä¸­ã€‚\n\næ•°æ®èŒƒå›´\nn=10^5\n0&lt; x_i,y_i&lt; 100,0&lt; r_i\\leq100\næ€è·¯\nä¸¤ç§æ–¹æ³•ä¸­ï¼Œç¬¬ä¸€ç§çš„xå’Œyçš„å–å€¼æ›´å®¹æ˜“å—åˆ°rçš„é™åˆ¶ï¼Œåœ¨rå‡åŒ€åˆ†å¸ƒåœ¨[1,100]çš„æƒ…å†µä¸‹ï¼Œbit-noobçš„æ–¹æ³•ç›¸å¯¹äºbuaa-noobçš„æ–¹æ³•ï¼Œx,yä¼šæ›´åå‘é›†ä¸­åœ¨åŸç‚¹é™„è¿‘ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    int cnt = 0;\n    for (int i = 0;i &lt; n;i++) {\n        int x, y, r;cin &gt;&gt; x &gt;&gt; y &gt;&gt; r;\n        if (abs(x) &lt;= 50 &amp;&amp; abs(y) &lt;= 50)cnt++;\n    }\n    if (cnt &lt; n - cnt)cout &lt;&lt; &quot;bit-noob\\n&quot;;\n    else cout &lt;&lt; &quot;buaa-noob\\n&quot;;\n}\nH-01èƒŒåŒ…ï¼Œä½†æ˜¯bit\né¢˜æ„\nnä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä»·å€¼v_iå’Œé‡é‡w_iï¼Œæ‰€é€‰ç‰©å“çš„æ€»é‡é‡æ˜¯æ‰€é€‰ç‰©å“é‡é‡çš„æŒ‰ä½æˆ–è¿ç®—çš„ç»“æœï¼Œæ±‚æ€»é‡é‡ä¸è¶…è¿‡mçš„æœ€å¤§ä»·å€¼å’Œ\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤10^4)\nn,m(1â‰¤nâ‰¤10^5,0\\leq m\\leq 10^8)\nv_i,w_i(0\\leq v_i,w_i\\leq 10^8)\næ€è·¯\næšä¸¾må³ç§»ä½åçš„æ•°å­—ï¼Œèƒ½è¢«è¿™ä¸ªä½æ•°ä½äºmã€æ•°ä½ä¸Šå…¨æ˜¯1çš„æ–°mè¦†ç›–çš„éƒ½èƒ½æ‹¿\nçŠ¶æ€è½¬æ¢ï¼šæ‹¿æ–°ç­›å‡ºæ¥çš„å¯é€‰ä¸åŸæ¥çš„æ¯”è¾ƒï¼Œå–ä»·å€¼è¾ƒå¤§çš„é‚£ä¸ª\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;ll&gt;v(n), w(n);\n    ll ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; v[i] &gt;&gt; w[i];\n        if ((w[i] | m) == m)ans += v[i];\n    }\n \n    for (ll i = m;i &gt; 0;i -= i &amp; -i) {\n        // iæ¯æ¬¡æŠ¹å»æœ€åä¸€ä½1ï¼Œå†é‡æ–°å–å…¨1\n        ll xi = i - 1;\n        ll ansi = 0;\n        for (int j = 0;j &lt; n;j++) {\n            if ((w[j] | xi) == xi)\n                ansi += v[j];\n        }\n        ans = max(ans, ansi);\n    }\n \n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nL-è¦æœ‰å…‰\né¢˜æ„\n\nå¦‚å›¾ï¼Œæœ‰ä¸€ç‚¹å…‰æºåœ¨è½¨è¿¹L(x=c,y=0,0\\leq z\\leq d)ä¸Šç§»åŠ¨ï¼Œå­˜åœ¨ä¸€å®½ä¸º2wï¼Œé«˜ä¸ºhçš„ç»¿å¢™Wï¼Œå’Œä¸€æ— é™å¤§çš„ç™½å¢™Sï¼Œæ±‚æŠ•å½±åœ¨åœ°é¢ä¸Šçš„é˜´å½±çš„é¢ç§¯ã€‚\næ•°æ®èŒƒå›´\n1\\leq T\\leq 10^4\n1\\leq c,d,h,w\\leq 10^4\nè¾“å‡ºæµ®ç‚¹æ•°è¯¯å·®å°äº10^{-4}\næ€è·¯\nå½“ç‚¹å…‰æºæ”¾åœ¨åœ°é¢ä¸Šæ—¶æŠ•å½±æœ€å¤§(z=0æ—¶)ï¼Œè¿™ä¸ªæŠ•å½±æ˜¯ä¸€ä¸ªç­‰è…°æ¢¯å½¢ï¼ˆå¤§ä¸‰è§’å½¢æˆªå»ä¸€ä¸ªå°ä¸‰è§’å½¢ï¼‰ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    double c, d, h, w;cin &gt;&gt; c &gt;&gt; d &gt;&gt; h &gt;&gt; w;\n    double ans = 3.0 * c * w;\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nM-ç‰›å®¢è€ç²‰æ‰çŸ¥é“çš„ç§˜å¯†\né¢˜æ„\n\nå°±åƒä¸Šå›¾ä¸€æ ·ï¼Œå½“å¯è§èŒƒå›´ç§»åŠ¨æ—¶å›ºå®šä½ç§»ä¸º6æ ¼ï¼Œå½“ç§»åŠ¨ç¢°åˆ°æœ«ç«¯æ—¶ä¼šä»¥æœ«ç«¯ä¸ºæœ€è¿œåˆ°è¾¾å¤„ã€‚ç»™å‡ºæ¯”èµ›æ€»é¢˜æ•°ï¼Œåˆ¤æ–­åƒè¿™æ ·ç§»åŠ¨å¯èƒ½çš„ä½ç½®æ•°ç›®ã€‚\næ•°æ®èŒƒå›´\n1\\leq T\\leq 10^5\n6\\leq n\\leq 10^9\næ€è·¯\nåˆ¤æ–­næ˜¯å¦æ˜¯6çš„å€æ•°å³å¯ï¼Œå¦‚æœæ­£å¥½æ˜¯6çš„å€æ•°ï¼Œé‚£ä¹ˆè¿”å›æ—¶å¹¶ä¸äº§ç”Ÿæ–°çš„ä½ç½®ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    if (n % 6)cout &lt;&lt; n / 6 + n / 6 &lt;&lt; &#039;\\n&#039;;\n    else cout &lt;&lt; n / 6 &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nc24wd2":{"slug":"03-algorithm/nc24wd2","filePath":"03-algorithm/nc24wd2.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥2||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-Tokitsukaze and Bracelet\né¢˜æ„\næ ¹æ®æ‰‹ç¯çš„ä¸‰ä¸ªå±æ€§å€¼åˆ¤æ–­æ‰‹ç¯çš„ç­‰çº§ã€‚\n\nå¯¹æ”»å‡»ç™¾åˆ†æ¯”æ¥è¯´ï¼Œ+0ä¸º100%ï¼Œ+1ä¸º150%ï¼Œ+2ä¸º200%\nå¯¹ä½“åŠ›å’Œç²¾ç¥æ¥è¯´ï¼Œ+0åœ¨\\{29,30,31,32\\}é‡Œé€‰æ‹©ï¼Œ+1åœ¨\\{34,36,38,40\\}é‡Œé€‰æ‹©ï¼Œ+2å›ºå®šä¸º45\n\næ•°æ®èŒƒå›´\nn(1â‰¤nâ‰¤100)\na_i,b_i,c_i(a_iâˆˆ\\{100,150,200\\};b_i,ciâˆˆ\\{29,30,31,32,34,36,38,40,45\\})\næ€è·¯\næ¨¡æ‹Ÿå³å¯\nå‚è€ƒä»£ç \nvoid solve() {\n    int lv1[3] = { 100,150,200 };\n    int lv2[9] = { 29,30,31,32,34,36,38,40,45 };\n    int a, b, c;cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n    int ans = 0;\n    for (int i = 0;i &lt; 3;i++) {\n        if (a == lv1[i]) { ans += i; break; }\n    }\n    for (int i = 0;i &lt; 9;i++) {\n        if (b == lv2[i]) {\n            if (i &lt; 4)ans += 0;\n            else if (i &lt; 8)ans += 1;\n            else ans += 2;\n            break;\n        }\n    }\n    for (int i = 0;i &lt; 9;i++) {\n        if (c == lv2[i]) {\n            if (i &lt; 4)ans += 0;\n            else if (i &lt; 8)ans += 1;\n            else ans += 2;\n            break;\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nB-Tokitsukaze and Cats\né¢˜æ„\nå…³çŒ«ï¼Œæ¯ä¸ªçŒ«è¢«é™åˆ¶åœ¨ä¸€ä¸ªå•å…ƒæ ¼å†…å°±ç®—è¢«å…³ä½äº†ï¼Œå¦‚å›¾ï¼š\n\nç»™çŒ«çš„åæ ‡ï¼Œè¯¢é—®è‡³å°‘éœ€è¦å¤šå°‘ç‰‡é˜²çŒ«ç½‘èƒ½æŠŠä»–ä»¬å…¨éƒ½å…³ä½ã€‚\næ•°æ®èŒƒå›´\nn, m, k (1â‰¤n,mâ‰¤300;1â‰¤kâ‰¤nâ‹…m)\nx_i, y_i (1â‰¤xiâ‰¤n; 1â‰¤yiâ‰¤m)\næ€è·¯\néå†åæ ‡ç‚¹åˆ¤æ–­å®ƒä¸Šä¸‹å·¦å³æ˜¯å¦æœ‰éš”æ¿ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¡¥å……ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n, m, k;cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    map&lt;pair&lt;int, int&gt;, bool&gt;cats;\n    int ans = 0;\n    while (k--) {\n        int x, y;cin &gt;&gt; x &gt;&gt; y;\n        cats[{ x, y }] = true;\n        pair&lt;int, int&gt;pu = { x - 1,y }, pd = { x + 1,y }, pl = { x,y - 1 }, pr = { x,y + 1 };\n        int cnt = 4;\n        if (cats.count(pu) != 0)cnt -= 1;\n        if (cats.count(pd) != 0)cnt -= 1;\n        if (cats.count(pl) != 0)cnt -= 1;\n        if (cats.count(pr) != 0)cnt -= 1;\n        ans += cnt;\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nE&amp;F-Tokitsukaze and Eliminate\né¢˜æ„\næœ‰ä¸€æ’nä¸ªå®çŸ³ï¼Œç¬¬iä¸ªçš„é¢œè‰²æ˜¯col_iï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š\né€‰ä¸€ç§é¢œè‰²xï¼Œå°†é¢œè‰²ä¸ºxçš„æœ€å³è¾¹çš„é‚£é¢—å®çŸ³åŠå…¶å³è¾¹çš„æ‰€æœ‰å®çŸ³å…¨éƒ¨æ¶ˆé™¤ã€‚\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 2 * 10^5)\nn(1\\leq n\\leq 2 * 10^5)\neasyï¼š1\\leq col_i\\leq min(n,2)\nhardï¼š1\\leq col_i\\leq n\næ€è·¯\nè´ªå¿ƒï¼Œä»å³è¾¹æšä¸¾ï¼Œå½“æ‰¾åˆ°æœ€åä¸€ç§è¾¾åˆ°ä¸¤æ¬¡å‡ºç°çš„é¢œè‰²åï¼Œè¿›è¡Œä¸€æ¬¡å¯¹è¯¥é¢œè‰²çš„æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰å®çŸ³éƒ½è¢«æ¶ˆé™¤ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;int&gt;col(n + 1);\n    set&lt;int&gt;cls;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; col[i];\n        cls.insert(col[i]);\n    }\n    int tn = cls.size();    // é¢œè‰²ç§æ•°\n    map&lt;int, int&gt;clrs;\n    map&lt;int, int&gt;colors;\n    int ans = 0;\n    int cnt = 0;\n    int pi = n;\n    while (tn != 0) {\n        for (int i = n;i &gt; 0;i--) {\n            colors[col[i]]++;\n            if (colors[col[i]] == 1) {\n                cnt++;  // è¾¾åˆ°ä¸¤æ¬¡åŠä»¥ä¸Šçš„é¢œè‰²æ•°\n                if (cnt == tn) {\n                    ans++;\n                    cnt = 0;\n                    colors = clrs;\n                    pi = i - 1;\n                }\n            }\n        }\n        tn = colors.size();\n        colors = clrs;\n        n = pi;cnt = 0;\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nI-Tokitsukaze and Short Path (plus)\né¢˜æ„\næœ‰ä¸€ä¸ªnä¸ªé¡¶ç‚¹çš„å®Œå…¨å›¾Gï¼Œé¡¶ç‚¹ç¼–å·æ˜¯1åˆ°nï¼Œç¼–å·ä¸ºiçš„é¡¶ç‚¹å€¼æ˜¯a_iï¼Œè¾¹æƒçš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š\nw_{u,v}=\n\\begin{cases}\n0&amp; \\text{u=v}\\\\\n|a_u+a_v|+|a_u-a_v|&amp; \\text{u â‰  v}\n\\end{cases}\ndist(i,j)å®šä¹‰ä¸ºä»¥iä¸ºèµ·ç‚¹åˆ°jçš„æœ€çŸ­è·¯ã€‚\næ±‚ï¼š\n\\sum_{i=1}^{n}\\sum_{j=1}^{n}dist(i,j)\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 2\\times 10^5)\nn(1\\leq n\\leq 2\\times 10^5)\na_i(1\\leq a_i\\leq 2\\times 10^5)\næ€è·¯\n|a_i+a_j|+|a_i-a_j|=\n\\begin{cases}\n&amp;a_i+a_j+a_i-a_j&amp;=2\\times a_i&amp;\\quad a_i\\ge a_j \\\\\n&amp;a_i+a_j+a_j-a_i&amp;=2\\times a_j&amp;\\quad a_i\\lt a_j \n\\end{cases}\nå¯¹aè¿›è¡Œæ’åºï¼Œè®¡ç®—æ¯ä¸ªæ•°å¯¹æ€»å’Œçš„è´¡çŒ®ï¼Œä¹Ÿå°±æ˜¯æ¯”æŸæ•°å°çš„æ•°çš„ä¸ªæ•°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    sort(a.begin(), a.end());\n    ll ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        ans += a[i] * i;\n    }\n    cout &lt;&lt; 4 * ans &lt;&lt; &#039;\\n&#039;;\n}\nJ-Tokitsukaze and Short Path (minus)\né¢˜æ„\næœ‰ä¸€ä¸ªnä¸ªé¡¶ç‚¹çš„å®Œå…¨å›¾Gï¼Œé¡¶ç‚¹ç¼–å·æ˜¯1åˆ°nï¼Œç¼–å·ä¸ºiçš„é¡¶ç‚¹å€¼æ˜¯a_iï¼Œè¾¹æƒçš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š\nw_{u,v}=\n\\begin{cases}\n0&amp; \\text{u=v}\\\\\n|a_u+a_v|-|a_u-a_v|&amp; \\text{u â‰  v}\n\\end{cases}\ndist(i,j)å®šä¹‰ä¸ºä»¥iä¸ºèµ·ç‚¹åˆ°jçš„æœ€çŸ­è·¯ã€‚\næ±‚ï¼š\n\\sum_{i=1}^{n}\\sum_{j=1}^{n}dist(i,j)\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 2\\times 10^5)\nn(1\\leq n\\leq 2\\times 10^5)\na_i(1\\leq a_i\\leq 2\\times 10^5)\næ€è·¯\n|a_i+a_j|-|a_i-a_j|=\n\\begin{cases}\n&amp;a_i+a_j-a_i+a_j&amp;=2\\times a_j&amp;\\quad a_i\\ge a_j \\\\\n&amp;a_i+a_j-a_j+a_i&amp;=2\\times a_i&amp;\\quad a_i\\lt a_j \n\\end{cases}\nå¦‚æœuåˆ°vçš„ç›´æ¥è·¯å¾„çš„é•¿åº¦å¤§äºdist(u,w)+dist(v,w)ï¼Œåˆ™å–åè€…ï¼Œå‡è®¾dist(u,v)=2\\times a_vï¼Œåˆ™æœ‰dist(u,w)+dist(v,w)=2\\times a_v+2\\times a_v=4\\times a_vï¼Œåˆ™åªæœ‰å½“2\\times a_wçš„å€¼å°äºa_væ—¶å–åè€…æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°å€¼ã€‚\nå¯¹aâ€‹è¿›è¡Œæ’åºï¼Œè®¡ç®—æ¯ä¸ªæ•°å¯¹æ€»å’Œçš„è´¡çŒ®æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ¯”æŸæ•°æˆ–2Ã—æœ€å°a_iå¤§çš„æ•°çš„ä¸ªæ•°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    ll mn = 1e18;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        mn = min(mn, a[i]);\n    }\n    sort(a.begin(), a.end());\n    ll ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        ans += min(mn * 2, a[i]) * (n - i - 1);\n    }\n    cout &lt;&lt; 4 * ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nc24wd3":{"slug":"03-algorithm/nc24wd3","filePath":"03-algorithm/nc24wd3.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥3||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-æ™ºä¹ƒä¸ç©ç›®ç‹¸çŒ«ã€å¹¸è¿æ°´æ¯ã€æœˆå®«é¾™è™¾\né¢˜æ„\nåœ¨ä¸è€ƒè™‘å•è¯è¯æ€§çš„å‰æä¸‹ï¼Œåªè¦æ±‚ä¸¤ä¸ªå•è¯çš„é¦–å­—æ¯å¿½ç•¥å¤§å°å†™ç›¸åŒæ—¶å°±è®¤ä¸ºå®ƒä»¬å¯èƒ½æ˜¯ä¸€ç»„ubuntuä»£å·ï¼Œè¯·ä½ ç¼–å†™ç¨‹åºåˆ¤æ–­ç»™å®šçš„ä¸¤ä¸ªå•è¯æ˜¯å¦å¯èƒ½æ˜¯ä¸€ä¸ªubuntuä»£å·ã€‚\næ•°æ®èŒƒå›´\nT(1\\leq T \\leq 10^5)\nS,T(1\\leq |S|,|T|\\leq 50)\næ€è·¯\næŒ‰é¢˜æ„åˆ¤æ–­å³å¯\nå‚è€ƒä»£ç \nvoid solve() {\n    string s, t;cin &gt;&gt; s &gt;&gt; t;\n    if (s[0] == t[0] || abs(s[0] - t[0]) == abs(&#039;a&#039; - &#039;A&#039;)) {\n        cout &lt;&lt; &quot;Yes\\n&quot;;\n    }\n    else cout &lt;&lt; &quot;No\\n&quot;;\n}\nB-æ™ºä¹ƒçš„æ•°å­—æ‰‹ä¸²\né¢˜æ„\nä¸€ä¸ªé¦–å°¾ç›¸è¿çš„æ•°ç»„ï¼Œè‹¥ç›¸é‚»çš„ä¸¤ä¸ªæ•°ä¹‹å’Œä¸ºå¶æ•°é€‰æ‹©æ‹¿èµ°ä¸€ä¸ªç„¶åå¯ä»¥éšæ„äº¤æ¢ä¸€å¯¹æ•°ï¼Œè½®æµæ“ä½œï¼Œä¸èƒ½å†æ“ä½œçš„ä¸€æ–¹è¾“ã€‚æ¸…æ¥šå§å§å…ˆæ‰‹ã€‚\næ•°æ®èŒƒå›´\nT(1\\leq T \\leq 10^4)\nN(1\\leq N\\leq 26)\na_i(0\\leq a_i \\leq 10^9)\næ€è·¯\nåªæœ‰1ä¸ªæ•°æ—¶ç›´æ¥å–èµ°ï¼Œå…ˆæ‰‹èµ¢ã€‚\n2ä¸ªæ•°æ—¶ï¼šå¥‡å¶/å¥‡å¥‡/å¶å¶ï¼Œéƒ½æ˜¯åæ‰‹èµ¢ã€‚\n3ä¸ªæ•°æ—¶ï¼šå¥‡å¶å¥‡/å¶å¥‡å¶/å¥‡å¥‡å¥‡/å¶å¶å¶ï¼Œéƒ½æ˜¯å…ˆæ‰‹èµ¢ã€‚\nâ€¦\nç»“æŸæ—¶å€™çš„çŠ¶æ€æ˜¯å¥‡å¶å¥‡å¶...å¥‡å¶ï¼Œå¦‚æœæ•°é‡æ˜¯å¥‡æ•°ä¸ªï¼Œä¸€å®šå­˜åœ¨å¥‡å¥‡/å¶å¶ï¼Œæ“ä½œåå¯èƒ½ç›´æ¥ç»“æŸæ¸¸æˆæˆ–ç»§ç»­ï¼Œå¦‚æœæ•°é‡æ˜¯å¶æ•°ä¸ªä¸”å¯æ“ä½œï¼Œåˆ™è½¬ç§»ä¸ºå¥‡æ•°æ—¶çš„çŠ¶æ€ä¸”æ­¤æ—¶ä¸‹ä¸€ä½æ“ä½œè€…ä¸€å®šå¯ä»¥å†æ“ä½œã€‚åŒæ–¹çš„æ“ä½œä¸ä¼šæ”¹å˜ä»–é¢å¯¹è¯¥æ•°å­—ä¸²æ—¶æ•°å­—çš„ä¸ªæ•°çš„å¥‡å¶æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰ä¸€ç›´é¢å¯¹å¥‡æ•°ä¸ªæ•°çš„ä¸€æ–¹æ‰èƒ½èµ¢ã€‚\næ•…åˆ¤æ–­åŸå§‹é•¿åº¦ï¼Œçœ‹å…ˆæ‰‹æ˜¯å¦åœ¨å¥‡æ•°ä½ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    if (n &amp; 1)cout &lt;&lt; &quot;qcjj\\n&quot;;\n    else cout &lt;&lt; &quot;zn\\n&quot;;\n}\nD-chinoâ€™s bubble sort and maximum subarray sum(easy version)\né¢˜æ„\nå¯¹ä¸€ä¸ªæ•°ç»„å†…çš„å…ƒç´ è¿›è¡Œæ°å¥½Kæ¬¡ç›¸é‚»å…ƒç´ äº¤æ¢åï¼Œæ±‚æ•´ä¸ªæ•°ç»„çš„æœ€å¤§å­æ®µå’Œã€‚\næ•°æ®èŒƒå›´\nN,K(2\\leq N\\leq 10^3,0\\leq K \\leq 1)\na_i(-10^9\\leq a_i \\leq 10^9)\næ€è·¯\neasyç‰ˆæœ¬çš„Kåªæœ‰ä¸¤ç§å–å€¼ï¼ˆ0å’Œ1ï¼‰ï¼ŒNçš„èŒƒå›´ä¸å¤§ï¼Œåˆ†ç±»å¤„ç†ï¼Œè¿›è¡Œdpå³å¯ã€‚\nå‚è€ƒä»£ç \nll maxsum(vector&lt;ll&gt;a) {\n    int n = a.size();\n    ll sum = a[0];\n    ll b = 0;\n    for (int i = 0;i &lt; n;i++) {\n        if (b &gt; 0)b += a[i];\n        else b = a[i];\n        if (b &gt; sum)sum = b;\n    }\n    return sum;\n}\n \nvoid solve() {\n    int n, k;cin &gt;&gt; n &gt;&gt; k;\n    vector&lt;ll&gt;a(n);\n    for (int i = 0;i &lt; n;i++)cin &gt;&gt; a[i];\n    ll ans;\n    if (k == 0) {\n        ans = maxsum(a);\n    }\n    else {\n        for (int i = 0;i &lt; n - 1;i++) {\n            a[i] = a[i] ^ a[i + 1];\n            a[i + 1] = a[i] ^ a[i + 1];\n            a[i] = a[i] ^ a[i + 1];\n            if (i != 0) ans = max(ans, maxsum(a));\n            else ans = maxsum(a);\n            a[i] = a[i] ^ a[i + 1];\n            a[i + 1] = a[i] ^ a[i + 1];\n            a[i] = a[i] ^ a[i + 1];\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nG-æ™ºä¹ƒçš„æ¯”è¾ƒå‡½æ•°(easy version)\né¢˜æ„\nç»™å‡ºä¸€äº›cmpå‡½æ•°çš„è§„å®šï¼Œåˆ¤æ–­ä»–ä»¬ä¹‹é—´æ˜¯å¦å­˜åœ¨é€»è¾‘çŸ›ç›¾ã€‚\ncmpçš„æ’åºè§„åˆ™æ˜¯è¿™æ ·çš„ï¼š\ncmp(x,y)=1è¡¨ç¤ºè§„å®šx&gt;yï¼Œå³xçš„é¡ºåºä¸¥æ ¼å…ˆäºy\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 2\\times 10^4)\nN(1\\leq N\\leq 2)\nx,y,z(x,y\\in \\{1,2,3\\},z\\in\\{0,1\\})ï¼Œè¡¨ç¤ºç¬¬iä¸ªçº¦æŸå…³ç³»ä¸ºcmp(a_x,a_y)=zã€‚\næ€è·¯\nåªæœ‰3ä¸ªæ•°ã€ä¸¤ä¸ªçº¦æŸå…³ç³»æ—¶ï¼Œä¸èƒ½æ„æˆa_x&lt;a_yä¸”a_y&lt;a_zä¸”a_x&gt;a_zï¼Œåªéœ€åˆ¤æ–­æœ€å¤šå­˜åœ¨2ä¸­çº¦æŸå…³ç³»æ—¶çš„é€»è¾‘æ˜¯å¦åˆæ³•ã€‚\nå¯¹äºä¸¤ä¸ªæ•°xã€yï¼Œä¸åˆæ³•çš„çº¦æŸå…³ç³»åªæœ‰ï¼šcmp(x,y)=1ä¸”cmp(y,x)=1\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;vector&lt;int&gt;&gt;rules(4, vector&lt;int&gt;(4, -1));\n    bool f = true;\n    for (int i = 0;i &lt; n;i++) {\n        int x, y, z;cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;\n        if (!f)continue;\n        if (x == y &amp;&amp; z == 1)f = false;\n        if (z == 1 &amp;&amp; rules[y][x] == 1) {\n            f = false;\n        }\n        if (rules[x][y] == -1) {\n            rules[x][y] = z;\n            if (z == 1)\n                rules[y][x] = 0;\n        }\n        else if (rules[x][y] != z)\n            f = false;\n    }\n    if (f)cout &lt;&lt; &quot;Yes\\n&quot;;\n    else cout &lt;&lt; &quot;No\\n&quot;;\n}\nH-æ™ºä¹ƒçš„æ¯”è¾ƒå‡½æ•°(normal version)\né¢˜æ„\nåŒG\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 2\\times 10^4)\nN(1\\leq N\\leq 50)\nx,y,z(x,y\\in \\{1,2,3\\},z\\in\\{0,1\\})ï¼Œè¡¨ç¤ºç¬¬iä¸ªçº¦æŸå…³ç³»ä¸ºcmp(a_x,a_y)=zã€‚\næ€è·¯\nå’ŒGç›¸æ¯”ï¼ŒNçš„èŒƒå›´å¤§äº2ï¼Œä¸åˆæ³•çš„æƒ…å†µå¢åŠ äº†ï¼Œä½†æ˜¯ä¾ç„¶åªæ˜¯3ä¸ªæ•°æ®ä¹‹é—´åˆ¤æ–­åˆæ³•æ€§ã€‚\næ–°å¢çš„ä¸‰ä¸ªå…³ç³»ä¸åˆæ³•çš„æƒ…å†µæœ‰ï¼š\n\nx&lt;y,x&lt;z,z&lt;x\nx\\leq y,y\\leq z,z&lt;x\n\nåˆ†åˆ«ç‰¹åˆ¤å³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;vector&lt;int&gt;&gt;rules(4, vector&lt;int&gt;(4, -1));\n    bool f = true;\n    for (int i = 0;i &lt; n;i++) {\n        int x, y, z;cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;\n        if (!f)continue;\n        if (x == y &amp;&amp; z == 1)f = false;\n        if (z == 1 &amp;&amp; rules[y][x] == 1) {\n            f = false;\n        }\n        if (rules[x][y] == -1) {\n            rules[x][y] = z;\n            if (z == 1)\n                rules[y][x] = 0;\n        }\n        else if (rules[x][y] != z)\n            f = false;\n    }\n    if (rules[1][2] == 1 &amp;&amp; rules[2][3] == 1 &amp;&amp; rules[3][1] == 1)\n        f = false;\n    if (rules[1][3] == 1 &amp;&amp; rules[3][2] == 1 &amp;&amp; rules[2][1] == 1)\n        f = false;\n    for (int x = 1;x &lt;= 3;x++) {\n        for (int y = 1;y &lt;= 3;y++) {\n            if (y == x)continue;\n            int z = 6 - x - y;\n            if (rules[x][y] == 0 &amp;&amp; rules[y][z] == 0 &amp;&amp; rules[x][z] == 1)\n                f = false;\n        }\n    }\n    if (f)cout &lt;&lt; &quot;Yes\\n&quot;;\n    else cout &lt;&lt; &quot;No\\n&quot;;\n}\nL&amp;M-æ™ºä¹ƒçš„36å€æ•°(easy/hard version)\né¢˜æ„\nå®šä¹‰ä¸€ç§è¿ç®—fï¼Œå¯ä»¥å°†æ­£æ•´æ•°æŒ‰ç…§å­—é¢å€¼ä»å·¦åˆ°å³æ‹¼æ¥ï¼Œå¦‚ï¼šf(123,569)=1234569ã€‚\nä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­æœ‰å¤šå°‘å¯¹æœ‰åºå¯¹i,j(iâ‰ j)æ»¡è¶³f(a_i,a_j)æ˜¯36çš„å€æ•°ã€‚\næ•°æ®èŒƒå›´\neasy:\nN(1\\leq N\\leq 1000)\na_i(1\\leq a_i \\leq 10)\nhardï¼š\nN(1\\leq N\\leq 10^5)\na_i(1\\leq a_i \\leq 10^{18})\næ€è·¯\neasyç‰ˆæœ¬çš„æ•°æ®è¾ƒå°ï¼Œç›´æ¥åŒå±‚å¾ªç¯æš´åŠ›å³å¯ã€‚\nhardç‰ˆæœ¬å¯ä»¥è€ƒè™‘åŒä½™ï¼Œkæ˜¯yçš„ä½æ•°ã€‚\nf(x,y)=x\\times 10^{k}+y\nf(x,y)\\% 36=0\n(x\\times 10^{k}+y)\\%36=0\n(x\\%36\\times 10^{k}\\%36+y\\%36)\\%36=0\nå¯¹æ•°ç»„é¢„å¤„ç†åï¼Œæšä¸¾ä»¥yç»“å°¾ã€‚\nå‚è€ƒä»£ç \n// æš´åŠ›easy version\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;int&gt;a(n);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    int cnt = 0;\n    for (int i = 0;i &lt; n;i++) {\n        for (int j = i + 1;j &lt; n;j++) {\n            int n1 = a[i] * 10 + a[j];\n            int n2 = a[j] * 10 + a[i];\n            if (n1 % 36 == 0)cnt++;\n            if (n2 % 36 == 0)cnt++;\n        }\n    }\n    cout &lt;&lt; cnt &lt;&lt; &#039;\\n&#039;;\n}\n// hard version\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    map&lt;int, int&gt;cnt;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        cnt[a[i] % 36]++;\n    }\n    ll k = 1;\n    vector&lt;int&gt;dk(19);\n    for (int i = 1;i &lt; 19;i++) {\n        k *= 10;\n        dk[i] = k % 36;\n    }\n    auto getlen = [](ll x) {\n        int i = 0;\n        while (x) {\n            i++;x /= 10;\n        }\n        return i;\n        };\n    ll ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        int x = a[i] % 36;\n        int z = getlen(a[i]);\n        for (int j = 0;j &lt; 36;j++) {\n            if ((j * dk[z] + x) % 36 == 0) {\n                ans += cnt[j];\n                if (j == x)ans -= 1;\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nc24wd4":{"slug":"03-algorithm/nc24wd4","filePath":"03-algorithm/nc24wd4.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥4||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-æŸ æª¬å¯ä¹\né¢˜æ„\nè¾“å…¥a,b,kï¼Œåˆ¤æ–­a\\ge k\\times bæ˜¯å¦æˆç«‹\næ•°æ®èŒƒå›´\na,b,k(1\\leq a,b,k\\leq 100)\næ€è·¯\nç®€å•åˆ¤æ–­\nå‚è€ƒä»£ç \nvoid solve() {\n    int a, b, k;cin &gt;&gt; a &gt;&gt; b &gt;&gt; k;\n    if (a &gt;= k * b)cout &lt;&lt; &quot;good\\n&quot;;\n    else cout &lt;&lt; &quot;bad\\n&quot;;\n}\nB-å·¦å³äº’åš\né¢˜æ„\næœ‰nå †çŸ³å­ï¼Œæ¯æ¬¡é€‰æ‹©æŸå †çŸ³å­ï¼Œé€‰ä¸€ä¸ªæ•´æ•°y(2\\leq y\\leq x)ï¼Œå°†çŸ³å­åˆ†ä¸º\\lfloor \\frac{x}{y} \\rfloorå’Œx-\\lfloor \\frac{x}{y} \\rfloorï¼Œç›´åˆ°æŸäººä¸èƒ½æ“ä½œæ—¶ç»“æŸï¼Œä¸èƒ½æ“ä½œè€…è¾“ã€‚\næ•°æ®èŒƒå›´\nn,a_i(1\\leq n,a_i \\leq 2\\times 10^5)\næ€è·¯\nç›¸å½“äºæ¯æ¬¡è‡³å°‘åˆ†å‡º1ä¸ªçŸ³å­å‡ºæ¥ï¼Œè®¡ç®—å°†æ‰€æœ‰çŸ³å¤´åˆ†å‡º1é¢—ä¸€ä»½çš„æ“ä½œæ•°ï¼Œåˆ¤æ–­æ‹¿åˆ°æœ€åä¸€é¢—çŸ³å­çš„æ˜¯è°å³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    ll sum = 0;\n    for (int i = 0;i &lt; n;i++){\n        cin &gt;&gt; a[i];\n        sum += a[i] - 1;\n    }\n    if (sum % 2) {\n        cout &lt;&lt; &quot;gui\\n&quot;;\n    }\n    else cout &lt;&lt; &quot;sweet\\n&quot;;\n}\nC-å†¬çœ \né¢˜æ„\nç»™ä¸€ä¸ªn\\times mçš„å­—ç¬¦çŸ©é˜µï¼Œæ¯å¤©æœ‰qæ¬¡è¡Œå¾ªç¯ç§»åŠ¨æˆ–åˆ—å¾ªç¯ç§»åŠ¨ï¼Œå…±æ‰§è¡Œpæ¬¡ï¼Œæœ€åè¯¢é—®ç¬¬xè¡Œyâ€‹åˆ—æ˜¯ä»€ä¹ˆå­—ç¬¦ã€‚\nop=1è¡¨ç¤ºè¡Œå¾ªç¯ç§»åŠ¨\nop=2è¡¨ç¤ºåˆ—å¾ªç¯ç§»åŠ¨\næ•°æ®èŒƒå›´\n1\\leq n,m,p,q\\leq 100\næ€è·¯\nè®°å½•å¾ªç¯ç§»åŠ¨é¡ºåºï¼Œç„¶åå°†(x,y)çš„å­—ç¬¦é€†é¡ºåºæ¨¡æ‹Ÿå³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n, m, x, y;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; x &gt;&gt; y;\n    x -= 1, y -= 1;\n    vector&lt;string&gt;rec(n);\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; rec[i];\n    }\n    int p, q;cin &gt;&gt; p &gt;&gt; q;\n    vector&lt;pair&lt;int, int&gt;&gt;opz;\n    for (int i = 0;i &lt; q;i++) {\n        int z, op;cin &gt;&gt; op &gt;&gt; z;\n        opz.push_back({ op,z });\n    }\n    for (int i = 0;i &lt; p;i++) {\n        for (int j = q - 1;j &gt;= 0;j--) {\n            int op = opz[j].first, z = opz[j].second;\n            if (op == 1 &amp;&amp; x == z - 1) {\n                y -= 1;\n                y = (y + m) % m;\n            }\n            else if (op == 2 &amp;&amp; y == z - 1) {\n                x -= 1;\n                x = (x + n) % n;\n            }\n            // cout &lt;&lt; x &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; &#039;\\n&#039;;\n        }\n    }\n    cout &lt;&lt; rec[x][y] &lt;&lt; &#039;\\n&#039;;\n}\nD-å®ˆæ’\né¢˜æ„\næœ‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å¯¹æ•°ç»„aä¸­çš„ä¸¤ä¸ªå…ƒç´ å…¶ä¸­ä¸€ä¸ªåŠ 1ï¼Œå¦ä¸€ä¸ªå‡1ï¼Œè¦æ±‚æ¯æ¬¡æ“ä½œåå„å…ƒç´ ä»»ç„¶æ˜¯æ­£æ•´æ•°ï¼Œæ±‚æ“ä½œç»“æŸåæ•´ä¸ªæ•°ç»„çš„æœ€å¤§å…¬çº¦æ•°æœ‰å¤šå°‘ç§ä¸åŒçš„å€¼ï¼Ÿ\næ•°æ®èŒƒå›´\n1\\leq n,a_i\\leq 2\\times 10^5\næ€è·¯\nç‰¹åˆ¤n=1çš„æ—¶å€™ï¼ˆç­”æ¡ˆä¸º1ï¼‰\nn\\ge 2æ—¶ï¼Œæšä¸¾æœ€å¤§å…¬çº¦æ•°ï¼Œè®¡æ•°åˆé€‚çš„æ•°çš„æ•°é‡å³å¯ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n);\n    ll sum = 0ll;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];sum += a[i];\n    }\n    if (n == 1) {\n        cout &lt;&lt; 1 &lt;&lt; &#039;\\n&#039;;return;\n    }\n    \n    set&lt;ll&gt;res;\n    ll f = sum / n;\n    for (ll k = 1;k * k &lt;= sum;k++) {\n        if (sum % k == 0) {\n            ll x = sum / k;\n            if (x &gt;= n &amp;&amp; k &lt;= f) {\n                res.insert(k);\n            }\n            if (k * k != sum &amp;&amp; k &gt;= n &amp;&amp; sum / k &lt;= f) {\n                res.insert(sum / k);\n            }\n        }\n    }\n    cout &lt;&lt; res.size() &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nc24wd5":{"slug":"03-algorithm/nc24wd5","filePath":"03-algorithm/nc24wd5.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥5||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-mutsumiçš„è´¨æ•°åˆæ•°\né¢˜æ„\nä¸€ä¸ªç”±nä¸ªæ­£æ•´æ•°ç»„æˆçš„æ•°ç»„ï¼Œæ±‚å…¶ä¸­è´¨æ•°å’Œåˆæ•°å…±æœ‰å‡ ä¸ªã€‚\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 100)\na_i(1\\leq a_i\\leq 100)\næ€è·¯\n1ä¸æ˜¯è´¨æ•°ä¹Ÿä¸æ˜¯åˆæ•°ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    int ans = 0;\n    for (int i = 0;i &lt; n;i++) {\n        int x;cin &gt;&gt; x;\n        if (x&gt;1)ans++;\n    }\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nC-anonçš„ç§è´§\né¢˜æ„\nç»™ä¸€ä¸ªæ•°ç»„ä¸­ä¸€äº›ä½ç½®æ’å…¥0ï¼Œè¦æ±‚æ’å…¥åä»»æ„ä¸æ˜¯å…¨0å­æ®µçš„å¹³å‡å€¼å¤§äºç­‰äº1ï¼Œè¯¢é—®æœ€å¤šæ’å…¥å¤šå°‘ä¸ª0\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 10^5)\na_i(1\\leq a_i\\leq 10^9)\næ€è·¯\nä»ç¬¬ä¸€ä½å¼€å§‹è´ªï¼Œç»Ÿè®¡åœ¨æ¯ä¸€ä½å‰æœ€å¤šå¯ä»¥æ’å…¥å¤šå°‘ä¸ª0ï¼Œè€ƒè™‘ä¸¤æ•°ä¹‹é—´çš„0çš„æ•°ç›®ä¸èƒ½å¤§äºè¿™2ä½ä¹‹é—´å…è®¸çš„æœ€å¤§å€¼ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n + 2);\n    vector&lt;ll&gt;b(n + 2);\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n        b[i] = a[i] - 1;\n    }\n    b[0] = 1e9 + 50;\n    b[n + 1] = 1e9 + 50;\n    ll ans = 0;\n \n    for (int i = 0;i &lt;= n;i++) {\n        // for (int j = 0;j &lt;= n + 1;j++)cout &lt;&lt; b[j] &lt;&lt; &#039; &#039;;cout &lt;&lt; endl;\n        if (b[i] &gt;= b[i + 1]) {\n            ans += b[i + 1];\n            ll tmp = b[i + 1];\n            b[i + 1] = 0;\n            b[i] -= tmp;\n        }\n        else {\n            ans += b[i];\n            ll tmp = b[i];\n            b[i] = 0;\n            b[i + 1] -= tmp;\n        }\n    }\n \n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nE-soyorinçš„æ•°ç»„æ“ä½œï¼ˆeasyï¼‰\né¢˜æ„\næœ‰ä¸€ä¸ªé•¿ä¸ºnçš„æ•°ç»„a\næ“ä½œï¼šé€‰æ‹©ä¸€ä¸ªä¸è¶…è¿‡nçš„å¶æ•°kï¼Œa_i=a_i+i(1\\leq i\\leq k)\nè¯¢é—®æ˜¯å¦èƒ½åœ¨ä»»æ„æ“ä½œåä½¿å¾—æ•°ç»„éé™åºã€‚\næ•°æ®èŒƒå›´\nT(1â‰¤Tâ‰¤10^6)\nn(1â‰¤nâ‰¤10^5)\na_i(1\\leq a_i\\leq 10^{12})\næ€è·¯\næ“ä½œçš„æ•ˆæœæ˜¯ä½¿å¾—a_{i+1}-a{i}çš„å€¼å¢å¤§1ï¼Œä»åå¾€å‰éå†ï¼Œå°†é åçš„éƒ¨åˆ†å…ˆæ“ä½œä¸ºéé™åºï¼ˆæ“ä½œçš„æ•ˆæœä¼šå½±å“åˆ°å‰æ®µï¼‰\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n + 1);\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    if (n % 2 == 0 || n == 1) {\n        // åŠ å€‹ç„¡çª®æ¬¡ç¸½èƒ½å½Œè£œä¸åˆé©çš„åœ°æ–¹\n        cout &lt;&lt; &quot;YES\\n&quot;;return;\n    }\n \n    // a(n-1)ä¸Šé™æ˜¯a(n)ï¼Œåœ¨é€™å€‹ä¸Šé™ä¸‹èƒ½ä¸èƒ½æŠŠå®ƒè®Šæˆéœ€è¦çš„\n    ll d = 0;   // æ“ä½œæ¬¡æ•¸(å°æ‡‰ç›¸é„°å…©å€‹æ•¸ä¹‹é–“çš„å·®è·æ¸›å°‘d(è¶Šé å¾Œå¢åŠ çš„è¶Šå¤š\n    for (int i = n - 1;i &gt;= 1;i--) {\n        if (a[i] &gt; a[i + 1] + d) {\n            cout &lt;&lt; &quot;NO\\n&quot;;return;\n        }\n        if (i % 2 == 0)\n            d += (a[i + 1] - a[i] + d) / i;\n    }\n    cout &lt;&lt; &quot;YES\\n&quot;;\n}\nG&amp;H-sakikoçš„æ’åˆ—æ„é€ ï¼ˆeasy/hardï¼‰\né¢˜æ„\næ„é€ ä¸€ä¸ªé•¿ä¸ºnçš„æ’åˆ—ï¼Œä½¿å¾—æ’åˆ—ä¸­æ¯ä¸ªp_i+i(1\\leq i\\leq n)éƒ½æ˜¯è´¨æ•°ã€‚\nè¾“å‡ºç¬¦åˆè¦æ±‚çš„æ’åˆ—ï¼Œè‹¥æ— è§£è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 10^6)\næ€è·¯\næ’åˆ—æ˜¯1\\sim nçš„ï¼Œä¸‹æ ‡ä¹Ÿæ˜¯1\\sim nçš„ï¼Œä»p_i=nå¼€å§‹ç»™å¯»æ‰¾åŒ¹é…çš„ä¸‹æ ‡(åœ¨å¯é€‰èŒƒå›´å†…ä»å°åˆ°å¤§)ï¼Œä¹Ÿå°±æ˜¯å¯»æ‰¾ä½¿å¾—p_i+iæ˜¯è´¨æ•°çš„æœ€å°iï¼Œå³æ¯”p_iå¤§çš„æœ€å°è´¨æ•°ã€‚å¦‚æœè¯¥ç¬¦åˆè¦æ±‚çš„è´¨æ•°å¯ä»¥è¢«æ‰¾åˆ°å°±ç¼©å°èŒƒå›´ï¼Œç›´åˆ°æ‰€æœ‰çš„æ•°éƒ½å¯ä»¥è¢«ç¡®å®šã€‚(ä»acç»“æœçœ‹ä¼¼ä¹å¹¶ä¸å­˜åœ¨æ— æ³•è¢«æ„é€ å‡ºçš„æ’åˆ—è€¶)\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n;cin &gt;&gt; n;\n    if (n == 1) {\n        cout &lt;&lt; &quot;1\\n&quot;;\n        return;\n    }\n    else if (n == 2) {\n        cout &lt;&lt; &quot;2 1\\n&quot;;\n        return;\n    }\n \n    vector&lt;ll&gt;primes(n * 2 + 1);\n    vector&lt;bool&gt;isprime(n * 2 + 1, true);\n \n    isprime[0] = isprime[1] = false;\n    for (int i = 2;i &lt;= 2 * n;i++) {\n        if (isprime[i]) {\n            primes.push_back(i);\n            for (int j = i + i;j &lt;= 2 * n;j += i) {\n                isprime[j] = false;\n            }\n        }\n    }\n \n    ll x = n;\n    ll pos = n;\n    vector&lt;ll&gt;a(n + 1);\n    while (pos &gt;= 1) {\n        bool f = false;\n        for (int i = pos + 1;i &lt;= pos * 2;i++) {\n            if (isprime[i]) {\n                f = true;\n                x = i;break;\n            }\n        }\n        \n        // ä»acç»“æœçœ‹ä¼¼ä¹å¹¶ä¸å­˜åœ¨-1çš„æƒ…å†µ(å¥½ç¥å¥‡ï¼)\n//         if (!f) {\n//             cout &lt;&lt; -1 &lt;&lt; &#039;\\n&#039;;return;\n//         }\n//         if (x &gt; pos * 2) {\n//             cout &lt;&lt; -1 &lt;&lt; &#039;\\n&#039;;return;\n//         }\n        \n        // ai+i=x\n        for (int i = pos;i &gt;= x - pos;i--) {\n            a[i] = x - i;\n        }\n        pos = x - pos - 1;\n    }\n    for (int i = 1;i &lt;= n;i++) {\n        cout &lt;&lt; a[i] &lt;&lt; &#039; &#039;;\n    }cout &lt;&lt; &#039;\\n&#039;;\n}\nI-rikkiçš„æœ€çŸ­è·¯\né¢˜æ„\nç»™å‡ºä¸€ä½è½´ä¸Šçš„3ä¸ªåæ ‡ï¼Œrikkiéœ€è¦æŠŠAå¸¦åˆ°Tçš„åæ ‡ï¼Œåˆå§‹rikkiåœ¨åŸç‚¹ï¼Œä¸”åªçŸ¥é“Tçš„åæ ‡ï¼Œåˆ°è¾¾Tä¹‹åå¯ä»¥çŸ¥é“Açš„åæ ‡ã€‚\nrikkiæœ‰ä¸€ä¸ªèŒƒå›´ä¸ºkçš„è§†é‡ï¼Œåœ¨[u-k,u+k]è§†é‡å†…çš„Aå¯ä»¥è¢«å‘ç°ã€‚\næ•°æ®èŒƒå›´\nt,a(-10^9\\leq t,a\\leq 10^9),k(1\\leq k\\leq 10^9)\næ€è·¯\nç­¾åˆ°æ¨¡æ‹Ÿ(æ€ä¹ˆä¼šæœ‰äººç­¾åˆ°äº¤7å‘æ‰è¿‡å•Š(å°å£°))\nè§†é‡åªæœ‰åœ¨å‡ºå‘ç‚¹çš„æ—¶å€™çœ‹Aæœ‰ç”¨ï¼Œå…¶ä»–æƒ…å†µæŒ‰è§„åˆ™æ¥qwq\nå‚è€ƒä»£ç \nvoid solve() {\n    ll t, a, k;cin &gt;&gt; t &gt;&gt; a &gt;&gt; k;\n    if (a &gt;= -k &amp;&amp; a &lt;= k) {\n        if (a * t &gt; 0) {\n            cout &lt;&lt; t &lt;&lt; &#039;\\n&#039;;return;\n        }\n        else {\n            cout &lt;&lt; abs(2 * a - t) &lt;&lt; &#039;\\n&#039;;return;\n        }\n    }\n    else if (a * t &gt; 0) {\n        if (abs(a) &lt; abs(t)) {\n            cout &lt;&lt; abs(t) &lt;&lt; &#039;\\n&#039;;return;\n        }\n        else {\n            cout &lt;&lt; abs(a) + abs(a - t) &lt;&lt; &#039;\\n&#039;;return;\n        }\n    }\n    else {\n        cout &lt;&lt; 3 * abs(t) + 2 * abs(a) &lt;&lt; &#039;\\n&#039;;return;\n    }\n}\nJ-rikkiçš„æ•°ç»„é™¡å³­å€¼\né¢˜æ„\næ•°ç»„çš„é™¡å³­å€¼ï¼šæ•°ç»„ç›¸é‚»å…ƒç´ ä¹‹å·®çš„ç»å¯¹å€¼ä¹‹å’Œã€‚\nç»™å‡ºæ•°ç»„aä¸­æ¯ä¸ªå…ƒç´ a_içš„èŒƒå›´[l_i,r_i]ï¼Œæ±‚æœ€å°çš„é™¡å³­å€¼ã€‚\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 10^5)\nl_i,r_i(1\\leq l_i,r_i\\leq 10^9)\næ€è·¯\nè´ªå¿ƒï¼Œä»å‰å¾€åéå†ï¼Œå¦‚æœa_iå’Œa_{i+1}çš„èŒƒå›´æœ‰é‡åˆï¼Œåˆ™ç›´æ¥å°†a_iå’Œa_{i+1}çš„å€¼å–æˆåŒä¸€ä¸ªæ•°ï¼Œé™¡å³­å€¼ä¸å¢åŠ ï¼Œæ›´æ–°a_{i+1}çš„èŒƒå›´ä¸ºä¸¤æ•°é‡åˆçš„èŒƒå›´ã€‚å¦‚æœèŒƒå›´ä¸é‡åˆï¼Œä¸¤æ•°åˆ†åˆ«å–é è¿‘çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå¹¶å°†a_{i+1}çš„èŒƒå›´ç¼©æˆ1ä¸ªç‚¹ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;l(n + 1), r(n + 1);\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; l[i] &gt;&gt; r[i];\n    }\n    // é€™é¡Œè©²ä¸æœƒèƒ½è²ªå§(ç ´é˜²\n    ll ans = 0;\n    for (int i = 1;i &lt; n;i++) {\n        ll x = max(l[i], l[i + 1]);\n        ll y = min(r[i], r[i + 1]);\n        if (x &lt;= y) {\n            // è²ªè²ªè²ª\n            l[i + 1] = x;r[i + 1] = y;\n        }\n        else {\n            ans += abs(x - y);\n            if (r[i + 1] &lt; l[i])\n                l[i + 1] = r[i + 1];\n            else\n                r[i + 1] = l[i + 1];\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nK-soyorinçš„é€šçŸ¥\né¢˜æ„\nsoyorinè¦æŠŠæ¶ˆæ¯ä¼ é€’ç»™nä¸ªäººï¼Œæ¯ä¸ªçŸ¥é“æ¶ˆæ¯çš„å¯ä»¥å°†æ¶ˆæ¯ä¼ é€’ç»™å…¶ä»–äººã€‚\nç¬¬iä¸ªäººå¯ä»¥èŠ±è´¹a_iå°†æ¶ˆæ¯é€šçŸ¥ç»™æœ€å¤šb_iä¸ªäººï¼Œå‰ææ˜¯ç¬¬iä¸ªäººå·²çŸ¥æ¶ˆæ¯ï¼Œæ¶ˆæ¯æºé€šçŸ¥ä¸€ä¸ªäººèŠ±è´¹ä¸ºpã€‚æ±‚æœ€å°èŠ±è´¹ã€‚\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 1000)\np(1\\leq p\\leq 10^6)\na_i,b_i(1\\leq a_i,b_i\\leq 10^6)\næ€è·¯\ndpï¼Œæ›´æ–°é€šçŸ¥iä¸ªäººçš„æœ€å°èŠ±è´¹ã€‚æ¯å½“ç¬¬iä¸ªäººçŸ¥é“æ¶ˆæ¯æ—¶æ›´æ–°ä½¿å¾—jäººçŸ¥é“æ¶ˆæ¯çš„èŠ±è´¹ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, p;cin &gt;&gt; n &gt;&gt; p;\n    vector&lt;ll&gt;a(n + 1), b(n + 1);\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i] &gt;&gt; b[i];\n    }\n    // dpï¼šé€šçŸ¥iå€‹äººçš„æœ€å°èŠ±è²»j,dp[i]=j\n    vector&lt;ll&gt;dp(n + 1);\n    for (int i = 1;i &lt;= n;i++)\n        dp[i] = p * i;\n \n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= n;j++) {\n            // ç¬¬iå€‹äººå·²ç¶“è¢«é€šçŸ¥çš„æƒ…æ³ä¸‹ï¼Œé€šçŸ¥jå€‹äººï¼ŒèŠ±è²»a[i]\n            if (j - b[i] &gt; 0)\n                dp[j] = min(dp[j], dp[j - b[i]] + a[i]);\n            else\n                dp[j] = min(dp[j], dp[1] + a[i]);\n        }\n    }\n \n    cout &lt;&lt; dp[n] &lt;&lt; &#039;\\n&#039;;\n}\nL-anonçš„æ˜Ÿæ˜Ÿ\né¢˜æ„\nèµ¢ä¸€å±€å¯ä»¥æ”¶åˆ°1é¢—æ˜Ÿæ˜Ÿï¼Œè¾“ä¸€å±€å¤±å»1é¢—æ˜Ÿæ˜Ÿï¼Œæ²¡æœ‰å¹³å±€ã€‚\nå·²çŸ¥ä¸€å…±ç©äº†nå±€ï¼Œå…±è·å¾—äº†xé¢—æ˜Ÿæ˜Ÿï¼Œæ±‚èƒœåˆ©äº†å‡ å±€å¤±è´¥äº†å‡ å±€ã€‚\nå¦‚æœæ— æ³•çŸ¥é“èƒœåˆ©çš„å±€æ•°å’Œå¤±è´¥çš„å±€æ•°è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\nn(1\\leq n\\leq 1000)\nx(-n\\leq x\\leq n)\næ€è·¯\nèµ¢kå±€å°±æ˜¯å¤±è´¥n-kå±€ï¼Œæ˜Ÿæ˜Ÿæ•°æ˜¯k-(n-k)ã€‚å¦‚æœkæœ‰åˆæ³•å€¼å°±æ˜¯åˆæ³•çš„ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, x;cin &gt;&gt; n &gt;&gt; x;\n    if ((n + x) &amp; 1) {\n        cout &lt;&lt; -1 &lt;&lt; &#039;\\n&#039;;\n    }\n    else {\n        ll k = (n + x) / 2;\n        cout &lt;&lt; k &lt;&lt; &#039; &#039; &lt;&lt; n - k &lt;&lt; &#039;\\n&#039;;\n    }\n}\nM-mutsumiçš„æ’åˆ—è¿é€š\né¢˜æ„\næœ‰ä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æ’åˆ—ä¸Šä¸‹ç»„æˆ2\\times nçš„çŸ©å½¢ã€‚\næœ‰æ“ä½œï¼šé€‰æ‹©æ•°å­—xï¼Œå°†çŸ©å½¢ä¸­çš„xåˆ å»ã€‚\nè¯¢é—®è‡³å°‘å¤šå°‘æ¬¡æ“ä½œåï¼Œå¯ä»¥å°†çŸ©å½¢åˆ†æˆè‡³å°‘2ä¸ªè¿é€šå—ï¼ˆè¿é€šå—ä¸ä¸€å®šæ˜¯çŸ©å½¢ï¼‰ã€‚\nå¦‚æœæ— æ³•å®ç°ï¼Œè¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\nT(1\\leq T\\leq 10^5)\nn(1\\leq n\\leq 10^5)\næ’åˆ—a(1\\leq a_i\\leq n)\næ’åˆ—b(1\\leq b_i\\leq n)\nnæ€»å’Œä¸è¶…è¿‡10_5\næ€è·¯\nç‰¹åˆ¤n=1,2ã€‚\nn\\ge 3çš„æœ€å¤šåˆ 2ä¸ªå³å¯å®ç°éœ€æ±‚ã€‚\néå†å¯»æ‰¾æ˜¯å¦å­˜åœ¨a_i=b_iæˆ–è€…a_i=b_{i+1}æˆ–è€…a_i=b_{i-1}çš„æƒ…å†µï¼Œæ³¨æ„è¾¹ç•Œåˆ¤æ–­ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n + 1), b(n + 1);\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; b[i];\n    }\n    if (n == 1) {\n        cout &lt;&lt; &quot;-1\\n&quot;;return;\n    }\n    if (n == 2) {\n        if (a[1] == b[1]) {\n            cout &lt;&lt; &quot;-1\\n&quot;;\n        }\n        else {\n            cout &lt;&lt; &quot;1\\n&quot;;\n        }\n        return;\n    }\n    for (int i = 1;i &lt;= n;i++) {\n        if ((i != 1 &amp;&amp; i != n &amp;&amp; a[i] == b[i]) || (i &gt; 1 &amp;&amp; a[i] == b[i - 1]) || (i &lt; n &amp;&amp; a[i] == b[i + 1])) {\n            cout &lt;&lt; &quot;1\\n&quot;;return;\n        }\n    }\n    cout &lt;&lt; &quot;2\\n&quot;;return;\n \n}"},"03-algorithm/nc24wd6":{"slug":"03-algorithm/nc24wd6","filePath":"03-algorithm/nc24wd6.md","title":"ğŸ‰2024ç‰›å®¢å¯’å‡è¥6||è¡¥é¢˜","links":[],"tags":["2024å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A-å®‡å®™çš„ç»ˆç»“\né¢˜æ„\nåœ¨[l,r]ä¸­å¯»æ‰¾æŸä¸ªæ°å¥½æ˜¯ä¸‰ä¸ªä¸åŒç´ æ•°çš„ä¹˜ç§¯çš„æ•°ï¼Œå¹¶è¾“å‡ºä»»æ„ä¸€ä¸ªåˆæ³•ç­”æ¡ˆå³å¯ã€‚\næ•°æ®èŒƒå›´\n1\\leq l\\leq r \\leq 100\næ€è·¯\næ•°æ®å°ï¼Œæ¨¡æ‹Ÿå³å¯\nå‚è€ƒä»£ç \nvoid solve() {\n    vector&lt;bool&gt;isprime(101, true);    // åˆ¤æ–­ç´ æ•°\n    isprime[0] = isprime[1] = false;\n    for (int i = 2;i &lt;= 100;i++) {\n        if (isprime[i]) {\n            for (int j = i + i;j &lt;= 100;j += i) {\n                isprime[j] = false;\n            }\n        }\n    }\n \n    int l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    for (int i = 2;i &lt;= r;i++) {\n        for (int j = 2;j &lt;= r;j++) {\n            for (int k = 2;k &lt;= r;k++) {\n                if (isprime[i] &amp;&amp; isprime[j] &amp;&amp; isprime[k] &amp;&amp; i != j &amp;&amp; j != k &amp;&amp; i != k) {\n                    if (i * j * k &gt;= l &amp;&amp; i * j * k &lt;= r) {\n                        cout &lt;&lt; i * j * k;return;\n                    }\n                }\n            }\n        }\n    }\n    cout &lt;&lt; -1;\n}\nB-çˆ±æ¨çš„çº è‘›\né¢˜æ„\nå®šä¹‰ä¸¤ä¸ªç­‰é•¿æ•°ç»„çš„äº²å¯†å€¼ï¼š|a_i-b_i|(1\\leq i\\leq n)çš„æœ€å°å€¼ã€‚ç»™å®š2ä¸ªæ•°ç»„ï¼Œå¯ä»¥ä»»æ„æ’åˆ—aæ•°ç»„çš„å…ƒç´ é¡ºåºï¼Œè¾“å‡ºä¸€ä¸ªäº²å¯†åº¦æœ€å°çš„æ–¹æ¡ˆï¼ˆæ•°ç»„açš„æ“ä½œç»“æœï¼‰ã€‚\næ•°æ®èŒƒå›´\n1\\leq n\\leq 10^5\n1\\leq a,b \\leq 10^9\næ€è·¯\nå°†a,bæ•°ç»„çš„æ•°æ®æ”¾å…¥ ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œè¿›è¡Œæ’åºï¼Œä»ç¬¬ä¸€ä½å¼€å§‹éå†ï¼Œå¦‚æœæŸä¸¤ä¸ªç›¸é‚»çš„æ•°ä¸€ä¸ªæ¥è‡ªäºaæ•°ç»„ï¼Œä¸€ä¸ªæ¥è‡ªäºbæ•°ç»„ï¼Œæ›´æ–°æœ€å°çš„å·®çš„ç»å¯¹å€¼ï¼Œå°†aæ•°ç»„ä¸­çš„è¿™ä¸¤ä¸ªç›¸åŒ¹é…çš„ä½ç½®è¿›è¡Œäº’æ¢åè¾“å‡ºa\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    vector&lt;ll&gt;a(n), b(n);\n    vector&lt;pair&lt;ll, pair&lt;int,int&gt;&gt;&gt;c;\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        c.push_back({ a[i],{0,i} });\n    }\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; b[i];\n        c.push_back({ b[i],{1,i} });\n    }\n    sort(c.begin(), c.end());\n    ll ans = 1e9 + 20;\n    int pa = 0, pb = 0;\n    for (int i = 1;i &lt; 2 * n;i++) {\n        if (c[i].second.first != c[i - 1].second.first) {\n            if (c[i].first - c[i - 1].first &lt; ans) {\n                ans = c[i].first - c[i - 1].first;\n                if(c[i].second.first == 0) {\n                    pa = c[i].second.second;\n                    pb = c[i - 1].second.second;\n                } else {\n                    pa = c[i - 1].second.second;\n                    pb = c[i].second.second;\n                }\n            }\n        }\n    }\n    ll tp = a[pa];a[pa] = a[pb];a[pb] = tp;\n    for (int i = 0;i &lt; n;i++) {\n        cout &lt;&lt; a[i] &lt;&lt; &#039; &#039;;\n    }\n}\nC-å¿ƒç»ªçš„è§£å‰–\né¢˜æ„\nå°†nåˆ†è§£ä¸ºä¸‰ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ä¹‹å’Œã€‚\næ•°æ®èŒƒå›´\n1\\leq q \\leq 10^5\n1\\leq n\\leq 10^9\næ€è·¯\næ–æ³¢é‚£å¥‘æ•°åˆ—åˆ°F_{45}æ˜¯å¤§äº10^{10}çš„ï¼Œè”ç³»åˆ°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å•è°ƒæ€§ï¼Œæ¯æ¬¡äºŒåˆ†å‡ºä¸å¤§äºnçš„ä¸€ä½F_xï¼Œå†åœ¨nä¸­å‡å»è¿™ä¸ªF_xç›´åˆ°nä¸º0ï¼Œå¦‚æœä¸‰æ¬¡äºŒåˆ†åæ— æ³•ä½¿å¾—n=0åˆ™æ— è§£ã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll q;cin &gt;&gt; q;\n    vector&lt;ll&gt;f(45, 0);\n    f[0] = 0;f[1] = 1;\n    for (int i = 2;i &lt; 45;i++) {\n        f[i] = f[i - 1] + f[i - 2];\n    }\n    \n    while (q--) {\n        ll n;cin &gt;&gt; n;\n        int p1 = upper_bound(f.begin(), f.end(), n) - f.begin();\n        p1--;\n        n -= f[p1];\n        ll f1 = f[p1];\n        if (n == 0) {\n            cout &lt;&lt; f1 &lt;&lt; &quot; 0 0\\n&quot;;continue;\n        }\n        int p2 = upper_bound(f.begin(), f.end(), n) - f.begin();\n        p2--;\n        n -= f[p2];\n        ll f2 = f[p2];\n        if (n == 0) {\n            cout &lt;&lt; f1 &lt;&lt; &#039; &#039; &lt;&lt; f2 &lt;&lt; &quot; 0\\n&quot;;continue;\n        }\n        int p3 = upper_bound(f.begin(), f.end(), n) - f.begin();\n        p3--;\n        n -= f[p3];\n        ll f3 = f[p3];\n        if (n == 0)\n            cout &lt;&lt; f1 &lt;&lt; &#039; &#039; &lt;&lt; f2 &lt;&lt; &#039; &#039; &lt;&lt; f3 &lt;&lt; &#039;\\n&#039;;\n        else\n            cout &lt;&lt; &quot;-1\\n&quot;;\n    }\n}\nD-å‹è°Šçš„å¥—è·¯\né¢˜æ„\nä¸€åœºBO5çš„æ¸¸æˆï¼ˆäº”å±€ä¸‰èƒœï¼‰ï¼Œå·²çŸ¥æŸé˜Ÿä¼è·èƒœçš„æ¦‚ç‡æ˜¯pï¼Œè¯¢é—®å‡ºç°äºŒè¿½ä¸‰çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿï¼ˆäºŒè¿½ä¸‰ï¼šå…ˆè¾“ä¸¤å±€ï¼Œç„¶åèµ¢ä¸‰å±€ï¼‰\næ•°æ®èŒƒå›´\n0\\lt p\\lt 1\næ€è·¯\nèµ¢èµ¢è¾“è¾“è¾“orè¾“è¾“èµ¢èµ¢èµ¢\nå‚è€ƒä»£ç \nvoid solve() {\n    double p;cin &gt;&gt; p;\n    double ans = 0.0;\n    double q = 1 - p;\n    ans += p * p * q * q * q + q * q * p * p * p;\n    printf(&quot;%.6f&quot;, ans);\n}\nE-æœªæ¥çš„é¢„è¨€\né¢˜æ„\nBOæœºåˆ¶ï¼šBOxä»£è¡¨xå±€å…ˆèƒœx/2+1æ¬¡ä¸ºèµ¢ï¼Œxä¸ºå¥‡æ•°ã€‚\nç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸¤é˜Ÿçš„è·èƒœæƒ…å†µã€‚Rä»£è¡¨çº¢é˜Ÿè·èƒœï¼ŒPä»£è¡¨ç´«é˜Ÿè·èƒœã€‚\nåˆ¤æ–­å“ªé˜Ÿè·å¾—äº†èƒœåˆ©ï¼Œæˆ–æ˜¯è¿˜æ²¡æœ‰å†³å‡ºç»“æœï¼Œä»¥åŠç»“æŸæ—¶çš„å±€æ•°ã€‚\næ•°æ®èŒƒå›´\n1\\leq x\\leq 10^5\næ€è·¯\néå†ç»Ÿè®¡ï¼Œå…ˆèµ¢åˆ°x/2æ¬¡çš„è·èƒœã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    int n;\n    scanf(&quot;BO%d&quot;, &amp;n);\n    n = n / 2 + 1;\n    string res;cin &gt;&gt; res;\n    int a = 0, b = 0;\n    for (int i = 0;i &lt; res.size();i++) {\n        if (res[i] == &#039;R&#039;) {\n            a++;\n        }\n        else {\n            b++;\n        }\n        if (a == n) {\n            cout &lt;&lt; &quot;kou!\\n&quot; &lt;&lt; i + 1;\n            return;\n        }\n        if (b == n) {\n            cout &lt;&lt; &quot;yukari!\\n&quot; &lt;&lt; i + 1;\n            return;\n        }\n    }\n    cout &lt;&lt; &quot;to be continued.\\n&quot;;\n    cout &lt;&lt; res.size();\n}\nI-æ—¶ç©ºçš„äº¤ç»‡\né¢˜æ„\nä¸€ä¸ªnè¡Œmåˆ—çš„çŸ©é˜µï¼Œæ¯ä¸ªå…ƒç´ ç”±aæ•°ç»„å’Œbæ•°ç»„å†³å®šï¼Œç¬¬iè¡Œç¬¬jåˆ—çš„å…ƒç´ ä¸ºa_i\\times b_jï¼Œé€‰å‡ºä¸€ä¸ªå­çŸ©é˜µï¼Œä½¿å¾—å­çŸ©é˜µå†…çš„å…ƒç´ å’Œå°½å¯èƒ½å¤§ï¼Œè¾“å‡ºè¯¥å­çŸ©é˜µçš„å…ƒç´ å’Œã€‚\næ•°æ®èŒƒå›´\n1\\leq n,m\\leq 10^5\n-10^4 \\leq a_i,b_i\\leq 10^4\næ€è·¯\nå¯¹a\\text{ã€} bæ•°ç»„åˆ†åˆ«æ±‚æœ€å¤§å­æ®µå’Œå’Œæœ€å°å­æ®µå’Œï¼Œæœ€å¤§å­çŸ©é˜µå…ƒç´ å’Œæ˜¯è¿™å››ä¸ªæ•°åˆ†åˆ«ç›¸ä¹˜çš„ç§¯ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚\nå‚è€ƒä»£ç \nvoid solve() {\n    ll n, m;cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;ll&gt;a(n), b(m);\n    for (int i = 0;i &lt; n;i++)cin &gt;&gt; a[i];\n    for (int i = 0;i &lt; m;i++)cin &gt;&gt; b[i];\n    vector&lt;ll&gt;pa(n), qa(n);\n    pa[0] = qa[0] = a[0];\n    ll xa, ya;xa = ya = a[0];\n    for (int i = 1;i &lt; n;i++) {\n        if(pa[i-1]+a[i]&gt;a[i]){\n            pa[i] = pa[i - 1] + a[i];\n        }\n        else{\n            pa[i] = a[i];\n        }\n        xa = max(xa, pa[i]);\n        \n        if (qa[i - 1] + a[i] &lt; a[i]) {\n            qa[i] = qa[i - 1] + a[i];\n        }\n        else{\n            qa[i] = a[i];\n        }\n        ya = min(ya, qa[i]);\n    }\n    vector&lt;ll&gt;pb(m), qb(m);\n    pb[0] = qb[0] = b[0];\n    ll xb, yb;xb = yb = b[0];\n    for (int i = 1;i &lt; m;i++) {\n        if(pb[i-1]+b[i]&gt;b[i]){\n            pb[i] = pb[i - 1] + b[i];\n        }\n        else{\n            pb[i] = b[i];\n        }\n        xb = max(xb, pb[i]);\n        if(qb[i-1]+b[i]&lt;b[i]){\n            qb[i] = qb[i - 1] + b[i];\n        }\n        else{\n            qb[i] = b[i];\n        }\n        yb = min(yb, qb[i]);\n    }\n    \n    cout &lt;&lt; max(xa * xb, max(xa * yb, max(ya * yb, ya * xb))) &lt;&lt; endl;\n}"},"03-algorithm/nc25wd1":{"slug":"03-algorithm/nc25wd1","filePath":"03-algorithm/nc25wd1.md","title":"ğŸˆ2025ç‰›å®¢æš‘å¯’å‡å¤šæ ¡è®­ç»ƒè¥Day1ï¼ˆå®Œçµï¼‰","links":[],"tags":["2025å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A èŒ•èŒ•å­‘ç«‹ä¹‹å½±\né¢˜æ„\næ‰¾ä¸€ä¸ªä¸è¶…è¿‡1e18çš„æ•°xï¼Œä½¿å¾—xæ—¢ä¸æ˜¯ä»»ä½•a_içš„å€æ•°ï¼Œä¹Ÿä¸æ˜¯ä»»ä½•a_içš„å› æ•°ã€‚è‹¥æ²¡æœ‰è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\nè§‚å¯Ÿåˆ°ï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰1åˆ™ä¸å­˜åœ¨è¿™æ ·çš„æ•°ã€‚\n1\\leq a_i\\leq 1e9ï¼Œè€Œ1\\leq x\\leq 1e18ï¼Œæœ‰è§£æ—¶ä»»æ„æ•°=è¾“å‡ºä¸€ä¸ªå¤§äº1e9çš„è´¨æ•°å³å¯ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  sort(a + 1, a + 1 + n);\n  if (a[1] == 1) {\n    cout &lt;&lt; &quot;-1\\n&quot;;\n  } else {\n    cout &lt;&lt; &quot;100000007\\n&quot;;\n  }\n}\nB ä¸€æ°”è´¯é€šä¹‹åˆƒ\né¢˜æ„\nç»™ä¸€æ£µæ ‘ï¼Œå¯»æ‰¾ä¸€æ¡ç®€å•è·¯å¾„ï¼Œä½¿ä¹‹éå†æ ‘ä¸Šæ‰€æœ‰çš„é¡¶ç‚¹ï¼Œè¾“å‡ºèµ·ç‚¹å’Œç»ˆç‚¹ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„è§£åˆ™è¾“å‡º-1ã€‚\nç®€å•è·¯å¾„æ˜¯æŒ‡è¿™æ ·ä¸€æ¡è·¯å¾„ï¼Œå…¶ç»è¿‡çš„é¡¶ç‚¹å’Œè¾¹äº’ä¸ç›¸åŒã€‚\næ•°æ®èŒƒå›´\n\n2\\leq n\\leq 1e5\n1\\leq u_i,v_i\\leq n,u_i\\neq v_i\n\næ€è·¯\nåªæœ‰æ•´ä¸ªæ ‘æ˜¯ä¸€æ¡é“¾æ—¶ï¼Œä»ä¸€ä¸ªå¶å­èŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œæ‰èƒ½æœ‰ç¬¦åˆè¦æ±‚çš„ç®€å•è·¯å¾„ã€‚\nä»£ç \nll deg[maxn];\nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n - 1; i++) {\n    ll u, v;\n    cin &gt;&gt; u &gt;&gt; v;\n    deg[u]++, deg[v]++;\n  }\n  vector&lt;ll&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    if (deg[i] == 1) {\n      v.push_back(i);\n    }\n  }\n  if (v.size() != 2) {\n    cout &lt;&lt; &quot;-1\\n&quot;;\n  } else {\n    cout &lt;&lt; v[0] &lt;&lt; &#039; &#039; &lt;&lt; v[1] &lt;&lt; &#039;\\n&#039;;\n  }\n}\nC å…¢å…¢ä¸šä¸šä¹‹ç§»\né¢˜æ„\næœ‰ä¸€ä¸ªn\\times nçš„ 01 çŸ©é˜µï¼Œnæ˜¯å¶æ•°ï¼Œå…¶ä¸­æœ‰åˆšå¥½\\frac{n^2}{4}ä¸ª1ï¼Œè¯·å°†è¿™äº› 1 å…¨éƒ¨ç§»åŠ¨åˆ°çŸ©é˜µå·¦ä¸Šè§’çš„ä½ç½®ï¼Œå³1\\leq i\\leq \\frac{n}{2},q\\leq j\\leq \\frac{n}{2}çš„ä½ç½®ï¼Œè§„å®šç§»åŠ¨åªèƒ½ä¸å…±è¾¹çš„æ–¹æ ¼äº¤æ¢ï¼Œäº¤æ¢æ¬¡æ•°ä¸è¶…è¿‡\\frac{n^3}{2}ã€‚\næ•°æ®èŒƒå›´\n\n2\\leq n\\leq 100\n\næ€è·¯\nè€ƒè™‘ä¸€æ¡ç§»åŠ¨è·¯å¾„å°† 1 ç§»åŠ¨åˆ°å·¦ä¸Šè§’æŸä¸ª 0 çš„ä½ç½®ï¼Œå¦‚æœè¿™ä¸ªè·¯å¾„ä¸Šæœ‰å…¶ä»–çš„ 1ï¼Œæ˜¾ç„¶ç§»åŠ¨è·¯å¾„ä¸­é—´çš„ 1 åˆ°åŒæ ·çš„ç›®æ ‡ 0 ä½ç½®çš„æ¬¡æ•°æ˜¯æ›´å°çš„ã€‚\nä»å·¦ä¸Šè§’åæ ‡ç‚¹è¿›è¡Œ bfsï¼Œæœ€å…ˆç¢°åˆ°çš„ 1 æ˜¯æœ€è¿‘çš„ï¼Œè¿˜åŸ bfs çš„è·¯å¾„ã€‚è¿˜åŸ bfs çš„è·¯å¾„å¯ä»¥é€šè¿‡å­˜å‚¨ bfs æ—¶æ‹“å±•çš„çˆ¶èŠ‚ç‚¹æ¥å›æº¯è·å¾—ã€‚\næˆ–è€…è€ƒè™‘å¯»æ‰¾æœ€çŸ­è·¯æ—¶ï¼Œè·¯å¾„åªå¯èƒ½æ˜¯ç›´çº¿æˆ–è€…ç›´è§’çº¿ï¼Œå‡è®¾è·¯å¾„éœ€è¦â€œæ‹å¼¯â€æ‰èƒ½åˆ°è¾¾æŸä¸ª 1ï¼Œé‚£è¿™ä¸ªâ€œæ‹å¼¯â€çš„åœ°æ–¹è‚¯å®šæ˜¯ 1ã€‚è¿™æ ·çš„è·¯å¾„çš„é•¿åº¦æ­£å¥½æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼Œnæ¯”è¾ƒå°ï¼Œå¯ä»¥éå†æ‰€æœ‰çš„ 1 æ¥é€‰æ‹©ä¸¾ä¾‹è¦å¡«çš„ 0 æœ€è¿‘çš„ç‚¹ã€‚è¿˜åŸè·¯å¾„çš„æ—¶å€™æŒ‰ç…§å…ˆçºµå‘å†æ¨ªå‘æˆ–è€…å…ˆæ¨ªå‘å†çºµå‘éƒ½å¯ä»¥ã€‚\nä»£ç  1ï¼šæ›¼å“ˆé¡¿è·ç¦»\nll n;\nmap&lt;pll, bool&gt; vis;\nvector&lt;pii&gt; dxy = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};\nvector&lt;array&lt;ll, 4&gt;&gt; ans;\nvoid solve() {\n  cin &gt;&gt; n;\n  ans.clear(), vis.clear();\n  vector&lt;pll&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    for (ll j = 1; j &lt;= n; j++) {\n      char c;\n      cin &gt;&gt; c;\n      if (c == &#039;1&#039;) {\n        v.push_back({i, j});\n      }\n    }\n  }\n \n  auto dis = [&amp;](pll p1, pll p2) {\n    return abs(p1.first - p2.first) + abs(p1.second - p2.second);\n  };\n  for (ll i = 1; i &lt;= n / 2; i++) {\n    for (ll j = 1; j &lt;= n / 2; j++) {\n      pll pi = {i, j};\n      pll p = {10000, 10000};\n      for (auto pj : v) {\n        if (!vis.count(pj) &amp;&amp; dis(pi, pj) &lt; dis(pi, p)) {\n          p = pj;\n        }\n      }\n      vis[p] = true;\n      auto [x, y] = p;\n      while (x &gt; i) {\n        ans.push_back({x, y, x - 1, y}), x -= 1;\n      }\n      while (x &lt; i) {\n        ans.push_back({x, y, x + 1, y}), x += 1;\n      }\n      while (y &gt; j) {\n        ans.push_back({x, y, x, y - 1}), y -= 1;\n      }\n      while (y &lt; j) {\n        ans.push_back({x, y, x, y + 1}), y += 1;\n      }\n    }\n  }\n \n  cout &lt;&lt; ans.size() &lt;&lt; &#039;\\n&#039;;\n  for (auto [q, w, e, r] : ans) {\n    cout &lt;&lt; q &lt;&lt; &#039; &#039; &lt;&lt; w &lt;&lt; &#039; &#039; &lt;&lt; e &lt;&lt; &#039; &#039; &lt;&lt; r &lt;&lt; &#039;\\n&#039;;\n  }\n}\nä»£ç  2ï¼šå®½æœ\nll n;\nchar maz[250][250];\nvector&lt;pii&gt; dxy = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};\n \nbool vis[250][250], inq[250][250];\nvector&lt;array&lt;ll, 4&gt;&gt; ans;\n \npii trace[250][250];\n \nvoid solve() {\n  cin &gt;&gt; n;\n  ans.clear();\n  vector&lt;pii&gt; v;\n  for (int i = 1; i &lt;= n; i++) {\n    for (int j = 1; j &lt;= n; j++) {\n      cin &gt;&gt; maz[i][j];\n      vis[i][j] = false;\n    }\n  }\n  // bfs\n  for (ll i = 1; i &lt;= n / 2; i++) {\n    for (ll j = 1; j &lt;= n / 2; j++) {\n \n      for (ll ii = 1; ii &lt;= n; ii++) {\n        for (ll jj = 1; jj &lt;= n; jj++) {\n          inq[ii][jj] = false;\n        }\n      }\n \n      bool flag = false;\n      pii o = {i, j};\n      trace[i][j] = {i, j};\n \n      queue&lt;pii&gt; q;\n      q.push({i, j});\n      inq[i][j] = true;\n      while (!q.empty()) {\n        pii pi = q.front();\n        q.pop();\n        if (maz[pi.first][pi.second] == &#039;1&#039;) {\n          o = pi;\n          flag = true;\n          break;\n        }\n        if (maz[pi.first][pi.second] == &#039;1&#039;)\n          break;\n        for (auto [dx, dy] : dxy) {\n          int px = pi.first + dx, py = pi.second + dy;\n          if (px &lt; 1 || px &gt; n || py &lt; 1 || py &gt; n)\n            continue;\n          if (vis[px][py] || inq[px][py])\n            continue;\n \n          trace[px][py] = pi;\n          if (maz[px][py] == &#039;1&#039;) {\n            o = {px, py};\n            flag = true;\n            break;\n          }\n          inq[px][py] = true;\n          q.push({px, py});\n        }\n        if (flag)\n          break;\n      }\n      // å¿…ç„¶æœ‰è§£çš„\n      maz[o.first][o.second] = &#039;0&#039;;\n      // è·¯å¾„è¿˜åŸ\n      while (o.first != i || o.second != j) {\n        pii i = trace[o.first][o.second];\n        ans.push_back({o.first, o.second, i.first, i.second});\n        o = i;\n      }\n      maz[o.first][o.second] = &#039;1&#039;;\n      vis[i][j] = true;\n    }\n  }\n \n  cout &lt;&lt; ans.size() &lt;&lt; &#039;\\n&#039;;\n  for (auto [q, w, e, r] : ans) {\n    cout &lt;&lt; q &lt;&lt; &#039; &#039; &lt;&lt; w &lt;&lt; &#039; &#039; &lt;&lt; e &lt;&lt; &#039; &#039; &lt;&lt; r &lt;&lt; &#039;\\n&#039;;\n  }\n}\nD åŒç”ŸåŒå®¿ä¹‹å†³\né¢˜æ„\nåŒç”Ÿæ•°ç»„å®šä¹‰ï¼šæ•°ç»„å¤§å°ä¸ºå¶æ•°ï¼Œæœ‰ä¸”åªæœ‰ 2 ç§æ•°ï¼Œè¿™ä¸¤ç§æ•°çš„æ•°é‡ç›¸åŒã€‚\nåˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯åŒç”Ÿæ•°ç»„ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\næŒ‰æ€§è´¨åˆ¤æ–­å³å¯ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  map&lt;ll, ll&gt; mp;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    mp[a[i]]++;\n  }\n  if (mp.size() != 2) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n  vector&lt;pll&gt; v(mp.begin(), mp.end());\n  if (v[0].second == v[1].second) {\n    cout &lt;&lt; &quot;Yes\\n&quot;;\n  } else {\n    cout &lt;&lt; &quot;No\\n&quot;;\n  }\n}\nE åŒç”ŸåŒå®¿ä¹‹é”™\né¢˜æ„\nå°†ä¸€ä¸ªæ•°ç»„å˜æˆåŒç”Ÿæ•°ç»„ï¼Œå¯ä»¥è¿›è¡Œçš„æ“ä½œæ˜¯å°†æŸä¸ªæ•°+1 æˆ–-1ï¼Œæ±‚æœ€å°æ“ä½œæ¬¡æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\né¦–å…ˆæƒ³åˆ°ï¼Œå°†æ•°ç»„åˆ†ä¸ºå°çš„ä¸€åŠå’Œå¤§çš„ä¸€åŠï¼Œè¿™ä¸¤åŠå„æ‰¾ä¸€ä¸ªæ•°ä½œä¸ºåŒç”Ÿæ•°ç»„ä¸­çš„æ ‡å‡†æ•°ã€‚\nè¿™ä¸ªæ•°æ˜¯ä¸­ä½æ•°ï¼š\nè€ƒè™‘å½“å‰çš„ä¸­ä½æ•°æ˜¯xï¼Œä»£è¡¨æœ‰è‡³å°‘ä¸€åŠçš„æ•°å°äºç­‰äºxï¼Œä¹Ÿæœ‰è‡³å°‘ä¸€åŠçš„æ•°å¤§äºç­‰äºxï¼Œå¦‚æœå°†xå˜æˆx+1ï¼Œå‡è®¾åŸæ¥çš„èŠ±è´¹æ˜¯yï¼Œæœ‰cçš„æ•°å°äºç­‰äºxã€‚é‚£ä¹ˆç°åœ¨çš„èŠ±è´¹æ˜¯y&#039; = y+c-(n-c)ï¼Œç”±äºc\\ge n/2ï¼Œæ•…y&#039;\\gt yï¼Œx-1çš„æƒ…å†µä¹Ÿæ˜¯åŒç†ã€‚\nç‰¹åˆ«çš„ï¼Œå½“ä¸¤è¾¹çš„ä¸­ä½æ•°æ˜¯åŒä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æŸä¸€è¾¹è¿›è¡Œ+1 æˆ–-1ï¼Œå– minã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  sort(a + 1, a + 1 + n);\n  auto check = [&amp;](ll x, ll l, ll r) {\n    ll tot = 0;\n    for (ll i = l; i &lt;= r; i++) {\n      tot += abs(x - a[i]);\n    }\n    return tot;\n  };\n  // å·¦å³ä¸¤åŠå„æ‰¾ä¸€ä¸ªä¸­ä½æ•°\n  ll x = a[(1 + n / 2) / 2];\n  ll y = a[(n / 2 + 1 + n) / 2];\n  ll ansx = check(x, 1, n / 2), ansy = check(y, n / 2 + 1, n);\n  ll ans = ansx + ansy;\n  if (x == y) {\n    ans = inf;\n    ans = min(ans, check(x + 1, 1, n / 2) + ansy);\n    ans = min(ans, ansx + check(y + 1, n / 2 + 1, n));\n    ans = min(ans, check(x - 1, 1, n / 2) + ansy);\n    ans = min(ans, ansx + check(y - 1, n / 2 + 1, n));\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nF åŒç”ŸåŒå®¿ä¹‹æ¢\né¢˜æ„\nè®¡ç®—ä¸€ä¸ªæ•°ç»„ä¸­æœ‰å¤šå°‘è¿ç»­å­æ•°ç»„æ˜¯åŒç”Ÿæ•°ç»„ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\næ ¹æ®åŒç”Ÿæ•°ç»„çš„ç‰¹ç‚¹ï¼Œé€‰å‡ºæ‰€æœ‰ä»…åŒ…å«ä¸¤ç§æ•°çš„åŒºé—´ï¼Œåœ¨è¿™ä¸ªç¡®å®šçš„æœ€å¤§çš„ä»…åŒ…å«ä¸¤ç§æ•°çš„åŒºé—´å†…è®¡ç®—åŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªåŒç”Ÿæ•°ç»„ï¼Œç”±äºä»…åŒ…å«ä¸¤ç§æ•°ï¼Œå¯ä»¥å°†æŸç§æ•°è®°ä¸º 1ï¼Œå¦ä¸€ç§è®°ä¸º-1ï¼Œè®¡ç®—è¯¥æ®µåŒºé—´çš„å‰ç¼€å’Œï¼Œå‰ç¼€å’Œç›¸åŒçš„ä¸¤ä¸ªç«¯ç‚¹ä¹‹é—´çš„åŒºé—´æ˜¯åŒç”Ÿæ•°ç»„ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  ll ans = 0;\n  ll l = 1, r = 1;\n  set&lt;ll&gt; st;\n  st.insert(a[l]);\n  while (r &lt;= n) {\n    // ä»…åŒ…å«ä¸¤ç§å…ƒç´ çš„æœ€è¿œçš„r\n    while (r + 1 &lt;= n &amp;&amp; (st.size() &lt; 2 || st.find(a[r + 1]) != st.end())) {\n      st.insert(a[++r]);\n    }\n    if (st.size() == 2) {\n      // è®¡ç®—åŒºé—´å†…åŒºé—´å’Œæ˜¯0çš„æ•°é‡\n      ll x1 = *st.begin();\n      pre[l - 1] = 0;\n      map&lt;ll, ll&gt; mp;\n      mp[0]++;\n      for (ll i = l; i &lt;= r; i++) {\n        if (a[i] == x1)\n          pre[i] = pre[i - 1] + 1;\n        else\n          pre[i] = pre[i - 1] - 1;\n        mp[pre[i]]++;\n      }\n      for (auto i : mp) {\n        ans += (i.second - 1) * i.second / 2;\n      }\n    } else {\n      break;\n    }\n    // å»æ‰ä¸€ç§æ•°\n    while (l - 1 &lt;= r) {\n      if (pre[r] - pre[l - 1] == r - l + 1 ||\n          pre[l - 1] - pre[r] == r - l + 1) {\n        break;\n      }\n      l++;\n    }\n    st.clear();\n    st.insert(a[l]);\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nG äº•ç„¶æœ‰åºä¹‹è¡¡\né¢˜æ„\nå°†æ•°ç»„å˜æˆä¸€ä¸ªæ’åˆ—ï¼Œå¯ä»¥è¿›è¡Œçš„æ“ä½œæ˜¯å°†æŸä¸ªæ•°+1ï¼ŒåŒæ—¶å°†å¦ä¸€ä¸ªæ•°-1ï¼Œè¯¢é—®æœ€å°æ“ä½œæ¬¡æ•°ï¼Œè‹¥ä¸èƒ½å®ç°åˆ™è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n-1e9\\leq a_i\\leq 1e9\n\næ€è·¯\næ’åˆ—ä¸­çš„æ•°æ˜¯ 1~nï¼Œå¦‚æœè¿›è¡Œæ“ä½œï¼Œä¸€å®šæ˜¯å°†å¤§æ•°å‡å»çš„ 1 åŠ åˆ°å°æ•°ä¸Šï¼Œè®©ä¸¤ä¸ªæ•°éƒ½è¶‹å‘è¦å˜æˆçš„æ•°ã€‚ä» n å¼€å§‹æšä¸¾åˆ° 1ï¼Œå¦‚æœå½“å‰çš„æ’åˆ—æ•°iåœ¨æ•°ç»„ä¸­ä¸å­˜åœ¨ï¼Œåˆ™é€‰ä¸€ä¸ªå¤§äºiçš„æ•°ï¼Œå°†å®ƒå‡å»çš„æ•°ç»Ÿè®¡åˆ°ç­”æ¡ˆä¸­ï¼Œè¿‡ç¨‹ä¸­åˆ¤æ–­å¯è¡Œæ€§ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  ll tot = 0;\n  multiset&lt;ll, greater&lt;&gt;&gt; st;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    tot += a[i];\n    st.insert(a[i]);\n  }\n  if (tot != (1 + n) * n / 2) {\n    cout &lt;&lt; &quot;-1\\n&quot;;\n    return;\n  }\n  ll ans = 0ll, x = n;\n  while (!st.empty() &amp;&amp; x &gt;= 1) {\n    if (st.find(x) != st.end()) {\n      st.erase(st.find(x));\n      x--;\n      continue;\n    }\n    if (*st.begin() &lt; x)\n      break;\n    ans += *st.begin() - x;\n    x--;\n    st.erase(st.begin());\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nH äº•ç„¶æœ‰åºä¹‹çª—\né¢˜æ„\næ„é€ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ’åˆ—ï¼Œè¦æ±‚æ¯ä¸ªæ•°iéƒ½ç¬¦åˆåœ¨[l_i,r_i]èŒƒå›´å†…ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„æ’åˆ—ï¼Œåˆ™è¾“å‡º-1ï¼Œå¦åˆ™è¾“å‡ºæ„é€ çš„æ’åˆ—ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq l_i\\leq r_i\\leq n\n\næ€è·¯\næŒ‰ç…§ 1~n çš„é¡ºåºæ„é€ æ’åˆ—ï¼Œæ¯æ¬¡ä»å¯ä»¥ä½¿ç”¨çš„åŒºé—´ä¸­å–å³ç«¯ç‚¹æœ€è¿‘çš„åŒºé—´ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;pair&lt;pll, ll&gt;&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    pll p;\n    cin &gt;&gt; p.first &gt;&gt; p.second;\n    v.push_back({p, i});\n  }\n  // å…³é”®å­—é¡ºåºl,r,id\n  sort(v.begin(), v.end());\n  multiset&lt;pair&lt;ll, pair&lt;pll, ll&gt;&gt;&gt; st; // å³ç«¯ç‚¹rå°çš„æ’åœ¨å‰é¢\n  ll pi = 0;\n  for (ll x = 1; x &lt;= n; x++) {\n    for (; pi &lt; (ll)v.size(); pi++) {\n      pll p = v[pi].first;\n      if (p.first &lt;= x &amp;&amp; p.second &gt;= x) {\n        st.insert({p.second, v[pi]});\n        continue;\n      }\n      break;\n    }\n    if (st.empty()) {\n      cout &lt;&lt; &quot;-1\\n&quot;;\n      return;\n    }\n    a[st.begin()-&gt;second.second] = x;\n    st.erase(st.begin());\n    while (!st.empty() &amp;&amp; st.begin()-&gt;first == x) {\n      st.erase(st.begin());\n    }\n  }\n  for (ll i = 1; i &lt;= n; i++) {\n    cout &lt;&lt; a[i] &lt;&lt; &quot; \\n&quot;[i == n];\n  }\n}\nI äº•ç„¶æœ‰åºä¹‹æ¡ \né¢˜æ„\nç»™å‡ºæ’åˆ—aï¼Œæ„é€ å¦ä¸€ä¸ªæ’åˆ—bï¼Œä½¿å¾—\\sum_{i=1}^{n} gcd(a_i,b_i)=kã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq n\n\næ€è·¯\næ„é€ æ’åˆ—ä½¿\\sum gcd(a_i,i)=kï¼Œæ˜“çŸ¥kçš„åˆæ³•ä¸Šç•Œæ˜¯\\frac{(n+1)\\times n}{2}ï¼Œä¸‹å±Šæ˜¯nã€‚ä»å¤§åˆ°å°éå†ï¼Œæ‰¾åˆ°æŸä¸ªç«¯ç‚¹ï¼Œå°†æ•°ç»„åˆ†ä¸º[1,r]å’Œ[r+1,n]ä¸¤ç»„ï¼Œå³ä¾§åŒºé—´å‡å–a_i=iï¼Œè¿™ä¸ªåŒºé—´å¯ä»¥ä¸ºç©ºï¼Œæ‰¾åˆ°æœ€å°çš„r-1+r\\leq k&#039;æˆç«‹çš„ç«¯ç‚¹rï¼Œéå†çš„è¿‡ç¨‹ä¸­kå‡å»ç«¯ç‚¹åˆ’è¿‡çš„å€¼ã€‚\nåˆ†ç±»è®¨è®ºï¼Œè®°x=k-(r-1)ã€‚å¦‚æœxä¸ºå¶æ•°ï¼Œåˆ™å–a_x=xï¼Œå‰©ä½™çš„1,...,x-1,x+1,...rä»å¤§åˆ°å°ä¸¤ä¸¤ä¸€ç»„äº¤æ¢ï¼Œå®ç°é™¤äº†a_x=xçš„å…¶ä»–å°ç»„éƒ½æ˜¯ 1ã€‚\nå¦‚æœxä¸ºå¥‡æ•°ï¼Œå¦‚æœrä¸ºå¶æ•°ï¼Œä¼šå‡ºç°gcd(x-1,x+1)ï¼Œè¿™ä¸ªå€¼æ˜¯2ï¼Œä¸ç¬¦åˆè¦æ±‚ï¼Œè¿™æ—¶å–a_2=2å’Œa_{x-1}=x-1ï¼Œå¯ä»¥å®ç°ä¸a_x=xä¸€æ ·çš„æ„é€ æ•ˆæœï¼Œæ³¨æ„åˆ¤æ–­x=2çš„æƒ…å†µã€‚\nç‰¹æ®Šçš„ï¼Œå½“x=3æ—¶ï¼Œå¯ä»¥æ„é€ a_2=4å’Œa_4=2ï¼Œè¿™æ—¶gcd(a_2,4)+gcd(a_4,2)=4=3+1å¯è¡Œã€‚\nä»£ç \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n  set&lt;ll&gt; st;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    b[i] = a[i], c[a[i]] = i;\n    st.insert(i);\n  }\n  if (k &lt; n) {\n    cout &lt;&lt; &quot;-1\\n&quot;;\n    return;\n  }\n  ll s = 0ll, r = n;\n  while (r &gt;= 1) {\n    if (k &lt; r - 1 + r)\n      break;\n    st.erase(r);\n    k -= r;\n    r--;\n  }\n  if (k == 0) {\n    for (ll i = 1; i &lt;= n; i++) {\n      cout &lt;&lt; b[i] &lt;&lt; &#039; &#039;;\n    }\n    cout &lt;&lt; &#039;\\n&#039;;\n    return;\n  }\n  // [r+1~n]éƒ½å¯¹åº”ai=i\n  ll x = k - (r - 1);\n  // æŠŠa[1~r]æ„é€ æˆr-1+x\n  if (x &amp; 1) {\n    if (r &amp; 1) {\n      st.erase(x);\n    } else if (x - 1 &gt; 2) {\n      st.erase(x - 1), st.erase(2);\n    } else if (x == 3 &amp;&amp; r &gt;= 4) {\n      b[c[2]] = 4, b[c[4]] = 2;\n      st.erase(2), st.erase(4);\n    } else if (x != 1) {\n      cout &lt;&lt; &quot;-1\\n&quot;;\n      return;\n    }\n  } else {\n    st.erase(x);\n  }\n  vector&lt;ll&gt; v(st.begin(), st.end());\n  for (ll i = v.size() - 1; i - 1 &gt;= 0; i -= 2) {\n    swap(b[c[v[i]]], b[c[v[i - 1]]]);\n  }\n \n  for (ll i = 1; i &lt;= n; i++) {\n    cout &lt;&lt; b[i] &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}\n \nJ ç¡åŸºç”²è‹¯ä¹‹è¢­\né¢˜æ„\nåœ¨æ•°ç»„ä¸­é€‰ä¸¤ä¸ªå…ƒç´ a_i,a_j,(i\\neq j)ï¼Œæ±‚æ»¡è¶³a_i \\oplus a_j = gcd(a_i,a_j)çš„i,jå¯¹æ•°é‡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2e5\n1\\leq a_i\\leq 2e5\n\næ€è·¯\nx\\oplus y = gï¼Œåˆ™æœ‰y=x\\oplus gï¼Œå¯¹æ¯ä¸ªa_iï¼Œæšä¸¾gï¼Œè‹¥æœ‰ç¬¦åˆg == gcd(x,x\\oplus g)çš„åˆ™è®¡å…¥ç­”æ¡ˆï¼Œç­”æ¡ˆè¦å»æ‰ä¸€åŠé‡å¤è®¡æ•°çš„ã€‚\nä»£ç \nll a[maxn];\n// è®°å½•æ¯ä¸ªæ•°çš„å› æ•°\nvector&lt;ll&gt; MP[maxn];\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  map&lt;ll, ll&gt; mp;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    mp[a[i]]++;\n  }\n  ll ans = 0ll;\n  for (ll i = 1; i &lt;= n; i++) {\n    ll x = a[i];\n    for (ll g : MP[x]) {\n      // æšä¸¾xçš„å› æ•°, x^y=g -&gt; y=x^g, g=gcd(x,x^g)\n      if (mp.count(x ^ g) &amp;&amp; g == gcd(x, x ^ g)) {\n        ans += mp[x ^ g];\n      }\n    }\n  }\n  cout &lt;&lt; ans / 2 &lt;&lt; &#039;\\n&#039;;\n}\n \nvoid init() {\n  for (ll i = 1; i &lt; maxn; i++) {\n    for (ll j = i; j &lt; maxn; j += i) {\n      MP[j].push_back(i);\n    }\n  }\n}\nK ç¡åŸºç”²è‹¯ä¹‹é­‡\né¢˜æ„\næ±‚ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªåŒºé—´[l,r](l\\lt r)æ»¡è¶³åŒºé—´å†…å…ƒç´ çš„æœ€å¤§å…¬çº¦æ•°æ°å¥½ç­‰äºå®ƒä»¬çš„å¼‚æˆ–å’Œã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 2e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\nå¯¹äºä¸€ä¸ªå›ºå®šçš„åŒºé—´[l,r]ï¼Œå…¶æœ€å¤§å…¬çº¦æ•°å¯ä»¥ç”¨æŸç§æ•°æ®ç»“æ„ç»´æŠ¤ï¼ˆçº¿æ®µæ ‘/ST è¡¨/â€¦ï¼‰ï¼Œå®ç°å¤æ‚åº¦ä¸ºO(logn)çš„æŸ¥è¯¢ã€‚\nåŒºé—´å¼‚æˆ–å’Œå¯ä»¥åˆ©ç”¨å‰ç¼€å¼‚æˆ–å®ç°ï¼Œæ ¹æ®å¼‚æˆ–çš„æ€§è´¨A \\oplus 0 = Aã€A\\oplus A=0ï¼Œå¯¹äºæ•°ç»„çš„å‰ç¼€å¼‚æˆ–(pre[i]=pre[i-1]\\oplus a[i])ï¼Œæœ‰a_l\\oplus a_{l+1}\\oplus \\dots \\oplus a_r=pre[r]\\oplus pre[l-1]ï¼Œæä¾›O(1)çš„æŸ¥è¯¢ã€‚\nå›ºå®šå³ç«¯ç‚¹rï¼Œå½“lé€æ¸å‡å°‘ï¼Œå…¶åŒºé—´gcdä¼šé€æ¸å˜å°ï¼Œä¸”å˜åŒ–çš„æ¬¡æ•°æ˜¯ log çº§åˆ«çš„ï¼Œé€šè¿‡åœ¨æ•°æ®ç»“æ„ä¸ŠäºŒåˆ†ï¼Œæ‰¾å‡ºè¿™äº›å˜åŒ–çš„ç«¯ç‚¹ï¼Œå¹¶ç»Ÿè®¡åœ¨è¿™ä¸ªåŒºé—´ä¸­å¼‚æˆ–å’Œæ˜¯å¯¹åº”çš„ gcd çš„æ•°é‡çš„å·¦ç«¯ç‚¹ï¼Œç»Ÿè®¡æ•°é‡ã€‚è¿™ä¸ªå¼‚æˆ–çš„æ•°é‡å¯ä»¥é€šè¿‡åœ¨æ±‚å‰ç¼€å¼‚æˆ–æ•°ç»„æ—¶é¢„å¤„ç†è·å¾—ï¼Œç”¨ map å­˜ä¸€ä¸‹æ¯ä¸ªå‰ç¼€å¼‚æˆ–å€¼å‡ºç°çš„ä½ç½®æ•°ç»„ï¼ŒæŸ¥è¯¢æ—¶ï¼ŒäºŒåˆ†ç»Ÿè®¡[l_l,l_r]ä¸­xorä¸ºg\\oplus pre[r]çš„æ•°é‡ã€‚\n\nä»£ç \nll a[maxn], pre[maxn];\n// STè¡¨\nll dp[maxn][30];\nvoid rmq_st(ll n) {\n  for (ll i = 1; i &lt;= n; i++) {\n    dp[i][0] = a[i]; // 2^0\n  }\n  ll m = log(1 * n) / log(2.0);\n  for (ll j = 1; j &lt;= m; j++) {\n    ll t = n - (1 &lt;&lt; j) + 1;\n    for (ll i = 1; i &lt;= t; i++) {\n      dp[i][j] = gcd(dp[i][j - 1], dp[i + (1 &lt;&lt; (j - 1))][j - 1]);\n    }\n  }\n}\nll rmq_find(ll l, ll r) { // ä»lå¼€å§‹,é•¿åº¦ä¸ºrçš„åŒºé—´\n  ll k = log(1.0 * (r - l + 1)) / log(2.0);\n  return gcd(dp[l][k], dp[r - (1 &lt;&lt; k) + 1][k]);\n}\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  map&lt;ll, vector&lt;ll&gt;&gt; mp;\n  mp[0].push_back(0);\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    pre[i] = pre[i - 1] ^ a[i];\n    mp[pre[i]].push_back(i);\n  }\n  rmq_st(n);\n  ll ans = 0;\n  for (ll R = 2; R &lt;= n; R++) {\n    // æšä¸¾å³ç«¯ç‚¹\n    ll L = R - 1;\n    while (L &gt;= 1) {\n      ll g = rmq_find(L, R);\n      ll xl = 1, xr = L;\n      while (xl &lt; xr) {\n        ll mid = (xl + xr) / 2;\n        if (rmq_find(mid, R) == g) {\n          xr = mid;\n        } else {\n          xl = mid + 1;\n        }\n      }\n      // [xl,L]æ˜¯ç¬¦åˆrmq_find(i,R)=gçš„åŒºé—´\n      ll x = g ^ pre[R];\n      if (mp.count(x)) {\n        auto &amp;v = mp[x];\n        ans += lower_bound(v.begin(), v.end(), L) -\n               lower_bound(v.begin(), v.end(), xl - 1);\n      }\n      L = xl - 1;\n    }\n  }\n \n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nL ä¸€å¿µç¥é­”ä¹‹è€€\né¢˜æ„\næœ‰lç›ç¯ï¼Œåˆå§‹çŠ¶æ€ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œ0è¡¨ç¤ºå…³é—­ï¼Œ1è¡¨ç¤ºå¼€å¯ï¼Œæ¯ä¸€è½®æ“ä½œå¯ä»¥æ“ä½œè¿ç»­çš„xä¸ªæˆ–yä¸ªç¯ï¼Œå°†å…¶çŠ¶æ€åè½¬ï¼Œè¯¢é—®æ˜¯å¦å­˜åœ¨ä¸€ç§æ“ä½œæ–¹å¼è®©æ‰€æœ‰çš„ç¯çŠ¶æ€ç›¸åŒï¼Œå¦‚æœæ²¡æœ‰è¾“å‡º-1ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 500\n1\\le l\\leq 500\n1\\leq x,y\\leq \\frac{l}{3}\næ“ä½œè½®æ•°n\\leq l^2\n\næ€è·¯\nå‡è®¾x=yï¼Œå°†ç¯çš„çŠ¶æ€è°ƒæ•´æˆå…¨ 1ï¼Œå¯ä»¥éå†æ¯ä¸ª 0ï¼Œä»¥è¿™äº› 0 ä¸ºå·¦ç«¯ç‚¹åè½¬ä¸€ä¸ªé•¿åº¦xï¼Œå½“æŸä¸ª 0 çš„å³ä¾§ç©ºé—´ä¸è¶³ä¸€ä¸ªé•¿åº¦xæ—¶æ˜¾ç„¶æ— è§£ã€‚\nx\\neq y,x\\gt yæ—¶ï¼Œå¦‚æœå¯ä»¥åè½¬é•¿åº¦xï¼Œåˆ™åœ¨xä¸Šå†åè½¬ä¸€ä¸ªyï¼Œå¯ä»¥å¾—åˆ°ä»…åè½¬x-yçš„æ•ˆæœï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ€çŸ­çš„é•¿åº¦ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯è¾—è½¬ç›¸é™¤æ³•çš„è¿‡ç¨‹ï¼Œæœ€çŸ­çš„é•¿åº¦æ˜¯g=gcd(x,y)ã€‚\nå°è¯•æŒ‰ç…§é•¿åº¦gåè½¬æ‰€æœ‰ 0 çš„ä½ç½®ï¼Œåè½¬s[i]=&#039;0&#039;,[i,i+x-1]ä¸­çš„gé•¿åº¦çš„éƒ¨åˆ†ï¼Œåˆ™éœ€è¦å°†å‰©ä½™çš„[i+g,i+x-1]çš„éƒ¨åˆ†æ¢å¤ï¼Œä¸å®šæ–¹ç¨‹ax+bx=gä¸€å®šæœ‰è§£ï¼Œå½“éœ€è¦æ¢å¤çš„åŒºé—´[l,r]é•¿åº¦å¤§äºç­‰äºyæ—¶è¿›è¡Œä¸€æ¬¡é•¿åº¦ä¸ºyçš„æ“ä½œï¼Œå¦‚æœä¸è¶³yåˆ™è€ƒè™‘è¾¹ç•Œåå“¦å‘å·¦æˆ–è€…å‘å³æ‹“å±•é•¿åº¦ä¸ºxï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„æ“ä½œä¸­æ¢å¤ã€‚\nä»£ç \nvoid solve() {\n  ll n, x, y;\n  string s;\n  cin &gt;&gt; n &gt;&gt; x &gt;&gt; y &gt;&gt; s;\n  ll g = gcd(x, y);\n  s = &quot;1&quot; + s;\n  vector&lt;array&lt;ll, 2&gt;&gt; ans;\n  auto rev = [&amp;](ll l, ll r) {\n    for (ll i = l; i &lt;= r; i++) {\n      s[i] = &#039;1&#039; - s[i] + &#039;0&#039;;\n    }\n    ans.push_back({l, r});\n  };\n  ll p = 1;\n  while (p + g - 1 &lt;= n) { // å°‘äºgçš„é•¿åº¦æ— æ³•æ”¹å˜\n    if (s[p] == &#039;1&#039;) {\n      p++;\n      continue;\n    }\n \n    // åè½¬æ¥ä¸‹æ¥çš„gä¸ªé•¿åº¦å­ä¸²\n    ll l, r;              // éœ€è¦åè½¬å›å»çš„éƒ¨åˆ†\n    if (p + x - 1 &lt;= n) { // åè½¬[p,p+g-1]éƒ¨åˆ†çš„å­ä¸²\n      rev(p, p + x - 1);\n      l = p + g, r = p + x - 1;\n    } else {\n      rev(p + g - x, p + g - 1);\n      l = p + g - x, r = p - 1;\n    }\n \n    while (l &lt;= r) {\n      if (r - l + 1 &gt;= y) {\n        rev(l, l + y - 1);\n        l += y;\n      } else if (r + x &lt;= n) { // å‘å³æ‹“å±•\n        rev(r + 1, r + x);\n        r += x;\n      } else { // å‘å·¦æ‹“å±•\n        rev(l - x, l - 1);\n        l -= x;\n      }\n    }\n    p++;\n  }\n \n  if (s.find(&#039;0&#039;) != -1) {\n    cout &lt;&lt; &quot;-1\\n&quot;;\n    return;\n  }\n \n  cout &lt;&lt; ans.size() &lt;&lt; &#039;\\n&#039;;\n  for (auto [l, r] : ans) {\n    cout &lt;&lt; l &lt;&lt; &#039; &#039; &lt;&lt; r &lt;&lt; &#039;\\n&#039;;\n  }\n}\nM æ•°å€¼è†¨èƒ€ä¹‹ç¾\né¢˜æ„\nå®šä¹‰ä¸€ä¸ªæ•°ç»„çš„æå·®æ˜¯æ•°ç»„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œæ°å¥½è¿›è¡Œä¸€æ¬¡ä¸‹è¿°æ“ä½œï¼šé€‰æ‹©ä¸€ä¸ªéç©ºåŒºé—´ï¼Œå°†åŒºé—´ä¸­çš„æ•°éƒ½ä¹˜ä»¥ 2ã€‚æ±‚è¿™ä¸ªæ•°ç»„æœ€å°çš„æå·®ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e9\n\næ€è·¯\næå·®æ˜¯æœ€å¤§å€¼å‡å»æœ€å°å€¼ï¼Œå°†æœ€å¤§å€¼ç¿»å€è‚¯å®šä¼šå¢å¤§æå·®ï¼Œè€ƒè™‘å°†æœ€å°å€¼ä¹˜ 2 æ‰èƒ½å¾—åˆ°æ›´å°çš„æå·®ï¼Œä¾æ¬¡æšä¸¾ç¿»å€æœ€å°å€¼ã€æ¬¡å°å€¼ï¼Œè‹¥å½“å‰çš„åŒºé—´æ˜¯è¿ç»­çš„ï¼Œä¸ä¸Šä¸€ä¸ªåˆæ³•åŒºé—´å–æ›´å°çš„æå·®ï¼Œç»´æŠ¤æ•°ç»„çš„æå·®ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;array&lt;ll, 2&gt;&gt; v;\n  multiset&lt;ll&gt; mst; // ç»´æŠ¤æå·®\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    mst.insert(a[i]);\n    v.push_back({a[i], i});\n  }\n  sort(v.begin(), v.end());\n  ll ans = inf;\n  set&lt;ll&gt; st; // ç»´æŠ¤å·²ç»ç¿»å€çš„ç‚¹\n  for (auto [x, i] : v) {\n    st.insert(i);\n    mst.erase(mst.find(x)), mst.insert(x * 2);\n    if (*prev(st.end()) - *st.begin() + 1 == (ll)st.size()) { // åŒºé—´è¿ç»­\n      ans = min(ans, *prev(mst.end()) - *mst.begin());        // æ›´æ–°ç­”æ¡ˆ\n    }\n  }\n \n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nc25wd2":{"slug":"03-algorithm/nc25wd2","filePath":"03-algorithm/nc25wd2.md","title":"ğŸˆ2025ç‰›å®¢æš‘å¯’å‡å¤šæ ¡è®­ç»ƒè¥Day2","links":[],"tags":["2025å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢","ç»„åˆæ•°å­¦","è®¡ç®—å‡ ä½•","å­—ç¬¦ä¸²","STè¡¨"],"content":"A ä¸€èµ·å¥å“å†å²ä¹‹éŸ³ï¼\né¢˜æ„\nä¸­å›½ä¼ ç»Ÿäº”å£°è°ƒä¸­åŒ…å« 1ã€2ã€3ã€5ã€6ï¼Œåˆ¤æ–­ä¸€ä¸ªä¹è°±æ˜¯å¦ä»…ç”±å…¨éƒ¨æˆ–éƒ¨åˆ†äº”å£°è°ƒé“ºæˆã€‚\næ€è·¯\næŒ‰é¢˜æ„åˆ¤æ–­å³å¯ã€‚\nä»£ç \nvoid solve() {\n  bool flag = true;\n  set&lt;ll&gt; st = {1, 2, 3, 5, 6};\n  ll x;\n  while (cin &gt;&gt; x) {\n    if (st.find(x) == st.end()) {\n      flag = false;\n    }\n  }\n  if (flag) {\n    cout &lt;&lt; &quot;YES\\n&quot;;\n  } else {\n    cout &lt;&lt; &quot;NO\\n&quot;;\n  }\n}\nB èƒ½å»ä½ å®¶è¹­å£é¥­åƒå—\né¢˜æ„\nç»™å‡ºä¸€ä¸ªæ•°ç»„aï¼Œæ‰¾åˆ°ä¸€ä¸ªæ•´æ•°ï¼Œè¦æ±‚æ•´æ•°å°½å¯èƒ½å¤§ï¼Œä½†æ˜¯è‡³å°‘è¦æ¯”æ•°ç»„ä¸­ä¸€åŠæ•°é‡çš„æ•°å°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 5e5\n1\\leq a_i\\leq 1e6\n\næ€è·¯\nå¦‚æœæ•°ç»„é•¿åº¦ä¸ºå¥‡æ•°ï¼Œåˆ™å–ä¸­ä½æ•°-1ï¼Œå³a[n-n/2]-1ã€‚\nå¦‚æœæ•°ç»„é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™å–ä¸‹æ ‡æ›´å¤§çš„ä¸­ä½æ•°-1ï¼Œå³a[n/2+1]-1ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  sort(a + 1, a + 1 + n);\n  if (n &amp; 1)\n    cout &lt;&lt; a[n - n / 2] - 1 &lt;&lt; &#039;\\n&#039;;\n  else\n    cout &lt;&lt; a[n / 2 + 1] - 1 &lt;&lt; &#039;\\n&#039;;\n}\nD å­—ç¬¦ä¸²é‡Œä¸²\né¢˜æ„\nå®šä¹‰å­—ç¬¦ä¸²sçš„å¯çˆ±åº¦kï¼šæœ€å¤§çš„æ»¡è¶³å­˜åœ¨é•¿åº¦ä¸ºkçš„è¿ç»­å­ä¸²aå’Œä¸¥æ ¼ä¸è¿ç»­å­ä¸²bï¼Œä½¿å¾—a=bã€‚\nç»™å‡ºå­—ç¬¦ä¸²sï¼Œæ±‚å…¶å¯çˆ±åº¦ã€‚\næ•°æ®èŒƒå›´\n\n3\\leq m \\leq 2e5\n\næ€è·¯\nbæ˜¯ä¸è¿ç»­å­ä¸²ï¼Œå¯ä»¥è®¾è®¡aå’Œbä»…æœ€åä¸€ä½æˆ–å¼€å¤´ä¸€ä½çš„åœ¨åŸä¸²ä¸­çš„ä½ç½®ä¸åŒï¼Œé‚£ä¹ˆåªéœ€è¦å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„æ•°é‡å¤§äºç­‰äº 2 çš„å­—æ¯ï¼Œå¹¶æ¯”è¾ƒåˆ†åˆ«å»æ‰ä¸¤ç«¯å¾—åˆ°çš„æœ€é•¿çš„ä¸²çš„é•¿åº¦ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  string s;\n  cin &gt;&gt; n &gt;&gt; s;\n  s = &quot; &quot; + s;\n  map&lt;char, vector&lt;ll&gt;&gt; mp;\n  for (ll i = 1; i &lt;= n; i++) {\n    char c = s[i];\n    mp[c].push_back(i);\n  }\n  ll ans = 0;\n  for (auto [c, v] : mp) {\n    if (v.size() &gt;= 2) {\n      ll m = v.size();\n      ans = max(ans, v[m - 2]);\n    }\n  }\n  for (auto [c, v] : mp) {\n    if (v.size() &gt;= 2) {\n      ll m = v.size();\n      ans = max(ans, n - v[1] + 1);\n    }\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nC å­—ç¬¦ä¸²å¤–ä¸²\né¢˜æ„\nå®šä¹‰å­—ç¬¦ä¸²sçš„å¯çˆ±åº¦kï¼šæœ€å¤§çš„æ»¡è¶³å­˜åœ¨é•¿åº¦ä¸ºkçš„è¿ç»­å­ä¸²aå’Œä¸¥æ ¼ä¸è¿ç»­å­ä¸²bï¼Œä½¿å¾—a=bã€‚æ„é€ é•¿åº¦ä¸ºnçš„ç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä½¿å…¶å¯çˆ±åº¦ä¸ºmï¼Œæˆ–æŠ¥å‘Šæ²¡æœ‰è¿™æ ·çš„åˆæ³•å­—ç¬¦ä¸²ã€‚\næ•°æ®èŒƒå›´\n\n3\\leq m\\leq n\\leq n\\leq 2e5\n\næ€è·¯\na,bä¸¤ç§å­—ç¬¦ä¸²è‡³å°‘è¦æœ‰ 1 ä½å¯¹åº”åŸä¸²çš„ä½ç½®ä¸åŒï¼Œå½“n=mæ—¶æ˜¾ç„¶æ— è§£ã€‚\nè®¾å­—ç¬¦ä¸²tæ˜¯a,bå·¦ç«¯å¯¹é½ä¹‹åå…¬å…±çš„éƒ¨åˆ†ï¼Œé•¿åº¦ä¸ºm-1ï¼Œå°å†™å­—æ¯åªæœ‰ 26 ä¸ªï¼Œå½“n-m\\gt 26æ—¶ï¼Œä¸ç®¡æ€ä¹ˆå¡«ån-mçš„å­—æ¯ï¼Œéƒ½ä¸å¯èƒ½ä¸è®©æ‰€æœ‰åœ¨i\\geq mçš„èŒƒå›´å†…çš„å­—æ¯åªå‡ºç°ä¸€æ¬¡ï¼Œå‡ºç°å¤šæ¬¡åˆ™å¯çˆ±åº¦ä¼šå¢åŠ ã€‚æŒ‰ç…§è¿™æ ·çš„æ€è·¯æ„é€ å‰m-1é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¿è¯åœ¨åä¸€åŠçš„éƒ¨åˆ†ä¸­å­—ç¬¦s[m-1]å‡ºç°ä¸”ä»…å‡ºç°ä¸€æ¬¡ã€‚\nä»£ç \nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  if (n - m &lt; 1) {\n    cout &lt;&lt; &quot;NO\\n&quot;;\n    return;\n  }\n  string s;\n  if (m == n - 1) {\n    for (ll i = 1; i &lt;= n; i++) {\n      if (i == n - 1 || i == n) {\n        s.push_back(&#039;b&#039;);\n      } else {\n        s.push_back(&#039;a&#039;);\n      }\n    }\n  } else if (n - m &lt;= 26) {\n    for (ll i = 0; i &lt; n; i++) {\n      s.push_back(&#039;a&#039; + i % 26);\n    }\n    s.back() = s[m - 1];\n  } else {\n    cout &lt;&lt; &quot;NO\\n&quot;;\n    return;\n  }\n  cout &lt;&lt; &quot;YES\\n&quot; &lt;&lt; s &lt;&lt; &#039;\\n&#039;;\n}\nE ä¸€èµ·èµ°å¾ˆé•¿çš„è·¯ï¼\né¢˜æ„\nä¸€åˆ—å¤šç±³è¯ºéª¨ç‰Œï¼Œè´¨é‡æ˜¯a_iï¼Œæœ‰qæ¬¡è¯¢é—®ï¼Œè¯¢é—®ä¸€ä¸ªåŒºé—´[l,r]ï¼Œæ¨å€’ç¬¬lä½çš„å¤šç±³è¯ºéª¨ç‰Œï¼Œå¦‚æœ\\sum_{i=l}^{i-1}\\geq a_iï¼Œåˆ™ç¬¬a_iå—å¯ä»¥é¡ºåˆ©å€’ä¸‹ï¼Œä¸ºäº†ä½¿ç¬¬rå—å¯ä»¥é¡ºåˆ©å€’ä¸‹ï¼Œå¯ä»¥è¿›è¡Œä¸€ç§æ“ä½œï¼šé€‰æ‹©æŸä¸ªå¤šç±³è¯ºéª¨ç‰Œï¼Œå°†å…¶è´¨é‡+1 æˆ–-1ï¼Œå¯¹æ¯ä¸ªè¯¢é—®è¿”å›æœ€å°‘çš„å¯ä»¥æ¨å€’rçš„æ“ä½œæ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,q\\leq 2e5\n1\\leq a_i\\leq 1e9\n1\\leq l\\leq r\\leq n\n\næ€è·¯\nå¯¹äºä¸€ä¸ªåŒºé—´ï¼Œå¦‚æœè¦è¿›è¡Œæ“ä½œæ—¶ï¼Œè‚¯å®šæ˜¯å°†+1 åŠ åœ¨ç¬¬lä½çš„ç‰Œä¸Šã€‚\nå½“l=1æ—¶ï¼Œå®¹æ˜“ç›´åˆ°ï¼Œæƒ³è¦ç¬¬iå—ç‰Œå€’ä¸‹ï¼Œéœ€è¦\\max(a_i-pre_{i-1},0)çš„æ“ä½œæ¬¡æ•°ï¼Œpre_iæ˜¯å‰ié¡¹çš„è´¨é‡å’Œï¼Œæ•…åœ¨æ•´ä¸ªåŒºé—´ä¸Šï¼Œåªéœ€è¦å–\\max(a_i-pre_{i-1}),(l+1\\leq i\\leq r)ã€‚\nåœ¨åŒºé—´[l,r]ä¸­ï¼Œå¦‚æœè¦æ¨å€’ç¬¬iå—ç‰Œï¼Œåˆ™éœ€è¦æ„é€ æ–°çš„ä»¥lä¸ºå·¦ç«¯ç‚¹çš„preï¼Œè¿™ä¸ªpreçš„å€¼å¯ä»¥ç”±pre_i-pre_{l-1}æ¨å€’ï¼Œä»£å…¥ä¸Šå¼ï¼Œåˆ™ç­”æ¡ˆæ˜¯\\max(a_i-(pre_i-pre_{l-1}))ã€‚ç”¨æŸç§æ•°æ®ç»“æ„ç»´æŠ¤åŒºé—´æœ€å¤§å€¼ã€‚\nä»£ç \n// STè¡¨\nll dp[maxn][30];\nvoid rmq_st(ll n) {\n  for (ll i = 1; i &lt;= n; i++) {\n    dp[i][0] = b[i]; // 2^0\n  }\n  ll m = log(1 * n) / log(2.0);\n  for (ll j = 1; j &lt;= m; j++) {\n    ll t = n - (1 &lt;&lt; j) + 1;\n    for (ll i = 1; i &lt;= t; i++) {\n      dp[i][j] = max(dp[i][j - 1], dp[i + (1 &lt;&lt; (j - 1))][j - 1]);\n    }\n  }\n}\nll rmq_find(ll l, ll r) { // ä»lå¼€å§‹,é•¿åº¦ä¸ºrçš„åŒºé—´\n  ll k = log(1.0 * (r - l + 1)) / log(2.0);\n  return max(dp[l][k], dp[r - (1 &lt;&lt; k) + 1][k]);\n}\n \nvoid solve() {\n  ll n, q;\n  cin &gt;&gt; n &gt;&gt; q;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n    pre[i] = pre[i - 1] + a[i];\n    b[i] = a[i] - pre[i - 1];\n  }\n  rmq_st(n);\n  while (q--) {\n    ll l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    if (l == r) {\n      cout &lt;&lt; &quot;0\\n&quot;;\n      continue;\n    }\n    // ans=max(a[i]-(pre[i]-pre[l-1]))\n    ll t = rmq_find(l + 1, r) + pre[l - 1]; // [l+1,r]éœ€è¦æ¨å€’\n    ll ans = max(t, 0ll);\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n  }\n}\nF ä¸€èµ·æ‰¾ç¥ç§˜çš„æ•°ï¼\né¢˜æ„\nåœ¨åŒºé—´[l,r]ä¸­æ‰¾åˆ°ä¸¤ä¸ªæ•°x,yï¼Œä½¿ä¹‹æ»¡è¶³x+y=(x\\ordinarycolon y)+(x \\land y)+(x \\oplus y)ï¼Œæ±‚è¿™æ ·çš„æ•°å¯¹çš„æ•°é‡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T \\leq 2e5\n0\\leq l\\leq r\\leq 1e18\n\næ€è·¯\næ‰“è¡¨çŒœç»“è®ºï¼Œå‘ç°åªæœ‰x=yæ—¶ç­‰å¼æˆç«‹ã€‚\nä»£ç \nvoid solve() {\n  ll l, r;\n  cin &gt;&gt; l &gt;&gt; r;\n  cout &lt;&lt; r - l + 1 &lt;&lt; &#039;\\n&#039;;\n}\nG ä¸€èµ·é“¸æœ€å¥½çš„å‰‘ï¼\né¢˜æ„\nåœ¨mçš„å¹‚æ¬¡ä¸­æ‰¾åˆ°æœ€æ¥è¿‘nçš„æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T \\leq 1e5\n1\\leq n,m\\leq 1e9\n\næ€è·¯\næ¨¡æ‹Ÿã€‚\nä»£ç \nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  if (m == 1) {\n    cout &lt;&lt; &quot;1\\n&quot;;\n    return;\n  }\n  p[0] = 1, p[1] = m;\n  ll pi = 1;\n  ll mx = abs(p[pi] - n);\n  ll i = 1;\n  for (; p[i] &lt;= n; i++) {\n    if (abs(p[i] - n) &lt; mx) {\n      pi = i;\n      mx = abs(p[i] - n);\n    }\n    p[i + 1] = p[i] * m;\n  }\n  if (abs(p[i] - n) &lt; mx) {\n    pi = i;\n    mx = abs(p[i] - n);\n  }\n  cout &lt;&lt; pi &lt;&lt; &#039;\\n&#039;;\n}\nH ä¸€èµ·ç”»å¾ˆå¤§çš„åœ†ï¼\né¢˜æ„\nåœ¨çŸ©å½¢çš„è¾¹ç•Œä¸Šæ‰¾ä¸‰ä¸ªä¸å…±çº¿çš„ç‚¹ï¼Œä½¿å¾—è¿‡è¿™ä¸‰ä¸ªç‚¹ç¡®å®šçš„åœ†çš„é¢ç§¯æœ€å¤§ã€‚\næ•°æ®èŒƒå›´\n\n-1e6\\leq a,b,c,d\\leq 1e6\n\næ€è·¯\nåˆé€‚çš„ç‚¹çš„å€™é€‰åœ¨çŸ©å½¢çš„å››ä¸ªç›´è§’é™„è¿‘ä¸€ä¸ªå•ä½é•¿åº¦çš„ç‚¹ä¸­é€‰ï¼Œæš´åŠ›æšä¸¾ä¸‰ä¸ªç‚¹ï¼Œå¹¶åˆ¤æ–­å–åŠå¾„æœ€å¤§çš„åœ†ã€‚\nä»£ç \nld getcir2(pll p1, pll p2, pll p3) {\n  auto [x1, y1] = p1;\n  auto [x2, y2] = p2;\n  auto [x3, y3] = p3;\n  ld r;\n  ld a = x1 - x2, b = y1 - y2, c = x1 - x3, d = y1 - y3;\n  ld e = ((x1 * x1 - x2 * x2) + (y1 * y1 - y2 * y2)) / 2.0;\n  ld f = ((x1 * x1 - x3 * x3) + (y1 * y1 - y3 * y3)) / 2.0;\n  ld det = b * c - a * d;\n  if (fabs(det) &lt; 1e-5) {\n    r = -1;\n    return r;\n  }\n  ld x0 = -(d * e - b * f) / det;\n  ld y0 = -(a * f - c * e) / det;\n  r = hypot(x1 - x0, y1 - y0);\n  return r;\n}\n \nvoid solve() {\n  ll a, b, c, d;\n  cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;\n  vector&lt;pll&gt; v = {\n      {a, c}, {a + 1, c}, {a, c + 1}, {a, d}, {a + 1, d}, {a, d - 1},\n      {b, c}, {b - 1, c}, {b, c + 1}, {b, d}, {b - 1, d}, {b, d - 1},\n  };\n  pll p1 = {a, c}, p2 = {a + 1, c}, p3 = {a, c + 1};\n  ld r = getcir2(p1, p2, p3);\n  for (ll i = 0; i &lt; (ll)v.size(); i++) {\n    for (ll j = 0; j &lt; (ll)v.size(); j++) {\n      for (ll k = 0; k &lt; (ll)v.size(); k++) {\n        ld ri = getcir2(v[i], v[j], v[k]);\n        if (ri != -1 &amp;&amp; r &lt; ri) {\n          r = ri;\n          p1 = v[i], p2 = v[j], p3 = v[k];\n        }\n      }\n    }\n  }\n  cout &lt;&lt; p1.first &lt;&lt; &#039; &#039; &lt;&lt; p1.second &lt;&lt; &#039;\\n&#039;;\n  cout &lt;&lt; p2.first &lt;&lt; &#039; &#039; &lt;&lt; p2.second &lt;&lt; &#039;\\n&#039;;\n  cout &lt;&lt; p3.first &lt;&lt; &#039; &#039; &lt;&lt; p3.second &lt;&lt; &#039;\\n&#039;;\n}\n \nI\né¢˜æ„\næ•°æ®èŒƒå›´\næ€è·¯\nä»£ç \nJ æ•°æ®æ—¶é—´ï¼Ÿ\né¢˜æ„\næœ‰nä¸ªæ•°æ®ï¼Œæ¯æ¡æ•°æ®ç”±user_idã€login_dateã€login_timeç»„æˆï¼Œè¡¨ç¤ºå‘˜å·¥å·ï¼Œç™»å½•æ—¥æœŸå’Œç™»å½•æ—¶é—´ã€‚å‘˜å·¥å·æ˜¯ä¸è¶…è¿‡1e20çš„æ•´æ•°ï¼Œç™»å½•æ—¥æœŸæ˜¯ä¸€ä¸ªYYYY-MM-DDæ¨¡å¼çš„æ—¥æœŸï¼Œç™»å½•æ—¶é—´æ˜¯hh:mm:ssæ¨¡å¼çš„æ—¶é—´ã€‚\nç°åœ¨æŸ¥è¯¢hå¹´mæœˆçš„å‘˜å·¥åœ¨é€šå‹¤æ—¶é—´ï¼ˆ07:00:00-09:00:00å’Œ18:00:00-20:00:00ï¼‰ã€åˆä¼‘æ—¶é—´ï¼ˆ11:00:00-13:00:00ï¼‰å’Œä¸´ç¡æ—¶é—´ï¼ˆ22:00:00-01:00:00ï¼‰çš„ç™»å½•äººæ¬¡æƒ…å†µï¼ŒåŒä¸€ä¸ªäººåœ¨åŒä¸€ä¸ªæ—¶é—´æ®µçš„å¤šæ¬¡ç™»å½•ç®—ä½œä¸€äººæ¬¡ã€‚æ—¶é—´æ®µå‡åŒ…å«è¾¹ç•Œã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n2000\\leq h\\leq 2030;1\\leq m\\leq 12\n1\\leq user_{id}\\leq 10^{20}\næ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼å¦‚é¢˜æ„æ‰€è¿°ã€‚\n\næ€è·¯\næŒ‰é¢˜æ„æ¨¡æ‹Ÿã€‚\nä»£ç \nvoid solve() {\n  ll n, h, m;\n  cin &gt;&gt; n &gt;&gt; h &gt;&gt; m;\n  map&lt;string, vector&lt;pair&lt;string, string&gt;&gt;&gt; mp;\n  map&lt;string, bool&gt; mp1, mp2, mp3;\n  for (ll i = 1; i &lt;= n; i++) {\n    string id, t;\n    ll dy, dm, dd;\n    char c;\n    cin &gt;&gt; id &gt;&gt; dy &gt;&gt; c &gt;&gt; dm &gt;&gt; c &gt;&gt; dd &gt;&gt; t;\n    if (dy == h &amp;&amp; dm == m) {\n      string s = t;\n      ll st = ((s[0] - &#039;0&#039;) * 10 + (s[1] - &#039;0&#039;)) * 3600 +\n              ((s[3] - &#039;0&#039;) * 10 + (s[4] - &#039;0&#039;)) * 60 + (s[6] - &#039;0&#039;) * 10 +\n              (s[7] - &#039;0&#039;);\n      if ((st &gt;= 7 * 3600 &amp;&amp; st &lt;= 9 * 3600)||(st &gt;= 18 * 3600 &amp;&amp; st &lt;= 20 * 3600)) {\n        mp1[id] = true;\n      } else if (st &gt;= 11 * 3600 &amp;&amp; st &lt;= 13 * 3600) {\n        mp2[id] = true;\n      } else if ((st &gt;= 22 * 3600 &amp;&amp; st &lt;= 24 * 3600) ||\n                 (st &gt;= 0 * 3600 &amp;&amp; st &lt;= 1 * 3600)) {\n        mp3[id] = true;\n      }\n    }\n  }\n  cout &lt;&lt; mp1.size() &lt;&lt; &#039; &#039; &lt;&lt; mp2.size() &lt;&lt; &#039; &#039; &lt;&lt; mp3.size() &lt;&lt; &#039;\\n&#039;;\n}\nK å¯ä»¥åˆ†å¼€å—ï¼Ÿ\né¢˜æ„\næœ‰ä¸€å—n\\times mçš„æ–¹å—ç»„æˆçš„çŸ©é˜µï¼Œå…¶ä¸­æœ‰ä¸€äº›è“è‰²æ–¹å—ï¼Œå…¶ä½™ä¸ºç°è‰²æ–¹å—ï¼Œå®šä¹‰ä¸¤å—æ–¹å—çš„è¿é€šçš„ï¼šåªæœ‰å½“ä¸¤å—æ–¹å—åœ¨å››è¿é€šæ–¹å‘æœ‰å…±è¾¹ã€‚\nå½“ä¸€ä¸ªè“è‰²æå¤§è¿é€šå—å¯ä»¥è„±ç¦»çŸ©é˜µæ—¶ï¼Œå…¶ä»»ä½•è“è‰²æ–¹å—ä¸ä¸ä»»ä½•ç°è‰²æ–¹å—æœ‰å…±è¾¹ã€‚ç°åœ¨å…ˆåœ¨çŸ©é˜µä¸­é€šè¿‡ç§»é™¤ç°è‰²æ–¹å—ï¼Œå–å‡ºä¸€ä¸ªè“è‰²æå¤§è¿é€šå—ï¼Œæ±‚æœ€å°‘çš„æ“ä½œæ¬¡æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m\\leq 500\n\næ€è·¯\nå¹¶æŸ¥é›†ã€‚\néå†æ‰€æœ‰çš„è“è‰²æ–¹å—ï¼Œå¹¶æŸ¥é›†ç»´æŠ¤æ¯ä¸ªè“è‰²æ–¹å—å¯»æ‰¾å®ƒå±äºçš„è“è‰²æå¤§è¿é€šå—ï¼Œå†é€šè¿‡éå†è¿™äº›è¿é€šå—çš„æ¯ä¸ªå°æ–¹å—çš„å‘¨å›´å››æ ¼ï¼Œç»Ÿè®¡éœ€è¦æ•²æ‰çš„ç°è‰²æ–¹å—çš„æ•°é‡ã€‚\nä»£ç \nll n, m;\nll a[maxn], b[maxn];\nll fa[maxn];\nchar maz[600][600];\n \nll find(ll x) {\n  if (fa[x] == x) {\n    return x;\n  }\n  return fa[x] = find(fa[x]);\n}\nvoid merge(ll u, ll v) {\n  ll fu = find(u), fv = find(v);\n  if (fu == fv) {\n    return;\n  }\n  fa[fu] = fv;\n}\nvector&lt;pll&gt; dxy = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};\n \nvoid solve() {\n  cin &gt;&gt; n &gt;&gt; m;\n \n  for (ll i = 0; i &lt;= (n + 5) * (m + 5); i++) {\n    fa[i] = i;\n  }\n \n  vector&lt;pll&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    for (ll j = 1; j &lt;= m; j++) {\n      cin &gt;&gt; maz[i][j];\n      if (maz[i][j] == &#039;1&#039;) {\n        v.push_back({i, j});\n      }\n    }\n  }\n \n  // å¹¶æŸ¥é›†\n  for (auto [x, y] : v) {\n    for (auto [dx, dy] : dxy) {\n      ll px = dx + x, py = dy + y;\n      if (maz[px][py] == &#039;1&#039;) {\n        merge((px - 1) * m + py, (x - 1) * m + y);\n      }\n    }\n  }\n  map&lt;ll, vector&lt;pll&gt;&gt; mp;\n  for (auto i : v) {\n    ll x = (i.first - 1) * m + i.second;\n    ll fx = find(x);\n    mp[fx].push_back(i);\n  }\n \n  ll res = n * m - v.size();\n  for (auto [i, vi] : mp) {\n    set&lt;pll&gt; st;\n    for (auto [x, y] : vi) {\n      for (auto [dx, dy] : dxy) {\n        ll px = dx + x, py = dy + y;\n        if (px &lt; 1 || px &gt; n || py &lt; 1 || py &gt; m)\n          continue;\n        if (maz[px][py] == &#039;0&#039;) {\n          st.insert({px, py});\n        }\n      }\n    }\n    res = min(res, (ll)st.size());\n  }\n  cout &lt;&lt; res &lt;&lt; &#039;\\n&#039;;\n}\nL\né¢˜æ„\næ•°æ®èŒƒå›´\næ€è·¯\nä»£ç \nM é‚£æ˜¯æˆ‘ä»¬çš„å½±å­\né¢˜æ„\nåœ¨3\\times nçš„çŸ©é˜µä¸­ï¼Œæ¯ä¸ªæ ¼å­è¦ä¹ˆæ˜¯1\\sim 9çš„æ•°å­—ï¼Œè¦ä¹ˆæ˜¯?ã€‚æ±‚å°†æ‰€æœ‰çš„?å¡«å…¥1\\sim 9çš„æ•°å­—ï¼Œä»»æ„3\\times 3çš„ä¹å®«æ ¼ä¸­çš„æ•°å­—éƒ½ä¸é‡å¤ï¼Œæ±‚åˆæ³•çš„å¡«å†™æ–¹å¼çš„æ•°é‡ï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡ã€‚\næ•°æ®èŒƒå›´\n\n3\\leq n\\leq 1e5\n\næ€è·¯\næ˜“çŸ¥ï¼Œæ‰€æœ‰i\\mod 3ç›¸åŒçš„åˆ—çš„æ•°å­—ç»„æˆéƒ½æ˜¯ä¸€æ ·çš„ã€‚\nå‡ ç§æ— åˆæ³•è§£çš„æƒ…å†µï¼š\n\næŸä¸€åˆ—æœ‰é‡å¤çš„æ•°å­—\næŸä¸ªi\\mod 3çš„ç»„ä¸­æ•°å­—çš„ç§æ•°å¤šäº 3 ç§\n\næ’é™¤ä¸åˆæ³•çš„æƒ…å†µåï¼Œè¿›è¡Œæ’åˆ—ç»„åˆï¼Œå°†æ‰€æœ‰ä¹å®«æ ¼çš„æ•°å­—ä½ç½®æƒ…å†µæ±‡æ€»æˆä¸€ä¸ªæ ‡å‡†ä¹å®«æ ¼åï¼Œé‡Œé¢æœ‰ä¸€äº›ä½ç½®ä¾ç„¶æ˜¯?ï¼Œæ•°å­—ä¸ç¡®å®šï¼Œè¿™äº›ä¸ç¡®å®šçš„kä¸ªä½ç½®å¯¹åº”kä¸ªæ²¡æœ‰å‡ºç°è¿‡çš„æ•°å­—ï¼Œå°†å…¶åˆ†æˆ3ç»„ï¼Œåˆ†åˆ«å¯¹åº”æ¯åˆ—çš„ç©ºç¼ºä½ï¼Œè¿™æ ·çš„ç»„åˆæ–¹æ³•æœ‰\\binom{k}{col_0}\\times \\binom{k-col_0}{col_1}\\times \\binom{k-col_0-col_1}{col_2}ç§ã€‚\nå®Œæˆä¸Šé¢è¿™ä¸€æ­¥ä¹‹åï¼Œç›¸å½“äºä¹å®«æ ¼çš„æ¯åˆ—å¯¹åº”çš„æ•°é›†åˆæ˜¯ç¡®å®šçš„ã€‚æ¥ä¸‹æ¥éå†æ¯ä¸€åˆ—ï¼Œä¹˜ä¸Šåœ¨ç©ºç¼ºä½ä¸Šçš„å…¨æ’åˆ—æ•°ã€‚\nä»£ç \n#include &lt;bits/stdc++.h&gt;\n \nusing namespace std;\n \ntypedef double ld;\ntypedef unsigned long ul;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair&lt;ll, ll&gt; pll;\n \nconst ll maxn = 2e6 + 50;\nconst ll inf = 0x3f3f3f3f3f;\nconst ll mo998 = 998244353;\nconst ll mo1e9 = 1000000007;\n \nll qpow(ll a, ll b) {\n  ll ret = 1;\n  while (b) {\n    if (b &amp; 1)\n      ret = (ret * a) % mo1e9;\n    a = a * a % mo1e9;\n    b &gt;&gt;= 1;\n  }\n  return ret;\n}\nll inv(ll x) { return qpow(x, mo1e9 - 2); }\n \n// é€†å…ƒæ±‚ç»„åˆæ•°\nll fz[maxn], fm[maxn];\nll C(ll n, ll m) {\n  if (n &lt; m)\n    return 0ll;\n  if (n == m)\n    return 1ll;\n  return fz[n] * fm[m] % mo1e9 * fm[n - m] % mo1e9;\n}\nll A(ll x, ll y) { return fz[x] * C(x, y) % mo1e9; }\n \nll maz[5][maxn];\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;string&gt; s(4);\n  cin &gt;&gt; s[1] &gt;&gt; s[2] &gt;&gt; s[3];\n \n  // ç¬¬0,3,6...ç›¸åŒï¼Œi%3ç›¸åŒçš„æ•°å­—ç»„æˆä¸€æ¨¡ä¸€æ ·\n  vector&lt;set&lt;ll&gt;&gt; col(5, set&lt;ll&gt;()); // ç¬¬0/1/2åˆ—çš„æ•°å­—\n  vector&lt;ll&gt; q(n + 10, 0ll);         // æ¯åˆ—çš„?æ•°é‡\n \n  for (ll i = 0; i &lt; n; i++) {\n    set&lt;ll&gt; tmp;\n    for (ll t = 1; t &lt;= 3; t++) {\n      char c = s[t][i];\n      if (c != &#039;?&#039;) {\n        maz[t][i] = c - &#039;0&#039;;\n        if (tmp.count(maz[t][i])) { // åˆ—æœ‰é‡å¤\n          cout &lt;&lt; &quot;0\\n&quot;;\n          return;\n        }\n        tmp.insert(maz[t][i]);\n        col[i % 3].insert(maz[t][i]);\n        if (col[i % 3].size() &gt; 3) { // ç§æ•°ä¸åˆæ³•\n          cout &lt;&lt; &quot;0\\n&quot;;\n          return;\n        }\n      } else {\n        maz[t][i] = -1;\n        q[i]++;\n      }\n    }\n  }\n \n  set&lt;ll&gt; usd;\n  for (ll i = 0; i &lt; 3; i++) {\n    for (auto j : col[i]) {\n      usd.insert(j);\n    }\n  }\n  vector&lt;ll&gt; v = {\n      3 - (ll)col[0].size(),\n      3 - (ll)col[1].size(),\n      3 - (ll)col[2].size(),\n  };\n  ll tot = v[0] + v[1] + v[2];\n  if (tot + usd.size() != 9) {\n    cout &lt;&lt; &quot;0\\n&quot;;\n    return;\n  }\n \n  ll ans = 1ll * C(tot, v[0]) * C(tot - v[0], v[1]) % mo1e9;\n \n  for (ll i = 0; i &lt; n; i++) {\n    ll k = q[i];\n    ans = ans * A(k, k) % mo1e9;\n  }\n \n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\n \nvoid init() {\n  ll w = maxn - 10;\n  fz[0] = fm[0] = 1;\n  for (ll i = 1; i &lt;= w; i++) {\n    fz[i] = fz[i - 1] * i % mo1e9;\n  }\n  fm[w] = inv(fz[w]);\n  for (ll i = w - 1; i &gt;= 1; i--) {\n    fm[i] = fm[i + 1] * (i + 1) % mo1e9;\n  }\n}\n \nint main(void) {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  ll _t = 1;\n  cin &gt;&gt; _t;\n  cin.get();\n  init();\n  while (_t--)\n    solve();\n \n  return 0;\n}"},"03-algorithm/nc25wd3":{"slug":"03-algorithm/nc25wd3","filePath":"03-algorithm/nc25wd3.md","title":"ğŸˆ2025ç‰›å®¢æš‘å¯’å‡å¤šæ ¡è®­ç»ƒè¥Day3ï¼ˆå®Œçµï¼‰","links":[],"tags":["2025å¯’å‡è®­ç»ƒ","å­—å…¸æ ‘","æ•°è®ºåˆ†å—","æ¢æ ¹dp","éšæœºåŒ–ç®—æ³•","æ¨¡æ‹Ÿ","STè¡¨","ç®—æ³•"],"content":"A æ™ºä¹ƒçš„åšå¼ˆæ¸¸æˆ\né¢˜æ„\næœ‰ä¸€å †nä¸ªçŸ³å­ï¼Œæ¯æ¬¡å¯ä»¥æ‹¿èµ°xä¸ªçŸ³å­ï¼Œè¦æ±‚xæ˜¯ä¸€ä¸ªä¸å¤§äºnä¸”ä¸näº’è´¨çš„æ•°ï¼Œå½“é¢å¯¹1æ—¶é€‰æ‰‹è·èƒœï¼Œè¯¢é—®æ™ºä¹ƒï¼ˆå…ˆæ‰‹ç©å®¶ï¼‰èƒ½å¦è·èƒœã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e18\n\næ€è·¯\nå¿…èƒœç‚¹æ˜¯å‰©ä½™ 1ï¼Œåˆ™ 2 æ˜¯å¿…è´¥ç‚¹ï¼Œä¸¤ä¸ªé€‰æ‰‹éƒ½ä¸å¸Œæœ›å¯¹æ‰‹é¢å¯¹ 1ï¼Œéƒ½å¸Œæœ›å¯¹æ‰‹é¢å¯¹ 2ã€‚\nå¦‚æœå½“å‰å‰©ä½™næ˜¯å¥‡æ•°ï¼Œåˆ™é€‰æ‰‹ä¸€å®šå¯ä»¥æ“ä½œå°†å‰©ä½™æ•°é‡å˜æˆå¶æ•°ï¼ˆåªæ‹¿ä¸€ä¸ªï¼‰ã€‚é¢å¯¹å¶æ•°çš„é€‰æ‰‹ï¼Œèƒ½é€‰çš„äº’è´¨çš„æ•°ä¸€å®šæ˜¯ä¸€ä¸ªå¥‡æ•°ï¼Œå¶æ•°å‡å»å¥‡æ•°ä¼šå˜æˆå¥‡æ•°ï¼Œä¸‹ä¸€è½®å›åˆ°å¥‡æ•°çš„æƒ…å†µï¼Œå¦‚æœæŸä¸€æ–¹ä¿æŒå¶æ•°ï¼Œä¸€å®šä¼šåˆ°å‰©ä½™2çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¿…è´¥ç‚¹ã€‚\näºæ˜¯æœ¬é¢˜åšå¼ˆå’Œåˆå§‹çŠ¶æ€çš„å¥‡å¶æ€§ç›¸å…³ã€‚\nä»£ç \nn = int(input())\nif n &amp; 1:\n    print(&quot;Yes&quot;)\nelse:\n    print(&quot;No&quot;)\nB æ™ºä¹ƒçš„è´¨æ•°æ‰‹ä¸²\né¢˜æ„\næœ‰ä¸€ä¸ªç¯å½¢çš„æ‰‹ä¸²ï¼Œç¬¬ä¸€ä¸ªå°çƒçš„ç¼–å·æ˜¯0ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªæ•°å­—a_0â€¦ç¬¬nä¸ªå°çƒçš„ç¼–å·æ˜¯n-1ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªæ•°å­—a_{n-1}ã€‚\néµå¾ªä»¥ä¸‹è§„åˆ™ï¼š\n\næ‰‹ä¸²ä¸Šåªæœ‰ä¸€ä¸ªå°çƒï¼Œåˆ™å¯ä»¥ç›´æ¥å–ä¸‹ã€‚\nè‹¥å½“å‰å°çƒä¸Šçš„æ•°å­—å’Œå…¶é¡ºæ—¶é’ˆç›¸é‚»çš„ä¸‹ä¸€ä¸ªå°çƒçš„æ•°å­—ç›¸åŠ çš„å’Œæ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œåˆ™å¯ä»¥æ‹¿ä¸‹å½“å‰çš„å°çƒã€‚\n\nç»™å‡ºæ‰‹ä¸²çš„ç»“æ„ï¼Œè¯·é—®æ˜¯å¦å¯ä»¥å°†å°çƒå…¨éƒ¨å–ä¸‹æ¥ï¼Œå–ä¸‹æ¥çš„åˆæ³•åºå·é¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq a_i\\leq 1e5\n\næ€è·¯\nå½“æ‰‹ä¸²æ˜¯é“¾çŠ¶çš„æ—¶å€™ï¼Œè‹¥è¦å°†ç¬¬ä¸€ä¸ªå–ä¸‹æ¥ï¼Œåˆ™éœ€è¦å°†åºå·å¤§äº 1 çš„ç¬¬ä¸€ä¸ªå°çƒå‰çš„æ‰€æœ‰å°çƒå–ä¸‹æ¥ï¼Œæˆ–è€…ç¬¬äºŒä¸ªå°çƒå‰çš„æ‰€æœ‰å°çƒå–ä¸‹æ¥â€¦å¾ˆæ˜æ˜¾è¿™æ˜¯ä¸€ä¸ªæ ˆçš„ç»“æ„ï¼Œå½“å°†è¦å…¥æ ˆçš„å°çƒå¯ä»¥å’Œæ ˆé¡¶çš„æ•°æ„æˆè´¨æ•°ï¼Œåˆ™è¿›è¡Œpopæ“ä½œï¼ŒçŸ¥é“æ ˆä¸ºç©ºæˆ–ä¸èƒ½æ„æˆè´¨æ•°ï¼Œæ‰åœæ­¢æ“ä½œï¼Œå°†å°çƒå…¥æ ˆã€‚\nè€Œåœ¨ç¯çŠ¶æ‰‹ä¸²ä¸Šï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åŒºé—´ï¼Œåœ¨è¿™ä¸ªåŒºé—´ä¸Šæµ‹è¯•æ˜¯å¦å­˜åœ¨æ ˆçš„å¤§å°åªå‰© 1 çš„æƒ…å†µï¼Œå½“æ ˆåº•çš„å°çƒçš„åºå·ä¸æ ˆé¡¶çš„åºå·è¶…è¿‡nçš„åŒºé—´é•¿åº¦ï¼Œéœ€è¦å°†æ ˆåº•çš„popï¼Œè¿™ä¸ªæ•°æ®ç»“æ„éœ€è¦æ”¯æŒä¸¤ç«¯çš„popæ“ä½œï¼Œåº”å½“ä½¿ç”¨dequeæ¨¡æ‹Ÿæ“ä½œã€‚\nä»£ç \n#include &lt;bits/stdc++.h&gt;\n \nusing namespace std;\n \ntypedef double ld;\ntypedef unsigned long ul;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair&lt;ll, ll&gt; pll;\n \nconst ll maxn = 2e6 + 50;\n \nll lowbit(ll x) { return x &amp; -x; }\n \nll a[maxn], b[maxn], c[maxn], d[maxn];\nll pre[maxn], suf[maxn];\nll diff[maxn];\nbool vis[maxn];\n \nvector&lt;ll&gt; primes;\nbool isprime[maxn];\nvoid init_prime() {\n  ll w = maxn - 1;\n  for (ll i = 0; i &lt;= w; i++) {\n    isprime[i] = true;\n  }\n  isprime[0] = isprime[1] = false;\n  for (ll i = 2; i &lt;= w; i++) {\n    if (!isprime[i])\n      continue;\n    for (ll j = 2 * i; j &lt;= w; j += i) {\n      isprime[j] = false;\n    }\n  }\n}\nvector&lt;vector&lt;ll&gt;&gt; factors;\nvoid init_factor() {\n  ll w = maxn - 1;\n  factors.assign(w + 1, vector&lt;ll&gt;());\n  for (ll i = 1; i &lt;= w; i++) {\n    for (ll j = i; j &lt;= w; j += i) {\n      factors[j].push_back(i);\n    }\n  }\n}\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 0; i &lt; n; i++) {\n    cin &gt;&gt; a[i];\n    a[i + n] = a[i];\n  }\n  deque&lt;pll&gt; q;\n  ll pos = -1;\n  for (ll i = 0; i &lt; 2 * n; i++) {\n    while (!q.empty() &amp;&amp; isprime[a[i] + q.back().first]) {\n      q.pop_back();\n    }\n    while (!q.empty() &amp;&amp; i - q.front().second + 1 &gt; n) {\n      q.pop_front();\n    }\n    q.push_back({a[i], i});\n    if (q.size() == 1 &amp;&amp; i &gt;= n) {\n      pos = i % n; // æœ€åä¸€ä¸ªå…¥æ ˆçš„æ•°\n      break;\n    }\n  }\n \n  if (pos == -1) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n  cout &lt;&lt; &quot;Yes\\n&quot;;\n  q.clear();\n  for (ll i = pos + 1; i &lt;= pos + n; i++) {\n    while (!q.empty() &amp;&amp; isprime[a[i] + q.back().first]) {\n      cout &lt;&lt; q.back().second &lt;&lt; &#039; &#039;;\n      q.pop_back();\n    }\n    q.push_back({a[i], i % n});\n  }\n  cout &lt;&lt; q.back().second &lt;&lt; &#039;\\n&#039;;\n}\n \nvoid init() { init_prime(); }\n \nint main(void) {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  ll _t = 1;\n  init();\n  while (_t--) {\n    solve();\n  }\n \n  return 0;\n}\nC æ™ºä¹ƒçš„ Notepad(Easy version)\né¢˜æ„\næœ‰nä¸ªå­—ç¬¦ä¸²ï¼Œéœ€è¦å°†å®ƒä»¬éƒ½å•ç‹¬å‘ˆç°åœ¨æ˜¾ç¤ºå±ä¸Šï¼Œåªèƒ½ä½¿ç”¨26ä¸ªå­—æ¯å’Œé€€æ ¼é”®(\\bå¯ä»¥åˆ å»ä¸€ä¸ªå­—ç¬¦)ï¼Œæé—®è‡³å°‘éœ€è¦æ•²å‡ ä¸‹é”®ç›˜ï¼Ÿ\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\nm=1\n\\sum|s_i|\\leq 1e6\n\næ€è·¯\nå½“ä¸¤ä¸ªå•è¯å‰ç¼€ç›¸åŒæ—¶ï¼Œå¯¹æ¯”åˆ†åˆ«æ‰“å°ä¸¤ä¸ªå•è¯ï¼Œå¯ä»¥å‡å°‘ä¸€ä¸ªå…¬å…±å‰ç¼€çš„é•¿åº¦çš„æ¬¡æ•°ï¼Œæœ€åå¯ä»¥æŠŠæœ€é•¿çš„å•è¯ç•™åœ¨å±å¹•ä¸Šã€‚\nè‹¥å»ºç«‹å­—å…¸æ ‘ï¼Œç­”æ¡ˆå°±æ˜¯å­—å…¸æ ‘ä¸Šè¾¹çš„æ•°é‡çš„ä¸¤å€å‡å»æœ€é•¿å•è¯çš„é•¿åº¦ã€‚\nä¹Ÿå¯ä»¥æ ¹æ®å­—å…¸åºæ’åºï¼Œä¹Ÿå¯ä»¥æŠŠå‰ç¼€ç›¸åŒçš„æ”¾åœ¨ç›¸é‚»çš„ä½ç½®ã€‚\nä»£ç ï¼šå­—å…¸åºæ’åº\nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  ll mx = 0;\n  vector&lt;string&gt; v;\n  for (ll i = 1; i &lt;= n; i++) {\n    string s;\n    cin &gt;&gt; s;\n    v.push_back(s);\n    mx = max((ll)s.size(), mx);\n  }\n  sort(v.begin(), v.end());\n  while (m--) {\n    ll l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    ll ans = v[0].size() * 2;\n    for (ll i = 1; i &lt; n; i++) {\n      ll j = 0;\n      ans += v[i].size() * 2;\n      while (j &lt; (ll)v[i - 1].size() &amp;&amp; j &lt; (ll)v[i].size() &amp;&amp;\n             v[i - 1][j] == v[i][j]) {\n        j++;\n      }\n      ans -= j * 2;\n    }\n    cout &lt;&lt; ans - mx &lt;&lt; &#039;\\n&#039;;\n  }\n}\nä»£ç ï¼šå­—å…¸æ ‘\nll tot = 0;\nll tree[maxn][26];\nbool exist[maxn];\nvoid insert(string s, ll n) {\n  ll p = 0;\n  for (ll i = 0; i &lt; n; i++) {\n    ll c = s[i] - &#039;a&#039;;\n    if (!tree[p][c]) {\n      tree[p][c] = ++tot;\n    }\n    p = tree[p][c];\n  }\n  exist[p] = true;\n}\n \nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  ll mx = 0;\n  for (ll i = 1; i &lt;= n; i++) {\n    string s;\n    cin &gt;&gt; s;\n    insert(s, s.size());\n    mx = max((ll)s.size(), mx);\n  }\n  while (m--) {\n    ll l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    ll ans = tot * 2 - mx;\n    cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n  }\n}\nD æ™ºä¹ƒçš„ Notepad(Hard version)\né¢˜æ„\næƒ…æ™¯åŒ C é¢˜ï¼Œåœ¨æ­¤ç‰ˆæœ¬ï¼Œéœ€è¦æ”¯æŒmæ¬¡æŸ¥è¯¢ï¼Œå¾—åˆ°å®Œæˆæ‰“å°åŒºé—´[l,r]å†…çš„å•è¯éœ€è¦çš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq m\\leq 1e5\n\\sum|s_i|\\leq 1e6\n\næ€è·¯\nç¦»çº¿å¤„ç†æŸ¥è¯¢çš„åŒºé—´ï¼ŒèŒƒå›´[l,r]å†…çš„æ“ä½œæ•°æ˜¯ä»¥[l,r]å†…çš„å•è¯å»ºç«‹çš„å­—å…¸æ ‘çš„è¾¹æ•° Ã—2-æœ€é•¿å•è¯é•¿åº¦ï¼Œè€ƒè™‘å­—å…¸æ ‘çš„å»ºæ ‘è¿‡ç¨‹ï¼Œæ¯ä¸ªå•è¯ä¼šè¦†ç›–å‰è‹¥å¹²ä¸ªå•è¯çš„éƒ¨åˆ†å‰ç¼€ï¼Œåœ¨è¦†ç›–çš„è¿‡ç¨‹ä¸­ï¼Œå‰é¢çš„å•è¯çš„è´¡çŒ®çš„ç‚¹æ•°éƒ¨åˆ†è½¬ç§»åˆ°å½“å‰çš„å•è¯ä¸Šï¼Œå°†å­—ç¬¦ä¸²çš„åºå·çœ‹ä½œä¸åŒçš„é¢œè‰²ï¼Œåœ¨ç€è‰²çš„è¿‡ç¨‹ä¸­ï¼Œæ›´æ–°å„ä¸ªé¢œè‰²å¯¹åº”çš„è´¡çŒ®ï¼Œåœ¨åŠ å…¥æ–°çš„å•è¯iæ—¶ï¼Œå¯ä»¥è®¡ç®—æ‰€æœ‰ä»¥iä¸ºå³ç«¯ç‚¹çš„æŸ¥è¯¢åŒºé—´çš„ç­”æ¡ˆã€‚\nä»£ç \nll lowbit(ll x) { return (x) &amp; (-x); }\n \nll n, m;\nll a[maxn], b[maxn], c[maxn];\n \nll bitree[maxn];          // BITæ ‘\nvoid update(ll p, ll x) { // å•ç‚¹ä¿®æ”¹a[p]+=x\n  while (p &amp;&amp; p &lt;= n) {\n    bitree[p] += x;\n    p += lowbit(p);\n  }\n}\nll query(ll n) {\n  ll ans = 0, p = n;\n  while (p) {\n    ans += bitree[p];\n    p -= lowbit(p);\n  }\n  return ans;\n}\nll query(ll l, ll r) { return query(r) - query(l - 1); }\n \nll tot = 0;\nll tree[maxn][26], clr[maxn];\nvoid insert(string s, ll t) {\n  ll n = s.size();\n  s = &quot; &quot; + s;\n  ll p = 0;\n  for (ll i = 1; i &lt;= n; i++) {\n    ll c = s[i] - &#039;a&#039;;\n    if (!tree[p][c]) {\n      tree[p][c] = ++tot;\n    }\n    p = tree[p][c];\n    if (clr[p]) {\n      update(clr[p], -1);\n    }\n    clr[p] = t; // å½“å‰é¢œè‰²\n    update(clr[p], 1);\n  }\n}\n \n// STè¡¨\nll dp[maxn][50]; // 0/1:æœ€å°å€¼/æœ€å¤§å€¼\nvoid rmq_st(ll n, vector&lt;ll&gt; &amp;v) {\n  for (ll i = 1; i &lt;= n; i++) {\n    dp[i][0] = v[i]; // 2^0\n  }\n  ll m = log(1 * n) / log(2.0);\n  for (ll j = 1; j &lt;= m; j++) {\n    ll t = n - (1 &lt;&lt; j) + 1;\n    for (ll i = 1; i &lt;= t; i++) {\n      dp[i][j] = max(dp[i][j - 1], dp[i + (1 &lt;&lt; (j - 1))][j - 1]);\n    }\n  }\n}\nll rmq_query(ll l, ll r) { // ä»lå¼€å§‹,é•¿åº¦ä¸ºrçš„åŒºé—´æœ€å¤§å€¼\n  ll k = log(1.0 * (r - l + 1)) / log(2.0);\n  ll mx = max(dp[l][k], dp[r - (1 &lt;&lt; k) + 1][k]);\n  return mx;\n}\n \nvoid solve() {\n  cin &gt;&gt; n &gt;&gt; m;\n \n  vector&lt;string&gt; s(n + 1);\n  vector&lt;ll&gt; sz(n + 1);\n \n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; s[i];\n    sz[i] = s[i].size();\n  }\n  rmq_st(n, sz);\n \n  vector&lt;array&lt;ll, 3&gt;&gt; v;\n  for (ll i = 1; i &lt;= m; i++) {\n    ll l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    v.push_back({r, l, i});\n  }\n  sort(v.begin(), v.end());\n \n  ll cr = 0;\n  for (auto [r, l, i] : v) {\n    while (cr &lt; r) {\n      cr++;\n      insert(s[cr], cr);\n    }\n    a[i] = 2 * query(l, r) - rmq_query(l, r);\n  }\n  for (ll i = 1; i &lt;= m; i++) {\n    cout &lt;&lt; a[i] &lt;&lt; &#039;\\n&#039;;\n  }\n}\nE æ™ºä¹ƒçš„å°çƒ\né¢˜æ„\nåœ¨æ°´å¹³çº¿ä¸Šæœ‰nä¸ªå°çƒï¼Œæ¯ä¸ªå°çƒæœ‰ä¸€ä¸ªåˆå§‹é€Ÿåº¦ï¼Œè®°å‘å³ä¸ºæ­£ï¼Œå°çƒçš„åˆå§‹é€Ÿåº¦è¦ä¹ˆä¸º1m/sï¼Œè¦ä¹ˆä¸º-1m/sï¼Œå…¶è´¨é‡éƒ½ç›¸åŒï¼Œåæ ‡ä¸ºp_iã€‚è¯¢é—®åœ¨è¶³å¤Ÿé•¿çš„æ—¶é—´å†…ï¼Œèƒ½å¦å‘ç”Ÿkæ¬¡ç¢°æ’ï¼Œä»¥åŠç¬¬kæ¬¡ç¢°æ’å‘ç”Ÿçš„æ—¶é—´ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq k\\leq 1e9\n0\\leq p_i\\leq 1e9,v_i\\in \\{-1,1\\}\n\nä¿è¯ä¸€å¼€å§‹æ‰€æœ‰çš„å°çƒä½ç½®ä¸åŒã€‚\næ€è·¯\næ ¹æ®é«˜ä¸­ç‰©ç†å¸¸è¯†ï¼Œæ˜“å¾—ï¼Œå½“ä¸¤ä¸ªè´¨é‡ç›¸åŒçš„å°çƒç›¸å‘ç¢°æ’ï¼Œä¼šäº¤æ¢å½¼æ­¤çš„é€Ÿåº¦ã€‚ç”±äºæœ¬é¢˜ä¸­æ‰€æœ‰å°çƒçš„é€Ÿåº¦éƒ½æ˜¯1m/sæˆ–-1m/sï¼Œå¯ä»¥æŠŠäº¤æ¢é€Ÿåº¦çœ‹ä½œä¸¤ä¸ªå°çƒäº’ç›¸ç©¿è¿‡å¯¹æ–¹ï¼Œä¾ç„¶æŒ‰ç…§åŸæ¥çš„é€Ÿåº¦å‘å‰è¿åŠ¨ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬é¢˜è¯¢é—®è‹¥å¹²å‘å³çš„å°çƒå’Œå‘å·¦çš„å°çƒèƒ½ç›¸é‡å¤šå°‘æ¬¡ï¼Œè¿™ä¸ªå€¼å¯ä»¥æšä¸¾æŸä¸ªæ–¹å‘çš„å°çƒçš„åˆå§‹ä½ç½®ï¼Œå†åœ¨å¦ä¸€ä¸ªæ–¹å‘çš„å°çƒä¸­äºŒåˆ†æŸ¥æ‰¾å½“å‰çš„å°çƒä¼šé‡åˆ°å¤šå°‘ç›¸å‘çš„å°çƒï¼Œå†å¯¹æ—¶é—´è¿›è¡ŒäºŒåˆ†ã€‚\nç¬¬kæ¬¡ç¢°æ’çš„æ—¶åˆ»çš„å€¼å¤§æ¦‚ç‡æ˜¯æµ®ç‚¹æ•°ï¼Œåœ¨äºŒåˆ†æ—¶é—´çš„æ—¶å€™æ³¨æ„ç²¾åº¦ä¸è¦å¤ªå°ï¼Œå®¹æ˜“è¶…æ—¶ã€‚\nä»£ç \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n  vector&lt;ld&gt; v1, v2;\n  for (ll i = 1; i &lt;= n; i++) {\n    ll p, v;\n    cin &gt;&gt; p &gt;&gt; v;\n    if (v == 1)\n      v1.push_back(p);\n    else\n      v2.push_back(p);\n  }\n  sort(v1.begin(), v1.end()), sort(v2.begin(), v2.end());\n  // kå¯è¡Œæ€§\n  ll mk = 0;\n  for (ll pi : v1) {\n    mk += v2.end() - upper_bound(v2.begin(), v2.end(), pi);\n  }\n  if (k &gt; mk) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n \n  auto check = [&amp;](ld t) {\n    // è¿™æ®µæ—¶é—´å†…çš„ç¢°æ’æ¬¡æ•°\n    ll tot = 0;\n    t /= 1e7;\n    for (ll pi : v1) {\n      ll t1 = v2.end() - lower_bound(v2.begin(), v2.end(), pi);\n      ll t2 = v2.end() - lower_bound(v2.begin(), v2.end(), pi + 2 * t);\n      ll ti = t1 - t2;\n      tot += ti;\n    }\n    return tot;\n  };\n  ll l = 0, r = 1e16;\n  while (l + 1 &lt; r) { // [l,r]\n    ll mid = (l + r) / 2;\n    if (check(mid) &gt;= k) {\n      r = mid;\n    } else {\n      l = mid;\n    }\n  }\n  cout &lt;&lt; &quot;Yes\\n&quot;;\n  cout &lt;&lt; fixed &lt;&lt; setprecision(9) &lt;&lt; 1.0 * l / 1e7 &lt;&lt; &#039;\\n&#039;;\n}\nF æ™ºä¹ƒçš„æ‰è¿·è—\né¢˜æ„\nåœ¨ä¸‰è§’å½¢çš„ä¸‰ä¸ªè§’å’Œä¸‰æ¡è¾¹ç€ 6 ä¸ªä½ç½®åˆ†åˆ«è®¾è®¡æ”¾å¤šå°‘äººï¼Œäººæ•°æ€»å’Œæ˜¯nï¼Œè®© Aã€Bã€C ä¸‰ä¸ªäººåˆ†åˆ«èƒ½çœ‹åˆ° aã€bã€c æ•°é‡çš„äººã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 20\n1\\leq a,b,c\\leq n\n\næ€è·¯\nèµ›æ—¶æ˜¯ç›´æ¥å†²äº† 6 é‡å¾ªç¯ï¼Œæš´åŠ› for éå†æšä¸¾ 6 ä¸ªä½ç½®çš„æ•°é‡å¯ä»¥é€šè¿‡æ­¤é¢˜ï¼ˆæ³¨æ„è¾¹ç•Œï¼‰ã€‚\nä¹Ÿå¯ä»¥ä»…æšä¸¾ 3 ä¸ªé¡¶ç‚¹çš„ä½ç½®ï¼Œè®¡ç®—ä¸‰è¾¹ä½ç½®çš„å€¼ï¼Œåˆ¤æ–­æˆç«‹æ¡ä»¶ã€‚\nä»£ç ï¼šæšä¸¾ 6 ä½\nvoid solve() {\n  ll n, a, b, c;\n  cin &gt;&gt; n &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n  bool flag = false;\n  for (ll i = 0; i &lt;= n; i++) {\n    for (ll j = 0; j + i &lt;= n; j++) {\n      for (ll k = 0; k + j + i &lt;= n; k++) {\n        for (ll x = 0; x + k + j + i &lt;= n; x++) {\n          for (ll y = 0; y + x + k + j + i &lt;= n; y++) {\n            ll z = n - (y + x + k + j + i);\n            if (x + y + z == a &amp;&amp; z + i + j == b &amp;&amp; x + k + j == c) {\n              flag = true;\n              break;\n            }\n          }\n          if (flag)\n            break;\n        }\n        if (flag)\n          break;\n      }\n      if (flag)\n        break;\n    }\n    if (flag)\n      break;\n  }\n  if (flag) {\n    cout &lt;&lt; &quot;Yes\\n&quot;;\n \n  } else {\n    cout &lt;&lt; &quot;No\\n&quot;;\n  }\n}\nä»£ç ï¼šæšä¸¾ 3 ä½\nvoid solve() {\n  ll n, a, b, c;\n  cin &gt;&gt; n &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n  for (ll i = 0; i &lt;= n; i++) {\n    for (ll j = 0; i + j &lt;= n; j++) {\n      for (ll k = 0; i + j + k &lt;= n; k++) {\n        // æšä¸¾1 3 5å·ä½ç½®\n        ll x = a - i - j, y = b - j - k, z = c - i - k;\n        if (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; (i + j + k + x + y + z == n)) {\n          cout &lt;&lt; &quot;Yes\\n&quot;;\n          return;\n        }\n      }\n    }\n  }\n  cout &lt;&lt; &quot;No\\n&quot;;\n}\nG æ™ºä¹ƒä¸æ¨¡æ•°\né¢˜æ„\nå¯¹ä¸€ä¸ªæ­£æ•´æ•°nï¼Œé€‰æ‹©æ‰€æœ‰1\\leq i\\leq nçš„iä½œä¸ºæ¨¡æ•°ï¼Œè®°å½•ä½™æ•°åºåˆ—ï¼Œå†å°†ä½™æ•°åºåˆ—é™åºæ’åˆ—ï¼Œæ±‚å‰kå¤§çš„æ•°ä¹‹å’Œã€‚\næ•°æ®èŒƒå›´\n\n1\\leq k\\leq n\\leq 1e9\n\næ€è·¯\nåˆ†å—ï¼Œæšä¸¾å•†ï¼Œåœ¨å•†æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå•†æ˜¯è¿ç»­æœ‰å€¼çš„ï¼Œå½“å•†æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°å•†å’Œå•†ä¹‹é—´ä¸å†è¿ç»­ï¼Œå¦‚n=5æ—¶ï¼Œå•†ä¸º1çš„æœ‰\\{5,4,3\\}ï¼Œå•†ä¸º2çš„æœ‰\\{2\\}ï¼Œå•†ä¸º3,4çš„é›†åˆéƒ½æ˜¯ç©ºçš„ï¼Œå•†ä¸º5çš„é›†åˆæ˜¯\\{1\\}ï¼Œå¯¹æ¯ä¸ªå•†ç›¸åŒçš„é›†åˆï¼Œå¯ä»¥å‘ç°å…¶ä½™æ•°ç¬¦åˆç­‰å·®æ•°åˆ—çš„è§„å¾‹ï¼Œå…¬å·®æ˜¯å•†çš„å€¼ã€‚å•†ä¸è¿ç»­çš„æƒ…å†µçš„æ•°å€¼èŒƒå›´æ¯”è¾ƒå°ï¼Œå¯ä»¥é€šè¿‡æ‰“è¡¨è®°å½•è¿™éƒ¨åˆ†çš„ä½™æ•°ã€‚\näºŒåˆ†æ‰¾å‡ºç¬¬kå¤§çš„ä½™æ•°çš„å€¼ï¼Œå†åœ¨æ¯ä¸ªæŒ‰å•†åˆ†å—çš„é›†åˆä¸­ï¼Œåˆ©ç”¨ç­‰å·®æ•°åˆ—å…¬å¼ï¼Œè®¡ç®—ä½™æ•°å¤§äºç­‰äºkçš„ä½™æ•°ä¹‹å’Œï¼Œå†å‡å»å¤šç®—çš„æ•°é‡ï¼ˆè¿™éƒ¨åˆ†å¤šç®—çš„æ•°éƒ½æ˜¯ä½™æ•°æ•°å€¼ä¸ºkçš„æ•°ï¼‰ã€‚\nä»£ç \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n \n  vector&lt;pll&gt; v;\n  vector&lt;ll&gt; w;\n  for (ll i = 1; i &lt;= n; i++) {\n    if (n / (n / i) == i) {\n      ll l = n / (i + 1) + 1, r = n / i;\n      v.push_back({l, r});\n    } else {\n      v.push_back({1, n / i});\n      for (ll j = 1; j &lt;= n / i; j++) { // æ‰“è¡¨å•†ä¸è¿ç»­çš„éƒ¨åˆ†\n        w.push_back(n % j);\n      }\n      break;\n    }\n  }\n  sort(w.begin(), w.end());\n \n  ll ans = 0ll, cnt = 0ll;\n  auto check = [&amp;](ll x) {\n    // ç»Ÿè®¡æœ‰å¤šå°‘å¤§äºç­‰äºkçš„\n    ll ret = 0ll;\n    ans = 0ll;\n    for (auto &amp;[l, r] : v) {\n      ll s = n / r, t = (r - l + 1);\n      if (n / l != s) {\n        for (auto p = lower_bound(w.begin(), w.end(), x); p != w.end(); p++) {\n          ret++;\n          ans += *p;\n        }\n        break;\n      }\n      ll at = n % l, a1 = n % r, d = s;\n      if (x &lt;= a1) {\n        ll j = t;\n        ret += j, ans += (at + a1) * j / 2;\n        continue;\n      }\n      ll ti = (x - a1) / d + 2 - ((x - a1) % d == 0);\n      ll j = max(0ll, t - ti + 1);\n      ret += j, ans += (at + a1 + (t - j) * d) * j / 2;\n    }\n    cnt = ret;\n    return ret;\n  };\n  ll l = 0, r = n;\n  while (l + 1 &lt; r) {\n    ll mid = (l + r) / 2;\n    if (check(mid) &gt;= k) {\n      l = mid;\n    } else {\n      r = mid;\n    }\n  }\n  ans -= (cnt - k) * l;\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nç±»ä¼¼é¢˜ï¼šå› æ•°ä¸ªæ•°å’Œ\nH æ™ºä¹ƒä¸é»‘ç™½æ ‘\né¢˜æ„\nä¸€æ£µèŠ‚ç‚¹æ•°ä¸ºnçš„é»‘ç™½æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸ºé»‘è‰²æˆ–ç™½è‰²ï¼Œå®šä¹‰ä¸€æ£µé»‘ç™½æ ‘çš„æƒå€¼æ˜¯æ ‘ä¸­æ‰€æœ‰é»‘è‰²èŠ‚ç‚¹åˆ°ç™½è‰²èŠ‚ç‚¹çš„ç®€å•è·¯å¾„é•¿åº¦ä¹‹å’Œï¼Œè·¯å¾„é•¿åº¦æ˜¯è·¯å¾„ä¸­ç»è¿‡è¾¹çš„æ•°é‡ã€‚\nè¯¢é—®å¦‚æœåˆ‡æ‰ç¬¬iæ¡è¾¹ï¼Œäº§ç”Ÿçš„ä¸¤æ£µå­æ ‘çš„æƒå€¼åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ\næ•°æ®èŒƒå›´\n\n2\\leq n\\leq 1e5\n\næ€è·¯\næ¢æ ¹æ›´æ–°ä»¥iä¸ºæ ¹çš„å­æ ‘çš„æƒå€¼ã€‚\n{{&lt; mermaid &gt;}}\nflowchart TB\nc1((p))-.è¿æ¥.â†’a1((v))\nsubgraph å­æ ‘v\na1â‡’a2((s1))\na1â‡’a3((s2))\nend\nsubgraph å½“å‰çš„æ ‘p\nc1â‡’c2((s1))\nc1â‡’c3((s2))\nend\n{{&lt; /mermaid &gt;}}\nå¦‚å›¾ï¼Œå½“å‰çš„æ“ä½œæ˜¯å°†å­æ ‘vçš„ä¿¡æ¯æ›´æ–°åˆ°ä»¥pä¸ºæ ¹çš„æ ‘ä¸Šï¼Œè®°ä»¥iä¸ºæ ¹çš„å­æ ‘çš„é»‘/ç™½è‰²èŠ‚ç‚¹æ•°æ˜¯num[i][0/1]ï¼Œå­æ ‘iä¸­çš„é»‘/ç™½è‰²èŠ‚ç‚¹åˆ°æ ¹içš„è·ç¦»ä¹‹å’Œæ˜¯g[i][0/1]ï¼Œf[i]ä¸ºå­æ ‘içš„æƒå€¼ï¼Œé‚£ä¹ˆåœ¨ dfs é€’å½’æ›´æ–°çš„æ—¶å€™ï¼Œè½¬ç§»æ˜¯ï¼š\nvoid pushup(ll rt, ll p) { // æ›´æ–°ä»¥rtä¸ºæ ¹ï¼Œpä¸ºå­èŠ‚ç‚¹çš„ä¿¡æ¯\n  f[rt] += f[p] + g[rt][0] * num[p][1] + g[rt][1] * num[p][0] +\n           (num[p][0] + g[p][0]) * num[rt][1] +\n           (num[p][1] + g[p][1]) * num[rt][0];\n  g[rt][0] += num[p][0] + g[p][0], g[rt][1] += num[p][1] + g[p][1];\n  num[rt][0] += num[p][0], num[rt][1] += num[p][1];\n}\nè€Œåˆ è¾¹çš„æ—¶å€™è½¬ç§»æ˜¯åè¿‡æ¥ï¼š\nvoid cutlink(ll rt, ll p) { // åˆ‡æ–­rtä¸ºçˆ¶èŠ‚ç‚¹çš„å­æ ‘p\n  g[rt][0] -= num[p][0] + g[p][0], g[rt][1] -= num[p][1] + g[p][1];\n  num[rt][0] -= num[p][0], num[rt][1] -= num[p][1];\n  f[rt] -= f[p] + g[rt][0] * num[p][1] + g[rt][1] * num[p][0] +\n           (num[p][0] + g[p][0]) * num[rt][1] +\n           (num[p][1] + g[p][1]) * num[rt][0];\n}\nåœ¨åˆ‡è¾¹çš„æ—¶å€™ï¼ŒæŒ‰é¡ºåºæ¢æ ¹ï¼Œæ›´æ–°æƒå€¼ã€‚\nä»£ç \nll f[maxn], g[maxn][2], num[maxn][2], clr[maxn];\nll fa[maxn];\nvector&lt;vector&lt;ll&gt;&gt; tree;\nvoid add_edge(ll u, ll v) {\n  tree[u].push_back(v);\n  tree[v].push_back(u);\n}\n \nvoid pushup(ll rt, ll p) { // æ›´æ–°ä»¥rtä¸ºæ ¹ï¼Œpä¸ºå­èŠ‚ç‚¹çš„ä¿¡æ¯\n  f[rt] += f[p] + g[rt][0] * num[p][1] + g[rt][1] * num[p][0] +\n           (num[p][0] + g[p][0]) * num[rt][1] +\n           (num[p][1] + g[p][1]) * num[rt][0];\n  g[rt][0] += num[p][0] + g[p][0], g[rt][1] += num[p][1] + g[p][1];\n  num[rt][0] += num[p][0], num[rt][1] += num[p][1];\n}\nvoid cutlink(ll rt, ll p) { // åˆ‡æ–­rtä¸ºçˆ¶èŠ‚ç‚¹çš„å­æ ‘p\n  g[rt][0] -= num[p][0] + g[p][0], g[rt][1] -= num[p][1] + g[p][1];\n  num[rt][0] -= num[p][0], num[rt][1] -= num[p][1];\n  f[rt] -= f[p] + g[rt][0] * num[p][1] + g[rt][1] * num[p][0] +\n           (num[p][0] + g[p][0]) * num[rt][1] +\n           (num[p][1] + g[p][1]) * num[rt][0];\n}\n \nvoid dfs(ll p, ll fr) {\n  fa[p] = fr;\n  num[p][clr[p]]++;\n  for (auto v : tree[p]) {\n    if (v == fr)\n      continue;\n    dfs(v, p);\n    pushup(p, v);\n  }\n}\n \nvoid solve() {\n  ll n;\n  string s;\n  cin &gt;&gt; n &gt;&gt; s;\n  s = &quot; &quot; + s;\n  for (ll i = 1; i &lt;= n; i++) {\n    clr[i] = s[i] == &#039;w&#039;;\n  }\n  tree.assign(n + 1, vector&lt;ll&gt;());\n  vector&lt;pll&gt; ve;\n  for (ll i = 1; i &lt;= n - 1; i++) {\n    ll u, v;\n    cin &gt;&gt; u &gt;&gt; v;\n    add_edge(u, v);\n    ve.push_back({u, v});\n  }\n  ll cur = 1; // å½“å‰æ ¹èŠ‚ç‚¹\n  dfs(cur, -1);\n  for (auto [u, v] : ve) {\n    ll p;\n    if (fa[v] == u)\n      p = v;\n    else\n      p = u;\n    vector&lt;pll&gt; w;\n    while (p != cur) {\n      w.push_back({fa[p], p}); // è¦åˆ‡é™¤çš„è¾¹\n      p = fa[p];\n    }\n    reverse(w.begin(), w.end());\n    for (ll k = 0; k &lt; (ll)w.size(); k++) {\n      auto [i, j] = w[k];\n      // å°†i&lt;-jå˜æˆj-&gt;i\n      cutlink(i, j);\n      if (k == (ll)w.size() - 1)\n        cout &lt;&lt; f[u] &lt;&lt; &#039; &#039; &lt;&lt; f[v] &lt;&lt; &#039;\\n&#039;;\n      pushup(j, i);\n      fa[i] = j;\n      cur = j;\n    }\n  }\n}\nç±»ä¼¼æï¼šæ ‘å­¦\nI æ™ºä¹ƒçš„å…”å­è·³\né¢˜æ„\nåœ¨åæ ‡\\{x_1,x_2,\\dots ,x_n\\}ä¸Šå„æœ‰ä¸€ä¸ªèƒ¡èåœï¼Œè¿™nä¸ªèƒ¡èåœçš„åæ ‡å„ä¸é‡åˆï¼Œå…”å­è¦é€‰æ‹©ä¸€ä¸ªèµ·å§‹åæ ‡på’Œä¸€ä¸ªè·³è·ƒæ­¥é•¿kï¼Œä»¥è·å¾—æœ€å¤šçš„èƒ¡èåœä¸ªæ•°ã€‚æ±‚å‡ºè·å¾—æœ€å¤šèƒ¡èåœçš„på’Œkã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n1\\leq x_i\\leq 1e9\n0\\leq p\\leq 1e9\n2\\leq k\\leq 1e9\n\næ€è·¯\néšæœºåŒ–ç®—æ³•ï¼Œå¦‚æœæ¯ä¸ªåæ ‡ä¸Šéƒ½æœ‰èƒ¡èåœï¼Œè®¾è®¡æ­¥é•¿ä¸º 2ï¼Œå¯ä»¥è·å¾—\\max \\text{(å¥‡æ•°ä¸ªæ•°,å¶æ•°ä¸ªæ•°)}ä¸ªèƒ¡èåœï¼Œä»»é€‰ä¸¤ä¸ªèƒ¡èåœï¼Œåœ¨æœ€ä½³æ–¹æ¡ˆä¸­çš„æ¦‚ç‡ä¼šå¤§äº\\frac{1}{2}\\times \\frac{1}{2}ï¼Œéšæœºé€‰æ‹©ä¸¤ä¸ªèƒ¡èåœï¼Œæšä¸¾å…¶è·ç¦»çš„è´¨å› æ•°ï¼Œæ›´æ–°æœ€ä¼˜çš„æ–¹æ¡ˆï¼Œéšæœºçš„æ¬¡æ•°ä¸è¶…è¿‡å¯è¡Œçš„æ—¶é—´å¤æ‚åº¦å³å¯ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n \n  if (n == 1) {\n    cout &lt;&lt; a[1] &lt;&lt; &quot; 2\\n&quot;;\n    return;\n  }\n \n  ll ans = 0, pi = a[1], ki = 2;\n  auto update = [&amp;](ll p, ll k) {\n    ll cnt = 0;\n    for (ll i = 1; i &lt;= n; i++) {\n      if ((a[i] - p) % k == 0)\n        cnt++;\n    }\n    if (cnt &gt; ans) {\n      ans = cnt;\n      pi = p, ki = k;\n    }\n  };\n \n  auto check = [&amp;](ll x, ll y) {\n    x = a[x], y = a[y];\n    ll d = abs(y - x);\n    ll k = d;\n    ll p = x % k;\n    for (ll t = 2; t * t &lt;= d; t++) {\n      if (d % t == 0) {\n        while (d % t == 0)\n          d /= t;\n        k = t;\n        p = x % k;\n        update(p, k);\n      }\n    }\n \n    if (d &gt; 1) {\n      k = d;\n      p = x % k;\n      update(p, k);\n    }\n  };\n \n  random_device rd;\n  mt19937 gen(rd());\n  uniform_int_distribution&lt;&gt; rnd(1, n);\n \n  ll tot = 100;\n  while (tot--) {\n    ll i = rnd(gen);\n    ll j = rnd(gen);\n    while (i == j) {\n      j = rnd(gen);\n    }\n    if (abs(a[i] - a[j]) &lt;= 1)\n      continue;\n    check(i, j);\n  }\n \n  cout &lt;&lt; pi &lt;&lt; &#039; &#039; &lt;&lt; ki &lt;&lt; &#039;\\n&#039;;\n}\nJ æ™ºä¹ƒç”»äºŒå‰æ ‘\né¢˜æ„\nä½¿ç”¨\\ã€/ã€_ç”»å…­è¾¹å½¢äºŒå‰æ ‘ï¼Œå½¢ä¼¼ï¼š\n\nè¦å»æ‰ä¸å­˜åœ¨çš„èŠ‚ç‚¹ï¼Œå¹¶ç”¨ä¸€åœˆ*åŒºåˆ†èŒƒå›´ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 99\n1\\leq k\\leq 7\n\næ€è·¯\nå…ˆç”»å‡ºæ»¡äºŒå‰æ ‘ï¼Œå†æ ¹æ®æ ‘çš„ç»“æ„å¡«å†™åºå·å’Œåˆ å»èŠ‚ç‚¹ã€‚\nä»£ç \nll a[maxn], b[maxn];\nll fa[maxn];\n \nll tot;\npll tree[400];\n \nll w(ll i) {\n  if (i == 1)\n    return 4;\n  return (w(i - 1) + 1) &lt;&lt; 1;\n}\nll h(ll i) { return 3 * (1ll &lt;&lt; (i - 1)); }\n \nll H, W;\n \nchar maz[200][400];\nvoid paint() { // æ»¡äºŒå‰æ ‘\n  memset(maz, &#039; &#039;, sizeof(maz));\n  vector&lt;pll&gt; v;\n  for (ll j = 0; j &lt; 3; j++) {\n    for (ll i = 1; i &lt;= W; i++) {\n      char c = &#039; &#039;;\n      if ((j == 0 &amp;&amp; i % 6 == 1) || (j == 1 &amp;&amp; i % 6 == 4) ||\n          (j == 2 &amp;&amp; i % 12 == 7)) {\n        c = &#039;\\\\&#039;;\n      } else if ((j == 0 &amp;&amp; i % 6 == 4) || (j == 1 &amp;&amp; i % 6 == 1) ||\n                 (j == 2 &amp;&amp; i % 12 == 4)) {\n        c = &#039;/&#039;;\n      } else if ((j == 0 || j == 2) &amp;&amp; (i % 6 == 2 || i % 6 == 3)) {\n        c = &#039;_&#039;;\n      } else if (j == 1 &amp;&amp; i % 6 == 2) {\n        c = &#039;0&#039;;\n      }\n      maz[H - j][i] = c;\n      if (j == 2 &amp;&amp; (i % 12 == 4 || i % 12 == 7)) {\n        v.push_back({H - j, i});\n      }\n    }\n  }\n \n  while (v.size() &gt;= 2) {\n    while (v.size() &gt;= 2 &amp;&amp; v[1].second - v[0].second &gt; 3) { // å»¶é•¿çº¿\n      vector&lt;pll&gt; tmp;\n      for (ll i = 0; i &lt; (ll)v.size(); i++) {\n        pll p = v[i];\n        char c = maz[p.first][p.second];\n        if (i % 2 == 0)\n          p.first -= 1, p.second += 1;\n        else\n          p.first -= 1, p.second -= 1;\n        maz[p.first][p.second] = c;\n        tmp.push_back(p);\n      }\n      v = tmp;\n    }\n \n    vector&lt;pll&gt; tmp;\n \n    for (ll i = 0; i + 1 &lt; (ll)v.size(); i += 2) {\n      pll p = v[i];\n      p.first -= 1;\n      maz[p.first][p.second] = &#039;\\\\&#039;, maz[p.first][p.second + 1] = &#039;_&#039;,\n      maz[p.first][p.second + 2] = &#039;_&#039;, maz[p.first][p.second + 3] = &#039;/&#039;,\n      p.first -= 1;\n      maz[p.first][p.second] = &#039;/&#039;, maz[p.first][p.second + 1] = &#039;0&#039;,\n      maz[p.first][p.second + 3] = &#039;\\\\&#039;;\n      p.first -= 1;\n      maz[p.first][p.second + 1] = maz[p.first][p.second + 2] = &#039;_&#039;;\n      if (i % 4 == 0) {\n        p.second += 3;\n        maz[p.first][p.second] = &#039;/&#039;;\n        tmp.push_back(p);\n      } else {\n        maz[p.first][p.second] = &#039;\\\\&#039;;\n        tmp.push_back(p);\n      }\n    }\n    v = tmp;\n  }\n \n  maz[v.front().first][v.front().second] = &#039; &#039;;\n \n  tot = 1;\n  for (ll i = 1; i &lt;= H; i++) {\n    for (ll j = 1; j &lt;= W; j++) {\n      if (maz[i][j] == &#039;0&#039;) {\n        tree[tot++] = {i, j};\n      }\n    }\n  }\n}\n \nvoid dfs(ll p, ll i) {\n  if (p &lt; 10)\n    maz[tree[i].first][tree[i].second] = p + &#039;0&#039;;\n  else\n    maz[tree[i].first][tree[i].second] = p / 10 + &#039;0&#039;,\n    maz[tree[i].first][tree[i].second + 1] = p % 10 + &#039;0&#039;;\n \n  if (a[p] != -1)\n    dfs(a[p], i * 2);\n  if (b[p] != -1)\n    dfs(b[p], i * 2 + 1);\n}\nll nI, I, nJ, J;\nvoid cut_zero() {\n  for (ll i = 1; i &lt; tot; i++) {\n    pll p = tree[i];\n    if (maz[p.first][p.second] != &#039;0&#039;) {\n      I = max(I, p.first + 1);\n      J = max(J, p.second + 2);\n      nI = min(nI, p.first - 1);\n      nJ = min(nJ, p.second - 1);\n      continue;\n    }\n    // åˆ æ‰å…­è¾¹å½¢\n    maz[p.first][p.second] = maz[p.first][p.second - 1] =\n        maz[p.first][p.second + 2] = &#039; &#039;;\n    maz[p.first + 1][p.second - 1] = maz[p.first + 1][p.second] =\n        maz[p.first + 1][p.second + 1] = maz[p.first + 1][p.second + 2] = &#039; &#039;;\n    maz[p.first - 1][p.second] = maz[p.first - 1][p.second + 1] = &#039; &#039;;\n    // åˆ æ‰å»¶é•¿çº¿\n    char c = maz[p.first - 1][p.second - 1];\n    if (c == &#039; &#039;) {\n      c = maz[p.first - 1][p.second + 2];\n      p.first -= 1, p.second += 2;\n    } else {\n      p.first -= 1, p.second -= 1;\n    }\n    while (c != &#039; &#039; &amp;&amp; maz[p.first][p.second] == c) {\n      maz[p.first][p.second] = &#039; &#039;;\n      if (c == &#039;/&#039;)\n        p.first -= 1, p.second += 1;\n      else\n        p.first -= 1, p.second -= 1;\n    }\n  }\n}\n \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n  for (ll i = 1; i &lt;= n; i++) {\n    fa[i] = -1;\n  }\n  H = h(k), W = w(k);\n  paint();\n  for (ll i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i] &gt;&gt; b[i];\n    if (a[i] != -1)\n      fa[a[i]] = i;\n    if (b[i] != -1)\n      fa[b[i]] = i;\n  }\n  ll rt = -1;\n  for (ll i = 1; i &lt;= n; i++) {\n    if (fa[i] == -1) {\n      rt = i;\n      break;\n    }\n  }\n  // å¡«æ•°\n  dfs(rt, 1);\n  // åˆ \n  nI = H, nJ = W, I = 1, J = 1;\n  cut_zero();\n  // æ‰“å°\n  for (ll i = nI - 1; i &lt;= I + 1; i++) {\n    for (ll j = nJ - 1; j &lt;= J + 1; j++) {\n      if (i == nI - 1 || i == I + 1 || j == nJ - 1 || j == J + 1) {\n        cout &lt;&lt; &#039;*&#039;;\n      } else {\n        cout &lt;&lt; maz[i][j];\n      }\n    }\n    cout &lt;&lt; &#039;\\n&#039;;\n  }\n}\nK æ™ºä¹ƒçš„é€†åºæ•°\né¢˜æ„\nå®šä¹‰ä¸€ä¸ªç´§å¯†æ’åºæ•°ç»„ï¼šå°†æ•°ç»„å…ƒç´ æŒ‰ç…§ä»å°åˆ°å¤§æ’åºåï¼Œç›¸é‚»å…ƒç´ ä¹‹é—´çš„å·®å€¼æ˜¯1ã€‚å½“ä¸¤ä¸ªæ•°ç»„æ²¡æœ‰ä»»ä½•ç›¸åŒå…ƒç´ ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°ç»„æ˜¯ä¸ç›¸äº¤çš„ã€‚\nç°åœ¨æœ‰nä¸ªäº’ä¸ç›¸äº¤çš„ç´§å¯†æ•°ç»„ï¼Œç”¨è¿™äº›æ•°ç»„ä¸­çš„å…ƒç´ ç»„åˆæˆä¸€ä¸ªé€†åºæ•°æ°å¥½ä¸ºkçš„æ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„ä¸­çš„æ•°ä¹‹é—´ä¿æŒå„è‡ªåœ¨åŸæ¥æ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1000\n0\\leq k\\leq 1e6\n1\\leq a_{i,j}\\leq 1e9\næµ‹è¯•æ–‡ä»¶çš„æ•°ç»„é•¿åº¦ä¹‹å’Œä¸è¶…è¿‡10^3\n\næ€è·¯\næ–°æ•°ç»„ä¸­ä¸æ”¹å˜æ•°å­—ä¹‹é—´åœ¨åŸæ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºï¼Œä¸”è¿™äº›æ•°ç»„ä¸ä¼šç›¸äº¤ï¼Œé‚£ä¹ˆæ¯ä¸ªæ•°ç»„æ˜¯ä¸€ä¸ªèŒƒå›´åœ¨[l,r]çš„æ•°çš„æ’åˆ—ï¼Œä¸ç®¡æ€ä¹ˆæ”¹å˜ä»–ä»¬åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè¿™ä¸ªå°æ’åˆ—ä¸­çš„æ•°å½¢æˆçš„é€†åºæ•°å¯¹å¯¹æ•°ä¸ä¼šå‡å°‘æˆ–å¢åŠ ï¼Œå½“æŒ‰ç…§æœ€å°å€¼æ’åºä¾æ¬¡å¡«å…¥æ–°æ•°ç»„æ—¶ï¼Œå°±æ˜¯é€†åºæ•°æœ€å°çš„æ–°æ•°ç»„ã€‚\næ•°ç»„ä¹‹é—´æŒ‰ç…§æœ€å°å€¼ä¸ºç¬¬ä¸€å…³é”®å­—å‡åºæ’åºï¼Œå¦‚æœæ’åºåºå·è¾ƒå¤§çš„æ•°ç»„ä¸­çš„å…ƒç´ æ”¾åœ¨åºå·å°çš„æ•°ç»„ä¸­çš„æ•°å‰é¢ï¼Œä¼šå¢åŠ é€†åºæ•°ã€‚æœ€å¤šçš„é€†åºæ•°æ˜¯æ•°ç»„æŒ‰ç…§é€†åºå¡«å…¥æ–°æ•°ç»„æ—¶ï¼Œä»å¤§åˆ°å°æšä¸¾æ•°ç»„ï¼Œè®¡ç®—å…ƒç´ éœ€è¦å‘å‰ç§»åŠ¨å‡ ä¸ªä½ç½®èƒ½æ°å¥½æ»¡è¶³kï¼Œä¹Ÿå¯ä»¥æŒ‰ç»„è¿›è¡Œå†’æ³¡æ’åºï¼Œåˆæ³•çš„å†’æ³¡æ’åºäº¤æ¢çš„æ¬¡æ•°å°±æ˜¯å¢åŠ çš„é€†åºæ•°çš„æ•°é‡ã€‚\nä»£ç ï¼šæšä¸¾\npair&lt;vector&lt;ll&gt;, ll&gt; inverse_num(vector&lt;ll&gt; v) {  // å½’å¹¶æ’åºæ±‚é€†åºæ•°\n  ll n = v.size();\n  if (n &lt;= 1)\n    return {v, 0};\n  ll mid = n / 2;\n  vector&lt;ll&gt; vl, vr;\n  for (ll i = 0; i &lt; n; i++) {\n    if (i &lt; mid)\n      vl.push_back(v[i]);\n    else\n      vr.push_back(v[i]);\n  }\n  auto [arr_l, invl] = inverse_num(vl);\n  auto [arr_r, invr] = inverse_num(vr);\n  ll nl = arr_l.size(), nr = arr_r.size();\n \n  arr_l.push_back(inf), arr_r.push_back(inf);\n \n  ll i = 0, j = 0;\n \n  vector&lt;ll&gt; arr;\n  ll inv = invl + invr;\n  while (i &lt; nl || j &lt; nr) {\n    if (arr_l[i] &lt;= arr_r[j]) {\n      inv += j;\n      arr.push_back(arr_l[i]);\n      i++;\n    } else {\n      arr.push_back(arr_r[j]);\n      j++;\n    }\n  }\n  return {arr, inv};\n}\n \nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n \n  vector&lt;vector&lt;ll&gt;&gt; v;\n  vector&lt;array&lt;ll, 3&gt;&gt; info;\n \n  ll tot_len = 0;\n  ll min_ans = 0, max_ans = 0;\n  for (ll i = 0; i &lt; n; i++) {\n    ll m;\n    cin &gt;&gt; m;\n    tot_len += m;\n    vector&lt;ll&gt; w(m);\n    for (auto &amp;j : w) {\n      cin &gt;&gt; j;\n    }\n    v.push_back(w);\n    ll ni = inverse_num(w).second;\n    info.push_back({*min_element(w.begin(), w.end()), m, i});\n    min_ans += ni, max_ans += ni;\n  }\n \n  // æ¯ä¸ªæ•°ç»„çš„æœ€å°å…ƒç´ ï¼Œå¤§å°ï¼Œä½ç½®\n  sort(info.begin(), info.end());\n  for (ll i = 0; i &lt; n; i++) {\n    auto [l, m, idx] = info[i];\n    if (i == 0) {\n      pre[i] = m;\n    } else {\n      pre[i] = pre[i - 1] + m;\n    }\n  }\n  for (ll i = n - 1; i &gt;= 0; i--) {\n    auto [l, m, idx] = info[i];\n    max_ans += (pre[i] - m) * m;\n  }\n  if (k &lt; min_ans || k &gt; max_ans) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n \n  cout &lt;&lt; &quot;Yes\\n&quot;;\n  ll ans = min_ans, i = n - 1, p = 0;\n  ll las = -1;\n  vector&lt;ll&gt; arr(tot_len, -1);\n  while (ans &lt; k &amp;&amp; i &lt; n &amp;&amp; i &gt;= 0) {\n    auto [l, m, idx] = info[i];\n    auto w = v[idx];\n    if (ans + (pre[i] - m) * m &lt;= k) {\n      // æ•°ç»„idxæ”¾åœ¨é¦–ä½\n      for (ll j = p; j &lt;= p + m - 1; j++) {\n        arr[j] = w[j - p];\n      }\n      p += m;\n      ans += (pre[i] - m) * m;\n      i--;\n      continue;\n    }\n \n    ll t = (k - ans) / (pre[i] - m); // å®Œæ•´æŒªåŠ¨tä¸ªæ•°\n    for (ll j = p; j &lt;= p + t - 1; j++) {\n      arr[j] = w[j - p];\n    }\n    p += t;\n    ll ti = (pre[i] - m) * (t + 1) - (k - ans);\n    arr[p + ti] = w[t];\n    las = t + 1;\n    break;\n  }\n  for (ll j = 0; j &lt; i; j++) {\n    auto [l, m, idx] = info[j];\n    for (auto e : v[idx]) {\n      while (arr[p] != -1 &amp;&amp; p + 1 &lt; tot_len)\n        p++;\n      arr[p++] = e;\n    }\n  }\n  for (ll j = las == -1 ? 0 : las; i &lt; n &amp;&amp; i &gt;= 0 &amp;&amp; j &lt; info[i][1]; j++) {\n    auto [l, m, idx] = info[i];\n    ll e = v[idx][j];\n    while (arr[p] != -1 &amp;&amp; p + 1 &lt; tot_len)\n      p++;\n    arr[p++] = e;\n  }\n \n  for (auto i : arr) {\n    cout &lt;&lt; i &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}\nä»£ç ï¼šå†’æ³¡æ’åº\nvoid solve() {\n  ll n, k;\n  cin &gt;&gt; n &gt;&gt; k;\n \n  vector&lt;vector&lt;ll&gt;&gt; v;\n  vector&lt;array&lt;ll, 3&gt;&gt; info;\n \n  ll min_ans = 0, tot = 0;\n  for (ll i = 0; i &lt; n; i++) {\n    ll m, l = inf;\n    cin &gt;&gt; m;\n    tot += m;\n    vector&lt;ll&gt; w(m);\n    for (auto &amp;j : w) {\n      cin &gt;&gt; j;\n      l = min(l, j);\n    }\n    v.push_back(w);\n    ll ni = 0;\n    for (ll t = 0; t &lt; m; t++) {\n      for (ll f = t + 1; f &lt; m; f++) {\n        ni += (w[t] &gt; w[f]);\n      }\n    }\n    min_ans += ni;\n    info.push_back({l, m, i});\n  }\n \n  if (k &lt; min_ans) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n \n  // è¿›è¡Œä¸€å®šæ¬¡æ•°çš„å†’æ³¡æ’åº\n  sort(info.begin(), info.end());\n  k -= min_ans;\n \n  vector&lt;pll&gt; arr;\n \n  for (ll i = 0; i &lt; n; i++) {\n    ll idx = info[i][2];\n    for (ll j : v[idx]) {\n      arr.push_back({j, idx});\n    }\n  }\n \n  for (ll i = 0; i &lt; tot &amp;&amp; k &gt; 0; i++) {\n    for (ll j = 0; j &lt; tot - 1; j++) {\n      if (arr[j].first &lt; arr[j + 1].first &amp;&amp;\n          arr[j].second != arr[j + 1].second &amp;&amp; k &gt; 0) {\n        k--;\n        swap(arr[j], arr[j + 1]);\n      } else if (k &lt;= 0) {\n        break;\n      }\n    }\n  }\n \n  if (k &gt; 0) {\n    cout &lt;&lt; &quot;No\\n&quot;;\n    return;\n  }\n \n  cout &lt;&lt; &quot;Yes\\n&quot;;\n  for (auto i : arr) {\n    cout &lt;&lt; i.first &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}\nL æ™ºä¹ƒçš„ä¸‰è§’éå†\né¢˜æ„\nç”±ä¸‰è§’å½¢æ„æˆçš„å¹³é¢å›¾ï¼Œç»™å‡ºå±‚æ•°ï¼Œæ‰¾å‡ºä¸€æ¡éå†æ‰€æœ‰è¾¹çš„æ¬§æ‹‰å›è·¯ã€‚\n\næ•°æ®èŒƒå›´\næ€è·¯\nnæ¯”è¾ƒå°ï¼Œå¯ä»¥æ‰“è¡¨å­˜ç­”æ¡ˆè¾“å‡ºã€‚\næ³• 2ï¼šè¦æ‰¾å‡ºä¸€ç§å¯ä»¥åœ¨ä»»æ„å±‚æ•°ä¸Šå¤åˆ»çš„éå†æ€è·¯ï¼Œä¸‹å›¾æ˜¯ä¸€ç§æ€è·¯ï¼Œæ¯æ¬¡å…ˆå‘ä¸‹éå†è¿åˆ°ä¸‹å±‚çš„ç‚¹ï¼Œå†å›å¤åˆ°å³ç«¯ç‚¹ã€‚\n\næ³• 3ï¼šé€’å½’æœç´¢ï¼Œç±»æ¯”æ±‰è¯ºå¡”ï¼Œå¦‚æœæƒ³å®Œæˆ 1â†’2â†’3â†’1 çš„é¡ºåºï¼Œéœ€è¦å…ˆæŠŠä»¥ 2 ä¸ºä¸Šé¡¶ç‚¹çš„ä¸‰è§’å½¢éå†å®Œï¼ŒæŒ‡é’ˆå›å¤åˆ° 2 å·ä½ç½®ï¼Œç»§ç»­å®Œæˆ 2â†’3ï¼Œéå† 3 ä¸ºä¸Šé¡¶ç‚¹çš„ä¸‰è§’å½¢ï¼Œæœ€åå›åˆ° 1ã€‚\nä»£ç ï¼šæŸç§é¡ºåº\nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  vector&lt;ll&gt; v;\n  ll p = 1;\n  v.push_back(p);\n  for (ll i = 1; i &lt;= n; i++) {\n    p += i;\n    v.push_back(p);\n  }\n  while (p + 1 &lt; 1 + (n + 1 + 1) * (n + 1) / 2) {\n    p++;\n    v.push_back(p);\n  }\n  for (ll x = n + 1; x &gt;= 2; x--) {\n    p -= x;\n    ll pi = p;\n    v.push_back(p);\n    while (p &gt; 1 + (x - 2) * (x - 1) / 2) {\n      v.push_back(p + x - 1);\n      p--;\n      v.push_back(p);\n    }\n    while (p + 1 &lt;= pi) {\n      p++;\n      v.push_back(p);\n    }\n  }\n  cout&lt;&lt;&quot;Yes\\n&quot;;\n  for (auto i : v) {\n    cout &lt;&lt; i &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &quot;\\n&quot;;\n}\nä»£ç ï¼šé€’å½’\nvector&lt;ll&gt; ans;\nvector&lt;vector&lt;pll&gt;&gt; G;\nll tot;\nvoid add_edge(ll p1, ll p2) {\n  vis[tot] = false;\n  G[p1].push_back({p2, tot}); // ç»ˆç‚¹å’Œè¿™æ¡è¾¹çš„ç¼–å·\n  G[p2].push_back({p1, tot++});\n}\n \nvoid dfs(ll p) {\n  for (auto i : G[p]) {\n    if (vis[i.second])\n      continue;\n    vis[i.second] = true;\n    dfs(i.first);\n  }\n  ans.push_back(p);\n}\n \nvoid solve() {\n  ll n;\n  cin &gt;&gt; n;\n  G.assign((n + 1) * (n + 2) / 2 + 1, vector&lt;pll&gt;());\n  for (ll i = 1; i &lt;= n; i++) {\n    // ç¬¬iå±‚\n    for (ll j = 1; j &lt;= i; j++) {\n      ll p1 = (i - 1) * i / 2 + j;\n      ll p2 = p1 + i, p3 = p1 + i + 1;\n      add_edge(p1, p2);\n      add_edge(p2, p3);\n      add_edge(p3, p1);\n    }\n  }\n  dfs(1);\n  cout &lt;&lt; &quot;Yes\\n&quot;;\n  for (auto i : ans) {\n    cout &lt;&lt; i &lt;&lt; &#039; &#039;;\n  }\n  cout &lt;&lt; &#039;\\n&#039;;\n}\nM æ™ºä¹ƒçš„ç‰›é¢˜\né¢˜æ„\nåˆ¤æ–­è¾“å…¥çš„é•¿åº¦ä¸º 8 çš„å­—ç¬¦ä¸²èƒ½ä¸èƒ½é‡ç»„å­—ç¬¦é¡ºåºç»„æˆnowcoderã€‚\næ•°æ®èŒƒå›´\næ— \næ€è·¯\næ— \nä»£ç \nvoid solve() {\n  string s;\n  cin &gt;&gt; s;\n  map&lt;char, ll&gt; mp;\n  for (auto c : s) {\n    mp[c]++;\n  }\n  if (mp[&#039;n&#039;] == 1 &amp;&amp; mp[&#039;o&#039;] == 2 &amp;&amp; mp[&#039;w&#039;] == 1 &amp;&amp; mp[&#039;c&#039;] == 1 &amp;&amp;\n      mp[&#039;d&#039;] == 1 &amp;&amp; mp[&#039;e&#039;] == 1 &amp;&amp; mp[&#039;r&#039;] == 1) {\n    cout &lt;&lt; &quot;happy new year\\n&quot;;\n  } else {\n    cout &lt;&lt; &quot;I AK IOI\\n&quot;;\n  }\n}"},"03-algorithm/nc25wd4":{"slug":"03-algorithm/nc25wd4","filePath":"03-algorithm/nc25wd4.md","title":"ğŸˆ2025ç‰›å®¢æš‘å¯’å‡å¤šæ ¡è®­ç»ƒè¥Day4","links":[],"tags":["2025å¯’å‡è®­ç»ƒ","ç®—æ³•","ç‰›å®¢"],"content":"A\né¢˜æ„\næ•°æ®èŒƒå›´\næ€è·¯\nä»£ç \nB Tokitsukaze and Balance String (easy)\né¢˜æ„\nå®šä¹‰å­—ç¬¦ä¸²æ˜¯å¹³è¡¡çš„ï¼šå­—ç¬¦ä¸²ä¸­01çš„è¿ç»­å­ä¸²çš„æ•°é‡å’Œ10çš„è¿ç»­å­ä¸²çš„æ•°é‡ç›¸åŒã€‚\nå®šä¹‰å­—ç¬¦ä¸²sçš„val(s)ï¼š\n\nå°†å­—ç¬¦ä¸²sçš„æŸä½ç½®içš„å­—ç¬¦å€’ç½®ï¼ˆ1å˜æˆ0ï¼Œ0å˜æˆ1ï¼‰åï¼Œå­—ç¬¦ä¸²æ˜¯å¹³è¡¡çš„ï¼Œè¿™æ ·çš„ä½ç½®çš„æ€»æ•°\n\nç°åœ¨æœ‰ä¸€ä¸ªç”±1ã€0å’Œ?ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œ?å¯ä»¥ä»»æ„æ¢æˆ1æˆ–0ï¼Œæ±‚æ‰€æœ‰çš„å¡«å†™å®Œæˆçš„å­—ç¬¦ä¸²çš„val(s)çš„æ€»å’Œï¼Œæ¨¡æ•°æ˜¯10^9+7ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 10^4\n1\\leq n\\leq 10\nä¿è¯å•ä¸ªæµ‹è¯•æ–‡ä»¶çš„2^nä¹‹å’Œä¸è¶…è¿‡10^5\n\næ€è·¯\nEasyç‰ˆæœ¬çš„æ•°æ®èŒƒå›´è¾ƒå°ï¼Œç›´æ¥dfsç»Ÿè®¡å³å¯ã€‚\nä»£ç \nll val(string t) {\n  ll n = t.size();\n  ll ret = 0ll;\n  for (ll pi = 0; pi &lt; n; pi++) {\n    t[pi] = &#039;1&#039; - t[pi] + &#039;0&#039;;\n    ll cnt1 = 0, cnt2 = 0;\n    for (ll i = 1; i &lt; n; i++) {\n      if (t[i - 1] == &#039;0&#039; &amp;&amp; t[i] == &#039;1&#039;)\n        cnt1++;\n      if (t[i - 1] == &#039;1&#039; &amp;&amp; t[i] == &#039;0&#039;)\n        cnt2++;\n    }\n    ret += (cnt1 == cnt2);\n    t[pi] = &#039;1&#039; - t[pi] + &#039;0&#039;;\n  }\n  return ret;\n}\n \nll ans = 0ll;\nvoid dfs(string s, ll p) {\n  if (s.find(&#039;?&#039;) == -1) {\n    ans += val(s);\n    return;\n  }\n  if (s[p] != &#039;?&#039;) {\n    dfs(s, p + 1);\n    return;\n  }\n  s[p] = &#039;1&#039;;\n  dfs(s, p + 1);\n  s[p] = &#039;0&#039;;\n  dfs(s, p + 1);\n  return;\n}\n \nvoid solve() {\n  ll n;\n  string s;\n  cin &gt;&gt; n &gt;&gt; s;\n  ans = 0ll;\n  dfs(s, 0);\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nC\né¢˜æ„\næ•°æ®èŒƒå›´\næ€è·¯\nä»£ç \nD Tokitsukaze and Concatenateâ€Œ Palindrome\né¢˜æ„\næœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²aå’Œbã€‚\nç¬¬ä¸€æ­¥ï¼šå¯¹ä»–ä»¬åˆ†åˆ«è¿›è¡Œé‡æ–°æ’åˆ—ï¼ˆä¹Ÿå¯ä»¥ä¿æŒåŸçŠ¶ï¼‰ï¼›\nç¬¬äºŒæ­¥ï¼šå¯ä»¥è¿›è¡Œè‹¥å¹²æ¬¡æ›¿æ¢ï¼›\nç¬¬ä¸‰æ­¥ï¼šå°†aå’Œbé“¾æ¥æˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²sã€‚\næ±‚è‡³å°‘è¿›è¡Œå¤šå°‘æ¬¡ç¬¬äºŒæ­¥çš„æ›¿æ¢ï¼Œå¯ä»¥è®©sæ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n,m\\leq 2\\times 10^5\n\næ€è·¯\nå¦‚æœaå’Œbæœ‰å…±åŒæ‹¥æœ‰çš„å­—ç¬¦ï¼Œé‚£ä¹ˆåœ¨å›æ–‡ä¸²ä¸­è¦å°½é‡å°†è¿™äº›å­—ç¬¦ç”¨ä½œå¯¹ç§°çš„ä½ç½®ï¼Œåœ¨ç»„åˆä¸²sçš„ä¸­çº¿ä½ç½®ï¼Œå°½é‡æ”¾æ»¡aæˆ–bä¸­è¾ƒé•¿çš„ä¸²çš„å‰©ä½™éƒ¨åˆ†ä¸­çš„æ•°é‡å¤§äº 1 çš„å­—ç¬¦ï¼Œå‰©ä½™çš„ä¸å¯¹ç§°çš„éƒ¨åˆ†å°±æ˜¯ä¸å¾—ä¸æ›¿æ¢çš„å­—ç¬¦ã€‚\nä»£ç \nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  string a, b;\n  cin &gt;&gt; a &gt;&gt; b;\n  if (n &lt; m) {\n    swap(n, m);\n    swap(a, b);\n  }\n  vector&lt;ll&gt; v1(26, 0), v2(26, 0);\n  for (auto c : a) {\n    v1[c - &#039;a&#039;]++;\n  }\n  for (auto c : b) {\n    v2[c - &#039;a&#039;]++;\n  }\n  ll tot = 0ll, sum1 = 0ll, sum2 = 0ll;\n  for (int i = 0; i &lt; 26; i++) {\n    if (v1[i] &gt; v2[i])\n      v1[i] -= v2[i], v2[i] = 0;\n    else\n      v2[i] -= v1[i], v1[i] = 0;\n    sum1 += v1[i], sum2 += v2[i];\n    tot += v1[i] / 2;\n  }\n  ll ans = sum2;\n  if ((sum1 - sum2) / 2 &gt; tot) {\n    ans += (sum1 - sum2) / 2 - tot;\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nE Tokitsukaze and Dragonâ€™s Breath\né¢˜æ„\nåœ¨n\\times mçš„è¡¨æ ¼ä¸­ï¼Œæ¯ä¸ªä½ç½®(i,j)æœ‰ä¸€ä¸ªæ•°å­—a_{i,j}ä»£è¡¨æ­¤åœ°çš„æ€ªç‰©æ•°é‡ï¼Œå½“é¾™çš„ä½ç½®åœ¨(x,y)æ—¶ï¼Œç«ç„°ä¼šæ‰“è´¥åæ ‡(x,y)çš„æ€ªç‰©ï¼Œå¹¶å‘å››ä¸ªæ–œè§’æ–¹å‘ï¼ˆå·¦ä¸Š â†–ï¼Œå³ä¸Š â†—ï¼Œå³ä¸‹ â†˜ï¼Œå·¦ä¸‹ â†™ï¼‰ä¸€ç›´æ‹“å±•ï¼Œå½¢æˆä¸€ä¸ªXå½¢çŠ¶ã€‚\nè¯·åœ¨åœ°å›¾ä¸Šé€‰ä¸€ä¸ªä½œä¸ºé¾™çš„åæ ‡ï¼Œå¹¶è®¡ç®—å¯ä»¥æ‰“è´¥æœ€å¤šæ€ªç‰©çš„æ•°é‡ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq T\\leq 1e4\n1\\leq n,m\\leq 1e3\n1\\leq a_{i,j}\\leq 1e9\nn\\times m\\leq 1e6\n\næ€è·¯\næŒ‰é¢˜æ„æšä¸¾ç‚¹ï¼Œæ¨¡æ‹Ÿæ”»å‡»ï¼Œæ³¨æ„éœ€è¦è®°å¿†åŒ–ç®—è¿‡çš„æ–œçº¿ï¼Œä¿è¯åˆé€‚çš„å¤æ‚åº¦ã€‚\nä»£ç \nll maz[1200][1200];\n \nvector&lt;pll&gt; dxy = {{1, 1}, {-1, 1}, {1, -1}, {-1, -1}};\n \nvoid solve() {\n  ll n, m;\n  cin &gt;&gt; n &gt;&gt; m;\n  for (ll i = 1; i &lt;= n; i++) {\n    for (ll j = 1; j &lt;= m; j++) {\n      cin &gt;&gt; maz[i][j];\n    }\n  }\n  map&lt;ll, ll&gt; mpc, mpr;\n  auto fire = [&amp;](ll x, ll y) {\n    if (mpc.count(x - y) == 0) {\n      ll sum = -maz[x][y];\n      ll dx = 1, dy = 1;\n      ll px = x, py = y;\n      while (px &gt;= 1 &amp;&amp; px &lt;= n &amp;&amp; py &gt;= 1 &amp;&amp; py &lt;= m) {\n        sum += maz[px][py];\n        px += dx, py += dy;\n      }\n      dx = -1, dy = -1;\n      px = x, py = y;\n      while (px &gt;= 1 &amp;&amp; px &lt;= n &amp;&amp; py &gt;= 1 &amp;&amp; py &lt;= m) {\n        sum += maz[px][py];\n        px += dx, py += dy;\n      }\n      mpc[x - y] = sum;\n    }\n    if (mpr.count(x + y) == 0) {\n      ll sum = -maz[x][y];\n      ll dx = 1, dy = -1;\n      ll px = x, py = y;\n      while (px &gt;= 1 &amp;&amp; px &lt;= n &amp;&amp; py &gt;= 1 &amp;&amp; py &lt;= m) {\n        sum += maz[px][py];\n        px += dx, py += dy;\n      }\n      dx = -1, dy = 1;\n      px = x, py = y;\n      while (px &gt;= 1 &amp;&amp; px &lt;= n &amp;&amp; py &gt;= 1 &amp;&amp; py &lt;= m) {\n        sum += maz[px][py];\n        px += dx, py += dy;\n      }\n      mpr[x + y] = sum;\n    }\n    return mpc[x - y] + mpr[x + y] - maz[x][y];\n  };\n  ll ans = 0ll;\n  for (ll x = 1; x &lt;= n; x++) {\n    for (ll y = 1; y &lt;= m; y++) {\n      ll res = fire(x, y);\n      ans = max(ans, res);\n    }\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nI Tokitsukaze and Pajama Party\né¢˜æ„\næ­Œè¯æ¨¡å¼æ˜¯u*uwawauwaï¼Œå¿…é¡»æœ‰ä¸€ä¸ªuå¼€å¤´å’Œä¸€ä¸ªuwawauwaç»“å°¾(è¿ç»­çš„)ï¼Œä¸”ä¸­é—´çš„*è‡³å°‘åŒ¹é… 1 ä¸ªä»»æ„å­—ç¬¦ï¼Œç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ç¬¦åˆä¸Šè¿°æ¨¡å¼çš„å­ä¸²ã€‚\næ•°æ®èŒƒå›´\n\n1\\leq n\\leq 1e5\n\næ€è·¯\nå¯»æ‰¾å­—ç¬¦ä¸²ä¸­æ‰€æœ‰uwawauwaçš„ä½ç½®ï¼Œæšä¸¾uçš„ä½ç½®ï¼Œç»Ÿè®¡æ€»æ•°ã€‚\nä»£ç \nvoid solve() {\n  ll n;\n  string s;\n  cin &gt;&gt; n &gt;&gt; s;\n  ll p = 0, ans = 0;\n  vector&lt;ll&gt; pos, v;\n  while (s.find(&quot;uwawauwa&quot;, p) != -1) {\n    p = s.find(&quot;uwawauwa&quot;, p);\n    pos.push_back(p);\n    p += 1;\n  }\n  for (ll i = 0; i &lt; s.size(); i++) {\n    if (s[i] == &#039;u&#039;) {\n      v.push_back(i);\n    }\n  }\n  for (auto i : pos) {\n    ll c = lower_bound(v.begin(), v.end(), i - 1) - v.begin();\n    ans += c;\n  }\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}\nK Tokitsukaze and Shawarma\né¢˜æ„\nå®¢äººéœ€è¦xä¸ªæ²™å¨ç›ï¼Œyæ¯å¯ä¹ï¼ŒzåŒ…è–¯æ¡ã€‚\nåˆ¶ä½œ 1 ä¸ªæ²™å¨ç›éœ€è¦ a åˆ†é’Ÿï¼›è®©é¥®æ–™æœºå€’å¯ä¹ï¼Œæ¯ä¸€æ¯å¯ä¹éœ€è¦ b åˆ†é’Ÿï¼›è®©ç‚¸é”…è‡ªåŠ¨ç‚¸è–¯æ¡ï¼Œæ¯ä¸€åŒ…è–¯æ¡éœ€è¦ c åˆ†é’Ÿã€‚è¿™ä¸‰ä»¶äº‹å¯ä»¥åŒæ—¶è¿›è¡Œã€‚\nè¯·é—®å®¢äººè‡³å°‘éœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿã€‚\næ•°æ®èŒƒå›´\n\n1\\leq x,y,z,a,b,c\\leq 100\n\næ€è·¯\nä¸‰è€…å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œå–è€—æ—¶æœ€å¤šçš„æ—¶é—´ã€‚\nä»£ç \nvoid solve() {\n  ll x, y, z, a, b, c;\n  cin &gt;&gt; x &gt;&gt; y &gt;&gt; z &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n  ll ans = max(x * a, y * b);\n  ans = max(ans, c * z);\n  cout &lt;&lt; ans &lt;&lt; &#039;\\n&#039;;\n}"},"03-algorithm/nenuoj":{"slug":"03-algorithm/nenuoj","filePath":"03-algorithm/nenuoj.md","title":"NENU2023å­¦å¹´ç®—æ³•2ä¾‹é¢˜","links":["tags/------------","tags/"],"tags":["ç®—æ³•","NENUOJ","------------",""],"content":"æœ‰çš„é¢˜è¿˜æ²¡å†™å®Œï¼‰å’•å’•å’•ï¼‰ï¼‰\nNENU OJç®—æ³•2ä¾‹é¢˜\nè¿™å­¦æœŸå†™ç®—æ³•2çš„æ€è·¯å¹¶ä¸éƒ½å¾ˆè¯¦ç»†ï¼Œä¸è¿‡å¦‚æœæœ‰æƒ³äº¤æµçš„ä¹Ÿå¯ä»¥è¯„è®ºåŒºæˆ–è€…ç§ä¿¡ï¼Œå­¦æ ¡ojçš„é¢˜å¤§å¤šæ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œçš„æ‰€æœ‰ä»£ç æˆ–è®¸åªä¿è¯é€šè¿‡å­¦æ ¡çš„å¼±æµ‹è¯•æ•°æ®ï¼Œå› ä¸ºå…¶ä»–åœ°æ–¹OJæˆ‘è¿˜æ²¡æœ‰è¯•è¿‡ã€‚\nç®—æ³•2é€’å½’A\n1241: A001 çŒ´å­åƒæ¡ƒ\né¢˜ç›®æè¿°\nçŒ´å­ç¬¬1å¤©æ‘˜ä¸‹è‹¥å¹²ä¸ªæ¡ƒå­ï¼Œå½“å³åƒäº†ä¸€åŠï¼Œè¿˜ä¸è¿‡ç˜¾ï¼Œåˆå¤šåƒäº†ä¸€ä¸ªã€‚ç¬¬2å¤©åˆå°†å‰©ä¸‹çš„æ¡ƒå­åƒæ‰ä¸€åŠï¼Œåˆå¤šåƒäº†ä¸€ä¸ªã€‚ä»¥åæ¯å¤©æ—©ä¸Šéƒ½åƒäº†å‰ä¸€å¤©å‰©ä¸‹çš„ä¸€åŠå¦åŠ ä¸€ä¸ªã€‚åˆ°ç¬¬10å¤©æ—©ä¸Šæƒ³å†åƒæ—¶ï¼Œå°±åªå‰©ä¸‹ä¸€ä¸ªæ¡ƒå­äº†ã€‚æ±‚ç¬¬1å¤©å…±æ‘˜äº†å¤šå°‘ä¸ªæ¡ƒå­ã€‚\nè¾“å…¥\nè¾“å…¥ç¬¬ä¸€è¡Œä¸ºæ­£æ•´æ•°nï¼Œä¸ºæµ‹è¯•æ•°æ®ç»„æ•°ã€‚åé¢nè¡Œä¸ºæµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®åŒ…æ‹¬ä¸¤ä¸ªæ•´æ•°mï¼Œkï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬mï¼ˆm&gt;1)å¤©åå‰©ä½™çš„æ¡ƒå­æ•°k(k&gt;=0)ã€‚\nè¾“å‡º\nè¾“å‡ºçŒ´å­ç¬¬ä¸€å¤©æ‘˜çš„æ¡ƒå­æ•°ï¼Œæ¯ç»„æ•°æ®å ä¸€è¡Œã€‚\næ ·ä¾‹è¾“å…¥\n2\n2  2\n3  0\næ ·ä¾‹è¾“å‡º\n6\n6\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main() {\n    int n;cin &gt;&gt; n;\n    while (n--) {\n        int m, k;cin &gt;&gt; m &gt;&gt; k;\n        int sum = k;\n        for (int i = 0;i &lt; m - 1;i++) {\n            sum++;\n            sum *= 2;\n        }\n        cout &lt;&lt; sum &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1242: A002 æœ€å¤§å…¬çº¦æ•°\né¢˜ç›®æè¿°\nè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œæ±‚å…¶æœ€å¤§å…¬çº¦æ•°ã€‚\næ•°è®ºä¸­æœ‰ä¸€ä¸ªæ±‚æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³•ç§°ä¸ºè¾—è½¬ç›¸é™¤æ³•ï¼Œåˆç§°æ¬§å‡ é‡Œå¾·ç®—æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³åŠæ‰§è¡Œè¿‡ç¨‹ä¸ºï¼ˆè®¾mä¸ºä¸¤æ­£æ•´æ•°ä¸­è¾ƒå¤§è€…ï¼Œnä¸ºè¾ƒå°è€…ï¼‰ï¼š\nï¼ˆ1ï¼‰ä»¤u=m,v=nï¼›\nï¼ˆ2ï¼‰å–uå¯¹vçš„ä½™æ•°ï¼Œå³r=u%vï¼Œå¦‚æœrçš„å€¼ä¸º0ï¼Œåˆ™æ­¤æ—¶vçš„å€¼å°±æ˜¯må’Œnçš„æœ€å¤§å…¬çº¦æ•°ï¼Œå¦åˆ™æ‰§è¡Œç¬¬ï¼ˆ3ï¼‰æ­¥ï¼›\nï¼ˆ3ï¼‰u=vï¼Œv=rï¼Œå³uçš„å€¼ä¸ºvçš„å€¼ï¼Œè€Œvçš„å€¼ä¸ºä½™æ•°rã€‚å¹¶è½¬å‘ç¬¬ï¼ˆ2ï¼‰æ­¥ã€‚\nè¾“å…¥\nç¬¬1è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°nï¼Œåé¢è·Ÿç€nè¡Œè¾“å…¥ã€‚æ¯ç»„æµ‹è¯•æ•°æ®å 1è¡Œï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ­£æ•´æ•°må’Œnã€‚\nè¾“å‡º\nnè¡Œï¼Œæ¯è¡Œè¾“å‡ºå¯¹åº”ä¸€ä¸ªè¾“å…¥ã€‚è¾“å‡ºåº”æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸ºmå’Œnçš„æœ€å¤§å…¬çº¦æ•°ã€‚\næ ·ä¾‹è¾“å…¥\n2\n48 32\n15 5\næ ·ä¾‹è¾“å‡º\n16\n5\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int m, n;cin &gt;&gt; m &gt;&gt; n;\n        int yu = m % n;\n        while (yu) {\n            m = n;n = yu;\n            yu = m % n;\n        }\n        cout &lt;&lt; n &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1243: A003 ç»å…¸çš„Hanoi(æ±‰è¯ºå¡”)é—®é¢˜\né¢˜ç›®æè¿°\næœ‰ä¸€ä¸ªæ±‰è¯ºå¡”ï¼Œå¡”å†…æœ‰A,B,Cä¸‰ä¸ªæŸ±å­ã€‚èµ·åˆï¼ŒAæŸ±ä¸Šæœ‰nä¸ªç›˜å­ï¼Œä¾æ¬¡ç”±å¤§åˆ°å°ã€ä»ä¸‹å¾€ä¸Šå †æ”¾ï¼Œè¦æ±‚å°†å®ƒä»¬å…¨éƒ¨ç§»åˆ°CæŸ±ä¸Šï¼›åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥åˆ©ç”¨BæŸ±ï¼Œä½†æ¯æ¬¡åªèƒ½ç§»åˆ°ä¸€ä¸ªç›˜å­ï¼Œä¸”å¿…é¡»ä½¿ä¸‰ä¸ªæŸ±å­ä¸Šå§‹ç»ˆä¿æŒå¤§ç›˜åœ¨ä¸‹ï¼Œå°ç›˜åœ¨ä¸Šçš„çŠ¶æ€ã€‚è¦æ±‚ç¼–ç¨‹è¾“å‡ºç§»åŠ¨çš„æ­¥éª¤ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶ä¸­åŒ…å«å¤šè¡Œï¼Œæ¯è¡Œä¸ºä¸€ä¸ªæ•´æ•°nï¼Œä»£è¡¨åˆå§‹AæŸ±å­ä¸Šçš„ç›˜å­çš„ä¸ªæ•°ã€‚\nè¾“å‡º\nå¯¹è¾“å…¥æ–‡ä»¶ä¸­çš„æ¯ä¸ªæ•´æ•°nåˆ—å‡ºå…·ä½“çš„æ±‰è¯ºå¡”ç§»åŠ¨æ­¥éª¤ã€‚ä¸¤ç»„è¾“å‡ºä¹‹é—´æœ‰ä¸€ç©ºè¡Œã€‚\næ ·ä¾‹è¾“å…¥\n3\n1\næ ·ä¾‹è¾“å‡º\nA--&gt;C\nA--&gt;B\nC--&gt;B\nA--&gt;C\nB--&gt;A\nB--&gt;C\nA--&gt;C\n \nA--&gt;C\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nvoid hanoi(int n, int from, int to) {\n    if (n == 0) return;     // å…¨éƒ¨ç§»å®Œï¼Œç»ˆæ­¢é€’å½’\n    // æŠŠfromä½ç½®ä¸Šçš„ä¸Šé¢çš„n-1ä¸ªç§»åˆ°ä¸æ˜¯fromä¹Ÿä¸æ˜¯toçš„ä½ç½®\n    hanoi(n - 1, from, (3 - from - to));\n    // ç§»åŠ¨æœ€åº•ä¸‹çš„æœ€å¤§çš„é‚£ä¸ªï¼Œå¹¶è¾“å‡ºè®°å½•\n    cout &lt;&lt; char(from + &#039;A&#039;) &lt;&lt; &quot;--&gt;&quot; &lt;&lt; char(to + &#039;A&#039;) &lt;&lt; endl;\n    // æŠŠä¹‹å‰ç§»èµ°çš„n-1ä¸ªç§»åˆ°toä½ç½®\n    hanoi(n - 1, (3 - from - to), to);\n}\nint main() {\n    int n;\n    while (cin &gt;&gt; n) {\n        hanoi(n, 0, 2);\n        cout &lt;&lt; &quot;\\n&quot;;\n    }\n \n    return 0;\n}\n1244: A004 è²æ³¢é‚£å¥‘æ•°åˆ—\né¢˜ç›®æè¿°\nè²æ³¢é‚£å¥‘æ•°åˆ—æ˜¯æŒ‡è¿™æ ·çš„æ•°åˆ—: æ•°åˆ—çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°éƒ½ä¸º1ï¼Œæ¥ä¸‹æ¥æ¯ä¸ªæ•°éƒ½ç­‰äºå‰é¢2ä¸ªæ•°ä¹‹å’Œã€‚ç»™å‡ºä¸€ä¸ªæ­£æ•´æ•°aï¼Œè¦æ±‚è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬aä¸ªæ•°æ˜¯å¤šå°‘ã€‚\nè¾“å…¥\nç¬¬1è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°nï¼Œåé¢è·Ÿç€nè¡Œè¾“å…¥ã€‚æ¯ç»„æµ‹è¯•æ•°æ®å 1è¡Œï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ­£æ•´æ•°a(1 â‡ a â‡ 20)ã€‚\nè¾“å‡º\nè¾“å‡ºæœ‰nè¡Œï¼Œæ¯è¡Œè¾“å‡ºå¯¹åº”ä¸€ä¸ªè¾“å…¥ã€‚è¾“å‡ºåº”æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸ºè²æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬aä¸ªæ•°çš„å¤§å°ã€‚\næ ·ä¾‹è¾“å…¥\n4\n5\n2\n19\n1\næ ·ä¾‹è¾“å‡º\n5\n1\n4181\n1\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \nint fib(int n) {\n    if (n == 1 || n == 2)return 1;\n    return fib(n - 1) + fib(n - 2);\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int a;cin &gt;&gt; a;\n        cout &lt;&lt; fib(a) &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1245: A005 å¦ä¸€ä¸ªFibonacciæ•°åˆ—\né¢˜ç›®æè¿°\nå®šä¹‰å¦å¤–ä¸€ä¸ªFibonacciæ•°åˆ—ï¼šF(0)=7,F(1)=11,F(n)=F(n-1)+F(n-2)ï¼Œï¼ˆnâ‰¥2ï¼‰ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶ä¸­åŒ…å«å¤šè¡Œï¼Œæ¯è¡Œä¸ºä¸€ä¸ªæ•´æ•°nï¼Œn&lt;1000000ã€‚\nè¾“å‡º\nå¯¹è¾“å…¥æ–‡ä»¶ä¸­çš„æ¯ä¸ªæ•´æ•°nï¼Œå¦‚æœF(n)èƒ½è¢«3æ•´é™¤ï¼Œè¾“å‡ºyesï¼Œå¦åˆ™è¾“å‡ºnoã€‚\næ ·ä¾‹è¾“å…¥\n0\n1\n2\n3\næ ·ä¾‹è¾“å‡º\nno\nno\nyes\nno\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main() {\n    long long na;\n    while (cin &gt;&gt; na) {\n        if (na % 8 == 2 || na % 8 == 6)cout &lt;&lt; &quot;yes\\n&quot;;\n        else cout &lt;&lt; &quot;no\\n&quot;;\n    }\n \n    return 0;\n}\n1246: A006 åˆ†å½¢ï¼ˆFractalï¼‰\né¢˜ç›®æè¿°\nåˆ†å½¢æ˜¯å­˜åœ¨â€œè‡ªç›¸ä¼¼â€çš„ä¸€ä¸ªç‰©ä½“æˆ–ä¸€ç§é‡ï¼Œä»æŸç§æŠ€æœ¯è§’åº¦æ¥è¯´ï¼Œè¿™ç§â€œè‡ªç›¸ä¼¼â€æ˜¯å…¨æ–¹ä½çš„ã€‚\nç›’å½¢åˆ†å½¢å®šä¹‰å¦‚ä¸‹ï¼š\nåº¦æ•°ä¸º1çš„åˆ†å½¢å¾ˆç®€å•ï¼Œä¸ºï¼š\nX\nåº¦æ•°ä¸º2çš„åˆ†å½¢ä¸ºï¼š\nX X\nX\nX X\nå¦‚æœç”¨B(n-1)ä»£è¡¨åº¦æ•°ä¸ºn-1çš„ç›’å½¢åˆ†å½¢ï¼Œåˆ™åº¦æ•°ä¸ºnçš„ç›’å½¢åˆ†å½¢å¯ä»¥é€’å½’åœ°å®šä¹‰ä¸ºï¼š\nB(n-1) B(n-1)\nB(n-1)\nB(n-1) B(n-1)\nä½ çš„ä»»åŠ¡æ˜¯è¾“å‡ºåº¦æ•°ä¸ºnçš„ç›’å½¢åˆ†å½¢ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶åŒ…å«å¤šä¸ªæµ‹è¯•æ•°æ®ï¼Œæ¯ä¸ªæµ‹è¯•æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°nï¼Œn â‰¤ 7ã€‚è¾“å…¥æ–‡ä»¶çš„æœ€åä¸€è¡Œä¸º-1ï¼Œä»£è¡¨è¾“å…¥ç»“æŸã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•æ•°æ®ï¼Œç”¨ç¬¦å·â€œXâ€è¡¨ç¤ºè¾“å‡ºç›’å½¢åˆ†å½¢ã€‚åœ¨æ¯ä¸ªæµ‹è¯•æ•°æ®å¯¹åº”çš„è¾“å‡ºä¹‹åè¾“å‡ºä¸€ä¸ªçŸ­åˆ’çº¿ç¬¦å·â€œ-â€ï¼Œåœ¨æ¯è¡Œçš„æœ«å°¾ä¸è¦è¾“å‡ºä»»ä½•å¤šä½™çš„ç©ºæ ¼ï¼Œå¦åˆ™å¾—åˆ°çš„æ˜¯â€œæ ¼å¼é”™è¯¯â€çš„ç»“æœã€‚\næ ·ä¾‹è¾“å…¥\n2\n3\n-1\næ ·ä¾‹è¾“å‡º\nX X\n X\nX X\n-\nX X   X X\n X     X\nX X   X X\n   X X\n    X\n   X X\nX X   X X\n X     X\nX X   X X\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxlen = pow(3, 8);\n// string mp[maxlen];\nchar mp[maxlen][maxlen];\nint xpos[maxlen];\n \nvoid tocpyRec(int deg, int tox, int toy,int fillblank) {\n    int len = pow(3, deg - 1);\n    // å·¦ä¸Šè§’æ ‡è®°\n    for (int i = 0;i &lt; len;i++) {\n        for (int j = 0;j &lt; len;j++) {\n            // cout &lt;&lt; mp[i][j] &lt;&lt; &quot;:&quot; &lt;&lt; i &lt;&lt; &quot;-&quot; &lt;&lt; j &lt;&lt; endl;\n            if (fillblank)\n                mp[tox * len + i][toy * len + j] = &#039; &#039;;\n            else\n                mp[tox * len + i][toy * len + j] = mp[i][j];\n        }\n    }\n}\n \nvoid fw(int deg) {\n    if (deg &gt; 1) {\n        fw(deg - 1);\n    }\n    for (int i = 0;i &lt; 3;i++) {\n        for (int j = 0;j &lt; 3;j++) {\n            if ((i + j) % 2 == 0 &amp;&amp; (i || j)) {\n                // æœ‰å†…å®¹çš„å—åæ ‡\n                tocpyRec(deg - 1, i, j, 0);\n            }\n            else if (i || j) {\n                tocpyRec(deg - 1, i, j, 1);\n            }\n        }\n    }\n}\n \nint main() {\n    mp[0][0] = &#039;X&#039;;\n    int n;\n    int flag = 0;\n    while (cin &gt;&gt; n &amp;&amp; n != -1) {\n        if (flag)cout &lt;&lt; &quot;-\\n&quot;;\n        flag = 1;\n        fw(n);\n        int len = pow(3, n - 1);\n        for (int i = 0;i &lt; len;i++) \n            for (int j = 0;j &lt; len;j++) \n                if (mp[i][j] == &#039;X&#039;)\n                    xpos[i] = j;\n        \n        for (int i = 0;i &lt; len;i++) {\n            for (int j = 0;j &lt;= xpos[i];j++) {\n                cout &lt;&lt; mp[i][j];\n            }\n            cout &lt;&lt; endl;\n        }\n    }\n \n    return 0;\n}\n \n1247: A007 äºŒå‰æ ‘\né¢˜ç›®æè¿°\nå¦‚å›¾æ‰€ç¤ºï¼Œç”±æ­£æ•´æ•°1, 2, 3, â€¦ç»„æˆäº†ä¸€æ£µæ— é™å¤§çš„äºŒå‰æ ‘ã€‚ä»æŸä¸€ä¸ªç»“ç‚¹åˆ°æ ¹ç»“ç‚¹ï¼ˆç¼–å·æ˜¯1çš„ç»“ç‚¹ï¼‰éƒ½æœ‰ä¸€æ¡å”¯ä¸€çš„è·¯å¾„ï¼Œæ¯”å¦‚ä»10åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„æ˜¯(10, 5, 2, 1)ï¼Œä»4åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„æ˜¯(4, 2, 1)ï¼Œä»æ ¹ç»“ç‚¹1åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„ä¸ŠåªåŒ…å«ä¸€ä¸ªç»“ç‚¹1ï¼Œå› æ­¤è·¯å¾„å°±æ˜¯(1)ã€‚å¯¹äºä¸¤ä¸ªç»“ç‚¹xå’Œyï¼Œå‡è®¾ä»–ä»¬åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„åˆ†åˆ«æ˜¯(x1, x2, â€¦ ,1)å’Œ(y1, y2, â€¦ ,1)ï¼ˆè¿™é‡Œæ˜¾ç„¶æœ‰x = x1ï¼Œy = y1ï¼‰ï¼Œé‚£ä¹ˆå¿…ç„¶å­˜åœ¨ä¸¤ä¸ªæ­£æ•´æ•°iå’Œjï¼Œä½¿å¾—ä»xi å’Œ yjå¼€å§‹ï¼Œæœ‰xi = yj , xi + 1 = yj + 1, xi + 2 = yj + 2,â€¦ ç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œç»™å®šxå’Œyï¼Œè¦æ±‚xiï¼ˆä¹Ÿå°±æ˜¯yjï¼‰ã€‚\n\nè¾“å…¥\nè¾“å…¥æœ‰å¤šè¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ­£æ•´æ•°xå’Œyï¼Œè¿™ä¸¤ä¸ªæ­£æ•´æ•°éƒ½ä¸å¤§äº1000ã€‚\nè¾“å‡º\næ¯è¡Œè¾“å‡ºåªæœ‰ä¸€ä¸ªæ­£æ•´æ•°xiã€‚\næ ·ä¾‹è¾“å…¥\n10 4\næ ·ä¾‹è¾“å‡º\n2\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int N = 12;\nint ax[N], ay[N];\nint main() {\n    int x, y;\n    // æ‰¾é‡åˆçš„è·¯å¾„\n    while (cin &gt;&gt; x &gt;&gt; y) {\n        int kx = 0;\n        while (x) {\n            ax[kx++] = x % 2;\n            x /= 2;\n        }\n        int ky = 0;\n        while (y) {\n            ay[ky++] = y % 2;\n            y /= 2;\n        }\n        int kmii = kx &gt; ky ? ky : kx;\n        int ans = 0;\n        for (int i = 1;i &lt;= kmii;i++) {\n            if (ax[kx - i] == ay[ky - i]) {\n                ans &lt;&lt;= 1;\n                ans += ax[kx - i];\n            }\n            else break;\n        }\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n \n    return 0;\n}\n \n1248: A008 æ³¢å…°è¡¨è¾¾å¼\né¢˜ç›®æè¿°\næ³¢å…°è¡¨è¾¾å¼æ˜¯ä¸€ç§æŠŠè¿ç®—ç¬¦å‰ç½®çš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œä¾‹å¦‚æ™®é€šçš„è¡¨è¾¾å¼2 + 3çš„æ³¢å…°è¡¨ç¤ºæ³•ä¸º+ 2 3ã€‚æ³¢å…°è¡¨è¾¾å¼çš„ä¼˜ç‚¹æ˜¯è¿ç®—ç¬¦ä¹‹é—´ä¸å¿…æœ‰ä¼˜å…ˆçº§å…³ç³»ï¼Œä¹Ÿä¸å¿…ç”¨æ‹¬å·æ”¹å˜è¿ç®—æ¬¡åºï¼Œä¾‹å¦‚(2 + 3) * 4çš„æ³¢å…°è¡¨ç¤ºæ³•ä¸º* + 2 3 4ã€‚æœ¬é¢˜æ±‚è§£æ³¢å…°è¡¨è¾¾å¼çš„å€¼ï¼Œå…¶ä¸­è¿ç®—ç¬¦åŒ…æ‹¬+ - * /å››ä¸ªã€‚\nè¾“å…¥\nè¾“å…¥ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°nï¼Œç„¶åæ˜¯nè¡Œï¼Œæ¯è¡Œä¸ºä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œå…¶ä¸­è¿ç®—ç¬¦å’Œè¿ç®—æ•°ä¹‹é—´éƒ½ç”¨ç©ºæ ¼åˆ†éš”ï¼Œè¿ç®—æ•°æ˜¯æµ®ç‚¹æ•°ã€‚\nè¾“å‡º\nè¾“å‡ºnè¡Œï¼Œæ¯è¡Œè¡¨è¾¾å¼çš„å€¼ï¼Œä¿ç•™3ä½å°æ•°è¾“å‡ºã€‚\næ ·ä¾‹è¾“å…¥\n1\n* + 11.0 12.0 + 24.0 35.0\næ ·ä¾‹è¾“å‡º\n1357.000\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \ndouble dox() {\n    string st;cin &gt;&gt; st;\n    switch (st[0])\n    {\n    case &#039;+&#039;:\n        return dox() + dox();\n    case &#039;-&#039;:\n        return dox() - dox();\n    case &#039;/&#039;:\n        return dox() / dox();\n    case &#039;*&#039;:\n        return dox() * dox();\n    default:break;\n    }\n    return atof(st.c_str());\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        cout &lt;&lt; fixed &lt;&lt; setprecision(3) &lt;&lt; dox() &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1249: A009 æ”¾è‹¹æœ\né¢˜ç›®æè¿°\næŠŠMä¸ªåŒæ ·çš„è‹¹æœæ”¾åœ¨Nä¸ªåŒæ ·çš„ç›˜å­é‡Œï¼Œå…è®¸æœ‰çš„ç›˜å­ç©ºç€ä¸æ”¾ï¼Œé—®å…±æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ï¼ˆç”¨Kè¡¨ç¤ºï¼‰ï¼Ÿæ³¨æ„ï¼š5ï¼Œ1ï¼Œ1å’Œ1ï¼Œ5ï¼Œ1 æ˜¯åŒä¸€ç§åˆ†æ³•ã€‚\nè¾“å…¥\nç¬¬ä¸€è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„æ•°ç›®tï¼ˆ0 â‡ t â‡ 20ï¼‰ã€‚ä»¥ä¸‹æ¯è¡Œå‡åŒ…å«äºŒä¸ªæ•´æ•°Må’ŒNï¼Œä»¥ç©ºæ ¼åˆ†å¼€ã€‚1 â‡ Mï¼ŒN â‡ 10ã€‚\nè¾“å‡º\nå¯¹è¾“å…¥çš„æ¯ç»„æ•°æ®Må’ŒNï¼Œç”¨ä¸€è¡Œè¾“å‡ºç›¸åº”çš„Kã€‚\næ ·ä¾‹è¾“å…¥\n1\n7 3\næ ·ä¾‹è¾“å‡º\n8\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int N = 15;\nint dp[N][N];\n \nint divx(int apl, int pla) {\n    if (apl == 0 || pla == 1)\n        return dp[apl][pla] = 1;\n    if (pla &gt; apl)\n        return dp[apl][pla] = divx(apl, apl);\n    return dp[apl][pla] = divx(apl, pla - 1) + divx(apl - pla, pla);\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    int m, n;\n    while (t--) {\n        cin &gt;&gt; m &gt;&gt; n;\n        cout &lt;&lt; divx(m, n) &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1250: A010 é€’å½’ç»ƒä¹ 1\né¢˜ç›®æè¿°\næœ‰5ä¸ªäººååœ¨ä¸€èµ·ï¼Œé—®ç¬¬5ä¸ªäººå¤šå°‘å²ï¼Ÿä»–è¯´æ¯”ç¬¬4ä¸ªäººå¤§ä¸¤å²ã€‚é—®ç¬¬4ä¸ªäººçš„å²æ•°ï¼Œä»–è¯´æ¯”ç¬¬3ä¸ªäººå¤§ä¸¤å²ã€‚é—®ç¬¬3ä¸ªäººçš„å²æ•°ï¼Œåˆè¯´æ¯”ç¬¬2ä¸ªäººå¤§ä¸¤å²ã€‚é—®ç¬¬2ä¸ªäººçš„å²æ•°ï¼Œè¯´æ¯”ç¬¬1ä¸ªäººå¤§ä¸¤å²ã€‚æœ€åé—®ç¬¬1ä¸ªäººçš„å²æ•°ï¼Œä»–è¯´æ˜¯10å²ã€‚è¯·é—®ç¬¬5ä¸ªäººå¤šå°‘å²ï¼Ÿ\nè¾“å…¥\nè¾“å…¥æœ‰å¤šè¡Œï¼Œæ¯è¡Œ3ä¸ªæ•´æ•°ï¼Œä¾æ¬¡ä¸ºm,n,kã€‚mè¡¨ç¤ºä¸€å…±æœ‰å‡ ä¸ªäººï¼Œnè¡¨ç¤ºå¤§çš„å²æ•°ï¼Œkè¡¨ç¤ºç¬¬ä¸€ä¸ªäººçš„å²æ•°ã€‚\nè¾“å‡º\nè¾“å‡ºç¬¬mä¸ªäººçš„å²æ•°ï¼Œæ¯ä¸ªä¸€è¡Œã€‚\næ ·ä¾‹è¾“å…¥\n5 2 10\næ ·ä¾‹è¾“å‡º\n18\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \nint m, n, k;\nint age(int ind) {\n    if (ind == 1)return k;\n    return age(ind - 1) + n;\n}\n \nint main() {\n    while (cin &gt;&gt; m &gt;&gt; n &gt;&gt; k) {\n        cout &lt;&lt; age(m) &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1251: A011 é€’å½’ç»ƒä¹ 2\né¢˜ç›®æè¿°\næ ¹æ®é€’æ¨å¼å­C(m,n)=C(m-1,n)+C(m-1,n-1)ï¼Œæ±‚ç»„åˆæ•°C(m,n)ã€‚æ³¨æ„é€’æ¨çš„ç»ˆæ­¢æ¡ä»¶æ˜¯C(m,1)=mï¼›ä»¥åŠä¸€äº›må’Œnå–å€¼çš„ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œå¦‚m &lt; 0æˆ–n &lt; 0æˆ–m &lt; næ—¶ï¼ŒC(m,n)å€¼ä¸º0ï¼Œmå’Œnç›¸ç­‰æ—¶ï¼ŒC(m,n)=1ç­‰ã€‚\nè¾“å…¥\nç¬¬1è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°nï¼Œåé¢è·Ÿç€nè¡Œè¾“å…¥ã€‚æ¯ç»„æµ‹è¯•æ•°æ®å 1è¡Œï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ­£æ•´æ•°må’Œä¸€ä¸ªæ­£æ•´æ•°nã€‚\nè¾“å‡º\nè¾“å‡ºç»„åˆæ•°C(m,n)ã€‚\næ ·ä¾‹è¾“å…¥\n2\n1 100\n100 1\næ ·ä¾‹è¾“å‡º\n0\n100\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \nint C(int m, int n) {\n    if (n == 1)return m;\n    if (m &lt; 0 || n &lt; 0 || m &lt; n)return 0;\n    if (m == n)return 1;\n    return C(m - 1, n) + C(m - 1, n - 1);\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int m, n;cin &gt;&gt; m &gt;&gt; n;\n        cout &lt;&lt; C(m, n) &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1252: A012 é€’å½’ç»ƒä¹ 3\né¢˜ç›®æè¿°\næ ¸ååº”å †ä¸­æœ‰Î±å’ŒÎ²ä¸¤ç§ç²’å­ã€‚æ¯ç§’é’Ÿå†…ä¸€ä¸ªÎ±ç²’å­å¯ä»¥äº§ç”Ÿ3ä¸ªÎ²ç²’å­ï¼Œè€Œä¸€ä¸ªÎ²ç²’å­å¯ä»¥äº§ç”Ÿ1ä¸ªÎ±ç²’å­å’Œ2ä¸ªÎ²ç²’å­ã€‚è‹¥åœ¨t=0æ—¶åˆ»ååº”å †ä¸­æœ‰ä¸€ä¸ªÎ±ç²’å­ï¼Œæ±‚tæ—¶åˆ»ååº”å †ä¸­åˆ†åˆ«æœ‰å¤šå°‘ä¸ªÎ±ç²’å­å’ŒÎ²ç²’å­ã€‚\nè¾“å…¥\nè¾“å…¥æœ‰å¤šä¸ªæ•´æ•°tï¼Œæ¯ä¸ªä¸€è¡Œã€‚\nè¾“å‡º\nè¾“å‡ºtæ—¶åˆ»ååº”å †é‡Œåˆ†åˆ«æœ‰å¤šå°‘ä¸ªÎ±ç²’å­å’ŒÎ²ç²’å­ã€‚\næ ·ä¾‹è¾“å…¥\n6\næ ·ä¾‹è¾“å‡º\n183 546\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \npair&lt;int, int&gt; qut(int n) {\n    if (n == 0)return make_pair(1, 0);\n    int tempa = qut(n - 1).first, tempb = qut(n - 1).second;\n    int a = tempb, b = 3 * tempa + 2 * tempb;\n    return make_pair(a, b);\n}\n \nint main() {\n    int t;\n    while (cin &gt;&gt; t) {\n        cout &lt;&lt; qut(t).first &lt;&lt; &quot; &quot; &lt;&lt; qut(t).second &lt;&lt; endl;\n    }\n \n    return 0;\n}\næ’ä¸€å¥ï¼šè¿™é‡Œç”¨äº†pairæ•°æ®ç±»å‹ï¼Œæˆ–è®¸æœ‰åŒå­¦å¹¶æ²¡æœ‰æ¥è§¦åˆ°â€¦ä¸€èˆ¬å‡½æ•°ä¼šè¿”å›1ä¸ªå€¼ï¼Œæœ‰æ—¶å€™æƒ³è¿”å›ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„æ—¶å€™å¯ä»¥è¯•è¯•è‡ªå®šä¹‰structæ•°æ®ç±»å‹ï¼Œå†å»å®šä¹‰ä¸€ä¸ªstructçš„å‡½æ•°ï¼Œä¸è¿‡c++è‡ªæœ‰ä¸€ä¸ªpairå¯ä»¥ç”¨ï¼Œè¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚\n1253: A013 çº¢ä¸é»‘\né¢˜ç›®æè¿°\næœ‰ä¸€é—´é•¿æ–¹å½¢çš„æˆ¿å­ï¼Œåœ°ä¸Šé“ºäº†çº¢è‰²ã€é»‘è‰²ä¸¤ç§é¢œè‰²çš„æ­£æ–¹å½¢ç“·ç –ã€‚ä½ ç«™åœ¨å…¶ä¸­ä¸€å—é»‘è‰²çš„ç“·ç –ä¸Šï¼Œåªèƒ½å‘ç›¸é‚»çš„é»‘è‰²ç“·ç –ç§»åŠ¨ã€‚è¯·å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—ä½ æ€»å…±èƒ½å¤Ÿåˆ°è¾¾å¤šå°‘å—é»‘è‰²çš„ç“·ç –ã€‚\nè¾“å…¥\nåŒ…æ‹¬å¤šä¸ªæ•°æ®é›†åˆã€‚æ¯ä¸ªæ•°æ®é›†åˆçš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°Wå’ŒHï¼Œåˆ†åˆ«è¡¨ç¤ºxæ–¹å‘å’Œyæ–¹å‘ç“·ç –çš„æ•°é‡ã€‚Wå’ŒHéƒ½ä¸è¶…è¿‡20ã€‚åœ¨æ¥ä¸‹æ¥çš„Hè¡Œä¸­ï¼Œæ¯è¡ŒåŒ…æ‹¬Wä¸ªå­—ç¬¦ã€‚æ¯ä¸ªå­—ç¬¦è¡¨ç¤ºä¸€å—ç“·ç –çš„é¢œè‰²ï¼Œè§„åˆ™å¦‚ä¸‹\n1ï¼‰â€˜.â€™ï¼šé»‘è‰²çš„ç“·ç –ï¼›\n2ï¼‰â€˜#â€™ï¼šç™½è‰²çš„ç“·ç –ï¼›\n3ï¼‰â€˜@â€™ï¼šé»‘è‰²çš„ç“·ç –ï¼Œå¹¶ä¸”ä½ ç«™åœ¨è¿™å—ç“·ç –ä¸Šã€‚è¯¥å­—ç¬¦åœ¨æ¯ä¸ªæ•°æ®é›†åˆä¸­å”¯ä¸€å‡ºç°ä¸€æ¬¡ã€‚\nå½“åœ¨ä¸€è¡Œä¸­è¯»å…¥çš„æ˜¯ä¸¤ä¸ªé›¶æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæ•°æ®é›†åˆï¼Œåˆ†åˆ«è¾“å‡ºä¸€è¡Œï¼Œæ˜¾ç¤ºä½ ä»åˆå§‹ä½ç½®å‡ºå‘èƒ½åˆ°è¾¾çš„ç“·ç –æ•°(è®°æ•°æ—¶åŒ…æ‹¬åˆå§‹ä½ç½®çš„ç“·ç –)ã€‚\næ ·ä¾‹è¾“å…¥\n6 9 \n....#. \n.....# \n...... \n...... \n...... \n...... \n...... \n#@...# \n.#..#. \n0 0\næ ·ä¾‹è¾“å‡º\n45\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxh = 25;\nstring mp[maxh];\nint dx[4] = { -1,0,1,0 }, dy[4] = { 0,1,0,-1 };\n \nint w, h;\nint move(int x, int y, int allstep) {\n    for (int i = 0;i &lt; 4;i++) {\n        int nx = x + dx[i], ny = y + dy[i];\n        if (nx &gt; -1 &amp;&amp; nx&lt;h &amp;&amp; ny&gt;-1 &amp;&amp; ny &lt; w &amp;&amp; mp[nx][ny] == &#039;.&#039;){\n            mp[nx][ny] = &#039;#&#039;;\n            allstep = move(nx, ny, allstep + 1);\n        }\n    }\n    return allstep;\n}\n \nint main() {\n    while (cin &gt;&gt; w &gt;&gt; h &amp;&amp; w != 0 &amp;&amp; h != 0) {\n        int si, se;\n        for (int i = 0;i &lt; h;i++) {\n            cin &gt;&gt; mp[i];\n            if (mp[i].find(&quot;@&quot;) != string::npos) {\n                si = i;se = mp[i].find(&quot;@&quot;);\n            }\n        }\n        int steps = move(si, se, 1);\n        cout &lt;&lt; steps &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1254: A014 åŸå ¡é—®é¢˜\né¢˜ç›®æè¿°\n1 2 3 4 5 6 7\n#############################\n1 # | # | # | | #\n------------\n2 # # | # # # # #\n------------\n3 # | | # # # # #\n------------\n4 # # | | | | # #\n\n(å›¾ 1)\nâ€˜#â€™ = Wall\nâ€˜|â€™ = No wall\nâ€™-â€™ = No wall\nå›¾1æ˜¯ä¸€ä¸ªåŸå ¡çš„åœ°å½¢å›¾ã€‚è¯·ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—åŸå ¡ä¸€å…±æœ‰å¤šå°‘æˆ¿é—´ï¼Œæœ€å¤§çš„æˆ¿é—´æœ‰å¤šå¤§ã€‚åŸå ¡è¢«åˆ†å‰²æˆm*n(mâ‰¤50ï¼Œnâ‰¤50)ä¸ªæ–¹å—ï¼Œæ¯ä¸ªæ–¹å—å¯ä»¥æœ‰0~4é¢å¢™ã€‚\nè¾“å…¥\nç¨‹åºä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å…¥æ•°æ®ã€‚ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«æ˜¯å—åŒ—å‘ã€ä¸œè¥¿å‘çš„æ–¹å—æ•°ã€‚åœ¨æ¥ä¸‹æ¥çš„è¾“å…¥è¡Œé‡Œï¼Œæ¯ä¸ªæ–¹å—ç”¨ä¸€ä¸ªæ•°å­—(0â‰¤pâ‰¤50)æè¿°ã€‚ç”¨ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ–¹å—å‘¨å›´çš„å¢™ï¼Œ1è¡¨ç¤ºè¥¿å¢™ï¼Œ2è¡¨ç¤ºåŒ—å¢™ï¼Œ4è¡¨ç¤ºä¸œå¢™ï¼Œ8è¡¨ç¤ºå—å¢™ã€‚æ¯ä¸ªæ–¹å—ç”¨ä»£è¡¨å…¶å‘¨å›´å¢™çš„æ•°å­—ä¹‹å’Œè¡¨ç¤ºã€‚åŸå ¡çš„å†…å¢™è¢«è®¡ç®—ä¸¤æ¬¡ï¼Œæ–¹å—(1,1)çš„å—å¢™åŒæ—¶ä¹Ÿæ˜¯æ–¹å—(2,1)çš„åŒ—å¢™ã€‚è¾“å…¥çš„æ•°æ®ä¿è¯åŸå ¡è‡³å°‘æœ‰ä¸¤ä¸ªæˆ¿é—´ã€‚\nè¾“å‡º\nåŸå ¡çš„æˆ¿é—´æ•°ã€åŸå ¡ä¸­æœ€å¤§æˆ¿é—´æ‰€åŒ…æ‹¬çš„æ–¹å—æ•°ã€‚\næ ·ä¾‹è¾“å…¥\n4\n7\n11 6 11 6 3 10 6\n7 9 6 13 5 15 5\n1 10 12 7 13 7 5\n13 11 10 8 10 12 13\næ ·ä¾‹è¾“å‡º\n5\n9\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int N = 60;\nint wall[N][N], fw[N][N];\nint roomnum = 0, sizea = 0;\nvoid dfs(int x, int y) {\n    // æŸ¥æ‰¾ç‚¹(x,y)çš„ä¿¡æ¯\n    if (fw[x][y]) return;\n    sizea++;\n    fw[x][y] = roomnum;\n    if ((wall[x][y] &amp; 1) == 0)dfs(x, y - 1);\n    if ((wall[x][y] &amp; 2) == 0)dfs(x - 1, y);\n    if ((wall[x][y] &amp; 4) == 0)dfs(x, y + 1);\n    if ((wall[x][y] &amp; 8) == 0)dfs(x + 1, y);\n}\n \nint main() {\n    int h, w;cin &gt;&gt; h &gt;&gt; w;\n    for (int i = 1;i &lt;= h;i++){\n        for (int j = 1;j &lt;= w;j++){\n            cin &gt;&gt; wall[i][j];\n        }\n    }\n    int maxroom = 0;\n    for (int i = 1;i &lt;= h;i++) {\n        for (int j = 1;j &lt;= w;j++) {\n            if (!fw[i][j]) {\n                // (i,j)æ²¡è¢«æ‰¾è¿‡(æ–°çš„area)\n                roomnum++;\n                dfs(i, j);\n                maxroom = max(maxroom, sizea);\n                sizea = 0;\n            }\n        }\n    }\n    cout &lt;&lt; roomnum &lt;&lt; endl &lt;&lt; maxroom &lt;&lt; endl;\n \n    return 0;\n}\n \n/*\n  2\n1   4\n  8\n*/\n1255: A015 åˆ†è§£å› å¼\né¢˜ç›®æè¿°\nç»™å‡ºä¸€ä¸ªæ­£æ•´æ•°aï¼Œè¦æ±‚åˆ†è§£æˆè‹¥å¹²ä¸ªæ­£æ•´æ•°çš„ä¹˜ç§¯ï¼Œå³a = a1 * a2 * a3 * â€¦ * anï¼Œå¹¶ä¸”1 &lt; a1 â‡ a2 â‡ a3 â‡ â€¦ â‡ anï¼Œé—®è¿™æ ·çš„åˆ†è§£çš„ç§æ•°æœ‰å¤šå°‘ã€‚æ³¨æ„åˆ°a = aä¹Ÿæ˜¯ä¸€ç§åˆ†è§£ã€‚\nè¾“å…¥\nç¬¬1è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°nï¼Œåé¢è·Ÿç€nè¡Œè¾“å…¥ã€‚æ¯ç»„æµ‹è¯•æ•°æ®å 1è¡Œï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ­£æ•´æ•°a (1 &lt; a &lt; 32768)ã€‚\nè¾“å‡º\nnè¡Œï¼Œæ¯è¡Œè¾“å‡ºå¯¹åº”ä¸€ä¸ªè¾“å…¥ã€‚è¾“å‡ºåº”æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒæŒ‡æ˜æ»¡è¶³è¦æ±‚çš„åˆ†è§£çš„ç§æ•°ã€‚\næ ·ä¾‹è¾“å…¥\n2\n2\n20\næ ·ä¾‹è¾“å‡º\n1\n4\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint ans = 0;\nvoid dfs(int tar, int now) {\n    if (tar != 1) {\n        for (int i = now;i &lt;= tar;i++)\n            if (tar % i == 0)\n                dfs(tar / i, i);\n    }\n    else {\n        ans++;return;\n    }\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        ans = 0;\n        int n;cin &gt;&gt; n;\n        if (n == 2) {\n            cout &lt;&lt; 1 &lt;&lt; endl;\n            continue;\n        }\n        dfs(n, 2);\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n    \n \n    return 0;\n}\n1256: A016 æ•°å­—æ‹¼å‡‘\né¢˜ç›®æè¿°\nç°åœ¨ç»™ä½ è¿™æ ·ä¸€ä¸ªä»»åŠ¡ï¼Œè¦æ±‚æ‰¾å‡ºå…·æœ‰ä¸‹åˆ—æ€§è´¨æ•°çš„ä¸ªæ•°ï¼ˆåŒ…å«è¾“å…¥çš„æ­£æ•´æ•° nï¼‰ã€‚\nå…ˆè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° n(n â‡ 500)ï¼Œç„¶åå¯¹æ­¤æ­£æ•´æ•°æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•è¿›è¡Œå¤„ç†ï¼š\n\nä¸ä½œä»»ä½•å¤„ç†ï¼›\nåœ¨å®ƒçš„å·¦è¾¹æ‹¼æ¥ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä½†è¯¥æ­£æ•´æ•°ä¸èƒ½è¶…è¿‡åŸæ•°çš„ä¸€åŠæˆ–è€…æ˜¯ä¸Šä¸€ä¸ªè¢«æ‹¼æ¥æ•°çš„ä¸€åŠï¼›\nåŠ ä¸Šæ•°åï¼Œç»§ç»­æŒ‰æ­¤è§„åˆ™è¿›è¡Œå¤„ç†ï¼Œç›´åˆ°ä¸èƒ½å†åŠ æ­£æ•´æ•°ä¸ºæ­¢ã€‚\n\nè¾“å…¥\nä¸€ä¸ªæ­£æ•´æ•°nã€‚\nè¾“å‡º\nä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå…·æœ‰è¯¥æ€§è´¨æ•°çš„ä¸ªæ•°ã€‚\næ ·ä¾‹è¾“å…¥\n6\næ ·ä¾‹è¾“å‡º\n6\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint fx[1010];\nint f(int n) {\n    if (n == 1)return 1;\n    if (fx[n])return fx[n];\n \n    int cnt = 0;\n    for (int i = 1;i &lt;= n / 2;i++)\n        cnt += f(i);\n    return fx[n] = cnt + 1;\n}\n \nint main() {\n    int n;\n    cin &gt;&gt; n;\n    cout &lt;&lt; f(n) &lt;&lt; endl;\n \n    return 0;\n}\nç®—æ³•2æ’åºB\n1257: B001 å¿«ä¹çš„è •è™«\né¢˜ç›®æè¿°\næœ‰ä¸€åªå¿«ä¹çš„è •è™«å±…ä½åœ¨ä¸€ä¸ªmÃ—nå¤§å°çš„ç½‘æ ¼ä¸­ã€‚åœ¨ç½‘æ ¼çš„æŸäº›ä½ç½®æ”¾ç½®äº†kå—çŸ³å¤´ã€‚ç½‘æ ¼ä¸­çš„æ¯ä¸ªä½ç½®è¦ä¹ˆæ˜¯ç©ºçš„ï¼Œè¦ä¹ˆæ”¾ç½®äº†ä¸€å—çŸ³å¤´ã€‚å½“è •è™«ç¡è§‰æ—¶ï¼Œå®ƒåœ¨æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šèººç€ï¼ŒæŠŠèº«ä½“å°½å¯èƒ½ä¼¸å±•å¼€æ¥ã€‚è •è™«çš„èº«èº¯æ—¢ä¸èƒ½è¿›å…¥åˆ°æ”¾æœ‰çŸ³å—çš„æ–¹æ ¼ä¸­ï¼Œä¹Ÿä¸èƒ½ä¼¸å‡ºç½‘æ ¼å¤–ã€‚è€Œä¸”è •è™«çš„é•¿åº¦ä¸ä¼šçŸ­äº2ä¸ªæ–¹æ ¼çš„å¤§å°ã€‚\næœ¬é¢˜çš„ä»»åŠ¡æ˜¯ç»™å®šç½‘æ ¼ï¼Œè¦è®¡ç®—è •è™«å¯ä»¥åœ¨å¤šå°‘ä¸ªä¸åŒçš„ä½ç½®èººä¸‹ç¡è§‰ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶çš„ç¬¬1è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°tï¼Œ1â‡tâ‡11,è¡¨ç¤ºæµ‹è¯•æ•°æ®çš„ä¸ªæ•°ã€‚æ¯ä¸ªæµ‹è¯•æ•°æ®çš„ç¬¬1è¡Œä¸º3ä¸ªæ•´æ•°ï¼šm,nå’Œk(0â‡m,n,kâ‡200000),æ¥ä¸‹æ¥æœ‰kè¡Œï¼Œæ¯è¡Œä¸º2ä¸ªæ•´æ•°ï¼Œæè¿°äº†ä¸€å—çŸ³å¤´çš„ä½ç½®ï¼ˆè¡Œå’Œåˆ—ï¼Œæœ€å·¦ä¸Šè§’ä½ç½®ä¸ºï¼ˆ1,1ï¼‰ï¼‰ã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºå ä¸€è¡Œï¼Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè •è™«å¯ä»¥èººç€ç¡è§‰çš„ä¸åŒä½ç½®çš„æ•°ç›®ã€‚\næ ·ä¾‹è¾“å…¥\n1\n5 5 6\n1 5\n2 3\n2 4\n4 2 \n4 3\n5 1\næ ·ä¾‹è¾“å‡º\n9\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50;\nint n, m, k;\n \nstruct node {\n    int x, y;\n    node(int x, int y) : x(x), y(y) {}\n};\nbool cmp1(node a, node b) {\n    if (a.x == b.x)\n        return a.y &lt; b.y;\n    return a.x &lt; b.x;\n}\nbool cmp2(node a, node b) {\n    if (a.y == b.y)\n        return a.x &lt; b.x;\n    return a.y &lt; b.y;\n}\n \nvector&lt;node&gt; a;\nint ans = 0;\nvoid search(bool f) {\n    for (int i = 1;i &lt; a.size();i++) {\n        int nx = a[i].x, ny = a[i].y;\n        int px = a[i - 1].x, py = a[i - 1].y;\n        if (f) {\n            if (nx != px)continue;\n            if (ny - py &gt; 2)ans++;\n        }\n        else {\n            if (ny != py)continue;\n            if (nx - px &gt; 2)ans++;\n        }\n    }\n}\n \nvoid solve() {\n    cin &gt;&gt; m &gt;&gt; n &gt;&gt; k;\n    ans = 0;\n    a.clear();\n    for (int i = 0;i &lt; k;i++) {\n        int x, y;cin &gt;&gt; x &gt;&gt; y;\n        a.push_back(node(x, y));\n    }\n    for (int i = 0;i &lt; m + 2;i++) {\n        a.push_back(node(i, 0));\n        a.push_back(node(i, n + 1));\n    }\n    for (int i = 0;i &lt; n + 2;i++) {\n        a.push_back(node(0, i));\n        a.push_back(node(m + 1, i));\n    }\n    sort(a.begin(), a.end(), cmp1);\n    search(true);\n    sort(a.begin(), a.end(), cmp2);\n    search(false);\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--)\n        solve();\n \n    return 0;\n}\n1258: B002 å•è¯é‡ç»„\né¢˜ç›®æè¿°\nåœ¨ç¾å›½æ•°ä»¥ç™¾ä¸‡è®¡çš„æŠ¥çº¸ä¸­ï¼Œæœ‰ä¸€ç§å•è¯æ¸¸æˆç§°ä¸ºçŒœè¯ã€‚æ¸¸æˆçš„ç›®æ ‡æ˜¯çŒœè°œï¼Œä¸ºäº†æ‰¾å‡ºç­”æ¡ˆä¸­ç¼ºå°‘çš„å­—æ¯ï¼Œæœ‰å¿…è¦å¯¹4ä¸ªå•è¯çš„å­—æ¯é¡ºåºé‡æ–°è°ƒæ•´ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œä½ çš„ä»»åŠ¡æ˜¯ç¼–å†™ç¨‹åºå®ç°å¯¹å•è¯ä¸­çš„å­—æ¯é¡ºåºé‡æ–°è°ƒæ•´ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶åŒ…å«4éƒ¨åˆ†ï¼š\nï¼ˆ1ï¼‰ ä¸€éƒ¨å­—å…¸ï¼ŒåŒ…å«è‡³å°‘1ä¸ªå•è¯ï¼Œè‡³å¤š100ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯å ä¸€è¡Œï¼›\nï¼ˆ2ï¼‰ å­—å…¸åæ˜¯ä¸€è¡Œå­—ç¬¦ä¸²â€œXXXXXXâ€ï¼Œè¡¨ç¤ºå­—å…¸ç»“æŸï¼›\nï¼ˆ3ï¼‰ ä¸€ä¸ªæˆ–å¤šä¸ªè¢«æ‰“ä¹±å­—æ¯é¡ºåºçš„â€œå•è¯â€ï¼Œæ¯ä¸ªå•è¯å ä¸€è¡Œï¼Œä½ å¿…é¡»æ•´ç†è¿™äº›å­—æ¯çš„é¡ºåºï¼›\nï¼ˆ4ï¼‰ è¾“å…¥æ–‡ä»¶çš„æœ€åä¸€æ ·ä¸ºå­—ç¬¦ä¸²â€œXXXXXXâ€ï¼Œä»£è¡¨è¾“å…¥æ–‡ä»¶ç»“æŸã€‚\næ‰€æœ‰å•è¯ï¼ŒåŒ…æ‹¬å­—å…¸ä¸­çš„å•è¯å’Œè¢«æ‰“ä¹±å­—æ¯é¡ºåºçš„å•è¯ï¼Œéƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”è‡³å°‘åŒ…å«ä¸€ä¸ªå­—æ¯ï¼Œè‡³å¤šåŒ…å«6ä¸ªå­—æ¯ã€‚å­—å…¸ä¸­çš„å•è¯ä¸ä¸€å®šæ˜¯æŒ‰é¡ºåºæ’åˆ—çš„ï¼Œä½†ä¿è¯å­—å…¸ä¸­çš„å•è¯æ˜¯å”¯ä¸€çš„ã€‚\nè¾“å‡º\nå¯¹è¾“å…¥æ–‡ä»¶ä¸­æ¯ä¸ªè¢«æ‰“ä¹±å­—æ¯é¡ºåºçš„å•è¯wï¼ŒæŒ‰å­—æ¯é¡ºåºè¾“å‡ºå­—å…¸ä¸­æ‰€æœ‰æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å•è¯çš„åˆ—è¡¨ï¼šé€šè¿‡è°ƒæ•´å•è¯wä¸­çš„å­—æ¯é¡ºåºï¼Œå¯ä»¥å˜æˆå­—å…¸ä¸­çš„å•è¯ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå•è¯å ä¸€è¡Œã€‚å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼ˆå³å•è¯wä¸èƒ½è½¬æ¢æˆå­—å…¸ä¸­çš„ä»»ä½•ä¸€ä¸ªå•è¯ï¼‰ï¼Œåˆ™è¾“å‡ºä¸€è¡Œå­—ç¬¦ä¸²â€œNOT A VALID WORDâ€ã€‚ä»¥ä¸Šä¸¤ç§æƒ…å½¢éƒ½åœ¨åˆ—è¡¨åï¼Œè¾“å‡ºä¸€è¡ŒåŒ…å«6ä¸ªæ˜Ÿå·å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºåˆ—è¡¨ç»“æŸã€‚\næ ·ä¾‹è¾“å…¥\ntarp\ngiven\nscore\nrefund\nonly\ntrap\nwork\nearn\ncourse\npepper\npart\nXXXXXX\nresco\nnfudre\naptr\nsett\noresuc\nXXXXXX\næ ·ä¾‹è¾“å‡º\nscore\n******\nrefund\n******\npart\ntarp\ntrap\n******\nNOT A VALID WORD\n******\ncourse\n******\nå‚è€ƒä»£ç \n \nç®—æ³•2æŸ¥æ‰¾C\n1264: C001 å­—ç¬¦ä¸²è®¡æ•°\né¢˜ç›®æè¿°\nç»™å‡ºmä¸ªå­—ç¬¦ä¸²ï¼Œè¦æ±‚è¾“å‡ºé‡å¤næ¬¡çš„å­—ç¬¦ä¸²æœ‰å‡ ä¸ªã€‚\nè¾“å…¥\nå…ˆç»™å®šä¸€ä¸ªNï¼ŒNâ‰¤100000ï¼Œæ¥ç€è¾“å…¥Nä¸ªå­—ç¬¦ä¸²ã€‚\nè¾“å‡º\nå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºè‹¥å¹²è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºé‡å¤çš„æ¬¡æ•°ï¼Œç¬¬äºŒä¸ªæ•°è¡¨ç¤ºåœ¨æ­¤é‡å¤æ¬¡æ•°ä¸‹æœ‰å‡ ç§ä¸åŒçš„å­—ç¬¦ä¸²ã€‚\næ ·ä¾‹è¾“å…¥\n5\nBBA\nBBA\nBEA\nDEC\nCCF\næ ·ä¾‹è¾“å‡º\n1 3\n2 1\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int N = 1e5 + 50;\nint nx[N];\n \nint main() {\n    int n;cin &gt;&gt; n;\n    map&lt;string, int&gt;sts;\n    string st;\n    while (n--) {\n        cin &gt;&gt; st;\n        if (sts.find(st) != sts.end()) {\n            map&lt;string, int&gt;::const_iterator it = sts.find(st);\n            int cnt = (*it).second;\n            sts[st] = ++cnt;\n        }\n        else\n            sts.insert(make_pair(st, 1));\n    }\n    map&lt;string, int&gt;::const_iterator it = sts.begin();\n    for (;it != sts.end();it++) {\n        nx[(*it).second]++;\n    }\n    for (int i = 1;i &lt;= sts.size();i++) {\n        if (nx[i])\n            cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; nx[i] &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1265: C002 èµŒå¾’\né¢˜ç›®æè¿°\nNä¸ªèµŒå¾’ä¸€èµ·å†³å®šç©ä¸€ä¸ªæ¸¸æˆï¼š\næ¸¸æˆåˆšå¼€å§‹çš„æ—¶å€™ï¼Œæ¯ä¸ªèµŒå¾’æŠŠèµŒæ³¨æ”¾åœ¨æ¡Œä¸Šå¹¶é®ä½ï¼Œä¾è€…è¦æŸ¥çœ‹æ¯ä¸ªäººçš„èµŒæ³¨å¹¶ç¡®ä¿æ¯ä¸ªäººçš„èµŒæ³¨éƒ½ä¸ä¸€æ ·ã€‚å¦‚æœä¸€ä¸ªèµŒå¾’æ²¡é’±äº†ï¼Œåˆ™ä»–è¦å€Ÿä¸€äº›ç­¹ç ï¼Œå› æ­¤ä»–çš„èµŒæ³¨ä¸ºè´Ÿæ•°ã€‚å‡å®šèµŒæ³¨éƒ½æ˜¯æ•´æ•°ã€‚\næœ€åèµŒå¾’ä»¬æ­å¼€ç›–å­ï¼Œå‡ºç¤ºä»–ä»¬çš„èµŒæ³¨ã€‚å¦‚æœè°ä¸‹çš„èµŒæ³¨æ˜¯å…¶ä»–èµŒå¾’ä¸­æŸ3ä¸ªäººä¸‹çš„èµŒæ³¨ä¹‹å’Œï¼Œåˆ™ä»–æ˜¯èƒœåˆ©è€…ã€‚å¦‚æœæœ‰å¤šäºä¸€ä¸ªèƒœåˆ©è€…ï¼Œåˆ™ä¸‹çš„èµŒæ³¨æœ€å¤§çš„èµŒå¾’æ‰æ˜¯æœ€ç»ˆçš„èƒœåˆ©è€…ã€‚\nä¾‹å¦‚ï¼Œå‡å®šèµŒå¾’ä¸ºï¼šTomã€Billã€Johnã€Rogerå’ŒBushï¼Œä»–ä»¬ä¸‹çš„èµŒæ³¨åˆ†åˆ«ä¸ºï¼š2ã€3ã€5ã€7å’Œ12 ã€‚å› æ­¤æœ€ç»ˆè·èƒœçš„æ˜¯Bushï¼ˆå¹¶ä¸”æ²¡æœ‰å…¶ä»–äººæ˜¯èƒœåˆ©è€…ï¼‰ï¼Œå› ä¸ºä»–ä¸‹çš„èµŒæ³¨ä¸º12ï¼Œè€Œå…¶ä»–çš„äººä¸‹çš„èµŒæ³¨ä¹‹å’Œä¹Ÿç­‰äº12ï¼š2+3+7=12ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶ä¸­åŒ…å«äº†å¤šç»„èµŒå¾’ä¸‹çš„èµŒæ³¨ã€‚æ¯ç»„èµŒæ³¨çš„æ•°æ®ç¬¬1è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°n,1â‡nâ‡1000,ä»£è¡¨èµŒå¾’çš„ä¸ªæ•°ï¼Œç„¶åæ˜¯ä»–ä»¬ä¸‹çš„èµŒæ³¨ï¼Œæ¯ä¸ªäººçš„èµŒæ³¨å ä¸€è¡Œï¼Œè¿™äº›èµŒæ³¨å„ä¸ç›¸åŒï¼Œå¹¶ä¸”èŒƒå›´æ˜¯[-536870912,+536870911]ã€‚è¾“å…¥æ–‡ä»¶çš„æœ€åä¸€è¡Œä¸º0ï¼Œä»£è¡¨è¾“å…¥ç»“æŸã€‚\nè¾“å‡º\nå¯¹æ¯ç»„èµŒæ³¨ï¼Œè¾“å‡ºèƒœåˆ©è€…ä¸‹çš„èµŒæ³¨ï¼Œå¦‚æœæ²¡æœ‰è§£ï¼Œåˆ™è¾“å‡ºâ€œno solutionâ€ã€‚\næ ·ä¾‹è¾“å…¥\n5\n2 \n3 \n5 \n7 \n12\n5\n2 \n16 \n64 \n256 \n1024\n0\n\næ ·ä¾‹è¾“å‡º\n12\nno solution\n\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1050;\n \nint n;\nint gbr[maxn];\nvoid solve() {\n\tfor (int i = 0;i &lt; n;i++) {\n\t\tcin &gt;&gt; gbr[i];\n\t}\n\tsort(gbr, gbr + n);\n\tfor (int pi = n - 1;pi &gt;= 3;pi--) {\n\t\tfor (int i = pi - 1;i &gt;= 2;i--) {\n\t\t\tfor (int j = i - 1;j &gt;= 1;j--) {\n\t\t\t\tfor (int k = j - 1;k &gt;= 0;k--) {\n\t\t\t\t\tint sum = gbr[i] + gbr[j] + gbr[k];\n\t\t\t\t\tif (sum == gbr[pi]) {\n\t\t\t\t\t\tcout &lt;&lt; gbr[pi] &lt;&lt; &quot;\\n&quot;;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout &lt;&lt; &quot;no solution\\n&quot;;\n}\n \nint main() {\n\t// int t;cin &gt;&gt; t;\n\t// while (t--)\n\twhile (cin &gt;&gt; n &amp;&amp; n)\n\t\tsolve();\n \n\treturn 0;\n}\n1266: C003 åŠç´ æ•°\né¢˜ç›®æè¿°\nç´ æ•°çš„å®šä¹‰ï¼šå¯¹äºä¸€ä¸ªå¤§äºï¼‘çš„æ­£æ•´æ•°ï¼Œå¦‚æœé™¤äº†ï¼‘å’Œå®ƒæœ¬èº«æ²¡æœ‰å…¶ä»–çš„æ­£çº¦æ•°äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±ç§°ä¸ºç´ æ•°ã€‚ä¾‹å¦‚ï¼Œ2,11,67,89æ˜¯ç´ æ•°ï¼Œ8,20,27ä¸æ˜¯ç´ æ•°ã€‚\nåŠç´ æ•°çš„å®šä¹‰ï¼šå¯¹äºä¸€ä¸ªå¤§äº1çš„æ­£æ•´æ•°ï¼Œå¦‚æœå®ƒå¯ä»¥è¢«åˆ†è§£æˆ2ä¸ªç´ æ•°çš„ä¹˜ç§¯ï¼Œåˆ™ç§°è¯¥æ•°ä¸ºåŠç´ æ•°ï¼Œä¾‹å¦‚6æ˜¯ä¸€ä¸ªåŠç´ æ•°ï¼Œè€Œ12ä¸æ˜¯ã€‚\nä½ çš„ä»»åŠ¡æ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯åŠç´ æ•°ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶ä¸­æœ‰å¤šä¸ªæµ‹è¯•æ•°æ®ï¼Œæ¯ä¸ªæµ‹è¯•æ•°æ®åŒ…å«ä¸€ä¸ªæ•´æ•°Nï¼Œ2â‡Nâ‡1,000,000ã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•æ•°æ®ï¼Œå¦‚æœNæ˜¯åŠç´ æ•°ï¼Œåˆ™è¾“å‡ºYESï¼Œå¦åˆ™è¾“å‡ºNOã€‚\næ ·ä¾‹è¾“å…¥\n3\n4\n6\n12\n\næ ·ä¾‹è¾“å‡º\nNO\nYES\nYES\nNO\n\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e6 + 100;\nbool isnp[maxn];\nvector&lt;int&gt;primes;\nvoid Prime(int n) {\n    for (int i = 2;i &lt;= n;i++) {\n        if (!isnp[i])\n            primes.push_back(i);\n        for (int p : primes) {\n            if (p * i &gt; n)break;\n            isnp[p * i] = true;\n            if (i % p == 0)\n                break;\n        }\n    }\n}\nint main() {\n    Prime(maxn - 50);\n    int n;\n    while (cin &gt;&gt; n) {\n        bool f = false;\n        for (int i = 2;i * i &lt;= n;i++) {\n            if (n % i == 0 &amp;&amp; !isnp[i] &amp;&amp; !isnp[n / i]){\n                f = true;break;\n            }\n        }\n        f ? cout &lt;&lt; &quot;YES\\n&quot; : cout &lt;&lt; &quot;NO\\n&quot;;\n    }\n \n    return 0;\n}\n1267: C004 æ£å­çš„è†¨èƒ€\né¢˜ç›®æè¿°\nå½“ä¸€æ ¹é•¿åº¦ä¸ºLçš„ç»†é•¿é‡‘å±æ£å­åŠ çƒ­nåº¦åï¼Œå®ƒä¼šè†¨èƒ€åˆ°ä¸€ä¸ªæ–°çš„é•¿åº¦Lâ€™=(1+n*C)*L,å…¶ä¸­Cä¸ºè¯¥é‡‘å±çš„çƒ­è†¨èƒ€ç³»æ•°ã€‚\nå½“ä¸€æ ¹ç»†é•¿çš„é‡‘å±æ£å­å›ºå®šåœ¨ä¸¤å µå¢™ä¹‹é—´ï¼Œç„¶ååŠ çƒ­ï¼Œåˆ™æ£å­ä¼šå˜æˆåœ†å¼“å½¢ï¼Œæ£å­çš„åŸå§‹ä½ç½®ä¸ºè¯¥åœ†å¼“å½¢çš„å¼¦ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚\n![1699328671418](D:\\Tencent&amp;&amp;\\æ–°å»ºæ–‡ä»¶å¤¹\\WeChat Files\\wxid_j7esazuly79422\\FileStorage\\Temp\\1699328671418.png)\nå›¾ è†¨èƒ€çš„é‡‘å±æ£å­ï¼ˆä¸Šä¸ºè†¨èƒ€å‰ï¼Œä¸‹ä¸ºè†¨èƒ€åï¼‰\nä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—æ£å­ä¸­å¿ƒçš„åç¦»è·ç¦»ã€‚\nè¾“å…¥\nè¾“å…¥æ–‡ä»¶åŒ…å«å¤šä¸ªæµ‹è¯•æ•°æ®ï¼Œæ¯ä¸ªæµ‹è¯•æ•°æ®å ä¸€è¡Œã€‚æ¯ä¸ªæµ‹è¯•æ•°æ®åŒ…å«3ä¸ªéè´Ÿæ•´æ•°ï¼šæ£å­çš„åˆå§‹é•¿åº¦ï¼Œå•ä½ä¸ºæ¯«ç±³ï¼›åŠ çƒ­å‰åçš„æ¸©å·®ï¼Œå•ä½ä¸ºåº¦ï¼›è¯¥é‡‘å±çš„çƒ­è†¨èƒ€ç³»æ•°ã€‚è¾“å…¥æ•°æ®ä¿è¯è†¨èƒ€çš„é•¿åº¦ä¸è¶…è¿‡æ£å­æœ¬èº«é•¿åº¦çš„ä¸€åŠã€‚è¾“å…¥æ–‡ä»¶çš„æœ€åä¸€è¡Œä¸º3ä¸ªè´Ÿæ•°ï¼Œä»£è¡¨è¾“å…¥ç»“æŸï¼Œè¯¥æµ‹è¯•æ•°æ®ä¸éœ€å¤„ç†ã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºé‡‘å±æ£å­ä¸­å¿ƒåŠ çƒ­ååç¦»çš„è·ç¦»ï¼Œå•ä½ä¸ºæ¯«ç±³ï¼Œä¿ç•™å°æ•°ç‚¹å3ä½æœ‰æ•ˆæ•°å­—ã€‚\næ ·ä¾‹è¾“å…¥\n1000 100 0.0001\n15000 10 0.00006\n10 0 0.001\n-1 -1 -1\n\næ ·ä¾‹è¾“å‡º\n61.329\n225.020\n0.000\n\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst double eps = 1e-12;\nconst double pi = 3.1415926535;\nint main() {\n    double l, t, c;\n    while (cin &gt;&gt; l &gt;&gt; t &gt;&gt; c) {\n        if (l &lt; 0 &amp;&amp; t &lt; 0 &amp;&amp; c &lt; 0)break;\n        double nl = (1.0 + t * c) * l;\n        double dr = pi, dl = 0.0;\n        while (1) {\n            double mid = (dr + dl) / 2;\n            double r = l / (sin(mid / 2) * 2);\n            if (dr - dl &lt; eps) {\n                double ans = r - r * cos(mid / 2.0);\n                printf(&quot;%.3lf\\n&quot;, ans);\n                break;\n            }\n            double bar = mid * r;\n            if (bar &gt; nl)dr = mid;\n            else dl = mid;\n        }\n    }\n \n    return 0;\n}\n1268: C005 ç”µç¼†ä¸»\né¢˜ç›®æè¿°\nå¥¶ç‰›çš„å±…æ°‘å†³å®šä¸¾åŠä¸€åœºç¼–ç¨‹åŒºåŸŸèµ›ã€‚è£åˆ¤å§”å‘˜ä¼šè‡ªå‘Šå¥‹å‹‡å¹¶å®£ç§°è¦ä¸¾åŠæœ‰å²ä»¥æ¥æœ€å…¬æ­£çš„æ¯”èµ›ã€‚é˜Ÿå‘˜ä»¬çš„ç”µè„‘é‡‡ç”¨â€œæ˜Ÿå‹â€æ‹“æ‰‘ç»“æ„äº’è¿ï¼ˆä¹Ÿå°±æ˜¯è¯´è¦æŠŠæ‰€æœ‰ç”µè„‘éƒ½è¿åœ¨ä¸€ä¸ªä¸­å¤®é›†çº¿å™¨ä¸Šï¼‰ã€‚ä¸ºäº†è®©æ¯”èµ›å°½å¯èƒ½å…¬æ­£ï¼Œè£åˆ¤å§”å‘˜ä¼šçš„å¤´å¤´ä»¬å†³å®šï¼šå°†æ¯”èµ›é˜Ÿå‘˜ä»¬å¹³å‡åœ°å®‰ç½®åœ¨é›†çº¿å™¨å‘¨å›´ï¼Œè·ç¦»é›†çº¿å™¨æœ‰ä¸€ä¸ªç›¸åŒçš„è·ç¦»ã€‚\nè£åˆ¤å§”å‘˜ä¼šä¸ºäº†é‡‡ä¹°ç½‘ç»œç”µç¼†ï¼Œè”ç³»äº†ä¸€å®¶å½“åœ°çš„ç½‘ç»œæ–¹æ¡ˆæä¾›å•†ï¼Œè¦æ±‚ä»–ä»¬æä¾›ä¸€äº›ç™»ç­‰é•¿çš„ç”µç¼†ã€‚è¿™äº›ç”µç¼†åº”è¶Šé•¿è¶Šå¥½ï¼Œä»è€Œä½¿å¾—é˜Ÿå‘˜ä»¬ä¸å…¶ä»–é˜Ÿå‘˜çš„è·ç¦»è¶Šå¤§ã€‚\nè¿™å®¶å…¬å¸çš„ç”µç¼†å·¥æ¥åŠè¿™ä»¶äº‹ã€‚ä»–çŸ¥é“ä»“åº“é‡Œæ¯ä¸ªç”µç¼†çš„é•¿åº¦ï¼ˆç²¾ç¡®åˆ°å˜ç±³ï¼‰ã€‚ä»–æ¯æ¬¡åˆ‡å‰²ç”µç¼†æ—¶çš„ç²¾åº¦ä¹Ÿæ˜¯å˜ç±³ã€‚ä½†ä»–ç°åœ¨ä¸çŸ¥åˆ‡å¤šå°‘ï¼Œæ‰€ä»¥å®Œå…¨èŒ«ç„¶ä¸­ã€‚\nä½ è¦å†™ä¸ªç¨‹åºè®¡ç®—å‡ºä¸€æ¡ç”µç¼†æœ€å¤šå¤šé•¿ä½¿ä¹‹å¯ä»¥æä¾›ä¸€å®šèƒ½å¤Ÿæ•°ç›®çš„ç”µç¼†ï¼Œå¸®ç€è¿™ä½ç”µç¼†å·¥å®Œæˆä»»åŠ¡ã€‚\nè¾“å…¥\nç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°Nå’ŒKï¼ŒNï¼ˆ1â‡Nâ‡10000ï¼‰æ˜¯ä»“åº“é‡Œçš„ç”µç¼†æ•°ï¼ŒKï¼ˆ1â‡Kâ‡10000ï¼‰æ˜¯æ‰€éœ€ç”µç¼†æ•°ã€‚æ¥ä¸‹æ¥çš„Nè¡Œæ¯ä¸€è¡Œä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºç”µç¼†çš„é•¿åº¦ï¼ˆå•ä½æ˜¯ç±³ï¼‰ã€‚ç”µç¼†é•¿åº¦æœ€å°ä¸º1ç±³ï¼Œæœ€å¤§ä¸º100åƒç±³ã€‚æ¯ä¸ªè¡¨ç¤ºé•¿åº¦çš„æ•°å‡è¡¨ç¤ºä¸ºå¸¦ä¸¤ä½å°æ•°çš„æµ®ç‚¹æ•°ï¼ˆå³ç²¾ç¡®åˆ°å˜ç±³ï¼‰ã€‚\nè¾“å‡º\næ‰€éœ€çš„ç”µç¼†ä¸€æ¡æœ€é•¿æœ‰å¤šå°‘ç±³ï¼ˆç²¾ç¡®åˆ°å˜ç±³ï¼Œå³ä¿ç•™å°æ•°ç‚¹ä¸¤ä½ï¼‰ã€‚å¦‚æœä¸èƒ½æä¾›Kæ¡å¤§äºç­‰äº1å˜ç±³çš„ç­‰é•¿ç”µç¼†å°±è¾“å‡ºâ€œ0.00â€ã€‚\næ ·ä¾‹è¾“å…¥\n4 11\n8.02\n7.43\n4.57\n5.39\n\næ ·ä¾‹è¾“å‡º\n2.00\n\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 10050;\nint len[maxn];\nint n, k;\nint cnt(int l) {\n    int ret = 0;\n    for (int i = 0;i &lt; n;i++) {\n        ret += len[i] / l;\n    }\n    return ret;\n}\nint main() {\n    cin &gt;&gt; n &gt;&gt; k;\n    int left = 1, right = 0;\n    for (int i = 0;i &lt; n;i++) {\n        double ni;cin &gt;&gt; ni;\n        ni *= 100;\n        right = max(right, (int)ni);\n        len[i] = (int)ni;\n    }\n    if (cnt(1) &lt; k) {\n        cout &lt;&lt; &quot;0.00\\n&quot;;\n        return 0;\n    }\n    int ans = 0;\n    while (left &lt;= right) {\n        int mid = (left + right) / 2;\n        if (cnt(mid) &lt; k)right = mid - 1;\n        else {\n            ans = mid;\n            left = mid + 1;\n        }\n    }\n    printf(&quot;%.2lf&quot;, 1.0 * ans / 100);\n \n    return 0;\n}\n1269: C006 å®è´é±¼\né¢˜ç›®æè¿°\nä½ åˆšåˆšä»å¥¶ç‰›æ¬åˆ°ä¸€ä¸ªå¤§åŸå¸‚é‡Œã€‚è¿™é‡Œçš„äººè¯´ä¸€ç§è®©äººç†è§£ä¸èƒ½çš„å¤–æ–‡æ–¹è¨€ã€‚ä¸‡å¹¸ï¼Œä½ æœ‰æœ¬å­—å…¸å¯ä»¥å¸®åŠ©ä½ ç†è§£ã€‚\nè¾“å…¥\nè¾“å…¥åŒ…å«å¤šè¾¾100ï¼Œ000ä¸ªå­—å…¸è¯æ¡ï¼Œç„¶åæ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œç„¶åæ˜¯ä¸€æ¡æ¶ˆæ¯ï¼Œè¿™æ¡æ¶ˆæ¯åŒ…å«å¤šè¾¾100ï¼Œ000ä¸ªå•è¯ã€‚æ¯ä¸ªè¯æ¡å ä¸€è¡Œï¼Œå…ˆæ˜¯ä¸€ä¸ªè‹±è¯­å•è¯ï¼Œç„¶åæ˜¯ä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæ˜¯ä¸€ä¸ªå¤–æ–‡æ–¹è¨€è¯ã€‚ä¸€ä¸ªæ–¹è¨€è¯åœ¨å­—å…¸ä¸­å‡ºç°ä¸è¶…è¿‡ä¸€æ¬¡ã€‚æ¶ˆæ¯æ˜¯ä¸€ä¸ªå¤–æ–‡æ–¹è¨€è¯åºåˆ—ï¼Œä¸€ä¸ªè¯å ä¸€è¡Œã€‚æ¯ä¸ªè¯æ˜¯ä¸€ä¸ªæœ€é•¿ä¸º10çš„å°å†™å­—æ¯åºåˆ—ã€‚\nè¾“å‡º\nå°†æ¶ˆæ¯çš„å¤–æ–‡è¯ç¿»è¯‘æˆè‹±è¯­ï¼Œä¸€ä¸ªè¯ä¸€è¡Œã€‚æŸ¥ä¸åˆ°çš„è¯åº”è¯¥ç¿»è¯‘æˆâ€œehâ€ã€‚\næ ·ä¾‹è¾“å…¥\ndog ogday\ncat atcay\npig igpay\nfroot ootfray\nloops oopslay\n\natcay\nittenkay\noopslay\n\næ ·ä¾‹è¾“å‡º\ncat\neh\nloops\n\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 10050;\nmap&lt;string, string&gt;mp;\nint main() {\n    string s1, s2;\n    while (1) {\n        char t = getchar();\n        if (t == &#039;\\n&#039;)break;\n        cin &gt;&gt; s1 &gt;&gt; s2;\n        s1.insert(s1.begin(), t);\n        mp.insert(make_pair(s2, s1));\n        cin.get();\n    }\n    string word;\n    while (cin &gt;&gt; word) {\n        auto pos = mp.find(word);\n        if (pos != mp.end()) {\n            cout &lt;&lt; pos-&gt;second &lt;&lt; endl;\n        }\n        else cout &lt;&lt; &quot;eh\\n&quot;;\n    }\n \n    return 0;\n}\n1270: C007 æ˜Ÿç©º\né¢˜ç›®æè¿°\nå°†å¤œç©ºæŠ½è±¡æˆäºŒç»´å¹³é¢ï¼Œæ¯ä¸ªæ˜Ÿæ˜Ÿä¸€ä¸ª(X,Y)åæ ‡ã€‚è¿™äº›ç‚¹å¯ä»¥å½¢æˆå¤šå°‘æ­£æ–¹å½¢ï¼Ÿ\nè¾“å…¥\nå¤šç»„è¾“å…¥ã€‚å¯¹äºæ¯ç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œæ˜¯nï¼ˆ1â‡nâ‡1000ï¼‰è¡¨ç¤ºå·²çŸ¥æ˜Ÿæ˜Ÿæ•°ï¼Œç„¶åæ˜¯nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªåæ ‡å€¼ã€‚åæ ‡ç»å¯¹å€¼å°äº20000ã€‚n=0è¡¨ç¤ºç»“æŸã€‚\nè¾“å‡º\nå¯¹äºæ¯ç»„æ•°æ®è¾“å‡ºå½¢æˆæ­£æ–¹å½¢çš„ä¸ªæ•°ã€‚\næ ·ä¾‹è¾“å…¥\n4\n1 0\n0 1\n1 1\n0 0\n0\n\næ ·ä¾‹è¾“å‡º\n1\n\nå‚è€ƒä»£ç \n \nç®—æ³•2åŠ¨æ€è§„åˆ’D\n1272: D001 æ•°å­—ä¸‰è§’å½¢\né¢˜ç›®æè¿°\n7\n3 8\n8 1 0\n2 7 4 4\n4 5 2 6 5\nä¸Šå›¾ç»™å‡ºäº†ä¸€ä¸ªæ•°å­—ä¸‰è§’å½¢ã€‚ä»ä¸‰è§’å½¢çš„é¡¶éƒ¨åˆ°åº•éƒ¨æœ‰å¾ˆå¤šæ¡ä¸åŒçš„è·¯å¾„ã€‚å¯¹äºæ¯æ¡è·¯å¾„ï¼ŒæŠŠè·¯å¾„ä¸Šé¢çš„æ•°åŠ èµ·æ¥å¯ä»¥å¾—åˆ°ä¸€ä¸ªå’Œï¼Œä½ çš„ä»»åŠ¡å°±æ˜¯æ‰¾åˆ°æœ€å¤§çš„å’Œã€‚\næ³¨æ„ï¼šè·¯å¾„ä¸Šçš„æ¯ä¸€æ­¥åªèƒ½ä»ä¸€ä¸ªæ•°èµ°åˆ°ä¸‹ä¸€å±‚ä¸Šå’Œå®ƒæœ€è¿‘çš„å·¦è¾¹çš„é‚£ä¸ªæ•°æˆ–è€…å³è¾¹çš„é‚£ä¸ªæ•°ã€‚\nè¾“å…¥\nè¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°N (1 &lt; N â‡ 100)ï¼Œç»™å‡ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚ä¸‹é¢çš„Nè¡Œç»™å‡ºæ•°å­—ä¸‰è§’å½¢ã€‚æ•°å­—ä¸‰è§’å½¢ä¸Šçš„æ•°çš„èŒƒå›´éƒ½åœ¨0å’Œ100ä¹‹é—´ã€‚\nè¾“å‡º\nè¾“å‡ºæœ€å¤§çš„å’Œã€‚\næ ·ä¾‹è¾“å…¥\n5\n7\n3 8\n8 1 0 \n2 7 4 4\n4 5 2 6 5\næ ·ä¾‹è¾“å‡º\n30\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\nll number[maxn][maxn];\nll dp[maxn][maxn]; // è®°å½•èµ°åˆ°(i,j)ç‚¹æ—¶æœ€å¥½çš„å’Œ\n \nint main() {\n    int n;\n    while (cin &gt;&gt; n) {\n        for (int i = 1;i &lt;= n;i++)\n            for (int j = 1;j &lt;= i;j++)\n                cin &gt;&gt; number[i][j];\n        for (int i = 1;i &lt; n;i++)\n            dp[n][i] = number[n][i];\n        for (int i = n;i &gt; 1;i--) {\n            for (int j = 1;j &lt;= i;j++) {\n                dp[i - 1][j] = max(dp[i][j], dp[i][j + 1]) + number[i - 1][j];\n            }\n        }\n        cout &lt;&lt; dp[1][1] &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1273: D002 æœ€é•¿ä¸Šå‡å­åºåˆ—\né¢˜ç›®æè¿°\nä¸€ä¸ªæ•°çš„åºåˆ—biï¼Œå½“b1 &lt; b2 &lt; â€¦ &lt; bSçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªåºåˆ—æ˜¯ä¸Šå‡çš„ã€‚å¯¹äºç»™å®šçš„ä¸€ä¸ªåºåˆ—(a1, a2, â€¦, aN)ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›ä¸Šå‡çš„å­åºåˆ—(ai1, ai2, â€¦, aiK)ï¼Œè¿™é‡Œ1 â‡ i1 &lt; i2 &lt; â€¦ &lt;iK â‡ Nã€‚æ¯”å¦‚ï¼Œå¯¹äºåºåˆ—(1, 7, 3, 5, 9, 4, 8)ï¼Œæœ‰å®ƒçš„ä¸€äº›ä¸Šå‡å­åºåˆ—ï¼Œå¦‚(1, 7), (3, 4, 8)ç­‰ç­‰ã€‚è¿™äº›å­åºåˆ—ä¸­æœ€é•¿çš„é•¿åº¦æ˜¯4ï¼Œæ¯”å¦‚å­åºåˆ—(1, 3, 5, 8)ã€‚\nä½ çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„åºåˆ—ï¼Œæ±‚å‡ºæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚\nè¾“å…¥\nè¾“å…¥æœ‰å¾ˆå¤šç»„ï¼Œæ¯ç»„è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯åºåˆ—çš„é•¿åº¦N (1 â‡ N â‡ 1000)ã€‚ç¬¬äºŒè¡Œç»™å‡ºåºåˆ—ä¸­çš„Nä¸ªæ•´æ•°ï¼Œè¿™äº›æ•´æ•°çš„å–å€¼èŒƒå›´éƒ½åœ¨0åˆ°10000ã€‚\nè¾“å‡º\nè¾“å‡ºæ¯ç»„çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚\næ ·ä¾‹è¾“å…¥\n7\n1 7 3 5 9 4 8\n6\n2 3 4 1 6 5\næ ·ä¾‹è¾“å‡º\n4\n4\nå‚è€ƒä»£ç \n#include&lt;iostream&gt;\n#include&lt;vector&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1010;\nint a[maxn];\n// int dp[maxn];\nint main() {\n    int n;\n    while (cin &gt;&gt; n) {\n        for (int i = 1;i &lt;= n;i++)cin &gt;&gt; a[i];\n        vector&lt;int&gt; lmax;\n        lmax.push_back(a[1]);\n        for (int i = 2;i &lt;= n;i++) {\n            if (a[i] &gt; lmax.back()) {\n                lmax.push_back(a[i]);\n            }\n            else if (a[i] &lt; lmax.back()) {\n                int l = 0, r = lmax.size() - 1;\n                \n                while (l &lt; r) {\n                    int md = (l + r) / 2;\n                    if (lmax[md] &lt;= a[i])l = md + 1;\n                    else r = md;\n                }\n                lmax[l] = a[i];\n            }\n            // for (int j = 0;j &lt; lmax.size();j++)\n            //     cout &lt;&lt; lmax[j] &lt;&lt; &quot; &quot;;\n            // cout &lt;&lt; endl;\n        }\n        cout &lt;&lt; lmax.size() &lt;&lt; endl;\n    }\n \n    return 0;\n}\n \n1274: D003 Help Jimmy\né¢˜ç›®æè¿°\nâ€œHelp Jimmyâ€ æ˜¯åœ¨ä¸‹å›¾æ‰€ç¤ºçš„åœºæ™¯ä¸Šå®Œæˆçš„æ¸¸æˆï¼š\n\nåœºæ™¯ä¸­åŒ…æ‹¬å¤šä¸ªé•¿åº¦å’Œé«˜åº¦å„ä¸ç›¸åŒçš„å¹³å°ã€‚åœ°é¢æ˜¯æœ€ä½çš„å¹³å°ï¼Œé«˜åº¦ä¸ºé›¶ï¼Œé•¿åº¦æ— é™ã€‚\nJimmyè€é¼ åœ¨æ—¶åˆ»0ä»é«˜äºæ‰€æœ‰å¹³å°çš„æŸå¤„å¼€å§‹ä¸‹è½ï¼Œå®ƒçš„ä¸‹è½é€Ÿåº¦å§‹ç»ˆä¸º1ç±³/ç§’ã€‚å½“Jimmyè½åˆ°æŸä¸ªå¹³å°ä¸Šæ—¶ï¼Œæ¸¸æˆè€…é€‰æ‹©è®©å®ƒå‘å·¦è¿˜æ˜¯å‘å³è·‘ï¼Œå®ƒè·‘åŠ¨çš„é€Ÿåº¦ä¹Ÿæ˜¯1ç±³/ç§’ã€‚å½“Jimmyè·‘åˆ°å¹³å°çš„è¾¹ç¼˜æ—¶ï¼Œå¼€å§‹ç»§ç»­ä¸‹è½ã€‚Jimmyæ¯æ¬¡ä¸‹è½çš„é«˜åº¦ä¸èƒ½è¶…è¿‡MAXç±³ï¼Œä¸ç„¶å°±ä¼šæ‘”æ­»ï¼Œæ¸¸æˆä¹Ÿä¼šç»“æŸã€‚\nè®¾è®¡ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—Jimmyåˆ°åœ°é¢æ—¶å¯èƒ½çš„æœ€æ—©æ—¶é—´ã€‚\nè¾“å…¥\nç¬¬ä¸€è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°tï¼ˆ0 â‡ t â‡ 20ï¼‰ã€‚æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯å››ä¸ªæ•´æ•°Nï¼ŒXï¼ŒYï¼ŒMAXï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚Næ˜¯å¹³å°çš„æ•°ç›®ï¼ˆä¸åŒ…æ‹¬åœ°é¢ï¼‰ï¼ŒXå’ŒYæ˜¯Jimmyå¼€å§‹ä¸‹è½çš„ä½ç½®çš„æ¨ªç«–åæ ‡ï¼ŒMAXæ˜¯ä¸€æ¬¡ä¸‹è½çš„æœ€å¤§é«˜åº¦ã€‚æ¥ä¸‹æ¥çš„Nè¡Œæ¯è¡Œæè¿°ä¸€ä¸ªå¹³å°ï¼ŒåŒ…æ‹¬ä¸‰ä¸ªæ•´æ•°ï¼ŒX1[i]ï¼ŒX2[i]å’ŒH[i]ã€‚H[i]è¡¨ç¤ºå¹³å°çš„é«˜åº¦ï¼ŒX1[i]å’ŒX2[i]è¡¨ç¤ºå¹³å°å·¦å³ç«¯ç‚¹çš„æ¨ªåæ ‡ã€‚1â‡ N â‡ 1000ï¼Œ-20000 â‡ X, X1[i], X2[i] â‡ 20000ï¼Œ0 &lt; H[i] &lt; Y â‡ 20000ï¼ˆi = 1..Nï¼‰ã€‚æ‰€æœ‰åæ ‡çš„å•ä½éƒ½æ˜¯ç±³ã€‚\nJimmy çš„å¤§å°å’Œå¹³å°çš„åšåº¦å‡å¿½ç•¥ä¸è®¡ã€‚å¦‚æœJimmy æ°å¥½è½åœ¨æŸä¸ªå¹³å°çš„è¾¹ç¼˜ï¼Œè¢«è§†ä¸ºè½åœ¨å¹³å°ä¸Šã€‚æ‰€æœ‰çš„å¹³å°å‡ä¸é‡å æˆ–ç›¸è¿ã€‚æµ‹è¯•æ•°æ®ä¿Jimmyä¸€å®šèƒ½å®‰å…¨åˆ°è¾¾åœ°é¢ã€‚\nè¾“å‡º\nå¯¹è¾“å…¥çš„æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼ŒJimmyåˆ°åœ°é¢æ—¶å¯èƒ½çš„æœ€æ—©æ—¶é—´ã€‚\næ ·ä¾‹è¾“å…¥\n1\n3 8 17 20\n0 10 8\n0 10 13\n4 14 3\næ ·ä¾‹è¾“å‡º\n23\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e4 + 20;\nstruct PT {\n    int x1, x2, h;\n    bool operator&lt;(const PT&amp; P)const {\n        return h &gt; P.h;\n    }\n}pt[maxn];\nint n, x, y, mx;\nint findnext(int id, int x) {\n    // å¯»æ‰¾xä¸‹çš„ç¬¬ä¸€å—æ¿\n    for (int i = id + 1;i &lt;= n + 1;i++) {\n        if (pt[i].x1 &lt;= x &amp;&amp; pt[i].x2 &gt;= x) {\n            return i;\n        }\n    }\n    return -1;\n}\nint fun[maxn];\nint dfs(int id, int p, int from) {\n    // cout &lt;&lt; id &lt;&lt; &quot; &quot; &lt;&lt; p &lt;&lt; &quot; &quot; &lt;&lt; from &lt;&lt; endl;\n    int lp = pt[id].x1, rp = pt[id].x2;\n    // å½“å‰æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹\n    if (id == n + 1)\n        return 0;\n    int lenl = -1, lenr = -1;\n    // å·¦èµ°\n    int lpid = findnext(id, lp);\n    if (lpid != -1 &amp;&amp; pt[id].h - pt[lpid].h &lt;= mx) {\n        // å¯èµ°\n        lenl= dfs(lpid, lp, id);\n    }\n    // å³èµ°\n    int rpid = findnext(id, rp);\n    if (rpid != -1 &amp;&amp; pt[id].h - pt[rpid].h &lt;= mx) {\n        // å¯èµ°\n        lenr= dfs(rpid, rp, id);\n    }\n    if (lenl != -1 &amp;&amp; lenr != -1)\n        return fun[id] = min(lenl + p - lp, lenr + rp - p);\n    else if (lenl == -1)\n        return fun[id] = lenr + rp - p;\n    else if (lenr == -1)\n        return fun[id] = lenl + p - lp;\n    else\n        return 0;\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        cin &gt;&gt; n &gt;&gt; x &gt;&gt; y &gt;&gt; mx;\n        pt[0].x1 = x;pt[0].x2 = x;pt[0].h = y;\n        for (int i = 1;i &lt;= n;i++) {\n            cin &gt;&gt; pt[i].x1 &gt;&gt; pt[i].x2 &gt;&gt; pt[i].h;\n        }\n        pt[n + 1].h = 0;pt[n + 1].x1 = -maxn;pt[n + 1].x2 = maxn;\n        sort(pt, pt + n + 1);\n        // ä»é«˜åˆ°ä½æ’åˆ—\n        dfs(0, x, -1);\n        cout &lt;&lt; y + fun[0] &lt;&lt; endl;\n    }\n \n    return 0;\n}\n \n1275: D004 æœ€é•¿å…¬å…±å­åºåˆ—\né¢˜ç›®æè¿°\næˆ‘ä»¬ç§°åºåˆ—Z = &lt; z1, z2, â€¦, zk &gt;æ˜¯åºåˆ—X = &lt; x1, x2, â€¦, xm &gt;çš„å­åºåˆ—å½“ä¸”ä»…å½“å­˜åœ¨ä¸¥æ ¼ä¸Šå‡çš„åºåˆ—&lt; i1, i2, â€¦, ik &gt;ï¼Œä½¿å¾—å¯¹j = 1, 2, â€¦ ,k, æœ‰xij = zjã€‚æ¯”å¦‚Z = &lt; a, b, f, c &gt; æ˜¯X = &lt; a, b,c, f, b, c &gt;çš„å­åºåˆ—ã€‚\nç°åœ¨ç»™å‡ºä¸¤ä¸ªåºåˆ—Xå’ŒYï¼Œä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°Xå’ŒYçš„æœ€å¤§å…¬å…±å­åºåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´è¦æ‰¾åˆ°ä¸€ä¸ªæœ€é•¿çš„åºåˆ—Zï¼Œä½¿å¾—Zæ—¢æ˜¯Xçš„å­åºåˆ—ä¹Ÿæ˜¯Yçš„å­åºåˆ—ã€‚\nè¾“å…¥\nè¾“å…¥åŒ…æ‹¬å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„æ•°æ®åŒ…æ‹¬ä¸€è¡Œï¼Œç»™å‡ºä¸¤ä¸ªé•¿åº¦ä¸è¶…è¿‡200çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸¤ä¸ªåºåˆ—ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´ç”±è‹¥å¹²ä¸ªç©ºæ ¼éš”å¼€ã€‚\nè¾“å‡º\nè¾“å…¥åŒ…æ‹¬å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„æ•°æ®åŒ…æ‹¬ä¸€è¡Œï¼Œç»™å‡ºä¸¤ä¸ªé•¿åº¦ä¸è¶…è¿‡200çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸¤ä¸ªåºåˆ—ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´ç”±è‹¥å¹²ä¸ªç©ºæ ¼éš”å¼€ã€‚\næ ·ä¾‹è¾“å…¥\nabcfbc abfcab\nprogramming contest\nabcd mnp\næ ·ä¾‹è¾“å‡º\n4\n2\n0\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn = 220;\nint dp[maxn][maxn];\nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.tie(0);\n    string s, t;\n    while (cin &gt;&gt; s &gt;&gt; t) {\n        s = &quot; &quot; + s;t = &quot; &quot; + t;\n        memset(dp, 0, sizeof(dp));\n        for (int i = 1;i &lt; s.size();i++) {\n            for (int j = 1;j &lt; t.size();j++) {\n                if (s[i] == t[j])\n                    dp[i][j] = dp[i - 1][j - 1] + 1;\n                else\n                    dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]);\n            }\n        }\n        cout &lt;&lt; dp[s.size() - 1][t.size() - 1] &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1276: D005 é™ªå®¡å›¢çš„äººé€‰\né¢˜ç›®æè¿°\nåœ¨é¥è¿œçš„å›½å®¶ä½›ç½—å¸ƒå°¼äºšï¼Œå«ŒçŠ¯æ˜¯å¦æœ‰ç½ªï¼Œé¡»ç”±é™ªå®¡å›¢å†³å®šã€‚é™ªå®¡å›¢æ˜¯ç”±æ³•å®˜ä»å…¬ä¼—ä¸­æŒ‘é€‰çš„ã€‚å…ˆéšæœºæŒ‘é€‰nä¸ªäººä½œä¸ºé™ªå®¡å›¢çš„å€™é€‰äººï¼Œç„¶åå†ä»è¿™nä¸ªäººä¸­é€‰mäººç»„æˆé™ªå®¡å›¢ã€‚é€‰mäººçš„åŠæ³•æ˜¯ï¼š\næ§æ–¹å’Œè¾©æ–¹ä¼šæ ¹æ®å¯¹å€™é€‰äººçš„å–œæ¬¢ç¨‹åº¦ï¼Œç»™æ‰€æœ‰å€™é€‰äººæ‰“åˆ†ï¼Œåˆ†å€¼ä»0åˆ°20ã€‚ä¸ºäº†å…¬å¹³èµ·è§ï¼Œæ³•å®˜é€‰å‡ºé™ªå®¡å›¢çš„åŸåˆ™æ˜¯ï¼šé€‰å‡ºçš„mä¸ªäººï¼Œå¿…é¡»æ»¡è¶³è¾©æ–¹æ€»åˆ†å’Œæ§æ–¹æ€»åˆ†çš„å·®çš„ç»å¯¹å€¼æœ€å°ã€‚å¦‚æœæœ‰å¤šç§é€‰æ‹©æ–¹æ¡ˆçš„è¾©æ–¹æ€»åˆ†å’Œæ§æ–¹æ€»åˆ†çš„ä¹‹å·®çš„ç»å¯¹å€¼ç›¸åŒï¼Œé‚£ä¹ˆé€‰è¾©æ§åŒæ–¹æ€»åˆ†ä¹‹å’Œæœ€å¤§çš„æ–¹æ¡ˆå³å¯ã€‚æœ€ç»ˆé€‰å‡ºçš„æ–¹æ¡ˆç§°ä¸ºé™ªå®¡å›¢æ–¹æ¡ˆã€‚\nè¾“å…¥\nè¾“å…¥åŒ…å«å¤šç»„æ•°æ®ã€‚æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°nå’Œmï¼Œnæ˜¯å€™é€‰äººæ•°ç›®ï¼Œmæ˜¯é™ªå®¡å›¢äººæ•°ã€‚æ³¨æ„ï¼Œ1â‡nâ‡200, 1â‡mâ‡20è€Œä¸”mâ‡nã€‚æ¥ä¸‹æ¥çš„nè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªå€™é€‰äººçš„ä¿¡æ¯ï¼Œå®ƒåŒ…å«2ä¸ªæ•´æ•°ï¼Œå…ˆåæ˜¯æ§æ–¹å’Œè¾©æ–¹å¯¹è¯¥å€™é€‰äººçš„æ‰“åˆ†ã€‚å€™é€‰äººæŒ‰å‡ºç°çš„å…ˆåä»1å¼€å§‹ç¼–å·ã€‚ä¸¤ç»„æœ‰æ•ˆæ•°æ®ä¹‹é—´ä»¥ç©ºè¡Œåˆ†éš”ã€‚æœ€åä¸€ç»„æ•°æ®n=m=0ã€‚\nè¾“å‡º\nå¯¹æ¯ç»„æ•°æ®ï¼Œå…ˆè¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºç­”æ¡ˆæ‰€å±çš„ç»„å·, å¦‚ â€˜Jury #1â€™, â€˜Jury #2â€™, ç­‰ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡Œè¦è±¡ä¾‹å­é‚£æ ·è¾“å‡ºé™ªå®¡å›¢çš„æ§æ–¹æ€»åˆ†å’Œè¾©æ–¹æ€»åˆ†ã€‚å†ä¸‹æ¥ä¸€è¡Œè¦ä»¥å‡åºè¾“å‡ºé™ªå®¡å›¢é‡Œæ¯ä¸ªæˆå‘˜çš„ç¼–å·ï¼Œä¸¤ä¸ªæˆå‘˜ç¼–å·ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚æ¯ç»„è¾“å‡ºæ•°æ®é¡»ä»¥ä¸€ä¸ªç©ºè¡Œç»“æŸã€‚\næ ·ä¾‹è¾“å…¥\n4 2\n1 2\n2 3\n4 1\n6 2\n0 0\næ ·ä¾‹è¾“å‡º\nJury #1\nBest jury has value 6 for prosecution and value 4 for defence:\n2 3\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \nconst int N = 205;\nconst int inf = 0x3f;\nint dp[N][25][4 * N], a[N], b[N];\nvector&lt;int&gt; mark;\n \nint main()\n{\n    int n, m, T = 1;\n    while (cin &gt;&gt; n &gt;&gt; m &amp;&amp; n) {\n        mark.clear();\n        memset(dp, -inf, sizeof(dp));\n        dp[0][0][400] = 0;\n        for (int i = 1;i &lt;= n;i++) {\n            cin &gt;&gt; a[i] &gt;&gt; b[i];\n        }\n        for (int i = 1;i &lt;= n;i++) {\n            for (int j = 0;j &lt;= m;j++) {\n                for (int k = 0;k &lt;= 800;k++) {\n                    dp[i][j][k] = dp[i - 1][j][k];\n                    int tt = k - a[i] + b[i];\n                    if (tt &lt; 0 || tt &gt;= 800)\n                        continue;\n                    if (j == 0)\n                        continue;\n                    dp[i][j][k] = max(dp[i][j][k], dp[i - 1][j - 1][tt] + a[i] + b[i]);\n                }\n            }\n        }\n        int t = 0;\n        while (dp[n][m][t + 400] &lt; 0 &amp;&amp; dp[n][m][-t + 400] &lt; 0) t++;\n        if (dp[n][m][t + 400] &gt; dp[n][m][-t + 400]) t += 400;\n        else t = 400 - t;\n \n        int nn = n, mm = m, cnt = 0;\n        while (mm) {\n            if (dp[nn][mm][t] == dp[nn - 1][mm][t]) {\n                nn--;\n            }\n            else {\n                mark.push_back(nn);\n                t -= a[nn] - b[nn];\n                nn--;mm--;\n                cnt++;\n            }\n        }\n        int sum1 = 0, sum2 = 0;\n        for (int i = 0;i &lt; cnt;i++) {\n            sum1 += a[mark[i]];\n            sum2 += b[mark[i]];\n        }\n        cout &lt;&lt; &quot;Jury #&quot; &lt;&lt; T++ &lt;&lt; &quot;\\nBest jury has value &quot; &lt;&lt; sum1 &lt;&lt; &quot; for prosecution and value &quot; &lt;&lt; sum2 &lt;&lt; &quot; for defence:\\n&quot;;\n        for (int i = cnt - 1;i &gt;= 0;i--)\n            cout &lt;&lt; mark[i] &lt;&lt; &#039; &#039;;\n        cout &lt;&lt; &quot;\\n\\n&quot;;\n    }\n \n    return 0;\n}\n1277: D006 æœ€å¤§å’Œ\né¢˜ç›®æè¿°\nç»™å®šä¸€ä¸ªnä¸ªæ•´æ•°çš„é›†åˆï¼šA={a1, a2,â€¦, an}ï¼Œæˆ‘ä»¬å¦‚ä¸‹å®šä¹‰å‡½æ•°d(A)ï¼š\nd(A)=\\max\\limits_{1\\leq s_1\\leq t_1\\leq s_2\\leq t_2\\leq n}\n\\begin{aligned}\n\\sum_{i=s_1}^{t_1}a_i+\\sum_{j=s_2}^{t_2}a_j\\\\ \n\\end{aligned}\nä½ çš„ä»»åŠ¡å°±æ˜¯è®¡ç®—å‡½æ•°d(A)çš„å‡½æ•°å€¼ã€‚\næç¤ºï¼šå¯¹äºæ ·ä¾‹ï¼Œæˆ‘ä»¬é€‰æ‹©{2,2,3,-3,4} å’Œ {5}ï¼Œè¿›è¡Œæƒ³åŠ å¾—åˆ°å‡½æ•°d(A)çš„å‡½æ•°å€¼ã€‚\nè¾“å…¥é‡å¤§ï¼Œå»ºè®®ä½¿ç”¨scanf();\nè¾“å…¥\nè¾“å…¥åŒ…å« T(â‡30)ä¸ªæ ·ä¾‹ï¼Œåœ¨è¾“å…¥çš„ç¬¬ä¸€è¡Œå³æ˜¯æ•´æ•°Tã€‚æ¯ä¸ªæ ·ä¾‹åŒ…å«ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œæ˜¯æ•´æ•° n(2â‡nâ‡50000)ï¼Œç¬¬äºŒè¡ŒåŒ…å«äº†nä¸ªæ•´æ•°ï¼š a1, a2, â€¦, an. (|ai| â‡ 10000)ã€‚\nè¾“å‡º\nå¯¹äºæ¯ä¸ªè¾“å…¥æ ·ä¾‹ï¼Œè¾“å‡ºä¸€è¡Œï¼Œå³å¦‚ä¸Šå®šä¹‰å‡½æ•°d(A)çš„å‡½æ•°å€¼ã€‚\næ ·ä¾‹è¾“å…¥\n1\n10\n1 -1 2 2 3 -3 4 -4 5 -5\næ ·ä¾‹è¾“å‡º\n13\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn = 2200;\nint a[maxn];\nint leftt[maxn], rightt[maxn];\nint lmax[maxn], rmax[maxn];\nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int n;cin &gt;&gt; n;\n        for (int i = 1;i &lt;= n;i++)\n            cin &gt;&gt; a[i];\n        leftt[1] = a[1];rightt[n] = a[n];\n        lmax[1] = a[1];rmax[n] = a[n];\n        for (int i = 2;i &lt;= n;i++) {\n            leftt[i] = max(leftt[i - 1] + a[i], a[i]);\n            lmax[i] = max(lmax[i - 1], leftt[i]);\n        }\n        for (int i = n - 1;i &gt; 0;i--){\n            rightt[i] = max(rightt[i + 1] + a[i], a[i]);\n            rmax[i] = max(rmax[i + 1], rightt[i]);\n        }\n        int ans = a[1];\n        for (int i = 2;i &lt;= n;i++)\n            ans = max(ans, lmax[i - 1] + rmax[i]);\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n \n    return 0;\n}\n1278: D007 æœ€å¤§å­çŸ©é˜µ\né¢˜ç›®æè¿°\nç»™ä½ ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå…ƒç´ æ˜¯æ•´æ•°ï¼Œæœ‰æ­£æœ‰è´Ÿã€‚ä¸€ä¸ªå­çŸ©é˜µå°±æ˜¯æœ€å°1*1æœ€å¤§åŒ…å«è¿™ä¸ªçŸ©é˜µæœ¬èº«çš„çŸ©é˜µã€‚ä¸€ä¸ªçŸ©é˜µçš„å’Œå°±æ˜¯çŸ©é˜µä¸­æ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œæœ€å¤§å­çŸ©é˜µå°±æ˜¯æ‰€æœ‰å­çŸ©é˜µä¸­å’Œæœ€å¤§çš„é‚£ä¸ªå­—çŸ©é˜µã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š\n0 -2 -7 0\n9 2 -6 2\n-4 1 -4 1\n-1 8 0 -2\næœ€å¤§å­çŸ©é˜µåœ¨å·¦ä¸‹è§’\n9 2\n-4 1\n-1 8\nå’Œå€¼æ˜¯15ã€‚\nè¾“å…¥\nè¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯æ•´æ•°Nï¼Œå³è¡¨ç¤ºè¦è¾“å…¥ä¸€ä¸ªN * Nçš„æ•´æ•°çŸ©é˜µã€‚æ¥ä¸‹æ¥æ˜¯N^2 ä¸ªæ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°ä¹‹é—´è¢«ç©ºæ ¼æˆ–è€…ç©ºè¡Œåˆ†å¼€ï¼Œè¿™äº›æ•´æ•°å³ä¸ºçŸ©é˜µä¸­çš„æ•°ï¼ŒæŒ‰ç…§åˆ—ä¼˜å…ˆçš„é¡ºåºæ’åˆ—ï¼Œå³ç¬¬ä¸€è¡Œæ•´æ•°ä»å·¦è‡³å³è¾“å…¥ï¼Œç¬¬äºŒè¡Œä»å·¦è‡³å³è¾“å…¥â€¦. ç¬¬nè¡Œä»å·¦è‡³å³è¾“å…¥ã€‚Nä¸ä¼šå¤§äº100ï¼ŒçŸ©é˜µä¸­çš„æ•´æ•°èŒƒå›´ä¸º [-127,127]ã€‚\nè¾“å‡º\nè¾“å‡ºæœ€å¤§çŸ©é˜µçš„å’Œã€‚\næ ·ä¾‹è¾“å…¥\n4\n0 -2 -7 0 9 2 -6 2\n-4 1 -4  1 -1 8  0 -2\næ ·ä¾‹è¾“å‡º\n15\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn = 120;\nint rec[maxn][maxn];\nint pre[maxn][maxn];\nint dp[maxn][maxn];\nint main() {\n    int n;cin &gt;&gt; n;\n    pre[0][0] = 0;\n    // äºŒç»´å‰ç¼€å’Œ\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= n;j++) {\n            cin &gt;&gt; rec[i][j];\n            pre[i][j] = pre[i - 1][j] + pre[i][j - 1] - pre[i - 1][j - 1] + rec[i][j];\n        }\n    }\n    // for (int i = 1;i &lt;= n;i++) {\n    //     for (int j = 1;j &lt;= n;j++) {\n    //         cout &lt;&lt; pre[i][j] &lt;&lt; &quot; &quot;;\n    //     }\n    //     cout &lt;&lt; endl;\n    // }\n    int ans = -200;\n    for (int xi = 1;xi &lt;= n;xi++) {\n        for (int yi = 1;yi &lt;= n;yi++) {\n            for (int xj = xi;xj &lt;= n;xj++) {\n                for (int yj = yi;yj &lt;= n;yj++) {\n                    int sum = pre[xj][yj] - pre[xi - 1][yj] - pre[xj][yi - 1] + pre[xi - 1][yi - 1];\n                    ans = max(ans, sum);\n                }\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n \n    return 0;\n}\nç®—æ³•2æœç´¢E\n1281: E001 æ•°çš„åˆ’åˆ†\né¢˜ç›®æè¿°\nå°†æ•´æ•°nåˆ†æˆkä»½ï¼Œä¸”æ¯ä»½ä¸èƒ½ä¸ºç©ºï¼Œä»»æ„ä¸¤ç§åˆ†æ³•ä¸èƒ½ç›¸åŒï¼ˆä¸è€ƒè™‘é¡ºåºï¼‰ã€‚\nä¾‹å¦‚ï¼šn=7ï¼Œk=3ï¼Œä¸‹é¢ä¸‰ç§åˆ†æ³•è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ã€‚\n1,1,5ï¼›1,5,1ï¼›5,1,1ï¼›\né—®æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ã€‚\nè¾“å…¥\næ¯ç»„æ•°æ®ç”±ä¸€è¡Œä¸Šçš„2ä¸ªæ•´æ•°nï¼Œkæ„æˆï¼ˆ6&lt;nâ‰¤200,2â‰¤kâ‰¤6ï¼‰ã€‚\nè¾“å‡º\nå¯¹æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸åŒçš„åˆ†æ³•æ•´æ•°ã€‚\næ ·ä¾‹è¾“å…¥\n7 3\næ ·ä¾‹è¾“å‡º\n4\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\n#define AUTHOR &quot;DODOLA&quot;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 220;\nll dp[maxn][maxn];  // iä¸ªå°çƒæ”¾å…¥jä¸ªç›’å­æ²¡æœ‰ç©ºç›’çš„æ–¹æ³•æ•°\nint main() {\n    int n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    for (int i = 1;i &lt;= n;i++) {\n        dp[i][1] = 1;dp[i][0] = 1;\n    }\n    for (int i = 2;i &lt;= n;i++) {\n        for (int j = 2;j &lt;= k;j++) {\n            if (i &gt; j)\n                dp[i][j] = dp[i - 1][j - 1] + dp[i - j][j];\n            else\n                dp[i][j] = dp[i - 1][j - 1];\n        }\n    }\n    cout &lt;&lt; dp[n][k] &lt;&lt; endl;\n \n    return 0;\n}\n1282: E002 é—ªé¿æ¹–æ³Š\né¢˜ç›®æè¿°\nå†œå¤«çº¦ç¿°çš„å†œåœºåœ¨æœ€è¿‘çš„ä¸€åœºæš´é£é›¨ä¸­è¢«æ°´æ·¹æ²¡ã€‚ä½†ä¿é™©å…¬å¸ä»…æ ¹æ®ä»–å¾—å†œåœºä¸­æœ€å¤§çš„â€œæ¹–æ³Šâ€çš„å¤§å°èµ”å¿ä¸€ä¸ªæ•°é¢ã€‚\nå†œåœºå¯è¡¨ç¤ºä¸ºNè¡ŒMåˆ—çš„é•¿æ–¹å½¢ç½‘æ ¼ï¼Œï¼ˆ1â‰¤Nâ‰¤100,1â‰¤Mâ‰¤100ï¼‰ã€‚ç½‘æ ¼ä¸­çš„æ¯ä¸ªå•å…ƒæˆ–æ˜¯å¹²çš„æˆ–æ˜¯è¢«æ·¹æ²¡çš„ï¼Œä¸”æ°æœ‰Kä¸ªå•å…ƒè¢«æ°´æ·¹æ²¡ï¼Œï¼ˆ1â‰¤Kâ‰¤N*Mï¼‰ã€‚æ­£å¦‚äººä»¬æ‰€å¸Œæœ›çš„ï¼Œæ¹–æ³Šæ˜¯ä¸€ä¸ªä¸­é—´å•å…ƒï¼Œå®ƒä¸å…¶ä»–çš„å•å…ƒå…±äº«ä¸€æ¡é•¿è¾¹ï¼ˆä¸æ˜¯è§’è½ï¼‰ã€‚ä»»ä½•ä¸ä¸­é—´å•å…ƒå…±äº«ä¸€æ¡é•¿è¾¹æˆ–è€…ä¸è¿é€šå•å…ƒå…±äº«ä¸€æ¡é•¿è¾¹çš„å•å…ƒæ˜¯ä¸€ä¸ªè¿é€šå•å…ƒï¼Œæ˜¯æ¹–æ³Šçš„ä¸€éƒ¨åˆ†ã€‚\nè¾“å…¥\næœ‰å¤šç»„æ•°æ®ã€‚æ¯ç»„çš„ç¬¬1è¡Œæœ‰3ä¸ªæ•´æ•°Nï¼ŒMå’ŒKã€‚ç¬¬2è¡Œåˆ°ç¬¬K+1è¡Œï¼Œæ˜¯æ•´æ•°Rå’ŒCï¼Œè¡¨ç¤ºè¢«æ·¹æ²¡çš„ä½ç½®ã€‚\nè¾“å‡º\nå¯¹æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºæœ‰æœ€å¤§æ¹–æ³Šçš„å•å…ƒçš„æ•°ç›®ã€‚\næ ·ä¾‹è¾“å…¥\n3 4 5\n3 2\n2 2\n3 1\n2 3\n1 1\næ ·ä¾‹è¾“å‡º\n4\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 150;\n \nint n, m, k;\nbool fd[maxn][maxn];\nint mv[4][2] = { {1, 0}, {-1, 0}, {0, 1}, {0, -1} };\n \nint ans;\nint dfs(int r, int c) {\n    if (r&lt;1 || r&gt;n || c&lt;1 || c&gt;m || !fd[r][c])return 0;\n    fd[r][c] = false;\n    int ret = 1;\n    for (int i = 0;i &lt; 4;i++) {\n        ret += dfs(r + mv[i][0], c + mv[i][1]);\n    }\n    return ret;\n}\n \nvoid solve() {\n    fill(fd[0], fd[0] + maxn * maxn, false);\n    ans = 0;\n    for (int ki = 0;ki &lt; k;ki++) {\n        int r, c;cin &gt;&gt; r &gt;&gt; c;\n        fd[r][c] = true;\n    }\n    for (int i = 1;i &lt;= n;i++) {\n        for (int j = 1;j &lt;= m;j++) {\n            if (fd[i][j]) {\n                ans = max(ans, dfs(i, j));\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    while (cin &gt;&gt; n &gt;&gt; m &gt;&gt; k)\n        solve();\n \n    return 0;\n}\n/*\n0 1 0 0 0\n0 0 1 1 0\n0 1 1 0 0\n*/\n1283: E003 ä¿¡é“åˆ†é…\né¢˜ç›®æè¿°\nå½“æ— çº¿ç”µå°åœ¨ä¸€ä¸ªéå¸¸å¤§çš„åŒºåŸŸä¸Šä¼ æ’­ä¿¡å·æ—¶ï¼Œä¸ºäº†æ¯ä¸ªæ¥æ”¶å™¨éƒ½èƒ½å¾—åˆ°è¾ƒå¼ºä¿¡å·ï¼Œä½¿ç”¨è½¬å‘å™¨è½¬å‘ä¿¡å·ã€‚ç„¶è€Œï¼Œéœ€è¦ä»”ç»†åœ°é€‰æ‹©æ¯ä¸ªè½¬å‘å™¨ä½¿ç”¨çš„é¢‘é“ï¼Œä»¥ä½¿é™„è¿‘çš„è½¬å‘å™¨ä¸å½¼æ­¤å¹²æ‰°ã€‚å¦‚æœé‚»è¿‘çš„è½¬å‘å™¨ä½¿ç”¨ä¸åŒçš„é¢‘é“ï¼Œæ¡ä»¶å°±å¾—åˆ°æ»¡è¶³ã€‚\nå› ä¸ºæ— çº¿ç”µæ³¢çš„é¢‘è°±æ˜¯å®è´µçš„èµ„æºï¼Œè½¬å‘å™¨æ‰€éœ€é¢‘é“çš„æ•°é‡åº”å‡åˆ°æœ€å°‘ã€‚ç¼–ç¨‹ä»»åŠ¡ï¼šè¯»å–è½¬å‘å™¨ç½‘ç»œçš„æè¿°ä¿¡æ¯ï¼Œå¹¶è®¡ç®—å‡ºæ‰€éœ€é¢‘é“çš„æœ€å°ä½¿ç”¨é‡ã€‚\nè¾“å…¥\nè¾“å…¥åŒ…å«è®¸å¤šè½¬å‘å™¨ç½‘ç»œå›¾ã€‚æ¯å¹…å›¾çš„ç¬¬ä¸€è¡Œæ˜¯è½¬å‘å™¨æ•°ç›®ï¼ˆ1~26ï¼‰ã€‚è½¬å‘å™¨ç”¨è¿ç»­çš„å¤§å†™å­—æ¯è¡¨ç¤ºï¼Œä»Aå¼€å§‹ã€‚ä¾‹å¦‚ï¼Œ10ä¸ªè½¬å‘å™¨çš„åç§°åˆ†åˆ«æ˜¯Aï¼ŒBï¼ŒCï¼Œâ€¦ï¼ŒIå’ŒJã€‚å½“è½¬å‘å™¨çš„ä¸ªæ•°æ˜¯0æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚\nè½¬å‘å™¨æ•°ç›®ä¹‹åï¼Œæ˜¯å…¶é‚»è¿‘å…³ç³»çš„åˆ—è¡¨ã€‚æ¯è¡Œçš„æ ¼å¼ä¸º\nAï¼šBCDH\nè¡¨ç¤ºè½¬å‘å™¨Bã€Cã€Då’ŒHä¸è½¬å‘å™¨Aé‚»è¿‘ã€‚ç¬¬ä¸€è¡Œæè¿°ä¸è½¬å‘å™¨Aé‚»è¿‘çš„ï¼Œç¬¬äºŒè¡Œæè¿°ä¸Bé‚»è¿‘çš„ï¼Œç›´åˆ°æè¿°å®Œæ‰€æœ‰çš„è½¬å‘å™¨ã€‚å¦‚æœæŸä¸ªè½¬å‘å™¨ä¸ä¸å…¶ä»–è½¬å‘å™¨ç›¸é‚»ï¼Œå®ƒçš„å½¢å¼ä¸º\nAï¼š\nè½¬å‘å™¨ä¾å­—æ¯é¡ºåºåˆ—å‡ºã€‚\næ³¨æ„ï¼šç›¸é‚»æ˜¯å¯¹ç§°çš„å…³ç³»ï¼›å¦‚æœAä¸Bç›¸é‚»ï¼Œé‚£ä¹ˆBä¸Aä¹Ÿç›¸é‚»ã€‚å› ä¸ºè½¬å‘å™¨ä½äºæ°´å¹³é¢å†…ï¼Œç”±ç›¸é‚»çš„è½¬å‘å™¨æ„æˆçš„ç½‘ç»œå›¾æ²¡æœ‰ç›¸äº¤çš„çº¿ã€‚\nè¾“å‡º\nå¯¹äºæ¯å¹…å›¾ï¼ˆé™¤äº†æœ€åä¸€ä¸ªæ²¡æœ‰è½¬å‘å™¨ï¼‰ï¼Œè¾“å‡ºä¸€è¡Œï¼Œæ˜¯è½¬å‘å™¨ä¸äº’ç›¸å¹²æ‰°æ‰€éœ€çš„æœ€å°‘é¢‘é“æ•°ã€‚è¾“å‡ºæ ¼å¼å‚è€ƒæ ·ä¾‹è¾“å‡ºã€‚æ³¨æ„ï¼šé¢‘é“æ•°ä¸º1çš„è¯ï¼Œâ€œchannelâ€ä¸ºå•æ•°ã€‚\næ ·ä¾‹è¾“å…¥\n2\nA:\nB:\n4\nA:BC\nB:ACD\nC:ABD\nD:BC\n0\næ ·ä¾‹è¾“å‡º\n1 channel needed.\n3 channels needed.\nå‚è€ƒä»£ç \n#include&lt;iostream&gt;\n#include&lt;stdio.h&gt;\n#include&lt;string.h&gt;\n#include&lt;algorithm&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\nbool fd[maxn][maxn];\nint ind[30], t;\nbool dfs(int from, int clr) {\n    // ä»fromç€è‰²\n    for (int i = 0;i &lt; clr;i++) {\n        bool f = true;ind[from] = i;\n \n        for (int j = 0;j &lt; from;j++) {\n            if (ind[j] == i &amp;&amp; fd[from][j]) {\n                f = false;\n                break;\n            }\n        }\n \n        if (f &amp;&amp; (from == t - 1 || dfs(from + 1, clr)))\n            return true;\n    }\n    return false;\n}\n \nint main() {\n    while (cin &gt;&gt; t) {\n        cin.get();\n        if (t == 0)break;\n        memset(fd, 0, sizeof(fd));\n        memset(ind, 0, sizeof(ind));\n        bool f = true;\n        for (int i = 0;i &lt; t;i++) {\n            string msg;cin &gt;&gt; msg;\n            if (msg.size() == 2)\n                continue;\n            f = false;\n            int pid = msg[0] - &#039;A&#039;;\n            for (int j = 2;j &lt; msg.size();j++) {\n                fd[pid][msg[j] - &#039;A&#039;] = true;\n                fd[msg[j] - &#039;A&#039;][pid] = true;\n            }\n        }\n        if (f)\n            cout &lt;&lt; &quot;1 channel needed.\\n&quot;;\n        else if (dfs(1, 2))\n            cout &lt;&lt; &quot;2 channels needed.\\n&quot;;\n        else if (dfs(1, 3))\n            cout &lt;&lt; &quot;3 channels needed.\\n&quot;;\n        else\n            cout &lt;&lt; &quot;4 channels needed.\\n&quot;;\n    }\n \n    return 0;\n}\n1284: E004 ç§»åŠ¨çš„éª‘å£«\né¢˜ç›®æè¿°\nä½ çš„ä¸€ä¸ªæœ‹å‹æ­£åœ¨ç ”ç©¶éª‘å£«æ—…è¡Œé—®é¢˜ï¼ˆTKPï¼‰ã€‚åœ¨ä¸€ä¸ªæœ‰nä¸ªæ–¹æ ¼çš„æ£‹ç›˜ä¸Šï¼Œä½ å¾—æ‰¾åˆ°ä¸€æ¡æœ€çŸ­çš„å°é—­éª‘å£«æ—…è¡Œçš„è·¯å¾„ï¼Œä½¿èƒ½å¤Ÿéå†æ¯ä¸ªæ–¹æ ¼ä¸€æ¬¡ã€‚ä»–è®¤ä¸ºé—®é¢˜çš„æœ€å›°éš¾éƒ¨åˆ†åœ¨äºï¼Œå¯¹ä¸¤ä¸ªç»™å®šçš„æ–¹æ ¼ï¼Œç¡®å®šéª‘å£«ç§»åŠ¨æ‰€éœ€çš„æœ€å°æ­¥æ•°ã€‚æ‰€ä»¥ä½ å¸®åŠ©ä»–ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè§£å†³è¿™ä¸ªâ€œå›°éš¾çš„â€éƒ¨åˆ†ã€‚ä½ çš„ä»»åŠ¡æ˜¯ï¼šè¾“å…¥æœ‰ä¸¤ä¸ªæ–¹æ ¼aå’Œbï¼Œç¡®å®šéª‘å£«åœ¨æœ€çŸ­è·¯å¾„ä¸Šä»aåˆ°bç§»åŠ¨çš„æ¬¡æ•°ã€‚\nå›½é™…è±¡æ£‹ä¸­çš„éª‘å£«åœ¨æ£‹ç›˜ä¸Šå¯ç§»åŠ¨çš„èŒƒå›´å¦‚ä¸‹å›¾ï¼š\n\nè¾“å…¥\nè¾“å…¥åŒ…å«ä¸€ç»„æˆ–å¤šç»„æµ‹è¯•ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ä¾‹ä¸€è¡Œï¼Œæ˜¯ä¸¤ä¸ªæ–¹æ ¼ï¼Œç”¨ç©ºæ ¼éš”å¼€ã€‚æ£‹ç›˜ä¸Šçš„ä¸€ä¸ªæ–¹æ ¼ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå­—æ¯ï¼ˆa-hï¼‰è¡¨ç¤ºåˆ—ï¼Œæ•°å­—ï¼ˆ1-8ï¼‰è¡¨ç¤ºè¡Œã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•ä¾‹ï¼Œè¾“å‡ºä¸€è¡Œï¼šâ€œTo get from xx to yy takes n knight moves.â€ã€‚\næ ·ä¾‹è¾“å…¥\ne2 e4\na1 b2\nb2 c3\na1 h8\na1 h7\nh8 a1\nb1 c3\nf6 f6\næ ·ä¾‹è¾“å‡º\nTo get from e2 to e4 takes 2 knight moves.\nTo get from a1 to b2 takes 4 knight moves.\nTo get from b2 to c3 takes 2 knight moves.\nTo get from a1 to h8 takes 6 knight moves.\nTo get from a1 to h7 takes 5 knight moves.\nTo get from h8 to a1 takes 6 knight moves.\nTo get from b1 to c3 takes 1 knight moves.\nTo get from f6 to f6 takes 0 knight moves.\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 150;\n \nstring fs, ts;\nint mv[8][2] = { {-2, -1}, {-2, 1}, {-1, -2}, {-1, 2}, {1, -2}, {1, 2}, {2, -1}, {2, 1} };\n \nvoid bfs(int x1, int y1, int x2, int y2) {\n    if (x1 == x2 &amp;&amp; y1 == y2) {\n        cout &lt;&lt; &quot;To get from &quot; &lt;&lt; fs &lt;&lt; &quot; to &quot; &lt;&lt; ts &lt;&lt; &quot; takes 0 knight moves.\\n&quot;;\n        return;\n    }\n    int stp = 0;\n    queue&lt;pair&lt;int, int&gt;&gt; q;\n    q.push({ x1, y1 });\n    while (!q.empty()) {\n        queue&lt;pair&lt;int, int&gt;&gt; qs;\n        while (!q.empty()) {\n            auto [x, y] = q.front();q.pop();\n            for (int i = 0;i &lt; 8;i++) {\n                int nx = x + mv[i][0], ny = y + mv[i][1];\n                if (nx &lt; 0 || nx &gt;= 8 || ny &lt; 0 || ny &gt;= 8)continue;\n                if (nx == x2 &amp;&amp; ny == y2) {\n                    cout &lt;&lt; &quot;To get from &quot; &lt;&lt; fs &lt;&lt; &quot; to &quot; &lt;&lt; ts &lt;&lt; &quot; takes &quot; &lt;&lt; stp + 1 &lt;&lt; &quot; knight moves.\\n&quot;;\n                    return;\n                }\n                qs.push({ nx, ny });\n            }\n        }\n        stp++;\n        q = qs;\n    }\n \n}\n \nvoid solve() {\n    int x1 = fs[0] - &#039;a&#039;, y1 = fs[1] - &#039;1&#039;, x2 = ts[0] - &#039;a&#039;, y2 = ts[1] - &#039;1&#039;;\n    bfs(x1, y1, x2, y2);\n}\n \nint main() {\n    while (cin &gt;&gt; fs &gt;&gt; ts)\n        solve();\n \n    return 0;\n}\n1285: E005 å›¾åƒå‘¨é•¿\né¢˜ç›®æè¿°\nç—…ç†å­¦å®éªŒå®¤çš„æŠ€æœ¯äººå‘˜éœ€è¦åˆ†æå¹»ç¯ç‰‡çš„æ•°å­—å›¾åƒã€‚å¹»ç¯ç‰‡ä¸Šæœ‰è®¸å¤šè¦åˆ†æçš„ç›®æ ‡ï¼Œç”±é¼ æ ‡å•å‡»ç¡®å®šä¸€ä¸ªç›®æ ‡ã€‚ç›®æ ‡è¾¹ç•Œçš„å‘¨é•¿æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æµ‹é‡å‚æ•°ã€‚ç¼–ç¨‹ä»»åŠ¡ï¼šç¡®å®šé€‰ä¸­ç›®æ ‡çš„åœ¨å‘¨é•¿ã€‚\næ•°å­—åŒ–çš„å¹»ç¯ç‰‡æ˜¯ä¸€ä¸ªçŸ©å½¢çš„ç½‘æ ¼ï¼Œé‡Œé¢æœ‰ç‚¹â€™.â€™ï¼Œè¡¨ç¤ºç©ºçš„åœ°æ–¹ï¼›æœ‰å¤§å†™å­—æ¯â€˜Xâ€™ï¼Œè¡¨ç¤ºç›®æ ‡çš„ä¸€éƒ¨åˆ†ã€‚ç®€å•ç½‘æ ¼å¦‚ä¸‹æ‰€ç¤º\n\næ–¹æ ¼ä¸­çš„ä¸€ä¸ªXæ˜¯æŒ‡ä¸€ä¸ªå®Œæ•´çš„ç½‘ç»œæ–¹å½¢åŒºåŸŸï¼ŒåŒ…æ‹¬å…¶è¾¹ç•Œå’Œç›®æ ‡æœ¬èº«ã€‚ç½‘æ ¼ä¸­å¿ƒçš„Xä¸å…¶è¾¹ç•Œä¸Š8ä¸ªæ–¹å‘çš„Xéƒ½æ˜¯ç›¸é‚»çš„ã€‚ä»»ä½•ä¸¤ä¸ªç›¸é‚»çš„Xï¼Œå…¶ç½‘æ ¼æ–¹å½¢åŒºåŸŸåœ¨è¾¹ç•Œæˆ–è€…æ‹è§’å¤„æ˜¯é‡å çš„ï¼Œæ‰€ä»¥ä»–ä»¬çš„ç½‘æ ¼æ–¹å½¢åŒºåŸŸæ˜¯ç›¸é‚»çš„ã€‚\nä¸€ä¸ªç›®æ ‡æ˜¯ç”±ä¸€ç³»åˆ—ç›¸é‚»Xçš„ç½‘æ ¼æ–¹å½¢åŒºåŸŸè¿æ¥èµ·æ¥æ„æˆçš„ã€‚åœ¨ç½‘æ ¼1ä¸­ï¼Œä¸€ä¸ªç›®æ ‡å¡«å……äº†å…¨éƒ¨ç½‘æ ¼ï¼›åœ¨ç½‘æ ¼2ä¸­æœ‰ä¸¤ä¸ªç›®æ ‡ï¼Œå…¶ä¸­ä¸€ä¸ªç›®æ ‡åªå å·¦ä¸‹è§’çš„ä¸€ä¸ªç½‘æ ¼æ–¹å½¢åŒºåŸŸï¼Œå…¶ä½™çš„Xå±äºå¦ä¸€ä¸ªç›®æ ‡ã€‚\næŠ€æœ¯äººå‘˜æ€»æ˜¯èƒ½å•å‡»åˆ°ä¸€ä¸ªXï¼Œä»¥é€‰ä¸­åŒ…å«è¯¥Xçš„ç›®æ ‡ï¼Œè®°å½•å•å‡»æ—¶çš„åæ ‡ã€‚è¡Œåˆ—å·æ˜¯ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œä»1å¼€å§‹ç¼–å·çš„ã€‚åœ¨ç½‘æ ¼1ä¸­ï¼ŒæŠ€æœ¯äººå‘˜å¯ä»¥å•å‡»è¡Œ2å’Œåˆ—2é€‰æ‹©ç›®æ ‡ï¼›åœ¨ç½‘æ ¼2ä¸­ï¼Œå•å‡»è¡Œ2å’Œåˆ—3å°±å¯ä»¥é€‰ä¸­è¾ƒå¤§ç›®æ ‡ï¼Œå•å‡»è¡Œ4å’Œåˆ—3å°±ä¸èƒ½é€‰ä¸­ä»»ä½•ç›®æ ‡ã€‚\nä¸€ä¸ªæœ‰ç”¨çš„ç»Ÿè®¡å‚æ•°æ˜¯ç›®æ ‡çš„å‘¨é•¿ã€‚å‡å®šæ¯ä¸ªXçš„æ¯æ¡è¾¹ä¸Šæœ‰ä¸€ä¸ªæ–¹å½¢çš„å•å…ƒã€‚åœ¨ç½‘æ ¼1ä¸­ç›®æ ‡çš„å‘¨é•¿æ˜¯8ï¼ˆ4ä¸ªè¾¹ï¼Œæ¯ä¸ªè¾¹ä¸Šæœ‰2ä¸ªæ–¹å½¢çš„å•å…ƒï¼‰ï¼›åœ¨ç½‘æ ¼2ä¸­ï¼Œè¾ƒå¤§ç›®æ ‡çš„å‘¨é•¿æ˜¯18ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\n\nç›®æ ‡ä¸­ä¸ä¼šåŒ…å«ä»»ä½•å®Œå…¨å°é—­çš„å­”ï¼Œæ‰€ä»¥ä¸‹é¢æœ€å·¦è¾¹çš„ç½‘æ ¼ä¸ä¼šå‡ºç°ï¼Œåº”è¯¥æ˜¯å³è¾¹çš„ç½‘æ ¼æ ·å¼ã€‚\n\nè¾“å…¥\nè¾“å…¥æœ‰å¤šç»„ç½‘æ ¼ã€‚å¯¹æ¯ä¸ªç½‘æ ¼ï¼Œç¬¬ä¸€è¡Œæ˜¯ç½‘æ ¼çš„è¡Œåˆ—æ•°ï¼ˆrowsï¼Œcolumnsï¼‰ï¼Œé¼ æ ‡å•å‡»çš„è¡Œåˆ—å·ï¼ˆrowï¼Œcolumnï¼‰ï¼Œå…¶æ•´æ•°èŒƒå›´éƒ½æ˜¯1-20.æ¥ä¸‹æ¥å°±æ˜¯rowsè¡Œï¼Œç”±å­—ç¬¦â€˜.â€™å’Œâ€˜Xâ€™æ„æˆã€‚\nå½“ä¸€è¡Œæ˜¯4ä¸ª0æ—¶ï¼Œæ ‡å¿—è¾“å…¥ç»“æŸã€‚ä¸€è¡Œä¸­çš„4ä¸ªæ•°å­—ä¹‹é—´å„æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ç½‘æ ¼æ•°æ®çš„è¡Œä¹‹é—´æ²¡æœ‰ç©ºè¡Œã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªç½‘ç»œè¾“å‡ºä¸€è¡Œï¼Œæ˜¯é€‰ä¸­ç›®æ ‡çš„å‘¨é•¿ã€‚\næ ·ä¾‹è¾“å…¥\n2 2 2 2\nXX\nXX\n6 4 2 3\n.XXX\n.XXX\n.XXX\n...X\n..X.\nX...\n5 6 1 3\n.XXXX.\nX....X\n..XX.X\n.X...X\n..XXX.\n0 0 0 0\næ ·ä¾‹è¾“å‡º\n8\n18\n40\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\n#define AUTHOR &quot;DODOLA&quot;\n// #include&lt;queue&gt;\n// #include&lt;iostream&gt;\n// #include&lt;string&gt;\nusing namespace std;\nconst int maxn = 250;\ntypedef long long ll;\nint r, c, x, y;\nvector&lt;string&gt;mp(maxn);\n \nint mv[8][2] = {\n    {1,0},{0,1},{-1,0},{0,-1},\n    {1,1},{1,-1},{-1,-1},{-1,1},\n};\nint ans;\nbool ck[maxn][maxn];\n \nvoid dfs(int px, int py) {\n    // cout &lt;&lt; px &lt;&lt; &quot; &quot; &lt;&lt; py &lt;&lt; endl;\n    // cout &lt;&lt; ans &lt;&lt; endl;\n    if (mp[px][py] != &#039;X&#039; || ck[px][py])return;\n    ck[px][py] = true;\n \n    for (int j = 0;j &lt; 4;j++) {\n        int xj = px + mv[j][0], yj = py + mv[j][1];\n        if (mp[xj][yj] != &#039;X&#039;)\n            ans++;\n    }\n \n    for (int i = 0;i &lt; 8;i++) {\n        int xi = px + mv[i][0];\n        int yi = py + mv[i][1];\n        dfs(xi, yi);\n    }\n}\n \nstring s0(&#039;.&#039;, maxn - 1);\nvoid solve() {\n    ans = 0;\n    fill(ck[0], ck[0] + sizeof(ck), false);\n    fill(mp.begin(), mp.end(), s0);\n    for (int i = 1;i &lt;= r;i++) {\n        cin &gt;&gt; mp[i];\n        mp[i] = &quot; &quot; + mp[i] + &quot; &quot;;\n    }\n    dfs(x, y);\n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    mp[0] = s0;\n    while (cin &gt;&gt; r &gt;&gt; c &gt;&gt; x &gt;&gt; y) {\n        if (!r &amp;&amp; !c &amp;&amp; !x &amp;&amp; !y)break;\n        solve();\n    }\n \n    return 0;\n}\n1286: E006 ç§»åŠ¨çš„éª‘å£«\né¢˜ç›®æè¿°\nSomurolovå…ˆç”Ÿæ˜¯ä¸€ä¸ªå›½é™…è±¡æ£‹é«˜æ‰‹ï¼Œä»–å£°ç§°åœ¨æ£‹ç›˜ä¸Šå°†éª‘å£«æ£‹å­ä»ä¸€ç‚¹ç§»åŠ¨åˆ°å¦å¤–ä¸€ç‚¹ï¼Œæ²¡æœ‰äººæ¯”ä»–å¿«ï¼Œä½ æ•¢æŒ‘æˆ˜ä»–å—ï¼Ÿ\nä½ çš„ä»»åŠ¡æ˜¯ç¼–ç¨‹è®¡ç®—å‡ºå°†ä¸€ä¸ªéª‘å£«æ£‹å­ä»ä¸€ç‚¹ç§»åŠ¨åˆ°å¦å¤–ä¸€ç‚¹ï¼Œæœ€å°‘éœ€è¦ç§»åŠ¨çš„æ­¥æ•°ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™æ ·ä½ å°±æœ‰èµ¢å¾—Somurolovå…ˆç”Ÿçš„æœºä¼šã€‚å›½é™…è±¡æ£‹ä¸­çš„éª‘å£«åœ¨æ£‹ç›˜ä¸Šå¯ç§»åŠ¨çš„èŒƒå›´å¦‚ä¸‹å›¾ï¼š\n\nè¾“å…¥\né¦–å…ˆè¾“å…¥æµ‹è¯•æ ·ä¾‹çš„ä¸ªæ•°nã€‚æ¥ä¸‹æ¥æ˜¯nç»„è¾“å…¥æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ç”±ä¸‰è¡Œæ•´æ•°ç»„æˆï¼šç¬¬ä¸€è¡Œæ˜¯æ£‹ç›˜çš„è¾¹é•¿l (4 â‡ l â‡ 300)ï¼Œæ•´ä¸ªæ£‹ç›˜çš„é¢ç§¯ä¹Ÿå°±æ˜¯ llï¼›ç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œåˆ†åˆ«æ˜¯éª‘å£«æ£‹å­çš„åˆå§‹ä½ç½®å’Œç›®æ ‡ä½ç½®ï¼Œè¡¨ç¤ºä¸ºæ•´æ•°å¯¹å½¢å¼{0, â€¦, l-1}{0, â€¦, l-1}ã€‚ä¿è¯æ£‹å­çš„åˆå§‹å’Œç›®æ ‡ä½ç½®æ˜¯æ£‹ç›˜ä¸Šçš„åˆæ³•ä½ç½®ã€‚\nè¾“å‡º\nå¯¹äºæ¯ä¸€ä¸ªè¾“å…¥çš„æµ‹è¯•æ ·ä¾‹ï¼Œè¯·ä½ ç®—å‡ºéª‘å£«ä»åˆå§‹ä½ç½®ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®æœ€å°ç§»åŠ¨æ­¥æ•°ã€‚å¦‚æœåˆå§‹ä½ç½®å’Œç›®æ ‡ä½ç½®ç›¸åŒï¼Œé‚£ä¹ˆéª‘å£«ç§»åŠ¨çš„è·ç¦»å°±æ˜¯0ã€‚æœ€åå•ç‹¬ä¸€è¡Œè¾“å‡ºæ‰€æ±‚è·ç¦»ã€‚\næ ·ä¾‹è¾“å…¥\n1\n8 0 0\n7 0\næ ·ä¾‹è¾“å‡º\n5\nå‚è€ƒä»£ç \n#include &lt;iostream&gt;\n#include &lt;queue&gt;\n#include &lt;cstring&gt;\n#define AUTHOR &quot;DODOLA&quot;\nusing namespace std;\n \nstruct P {\n    int x;\n    int y;\n    int step;\n};\n \nint mv[8][2] = {\n    {1, 2}, {2, 1}, {-1, 2}, {-2, 1},\n    {1, -2}, {2, -1}, {-1, -2}, {-2, -1}\n};\n \nint bfs(int n, int x1, int y1, int x2, int y2)\n{\n    if (x1 == x2 &amp;&amp; y1 == y2)\n    {\n        return 0;\n    }\n    bool gnd[n][n];\n    queue&lt;P&gt; q;\n    memset(gnd, 0, sizeof(gnd));\n    P start, node;\n    start.x = x1;\n    start.y = y1;\n    start.step = 0;\n    q.push(start);\n    while (!q.empty()) {\n        int x0, y0, step;\n        start = q.front();\n        q.pop();\n        x0 = start.x;\n        y0 = start.y;\n        step = start.step;\n        for (int j = 0; j &lt; 8; j++) {\n            int x3 = x0 + mv[j][0];\n            int y3 = y0 + mv[j][1];\n            if (x3 == x2 &amp;&amp; y3 == y2)\n                return step + 1;\n            if (x3 &gt;= 0 &amp;&amp; x3 &lt; n &amp;&amp; y3 &gt;= 0 &amp;&amp; y3 &lt; n &amp;&amp; !gnd[x3][y3]) {\n                node.x = x3;\n                node.y = y3;\n                node.step = step + 1;\n                q.push(node);\n                gnd[x3][y3] = 1;\n            }\n        }\n    }\n    return 0;\n}\n \nint main() {\n    int t;\n    cin &gt;&gt; t;\n    while (t--) {\n        int x1, y1, x2, y2, n;\n        cin &gt;&gt; n &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n        cout &lt;&lt; bfs(n, x1, y1, x2, y2) &lt;&lt; endl;\n    }\n    return 0;\n}\n \n \n1287: E007 å¯»æ‰¾M\né¢˜ç›®æè¿°\nç»™å‡ºä¸€ä¸ªæ•´æ•°nï¼Œç¼–ç¨‹æ±‚å‡ºä¸€ä¸ªéé›¶æ•´æ•°mï¼Œä½¿å¾—mæ˜¯nçš„å€æ•°ï¼Œå¹¶ä¸”mçš„åè¿›åˆ¶è¡¨ç¤ºä¸­åªæœ‰1å’Œ0ã€‚ç»™å‡ºçš„nä¸å¤§äº200å¹¶ä¸”è‚¯å®šå­˜åœ¨å¯¹åº”çš„mï¼Œmæ˜¯åè¿›åˆ¶æ•°å¹¶ä¸”ä¸å¤§äº100ä½ã€‚\nè¾“å…¥\nè¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„æµ‹è¯•æ•°æ®åªæœ‰ä¸€ä¸ªæ•´æ•°n (1 â‡ n â‡ 200)ã€‚æ•´æ•°0æ ‡å¿—è¾“å…¥çš„ç»“æŸã€‚\nè¾“å‡º\nå¯¹äºæ¯ä¸ªnè¾“å‡ºå¯¹åº”çš„æ•´æ•°mï¼Œmçš„åè¿›åˆ¶è¡¨ç¤ºä¸å¤šäº100ä½ã€‚å¦‚æœå¯¹äºä¸€ä¸ªnå­˜åœ¨å¤šä¸ªåˆæ³•çš„mï¼Œä½ åªéœ€è¾“å‡ºä¸€ä¸ªå³å¯ã€‚\næ ·ä¾‹è¾“å…¥\n2\n6\n0\næ ·ä¾‹è¾“å‡º\n10\n1110\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 10;\nint n;\n \nbool ck(int x) {\n    while (x) {\n        if (x % 10 == 0 || x % 10 == 1) {\n            x /= 10;\n            continue;\n        }\n        else return false;\n    }\n    return true;\n}\n \nvoid solve() {\n    for (int i = 1;;i++) {\n        int m = i * n;\n        bool f = ck(m);\n        if (f) {\n            cout &lt;&lt; m &lt;&lt; endl;\n            return;\n        }\n    }\n}\n \nint main() {\n    while (cin &gt;&gt; n) {\n        if (n == 0)break;\n        solve();\n    }\n \n    return 0;\n}\n1288: E008 çº¢ä¸é»‘\né¢˜ç›®æè¿°\næœ‰ä¸€ä¸ªçŸ©å½¢çš„æˆ¿é—´ï¼Œæˆ¿é—´é“ºç€æ­£æ–¹å½¢çš„åœ°ç –ã€‚æ¯ä¸ªåœ°ç –è¢«æ¶‚ä¸Šçº¢è‰²æˆ–è€…é»‘è‰²ã€‚åˆå§‹æ—¶ä½ ç«™åœ¨æˆ¿é—´é‡Œçš„æŸä¸ªé»‘è‰²åœ°ç –ä¸Šï¼Œä½ æ¯æ¬¡åªèƒ½ç§»åŠ¨åˆ°ç›¸é‚»çš„å››ä¸ªåœ°ç –ä¹‹ä¸€ï¼Œå³ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œå¹¶ä¸”ä½ æ¯æ¬¡åªèƒ½ç§»åŠ¨åˆ°é»‘è‰²çš„åœ°ç –ä¸Šï¼Œä¸èƒ½èµ°åˆ°çº¢è‰²åœ°ç –ã€‚\nç¼–ç¨‹è®¡ç®—å‡ºæŒ‰ç…§ä¸Šè¿°è¦æ±‚ä½ èƒ½èµ°åˆ°çš„é»‘è‰²åœ°ç –çš„ä¸ªæ•°ã€‚\nè¾“å…¥\nè¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡ŒåŒ…æ‹¬2ä¸ªæ•´æ•°Wå’ŒHï¼›Wå’ŒHæ˜¯æˆ¿é—´çš„å®½åº¦å’Œé•¿åº¦ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸ºæˆ¿é—´çš„xå’Œyåæ ‡è½´ã€‚Wå’ŒHä¸å¤§äº20ã€‚æ¥ä¸‹æ¥æ˜¯Hè¡Œæ¯è¡ŒWä¸ªåœ°ç –çš„æˆ¿é—´ï¼Œæ¯ä¸ªåœ°ç –è¡¨ç¤ºå¦‚ä¸‹ï¼š\nâ€˜.â€™â€”â€”é»‘è‰²åœ°ç –\nâ€˜#â€™â€”â€”çº¢è‰²åœ°ç –\nâ€˜@â€™ â€”â€”ä½ åœ¨æˆ¿é—´é‡Œçš„åˆå§‹ä½ç½®ï¼ˆæˆ¿é—´åªå‡ºç°ä¸€æ¬¡ï¼‰ã€‚\nè¾“å…¥çš„æœ€åä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°0ï¼Œä¸ç”¨å¤„ç†ã€‚\nè¾“å‡º\nå¯¹æ¯ä¸ªæµ‹è¯•æ ·ä¾‹ï¼Œè¾“å‡ºä¸€è¡Œï¼Œå³ä½ èƒ½èµ°åˆ°çš„é»‘è‰²åœ°ç –çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬ä½ åˆå§‹ç«™åœ¨çš„é»‘è‰²åœ°ç –ï¼‰ã€‚\næ ·ä¾‹è¾“å…¥\n6 9\n....#.\n.....#\n......\n......\n......\n......\n......\n#@...#\n.#..#.\n11 9\n.#.........\n.#.#######.\n.#.#.....#.\n.#.#.###.#.\n.#.#..@#.#.\n.#.#####.#.\n.#.......#.\n.#########.\n...........\n0 0\næ ·ä¾‹è¾“å‡º\n45\n59\nå‚è€ƒä»£ç \n#include &lt;iostream&gt;\n#include &lt;queue&gt;\n#include &lt;cstring&gt;\nconst int maxn = 120;\nusing namespace std;\nint r, c;\nchar mp[maxn][maxn];\nint mv[4][2] = {\n    {0,1},{0,-1},{1,0},{-1,0},\n};\n \nint ans;\n \nvoid dfs(int x, int y) {\n    if (x &lt; 0 || x == c || y &lt; 0 || y == r)return;\n    if (mp[x][y] == &#039;#&#039;)return;\n    ans++;\n    mp[x][y] = &#039;#&#039;;\n    for (int i = 0;i &lt; 4;i++) {\n        int xi = x + mv[i][0];\n        int yi = y + mv[i][1];\n        dfs(xi, yi);\n    }\n}\n \nvoid solve() {\n    ans = 0;\n    int px, py;\n    for (int i = 0;i &lt; c;i++) {\n        for (int j = 0;j &lt; r;j++) {\n            cin &gt;&gt; mp[i][j];\n            if (mp[i][j] == &#039;@&#039;) {\n                px = i;py = j;\n            }\n        }\n    }\n    dfs(px, py);\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n \nint main() {\n    while (cin &gt;&gt; r &gt;&gt; c) {\n        if (!r &amp;&amp; !c)break;\n        solve();\n    }\n \n    return 0;\n}\n1289: E009 å°æœ¨æ£’\né¢˜ç›®æè¿°\nGeorgeæœ‰ä¸€äº›é•¿åº¦ç›¸ç­‰çš„æœ¨æ£’ï¼Œä»–éšæ„çš„å°†è¿™äº›æœ¨æ£’åˆ‡æˆé•¿åº¦æœ€å¤šæ˜¯50çš„å°æœ¨æ£’ã€‚éº»çƒ¦æ¥äº†ï¼Œä»–ç°åœ¨æƒ³å°†è¿™äº›æ‚ä¹±çš„å°æœ¨æ£’æ¢å¤åˆ°åŸæ¥çš„æœ¨æ£’ï¼Œä½†æ˜¯ä»–å¿˜è®°äº†åŸæ¥åˆ°æœ¨æ£’çš„æ•°é‡å’Œé•¿åº¦ã€‚è¯·ä½ å¸®åŠ©ä»–è®¾è®¡ä¸€ä¸ªç¨‹åºè®¡ç®—å‡ºåŸæ¥æœ¨æ£’å¯èƒ½çš„æœ€å°é•¿åº¦ï¼Œæ‰€æœ‰å°æœ¨æ£’çš„é•¿åº¦å‡è¡¨ç¤ºä¸ºå¤§äº0çš„æ•´æ•°ã€‚\nè¾“å…¥\næ¯ç»„è¾“å…¥æ•°æ®åŒ…æ‹¬ä¸¤è¡Œã€‚ç¬¬ä¸€è¡Œæ˜¯Georgeåˆ‡åå°æœ¨æ£’çš„ä¸ªæ•°ï¼Œæœ€å¤šæœ‰64æ ¹å°æœ¨æ£’ï¼›ç¬¬äºŒè¡Œæ˜¯è¿™äº›å°æœ¨æ£’çš„é•¿åº¦ï¼Œè¿™äº›é•¿åº¦è¡¨ç¤ºä¸ºç©ºæ ¼åˆ†å¼€çš„æ•´æ•°ã€‚è¾“å…¥æ ·ä¾‹ä»¥æ•´æ•°0è¡¨ç¤ºç»“æŸã€‚\nè¾“å‡º\nè¾“å‡ºä¸€è¡Œï¼Œå³ä¸ºåŸå§‹æœ¨æ£’å¯èƒ½çš„æœ€å°é•¿åº¦ã€‚\næ ·ä¾‹è¾“å…¥\n9\n5 2 1 5 2 1 5 2 1\n4\n1 2 3 4\n0\næ ·ä¾‹è¾“å‡º\n6\n5\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn = 80;\n \nint n, a[maxn], maxv, tot, vis[maxn], k, len;\n \nbool cmp(int a, int b) {\n    return a &gt; b;\n}\nbool dfs(int i, int rest, int p) {\n    if (i &gt; k)\n        return 1;\n    int fail = 0;\n    for (int x = p + 1;x &lt;= n;x++) {\n        if (!vis[x]) {\n            if (a[x] == a[fail]) continue;\n            if (rest &gt; a[x]) {\n                vis[x] = 1;\n                bool w = dfs(i, rest - a[x], x);\n                vis[x] = 0;\n                if (!w) fail = x;\n                if (w) return 1;\n            }\n            else if (rest == a[x]) {\n                vis[x] = 1;\n                bool w = dfs(i + 1, len, 0);\n                vis[x] = 0;\n                return w;\n            }\n            if (p == 0) return 0;\n        }\n    }\n    return 0;\n}\n \nvoid solve() {\n    fill(vis, vis + n + 5, 0);\n    maxv = tot = 0;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n        maxv = max(maxv, a[i]);\n        tot += a[i];\n    }\n    sort(a + 1, a + 1 + n, cmp);\n    for (len = maxv;len &lt;= tot;len++) {\n        if (tot % len == 0) {\n            k = tot / len;\n            if (dfs(1, len, 0)) {\n                cout &lt;&lt; len &lt;&lt; endl;\n                break;\n            }\n        }\n    }\n}\n \nint main() {\n    while (cin &gt;&gt; n &amp;&amp; n)\n        solve();\n \n    return 0;\n}\nç®—æ³•2è´ªå¿ƒF\n1290: F001 æœ¨æ£’åŠ å·¥é—®é¢˜\né¢˜ç›®æè¿°\nç°æœ‰næ ¹æœ¨æ£’ï¼Œå·²çŸ¥å®ƒä»¬çš„é•¿åº¦å’Œé‡é‡ã€‚è¦ç”¨ä¸€éƒ¨æœ¨å·¥æœºä¸€æ ¹ä¸€æ ¹åœ°åŠ å·¥è¿™äº›æœ¨æ£’ã€‚è¯¥æœºå™¨åœ¨åŠ å·¥è¿‡ç¨‹ä¸­éœ€è¦ä¸€å®šçš„å‡†å¤‡æ—¶é—´ï¼Œæ˜¯ç”¨äºæ¸…æ´—æœºå™¨ï¼Œè°ƒæ•´å·¥å…·å’Œæ¨¡æ¿çš„ã€‚æœ¨å·¥æœºéœ€è¦çš„å‡†å¤‡æ—¶é—´å¦‚ä¸‹ï¼š\nï¼ˆ1ï¼‰ ç¬¬ä¸€æ ¹æœ¨æ£’éœ€è¦1minçš„å‡†å¤‡æ—¶é—´ï¼›\nï¼ˆ2ï¼‰ åœ¨åŠ å·¥äº†ä¸€æ ¹é•¿ä¸ºlï¼Œé‡ä¸ºwçš„æœ¨æ£’ä¹‹åï¼Œæ¥ç€åŠ å·¥ä¸€æ ¹é•¿ä¸ºlâ€™ï¼ˆlâ‰¤lâ€™ï¼‰ï¼Œé‡ä¸ºwâ€™ï¼ˆwâ‰¤wâ€™ï¼‰çš„æœ¨æ£’æ˜¯ä¸éœ€è¦ä»»ä½•å‡†å¤‡æ—¶é—´çš„ã€‚å¦åˆ™éœ€è¦ä¸€åˆ†é’Ÿçš„å‡†å¤‡æ—¶é—´ã€‚\nç»™å®šnæ ¹æœ¨æ£’ï¼Œä½ è¦æ‰¾åˆ°æœ€å°‘çš„å‡†å¤‡æ—¶é—´ã€‚ä¾‹å¦‚ç°åœ¨æœ‰é•¿å’Œé‡åˆ†åˆ«ä¸ºï¼ˆ4,9ï¼‰ï¼Œï¼ˆ5,2ï¼‰ï¼Œï¼ˆ2,1ï¼‰ï¼Œï¼ˆ3,5ï¼‰å’Œï¼ˆ1,4ï¼‰çš„äº”æ ¹æœ¨æ£’ï¼Œé‚£ä¹ˆæ‰€éœ€å‡†å¤‡æ—¶é—´æœ€å°‘ä¸º2minï¼Œé¡ºåºä¸ºï¼ˆ1,4ï¼‰ï¼Œï¼ˆ3,5ï¼‰ï¼Œï¼ˆ4,9ï¼‰ï¼Œï¼ˆ2,1ï¼‰ï¼Œï¼ˆ5,2ï¼‰ã€‚\nè¾“å…¥\nè¾“å…¥æœ‰å¤šç»„æµ‹è¯•ä¾‹ã€‚è¾“å…¥æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯æµ‹è¯•ä¾‹çš„ä¸ªæ•°ï¼ˆTï¼‰ã€‚æ¯ä¸ªæµ‹è¯•ä¾‹ä¸¤è¡Œï¼šç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°nï¼ˆ1â‰¤nâ‰¤5000ï¼‰ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘æ ¹æœ¨æ£’ï¼›ç¬¬äºŒè¡ŒåŒ…æ‹¬n*2ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºl1,w1,l2,w2,l3,w3,â€¦,ln,wn,å…¨éƒ¨ä¸å¤§äº10000ï¼Œå…¶ä¸­liå’Œwiè¡¨ç¤ºç¬¬iæ ¹æœ¨æ£’çš„é•¿åº¦å’Œé‡é‡ã€‚æ•°æ®ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åˆ†éš”ã€‚\nè¾“å‡º\nè¾“å‡ºæ˜¯ä»¥åˆ†é’Ÿä¸ºå•ä½çš„æœ€å°‘å‡†å¤‡æ—¶é—´ï¼Œä¸€è¡Œä¸€ä¸ªã€‚\næ ·ä¾‹è¾“å…¥\n3 \n5 \n4 9 5 2 2 1 3 5 1 4 \n3 \n2 2 1 1 2 2 \n3 \n1 3 2 2 3 1\næ ·ä¾‹è¾“å‡º\n2\n1\n3\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50;\n \nint n;\nbool ck[maxn];\nvoid solve() {\n    cin &gt;&gt; n;\n    fill(ck, ck + 5050, false);\n    vector&lt;pair&lt;int, int&gt;&gt; len;\n    for (int i = 0; i &lt; n; i++) {\n        int l, w;cin &gt;&gt; l &gt;&gt; w;\n        len.push_back(make_pair(l, w));\n    }\n    sort(len.begin(), len.end());\n    int cnt = 0, ans = 0;\n    while (cnt &lt; n) {\n        ans++;\n        int ki = 0;\n        int li = 0, wi = 0;\n        for (int i = 0;i &lt; n;i++) {\n            if (!ck[i]) {\n                ki = i;\n                li = len[i].first, wi = len[i].second;\n                ck[i] = true;\n                cnt++;\n                break;\n            }\n        }\n        // cout &lt;&lt; ki &lt;&lt; &quot; &quot; &lt;&lt; li &lt;&lt; &quot; &quot; &lt;&lt; wi &lt;&lt; endl;\n        for (int i = 0;i &lt; n;i++) {\n            if (ck[i])continue;\n            if (li &lt;= len[i].first &amp;&amp; wi &lt;= len[i].second) {\n                ck[i] = true;\n                cnt++;\n                li = len[i].first, wi = len[i].second;\n            }\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--)\n        solve();\n \n    return 0;\n}\n1291: F002 è£…ç®±\né¢˜ç›®æè¿°\nä¸€ä¸ªå·¥å‚ç”Ÿäº§çš„äº§å“å½¢çŠ¶éƒ½æ˜¯é•¿æ–¹ä½“ï¼Œé«˜åº¦éƒ½æ˜¯hï¼Œä¸»è¦æœ‰1x1ï¼Œ2x2ï¼Œ3x3ï¼Œ4x4ï¼Œ5x5ï¼Œ6x6ç­‰6ç§ã€‚è¿™äº›äº§å“åœ¨é‚®å¯„æ—¶è¢«åŒ…è£…åœ¨ä¸€ä¸ª6x6xhçš„é•¿æ–¹ä½“åŒ…è£¹ä¸­ã€‚ç”±äºé‚®è´¹å¾ˆè´µï¼Œå·¥å‚å¸Œæœ›å‡å°æ¯ä¸ªè®¢å•çš„åŒ…è£¹æ•°é‡ä»¥å¢åŠ ä»–ä»¬çš„åˆ©æ¶¦ã€‚å› æ­¤ä»–ä»¬éœ€è¦ä¸€ä¸ªå¥½çš„ç¨‹åºå¸®ä»–ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½ çš„ä»»åŠ¡å°±æ˜¯è®¾è®¡è¿™ä¸ªç¨‹åºã€‚\nè¾“å…¥\nè¾“å…¥åŒ…æ‹¬å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè®¢å•ã€‚æ¯ä¸ªè®¢å•é‡Œçš„ä¸€è¡ŒåŒ…æ‹¬å…­ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œä»å°åˆ°å¤§åˆ†åˆ«ä¸ºè¿™6ç§äº§å“çš„æ•°é‡ã€‚6ä¸ª0è¡¨ç¤ºæ–‡ä»¶ç»“æŸã€‚\nè¾“å‡º\né’ˆå¯¹æ¯ä¸ªè®¢å•è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œå ä¸€è¡Œï¼Œä»£è¡¨å¯¹åº”çš„è®¢å•æ‰€éœ€çš„æœ€å°åŒ…è£¹æ•°ã€‚æ²¡æœ‰å¤šä½™çš„ç©ºè¡Œã€‚\næ ·ä¾‹è¾“å…¥\n0 0 4 0 0 1\n7 5 1 0 0 0\n0 0 0 0 0 0\næ ·ä¾‹è¾“å‡º\n2\n1\nå‚è€ƒä»£ç \n// #include&lt;bits/stdc++.h&gt;\n#include&lt;iostream&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e5 + 50;\n \nint n;\nint b1, b2, b3, b4, b5, b6;\nint l3[4] = { 0,7,6,5 };\nint l2[4] = { 0,5,3,1 };\nint l1[9] = { 0,32,28,24,20,16,12,8,4 };\nvoid solve() {\n    int ans = b6 + b5 + b4 + (b3 + 3) / 4;\n    int n2 = 5 * b4 + l2[b3 % 4];;\n    if (n2 &gt;= b2) {\n        int n1 = b5 * (36 - 25) + (n2 - b2) * 4 + l3[b3 % 4];\n        if (n1 &lt; b1)\n            ans += (b1 - n1 + 35) / 36;\n    }\n    else {\n        int m2 = b2 - n2;\n        ans += (m2 + 8) / 9;\n        int n1 = b5 * (36 - 25) + l3[b3 % 4] + l1[m2 % 9];\n        if (n1 &lt; b1)\n            ans += (b1 - n1 + 35) / 36;\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n \nint main() {\n    while (cin &gt;&gt; b1 &gt;&gt; b2 &gt;&gt; b3 &gt;&gt; b4 &gt;&gt; b5 &gt;&gt; b6 &amp;&amp; (b1 || b2 || b3 || b4 || b5 || b6))\n        solve();\n}\n1292: F003 ç§»åŠ¨æ¡Œå­\né¢˜ç›®æè¿°\nè‘—åçš„ACMï¼ˆAdvanced Computer Makerï¼‰å…¬å¸ç§Ÿç”¨äº†ä¸€å±‚æœ‰400ä¸ªæˆ¿é—´çš„åŠå…¬æ¥¼ï¼Œç»“æ„å¦‚ä¸‹ã€‚\n\nè¿™å±‚æ¥¼æ²¿ç€èµ°å»Šå—åŒ—å‘çš„ä¸¤è¾¹å„æœ‰200ä¸ªæˆ¿é—´ã€‚æœ€è¿‘ï¼Œå…¬å¸è¦åšä¸€æ¬¡è£…ä¿®ï¼Œéœ€è¦åœ¨å„ä¸ªåŠå…¬å®¤ä¹‹é—´æ¬è¿åŠå…¬æ¡Œã€‚ç”±äºèµ°å»Šç‹­çª„ï¼ŒåŠå…¬æ¡Œéƒ½å¾ˆå¤§ï¼Œèµ°å»Šé‡Œä¸€æ¬¡åªèƒ½é€šè¿‡ä¸€å¼ åŠå…¬æ¡Œã€‚å¿…é¡»åˆ¶å®šè®¡åˆ’æé«˜æ¬è¿æ•ˆç‡ã€‚ç»ç†åˆ¶å®šå¦‚ä¸‹è®¡åˆ’ï¼šä¸€å¼ åŠå…¬æ¡Œä»ä¸€ä¸ªæˆ¿é—´ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæˆ¿é—´æœ€å¤šç”¨ååˆ†é’Ÿã€‚å½“ä»æˆ¿é—´iç§»åŠ¨ä¸€å¼ åŠå…¬æ¡Œåˆ°æˆ¿é—´jï¼Œä¸¤ä¸ªåŠå…¬å®¤ä¹‹é—´çš„èµ°å»Šéƒ½ä¼šè¢«å ç”¨ã€‚æ‰€ä»¥ï¼Œæ¯10åˆ†é’Ÿå†…ï¼Œåªè¦ä¸æ˜¯åŒä¸€æ®µèµ°å»Šï¼Œéƒ½å¯ä»¥åœ¨æˆ¿é—´ä¹‹é—´ç§»åŠ¨åŠå…¬æ¡Œã€‚ä¸ºäº†è¯´å¾—æ›´æ¸…æ¥šä¸€äº›ï¼Œç»ç†ä¸¾ä¾‹è¯´æ˜å“ªäº›æƒ…å†µå¯ä»¥åŒæ—¶ç§»åŠ¨ï¼Œå“ªäº›æƒ…å†µä¸èƒ½åŒæ—¶ç§»åŠ¨ã€‚\n\næ¯ä¸ªæˆ¿é—´ï¼Œåªæœ‰ä¸€å¼ åŠå…¬æ¡Œè¿›å‡ºã€‚ç°åœ¨ï¼Œç»ç†æƒ³æ‰¾åˆ°ä¸€ç§æ–¹æ¡ˆï¼Œä½¿ç§»åŠ¨æ¡Œå­çš„äº‹æƒ…å°½å¿«å®Œæˆã€‚è¯·ç¼–å†™ç¨‹åºè§£å†³ç»ç†çš„éš¾é¢˜ã€‚\nè¾“å…¥\nè¾“å…¥æ•°æ®æœ‰Tç»„æµ‹è¯•ä¾‹ï¼Œåœ¨ç¬¬ä¸€è¡Œç»™å‡ºæµ‹è¯•ä¾‹ä¸ªæ•°ï¼ˆTï¼‰ã€‚æ¯ä¸ªæµ‹è¯•ä¾‹çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Nï¼ˆ1â‰¤Nâ‰¤200ï¼‰ï¼Œè¡¨ç¤ºè¦æ¬è¿åŠå…¬æ¡Œçš„æ¬¡æ•°ã€‚æ¥ä¸‹æ¥Nè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•°så’Œtï¼Œè¡¨ç¤ºä¸€å¼ æ¡Œå­ï¼Œæ˜¯ä»æˆ¿é—´å·ç sç§»åˆ°æˆ¿é—´å·ç tã€‚æœ‰å¤šç»„è¾“å…¥æ•°æ®ï¼Œè¾“å…¥ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªè¡¨ç¤ºè¾“å…¥æ•°æ®æ€»æ•°çš„æ•´æ•°Nï¼Œç„¶åæ˜¯Nç»„è¾“å…¥æ•°æ®ã€‚\nè¾“å‡º\næ¯ç»„è¾“å…¥éƒ½æœ‰ä¸€è¡Œçš„è¾“å‡ºæ•°æ®ï¼Œä¸ºä¸€æ•´æ•°Tï¼Œè¡¨ç¤ºå®Œæˆä»»åŠ¡æ‰€èŠ±è´¹çš„æœ€å°‘æ—¶é—´ã€‚\næ ·ä¾‹è¾“å…¥\n2 \n4 \n10 20 \n30 40 \n50 60 \n70 80 \n2 \n1 3 \n2 200\næ ·ä¾‹è¾“å‡º\n10\n20\nå‚è€ƒä»£ç \n// #include&lt;bits/stdc++.h&gt;\n#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#include&lt;vector&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e5 + 50;\n \nint n;\nvoid solve() {\n    cin &gt;&gt; n;\n    int pass[220] = {};\n    for (int i = 1;i &lt;= n;i++) {\n        int x, y;cin &gt;&gt; x &gt;&gt; y;\n        x = (x + 1) / 2;\n        y = (y + 1) / 2;\n        if (x &gt; y) {\n            x = x ^ y;y = x ^ y;x = x ^ y;\n        }\n        for (int j = x;j &lt;= y;j++) {\n            pass[j]++;\n        }\n    }\n    int ans = *max_element(pass + 1, pass + 201);\n    cout &lt;&lt; 10 * ans &lt;&lt; endl;\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--)\n        solve();\n}\n1293: F004 åŸºå› é›†åˆ\né¢˜ç›®æè¿°\néšç€å¤§é‡çš„åŸºå› ç»„DNAåºåˆ—æ•°æ®è¢«è·å¾—ï¼Œå®ƒå¯¹äºäº†è§£åŸºå› è¶Šæ¥è¶Šé‡è¦ï¼ˆåŸºå› ç»„DNAçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯è´Ÿè´£è›‹ç™½è´¨åˆæˆçš„ï¼‰ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨åŸºå› ç»„åºåˆ—ä¸­ï¼Œç”±äºå­˜åœ¨åƒåœ¾çš„DNAä¸­æ–­åŸºå› çš„ç¼–ç åŒºï¼ŒçœŸæ ¸ç”Ÿç‰©ï¼ˆç›¸å¯¹äºåŸæ ¸ç”Ÿç‰©ï¼‰çš„åŸºå› é“¾æ›´åŠ å¤æ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªåŸºå› è¢«åˆ†æˆå‡ ä¸ªç¼–ç ç‰‡æ®µï¼ˆç§°ä¸ºå¤–æ˜¾å­ï¼‰ã€‚è™½ç„¶åœ¨è›‹ç™½è´¨çš„åˆæˆè¿‡ç¨‹ä¸­ï¼Œå¤–æ˜¾å­çš„é¡ºåºæ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å¤–æ˜¾å­çš„æ•°é‡å’Œé•¿åº¦å¯ä»¥æ˜¯ä»»æ„çš„ã€‚\nå¤§å¤šæ•°åŸºå› è¯†åˆ«ç®—æ³•åˆ†ä¸ºä¸¤æ­¥ï¼šç¬¬ä¸€æ­¥ï¼Œå¯»æ‰¾å¯èƒ½çš„å¤–æ˜¾å­ï¼›ç¬¬äºŒæ­¥ï¼Œé€šè¿‡å¯»æ‰¾ä¸€æ¡æ‹¥æœ‰å°½å¯èƒ½å¤šçš„å¤–æ˜¾å­çš„åŸºå› é“¾ï¼Œå°½å¯èƒ½å¤§åœ°æ‹¼æ¥ä¸€ä¸ªåŸºå› ã€‚è¿™æ¡é“¾å¿…é¡»éµå¾ªå¤–æ˜¾å­å‡ºç°åœ¨åŸºå› ç»„åºåˆ—ä¸­çš„é¡ºåºã€‚å¤–æ˜¾å­iåœ¨å¤–æ˜¾å­jçš„å‰é¢çš„æ¡ä»¶æ˜¯içš„æœ«å°¾å¿…é¡»åœ¨jå¼€å¤´çš„å‰é¢ã€‚\næœ¬é¢˜çš„ç›®æ ‡æ˜¯ï¼Œç»™å®šä¸€ç»„å¯èƒ½çš„å¤–æ˜¾å­ï¼Œæ‰¾å‡ºä¸€æ¡æ‹¥æœ‰å°½å¯èƒ½å¤šçš„å¤–æ˜¾å­é“¾ï¼Œæ‹¼æ¥æˆä¸€ä¸ªåŸºå› ã€‚\nè¾“å…¥\nç»™å‡ºå‡ ç»„è¾“å…¥å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹çš„å¼€å¤´æ˜¯åŸºå› ç»„åºåˆ—ä¸­å¯èƒ½çš„å¤–æ˜¾å­æ•°n(0 &lt; n &lt; 1000)ã€‚æ¥ç€çš„nè¡Œï¼Œæ¯è¡Œæ˜¯ä¸€å¯¹æ•´æ•°ï¼Œè¡¨ç¤ºå¤–æ˜¾å­åœ¨åŸºå› ç»„åºåˆ—ä¸­çš„èµ·å§‹å’Œç»“æŸä½ç½®ã€‚å‡è®¾åŸºå› ç»„åºåˆ—æœ€é•¿ä¸º50000ã€‚å½“ä¸€è¡Œæ˜¯0æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚\nè¾“å‡º\nå¯¹äºæ¯ä¸ªå®ä¾‹ï¼Œæ‰¾å‡ºæœ€å¯èƒ½å¤šçš„å¤–æ˜¾å­é“¾ï¼Œè¾“å‡ºé“¾ä¸­çš„å¤–æ˜¾å­ï¼Œå¹¶å ä¸€è¡Œã€‚å‡å¦‚æœ‰å¤šæ¡é“¾ï¼Œä½†å¤–æ˜¾å­æ•°ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥è¾“å‡ºå…¶ä¸­ä»»æ„ä¸€æ¡ã€‚\næ ·ä¾‹è¾“å…¥\n6\n340 500\n220 470\n100 300\n880 943\n525 556\n612 776\n0\næ ·ä¾‹è¾“å‡º\n3 1 5 6 4\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e5 + 50;\n \nstruct node {\n    int x;int y;\n    int i;\n    bool operator&lt;(const node&amp; p)const {\n        return x &lt; p.x;\n    }\n}wxz[maxn];\n \nint n;\nvoid solve() {\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; wxz[i].x &gt;&gt; wxz[i].y;\n        wxz[i].i = i;\n    }\n    sort(wxz + 1, wxz + 1 + n);\n    vector&lt;node&gt;ans;\n    ans.push_back(wxz[1]);\n    for (int i = 2;i &lt;= n;i++) {\n        struct node ni = ans.back();\n        if (ni.y &gt; wxz[i].y) {\n            ans.pop_back();ans.push_back(wxz[i]);\n        }\n        else if (ni.y &lt; wxz[i].x) {\n            ans.push_back(wxz[i]);\n        }\n    }\n    for (int i = 0;i &lt; ans.size();i++) {\n        cout &lt;&lt; ans[i].i &lt;&lt; &quot; &quot;;\n    }\n    cout &lt;&lt; &#039;\\n&#039;;\n}\n \nint main() {\n    while (cin &gt;&gt; n &amp;&amp; n)\n        solve();\n}\n1294: F005 ä¸»æ¡†æ¶\né¢˜ç›®æè¿°\nå¤šçº³å…ˆç”Ÿæ˜¯ACMï¼ˆAgent on Computing of Mathematicsï¼Œè®¡ç®—æ•°å­¦ä»£ç†å•†ï¼‰å¤§å‹è®¡ç®—æœºçš„ç®¡ç†å‘˜ã€‚è¯¥ä»£ç†å•†ä¸ºä¸€äº›å…¬å¸æ‰¿æ‹…åœ¨å¤§å‹è®¡ç®—æœºä¸Šçš„è®¡ç®—å·¥ä½œï¼Œå®Œæˆå·¥ä½œåè·å¾—æŠ¥é…¬ï¼Œå› æ­¤å¤§å‹è®¡ç®—æœºå¯¹è¿™ä¸ªä»£ç†å•†æ¥è¯´å¤ªé‡è¦äº†ã€‚å¤šçº³å…ˆç”Ÿéœ€è¦ä¸ºè¿™äº›åœ¨å¤§å‹è®¡ç®—æœºä¸Šè¿è¡Œçš„ä½œä¸šå®‰æ’é¡ºåºã€‚ä¸€æ—¦è¦è¿è¡ŒæŸä¸ªä½œä¸šï¼Œä»–å°±è¦æ£€æŸ¥è¿è¡Œè¯¥ä½œä¸šæ‰€éœ€è¦çš„ç©ºé—²èµ„æºã€‚å¦‚æœç©ºé—²èµ„æºè¶³å¤Ÿçš„è¯ï¼Œä»–å°±ä¸ºè¯¥ä½œä¸šåˆ†é…è¿™äº›èµ„æºï¼›å¦åˆ™å°±å°†è¯¥ä½œä¸šæŒ‚èµ·ï¼Œç›´è‡³æœ‰è¶³å¤Ÿçš„èµ„æºæŠ•å…¥è¿è¡Œã€‚\nåˆšå¼€å§‹ä»–å¹¶ä¸ç†Ÿæ‚‰è¿™é¡¹å·¥ä½œï¼ŒæŠŠäº‹æƒ…æå¾—å¾ˆä¹±ã€‚æ—¥ç§¯æœˆç´¯ï¼Œä»–å°±èƒœä»»è¿™é¡¹å·¥ä½œäº†ã€‚è€Œä¸”ä»–è¿˜æ€»ç»“äº†ä¸€å¥—è§„åˆ™ï¼š\nï¼ˆ1ï¼‰å¤§å‹è®¡ç®—æœºæœ‰Mä¸ªCPUå’ŒNå¤§å°çš„å†…å­˜ç©ºé—´å¯ä¾›åˆ†é…ã€‚\nï¼ˆ2ï¼‰å¯¹ç­‰å¾…è¿è¡Œçš„ä½œä¸šæœ‰ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ã€‚å¯ä»¥å‡å®šè¿™ä¸ªé˜Ÿåˆ—è¶³å¤Ÿé•¿ï¼Œèƒ½å¤Ÿå­˜æ”¾æ‰€æœ‰ç­‰å¾…è¿è¡Œçš„ä½œä¸šã€‚\nï¼ˆ3ï¼‰å‡å®šä½œä¸šJiéœ€è¦Aiä¸ªCPUå’ŒBiçš„å†…å­˜ç©ºé—´ï¼Œåœ¨æ—¶é—´Tiåˆ°è¾¾ç­‰å¾…é˜Ÿåˆ—ï¼Œéœ€è¦åœ¨æ—¶é—´Uiä¹‹å‰å®Œæˆã€‚æˆåŠŸè¿è¡Œåï¼Œä»£ç†å•†å¯ä»¥è·å¾—Vi()çš„æŠ¥é…¬ï¼›å¦‚æœèƒ½åœ¨è§„å®šçš„æ—¶é—´ä¹‹å‰å®Œæˆï¼Œåˆ™æ¯å°æ—¶è¿˜å¯ä»¥é¢å¤–è·å¾—Wi()çš„å¥–é‡‘ï¼›å¦‚æœå·¥æœŸæ‹–å»¶ï¼Œåˆ™æ¯å°æ—¶èµ”å¿Xi()ã€‚ä¾‹å¦‚ï¼Œå‡å®šä¸€ä¸ªä½œä¸šçš„æŠ¥é…¬æ˜¯10ï¼Œæ—¶é™8å°æ—¶ï¼Œæ¯æ‹–æ¬ ä¸€å°æ—¶ç½š2ã€‚å¦‚æœè¯¥ä½œä¸šåœ¨10å°æ—¶å®Œæˆï¼Œåˆ™ä»£ç†å•†å¯ä»¥è·å¾—10-(10-8)*2=6ã€‚\nï¼ˆ4ï¼‰å½“ä¸€ä¸ªä½œä¸šå¼€å§‹åï¼Œå°±ç‹¬å äº†åˆ†é…ç»™å®ƒçš„CPUå’Œå†…å­˜ç©ºé—´ï¼Œä¸èƒ½åŒæ—¶å†åˆ†é…ç»™å…¶ä»–ä½œä¸šã€‚å½“è¯¥ä½œä¸šè¿è¡Œç»“æŸåï¼Œè¿™äº›èµ„æºè¢«é‡Šæ”¾ã€‚å¦‚æœèµ„æºè¶³å¤Ÿå¤šï¼ŒåŒæ—¶å¯ä»¥è¿è¡Œå¤šä¸ªä½œä¸šã€‚\nï¼ˆ5ï¼‰ä¸ºäº†æœ€å¤§é™åº¦åœ°å‘æŒ¥å¤§å‹è®¡ç®—æœºçš„è®¡ç®—èƒ½åŠ›ï¼Œæ¯ä¸ªä½œä¸šåœ¨å¼€å§‹è¿è¡Œååˆšå¥½ä¸€å°æ—¶å°±å®Œæˆã€‚ä½ å¯ä»¥å‡å®šæ¯ä¸ªä½œä¸šçš„è¿è¡Œæ—¶é—´å°±æ˜¯ä¸€å°æ—¶ã€‚\nï¼ˆ6ï¼‰æ²¡æœ‰ä½œä¸šè¿è¡Œæ—¶ï¼Œæœºå™¨ç©ºé—²ï¼Œä¸€ç›´åˆ°ä¸€ä¸ªä½œä¸šè¿›å…¥ä½œä¸šç­‰å¾…é˜Ÿåˆ—ã€‚\nï¼ˆ7ï¼‰å¦‚æœæœ‰å¤šä¸ªä½œä¸šè¿›å…¥ä½œä¸šç­‰å¾…é˜Ÿåˆ—ï¼Œåˆ™æŠ¥é…¬é«˜çš„ä½œä¸šä¼˜å…ˆã€‚å¯ä»¥å‡å®šè¿™äº›ä½œä¸šçš„æŠ¥é…¬éƒ½ä¸ç›¸ç­‰ã€‚\nï¼ˆ8ï¼‰å¦‚æœæŸä¸ªä½œä¸šçš„ç©ºé—²CPUæˆ–å†…å­˜ç©ºé—´ä¸èƒ½æ»¡è¶³ï¼Œå®ƒå°±æ˜¯è¢«æŒ‚èµ·ä¸€å°æ—¶ï¼Œä¹Ÿä¸å ç”¨ä»»ä½•èµ„æºã€‚ä¸€å°æ—¶åï¼Œå†æ¬¡ä¸ºè¯¥ä½œä¸šæ£€æŸ¥èµ„æºï¼Œè€Œä¸éœ€è¦è€ƒè™‘ç­‰å¾…é˜Ÿåˆ—é‡Œçš„å…¶ä»–ä½œä¸šã€‚å¦‚æœèµ„æºä»ä¸æ»¡è¶³è¦æ±‚ï¼Œé‚£å°±ç»§ç»­æŒ‚èµ·ä¸€å°æ—¶ï¼ŒæŠŠèµ„æºåˆ†é…ç»™å…¶ä»–åœ¨ç­‰å¾…é˜Ÿåˆ—é‡Œçš„ä½œä¸šã€‚å¦åˆ™ï¼Œè¯¥ä½œä¸šå°†ç‹¬å CPUå’Œå­˜å‚¨ç©ºé—´å¹¶æŠ•å…¥è¿è¡Œã€‚\nï¼ˆ9ï¼‰å½“å¤šä¸ªä½œä¸šæŒ‚èµ·æ—¶ï¼Œé‡‡å–å…ˆæ¥å…ˆæœåŠ¡çš„åŸåˆ™ã€‚\nä½¿ç”¨è¿™äº›è§„åˆ™ï¼Œå¤šçº³å…ˆç”ŸæŠŠäº‹æƒ…å®‰æ’å¾—äº•äº•æœ‰æ¡ã€‚ç°åœ¨é™¤äº†æ—¥å¸¸å…¬åŠ¡å¤–ï¼Œä»£ç†å•†è¦æ±‚ä»–æ ¹æ®ä½œä¸šåˆ—è¡¨è®¡ç®—æ”¶å…¥ã€‚ç»™å®šæŸä¸ªæ—¶é—´Fï¼Œè®¡ç®—å‡ºå·²ç»å®Œæˆçš„ä½œä¸šå’Œåº”è¯¥è¢«å®Œæˆçš„ä½œä¸šã€‚å¯¹ä½œä¸šJiï¼Œå¦‚æœå®ƒçš„æ—¶é™Ui&gt;Få¹¶ä¸”ä»æœªå®Œæˆï¼Œå°±ä¸éœ€è¦ç»Ÿè®¡æ”¶å…¥ã€‚å¯¹å·²ç»å®Œæˆçš„ä½œä¸šæˆ–Uiâ‰¤Fçš„ä½œä¸šéƒ½è¦ç»Ÿè®¡ã€‚å¦‚æœå·¥ä½œæ²¡æœ‰å®Œæˆï¼Œå®ƒä¸ä¼šç»™ä»£ç†å•†å¸¦æ¥æŠ¥é…¬ï¼Œä½†åˆ°è¿™ä¸ªæ—¶é—´Fä¸ºæ­¢çš„ç½šæ¬¾ä»è¦è®¡ç®—ã€‚\nä»–ä¸ä¼šç¨‹åºè®¾è®¡ï¼Œåˆä¸æƒ³æ‰‹å·¥åšï¼Œç°åœ¨ä½ å¸®åŠ©ä»–è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nè¾“å…¥\næœ‰å¤šç»„æµ‹è¯•ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ä¾‹æè¿°å¤§å‹è®¡ç®—æœºçš„èµ„æºå’Œä½œä¸šåˆ—è¡¨ï¼Œç¬¬ä¸€è¡Œæ˜¯æ•´æ•°Fï¼ˆ0â‰¤Fâ‰¤10000ï¼‰ï¼Œè¡¨ç¤ºæ—¶é™ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡Œæ˜¯ä¸‰ä¸ªæ•´æ•°Mï¼ŒNå’ŒLï¼ˆMï¼ŒNï¼ŒLâ‰¥0ï¼‰ï¼ŒMæ˜¯æœºå™¨CPUçš„æ•°é‡ï¼ŒNæ˜¯å­˜å‚¨ç©ºé—´çš„å¤§å°ï¼ŒLæ˜¯ä½œä¸šç­‰å¾…é˜Ÿåˆ—ä¸­ä½œä¸šçš„æ•°é‡ã€‚æœ€å¤šæœ‰10000ä¸ªä½œä¸šã€‚\nåé¢çš„Lè¡Œæ˜¯ä½œä¸šçš„ä¿¡æ¯ã€‚æè¿°ä½œä¸šJiçš„æ•°æ®æ˜¯7ä¸ªæ•´æ•°ï¼šAiï¼ŒBiï¼ŒTiï¼ŒUiï¼ŒViï¼ŒWiï¼ŒXiã€‚Aiå’ŒBiï¼ˆAiï¼ŒBiâ‰¥0ï¼‰æŒ‡å‡ºäº†è¯¥ä½œä¸šå¯¹CPUå’Œå†…å­˜çš„éœ€æ±‚ã€‚Tiå’ŒUiè¡¨ç¤ºä½œä¸šçš„åˆ°è¾¾æ—¶é—´å’Œæ—¶é™ï¼ˆ0â‰¤Tiâ‰¤Uiï¼‰ã€‚Viï¼ŒWiï¼ŒXiåˆ†åˆ«æ˜¯å·¥ä½œçš„æŠ¥é…¬ã€å¥–åŠ±å’Œç½šæ¬¾ã€‚\nä¸€ä¸ªç©ºçš„æµ‹è¯•ä¾‹ï¼ˆF=0ï¼‰è¡¨ç¤ºè¾“å…¥ç»“æŸï¼Œè¯¥æµ‹è¯•ç‚¹æ— éœ€å¤„ç†ã€‚\nè¾“å‡º\næ ¹æ®ä½œä¸šåˆ—è¡¨è®¡ç®—æ€»æ”¶å…¥ã€‚å¯¹æ¯ä¸ªæµ‹è¯•ä¾‹ï¼Œè¾“å‡ºæµ‹è¯•ä¾‹ç¼–å·ï¼Œä¸€ä¸ªå†’å·ï¼Œä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæ˜¯æ”¶å…¥ã€‚\næµ‹è¯•ä¾‹ä¹‹é—´æœ‰ä¸€ä¸ªç©ºè¡Œã€‚\næ³¨æ„ï¼šå¯¹å°šæœªæŠ•å…¥è¿è¡Œçš„ã€ä¸”æ—¶é™è¶…è¿‡Fçš„ä½œä¸šï¼Œä¸å¿…ç»Ÿè®¡ã€‚\næ ·ä¾‹è¾“å…¥\n10\n4 256 3\n1 16 2 3 10 5 6\n2 128 2 4 30 10 5\n2 128 2 4 20 10 5\n0\næ ·ä¾‹è¾“å‡º\nCase 1: 74\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 20;\n \nstruct JOB {\n    int a, b, t, u, v, w, x;\n    bool ok;\n    JOB(int a, int b, int t, int u, int v, int w, int x) :a(a), b(b), t(t), u(u), v(v), w(w), x(x), ok(false) {}\n    bool operator&lt;(const JOB&amp; N)const {\n        if (N.t == t)\n            return v &gt; N.v;\n        return t &lt; N.t;\n    }\n};\nint ind = 1;\nint f;\nint m, n, l;\nint mi, ni;\nvoid solve() {\n    cin &gt;&gt; m &gt;&gt; n &gt;&gt; l;\n    vector&lt;JOB&gt;tot;\n    for (int i = 0;i &lt; l;i++) {\n        int a, b, t, u, v, w, x;\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt; t &gt;&gt; u &gt;&gt; v &gt;&gt; w &gt;&gt; x;\n        tot.push_back(JOB(a, b, t, u, v, w, x));\n    }\n    sort(tot.begin(), tot.end());\n    int ans = 0;\n    for (int i = 1;i &lt;= f;i++) {\n        mi = m;ni = n;\n        for (int j = 0;j &lt; l;j++) {\n            if (tot[j].t &gt;= i)\n                break;\n            if (tot[j].ok || mi &lt; tot[j].a || ni &lt; tot[j].b)\n                continue;\n            tot[j].ok = true;\n            mi -= tot[j].a;\n            ni -= tot[j].b;\n            ans += tot[j].v;\n            if (i &gt; tot[j].u)\n                ans -= (i - tot[j].u) * tot[j].x;\n            else if (i &lt; tot[j].u)\n                ans += (tot[j].u - i) * tot[j].w;\n        }\n    }\n    for (int i = 0;i &lt; l;i++) {\n        if (!tot[i].ok &amp;&amp; tot[i].u &lt;= f)\n            ans -= (f - tot[i].u) * tot[i].x;\n    }\n    printf(&quot;Case %d: %d\\n\\n&quot;, ind, ans);\n    ind++;\n}\n \nint main() {\n    while (cin &gt;&gt; f &amp;&amp; f)\n        solve();\n \n    return 0;\n}\n1295: F006 æ•´æ•°åŒºé—´\né¢˜ç›®æè¿°\nä¸€ä¸ªæ•´æ•°åŒºé—´[a,b] (a &lt; b)ï¼Œæ˜¯ä¸€ä¸ªä»aåˆ°bè¿ç»­æ•´æ•°çš„é›†åˆã€‚\nç°åœ¨ç»™ä½ nä¸ªæ•´æ•°åŒºé—´ï¼Œç¼–ç¨‹æ‰¾å‡ºä¸€ä¸ªé›†åˆRï¼Œä½¿å¾—nä¸ªé›†åˆä¸­çš„æ¯ä¸ªé›†åˆéƒ½æœ‰2ä¸ªæ•´æ•°å‡ºç°åœ¨Rä¸­ï¼Œå¹¶ä¸”è¿™ä¸ªé›†åˆRåŒ…å«çš„æ•´æ•°ä¸ªæ•°æœ€å°‘ã€‚\nè¾“å…¥\nè¾“å…¥æœ‰å¤šç»„æ•°æ®ï¼Œæ¯ç»„ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°n(1 â‡ n â‡ 10000)ï¼Œè¡¨ç¤ºæ•´æ•°åŒºé—´çš„ä¸ªæ•°ã€‚æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°aå’Œb(0 â‡ a &lt; b â‡ 10000, a &lt; b)ã€‚\nè¾“å‡º\nè¾“å‡ºç¬¦åˆæ¡ä»¶çš„é›†åˆRä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚\næ ·ä¾‹è¾“å…¥\n4\n3 6\n2 4\n0 2\n4 7\næ ·ä¾‹è¾“å‡º\n4\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50;\n \nint cnt[maxn];\nint n;\nint ck[maxn];\nbool hasi[maxn];\nvoid solve() {\n    while (cin &gt;&gt; n) {\n        fill(hasi, hasi + 10005, false);\n        fill(ck, ck + n + 5, 0);\n        fill(cnt, cnt + 10005, 0);\n        if (!n)return;\n        vector&lt;pair&lt;int, int&gt;&gt; v;\n        for (int i = 0;i &lt; n;i++) {\n            int a, b;\n            cin &gt;&gt; a &gt;&gt; b;\n            v.push_back(make_pair(a, b));\n            for (int j = a;j &lt;= b;j++) {\n                cnt[j]++;\n            }\n        }\n        int ans = 0;\n        while (true) {\n            int mx = max_element(cnt, cnt + 10005) - cnt;\n            // cout &lt;&lt; mx &lt;&lt; endl;\n            if (cnt[mx] == 0)break;\n            hasi[mx] = true;\n            ans++;\n            fill(cnt, cnt + 10005, 0);\n            for (int i = 0;i &lt; n;i++) {\n                if (ck[i] == 2)continue;\n                if (v[i].first &lt;= mx &amp;&amp; v[i].second &gt;= mx) {\n                    ck[i]++;\n                }\n                if (ck[i] == 2)continue;\n \n                for (int j = v[i].first;j &lt;= v[i].second;j++) {\n                    if (hasi[j])\n                        continue;\n                    cnt[j]++;\n                }\n            }\n        }\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n}\n \nint main() {\n    // int t;cin &gt;&gt; t;\n    // while (t--)\n    solve();\n \n    return 0;\n}\n1296: F007 å®‰è£…é›·è¾¾\né¢˜ç›®æè¿°\næˆ‘ä»¬å‡è®¾æµ·å²¸çº¿æ˜¯ä¸€æ¡æ— é™ç›´çº¿ï¼šä»¥æµ·å²¸çº¿ä¸ºç•Œï¼Œé™†åœ°å’Œæµ·æ´‹è¢«åˆ†å¼€ï¼Œåœ¨æµ·è¾¹åˆ†å¸ƒç€å¾ˆå¤šå°å²›ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨æµ·å²¸çº¿ä¸Šå®‰è£…é›·è¾¾ï¼Œæ¯ä¸ªé›·è¾¾æœ‰å›ºå®šçš„é€šè®¯èŒƒå›´ï¼ˆä»¥dä¸ºåŠå¾„çš„åœ†å½¢åŒºåŸŸï¼‰ï¼Œè¿™æ ·ï¼Œæµ·è¾¹çš„å°å²›å°±å¯ä»¥è¢«æŸä¸ªé›·è¾¾ä¿¡å·è¦†ç›–ã€‚\nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç¬›å¡å°”åæ ‡ç³»ï¼Œå®šä¹‰æµ·å²¸çº¿ä¸ºxè½´ï¼Œxè½´ä¸Šæ–¹æ˜¯æµ·æ´‹ï¼Œä¸‹æ–¹æ˜¯é™†åœ°ã€‚ç»™å‡ºåˆ†å¸ƒåœ¨æµ·è¾¹æ¯ä¸ªå°å²›çš„åæ ‡ä½ç½®å’Œé›·è¾¾ä¿¡å·èƒ½è¦†ç›–çš„èŒƒå›´dï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—å‡ºæœ€å°éœ€è¦å®‰è£…çš„é›·è¾¾æ•°ç›®ï¼Œä½¿å¾—è¿™äº›é›·è¾¾ä¿¡å·èƒ½è¦†ç›–åˆ°æ‰€æœ‰æµ·è¾¹çš„å°å²›ã€‚æ¯ä¸ªå°å²›çš„åæ ‡æ ¼å¼ä¸º(x,y)ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»™å‡ºç¬¬ä¸€ä¸ªè¾“å…¥æ ·ä¾‹çš„åæ ‡è¡¨ç¤ºï¼Œè¿™æ ·åœ¨(-2,0),(1,0)ä¸Šåˆ†åˆ«å®‰è£…é›·è¾¾å°±å¯ä»¥è¦†ç›–æ‰€æœ‰çš„å°å²›ï¼ˆpç‚¹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å®‰è£…2ä¸ªé›·è¾¾ã€‚\n\nè¾“å…¥\nè¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ ·ä¾‹ã€‚æ¯ç»„æµ‹è¯•ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°n(1â‡nâ‡1000)å’Œdï¼Œnè¡¨ç¤ºå°å²›çš„æ•°ç›®ï¼Œdè¡¨ç¤ºé›·è¾¾èƒ½è¦†ç›–çš„èŒƒå›´çš„åŠå¾„ã€‚æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œç”±æ•´æ•°xå’Œyç»„æˆï¼Œè¡¨ç¤ºnä¸ªå°å²›çš„åæ ‡ä½ç½®ã€‚æ¯ä¸¤ç»„æ•°æ®ä¹‹é—´æœ‰ä¸€ä¸ªç©ºè¡Œã€‚\nè¾“å…¥0 0è¡¨ç¤ºè¾“å…¥çš„ç»“æŸã€‚\nè¾“å‡º\nå¯¹äºæ¯ä¸€ç»„è¾“å…¥ï¼ŒæŒ‰ç…§è¾“å‡ºæ ·ä¾‹ä¸­çš„æ ¼å¼è¾“å‡ºï¼šåŒ…å«è¾“å‡ºåºå·å’Œæœ€å°‘éœ€è¦å®‰è£…é›·è¾¾çš„æ•°ç›®ã€‚å¦‚æœæ‰¾ä¸åˆ°è§£å†³æ–¹æ¡ˆï¼Œå³ä¸èƒ½æ‰¾åˆ°ä¸€ç§å®‰è£…æ–¹æ¡ˆè¦†ç›–æ‰€æœ‰çš„å°å²›ï¼Œè¾“å‡ºâ€-1â€ã€‚\næ ·ä¾‹è¾“å…¥\n3 2\n1 2\n-3 1\n2 1\n \n1 2\n0 2\n \n0 0\næ ·ä¾‹è¾“å‡º\nCase 1: 2\nCase 2: 1\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\n \nstruct node {\n    double x, y;\n    node(double x, double y) :x(x), y(y) {}\n    bool operator &lt; (const node&amp; a) const {\n        return y &lt; a.y;\n    }\n};\nint n;\nint d;\nint ind;\nvoid solve() {\n    ind = 1;\n    while (cin &gt;&gt; n &gt;&gt; d) {\n        if (n == 0 &amp;&amp; d == 0)return;\n        bool f = true;\n        vector&lt;node&gt; q;\n        for (int i = 0;i &lt; n;i++) {\n            int x, y;cin &gt;&gt; x &gt;&gt; y;\n            if (d &lt; y)\n                f = false;\n            if (!f)continue;\n            double ei = sqrt(1.0 * d * d - 1.0 * y * y);\n            q.push_back(node{ x - ei,x + ei });\n        }\n        if (!f) {\n            printf(&quot;Case %d: -1\\n&quot;, ind);\n            ind++;\n            continue;\n        }\n        sort(q.begin(), q.end());\n        int ans = 1;\n        double yi = q[0].y;\n        for (int i = 1;i &lt; q.size();i++) {\n            if (q[i].x &lt;= yi) {\n                continue;\n            }\n            else {\n                ans++;\n                yi = q[i].y;\n            }\n        }\n        printf(&quot;Case %d: %d\\n&quot;, ind, ans);\n        ind++;\n    }\n}\n \nint main() {\n    // int t;cin &gt;&gt; t;\n    // while (t--) \n    solve();\n \n \n    return 0;\n}\n1297: F008 æ’é˜Ÿä¹°é¥­\né¢˜ç›®æè¿°\nå‘¨æ™“æ™“åƒå®Œä¸­åˆé¥­ååˆè§‰å¾—æ²¡åƒé¥±ï¼Œå› æ­¤æƒ³è¦å†å»é£Ÿå ‚ä¹°ç‚¹é¥­ï¼Œå½“å¥¹èµ°è¿›é£Ÿå ‚å‘ç°å·²ç»æœ‰nä¸ªäººæ’é˜Ÿäº†ï¼Œå¥¹çŸ¥é“æ¯ä¸ªäººä¹°é¥­éœ€è¦çš„æ—¶é—´ã€‚å¥¹æƒ³å¸®åŠ©å¤§å®¶å°½å¿«çš„ä¹°åˆ°é¥­ï¼Œå³è®©nä¸ªäººçš„å¹³å‡ç­‰å¾…æ—¶é—´æœ€å°ï¼Œå‘¨æ™“æ™“å·²ç»é¥¿çš„æ— æ³•æƒ³å‡ºåŠæ³•ï¼Œåªæƒ³çŸ¥é“ä»–ä»¬æœ€å°çš„å¹³å‡ç­‰å¾…æ—¶é—´æ˜¯å¤šå°‘ï¼Œä½ èƒ½å¸®åŠ©å¥¹å—?\nè¾“å…¥\nè¾“å…¥å¯èƒ½æœ‰å¤šç»„ï¼Œæ¯ç»„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°nã€‚ ç¬¬äºŒè¡Œ n ä¸ªæ•´æ•°ï¼Œç¬¬ i ä¸ªæ•´æ•° Ti è¡¨ç¤ºç¬¬iä¸ªäººçš„ç­‰å¾…æ—¶é—´Tiã€‚\nè¾“å‡º\næ¯ç»„è¾“å‡ºå ä¸€è¡Œï¼Œä¸ºæ¯ç»„æœ€å°çš„å¹³å‡ç­‰å¾…æ—¶é—´ï¼ˆè¾“å‡ºç»“æœç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ï¼‰ã€‚\næ ·ä¾‹è¾“å…¥\n10 \n56 12 1 99 1000 234 33 55 99 812\næ ·ä¾‹è¾“å‡º\n532.00\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 20;\nint a[maxn];\n \nint n;\nvoid solve() {\n    for (int i = 0;i &lt; n;i++)cin &gt;&gt; a[i];\n    sort(a, a + n);\n    int ans = 0;\n    int tmp = 0;\n    for (int i = 0;i &lt; n;i++) {\n        tmp += a[i];\n        ans += tmp;\n    }\n    printf(&quot;%.2lf\\n&quot;, 1.0 * ans / n);\n}\n \nint main() {\n    while (cin &gt;&gt; n)\n        solve();\n \n    return 0;\n}\n1298: F009 æ”¾ä¹¦\né¢˜ç›®æè¿°\nå‘¨å°å°æœ€è¿‘æƒ³ä¸ºè‡ªå·±çš„å›¾ä¹¦å®¤æ·»ç½®ä¸€ä¸ªå·¨å‹ä¹¦æ¶ï¼Œå°½ç®¡å®ƒæ˜¯å¦‚æ­¤çš„å¤§ï¼Œä½†å®ƒè¿˜æ˜¯å‡ ä¹ç¬é—´å°±è¢«å„ç§å„æ ·çš„ä¹¦å¡æ»¡äº†ã€‚ç°åœ¨ï¼Œåªæœ‰ä¹¦æ¶çš„é¡¶ä¸Šè¿˜ç•™æœ‰ä¸€ç‚¹ç©ºé—´ã€‚\næ‰€æœ‰N(1â‡Nâ‡2000)æŠŠæ¤…å­éƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„é«˜åº¦Hiï¼ˆ1â‡Hiâ‡1000ï¼‰ã€‚ä¸ºäº†å¤Ÿåˆ°ä¹¦æ¶é¡¶ï¼Œå‘¨å°å°æƒ³åƒæ¼”æ‚æŠ€ä¸€èˆ¬ï¼Œå°†æ¤…å­ä¸€ä¸ªä¸€ä¸ªçš„å åœ¨ä¸€èµ·ï¼Œå¹¶ä¸Šå»æŠŠä¹¦æ¶çš„ç©ºé—´è¡¥ä¸Šã€‚\næ˜¾ç„¶ï¼Œæ¤…å­å çš„è¶Šå¤šï¼Œå°±è¶Šä¸ç¨³å®šï¼Œäºæ˜¯å°å°å¸Œæœ›åœ¨å¤Ÿåˆ°ä¹¦æ¶é¡¶çš„å‰æä¸‹ï¼Œè®©æ¤…å­æ•°é‡å°½é‡å°‘ï¼Œä½œä¸ºèªæ˜çš„ä½ ï¼Œä¸€å®šèƒ½å¸®åŠ©ä»–è®¡ç®—å‡ºè¿™ä¸ªæœ€å°æ•°é‡å§ã€‚\nè¾“å…¥\nç¬¬1è¡Œ: 2ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼šNå’ŒBï¼Œè¡¨ç¤ºæœ‰NæŠŠæ¤…å­å’Œä¹¦æ¶çš„é«˜åº¦ï¼›\nç¬¬2è¡Œåˆ°N+1è¡Œ: ç¬¬i+1è¡Œæ˜¯1ä¸ªæ•´æ•°ï¼šHiï¼Œè¡¨ç¤ºæ¤…å­çš„é«˜åº¦ã€‚\nå¯èƒ½å­˜åœ¨å¤šç»„è¾“å…¥æ•°æ®ã€‚\nè¾“å‡º\nè¾“å‡º1ä¸ªæ•´æ•°ï¼Œå³æœ€å°‘è¦å¤šå°‘æŠŠæ¤…å­ã€‚ï¼ˆå¦‚æœåˆ°ä¸äº†é¡¶ç«¯ï¼Œè¾“å‡º-1ï¼‰\næ ·ä¾‹è¾“å…¥\n6 40\n6\n18\n11\n13\n19\n11\næ ·ä¾‹è¾“å‡º\n3\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2010;\nint h[maxn];\n \nint n, b;\nvoid solve() {\n    for (int i = 0;i &lt; n;i++)\n        cin &gt;&gt; h[i];\n    sort(h, h + n);\n    int sum = 0, cnt = 0;\n    for (int i = n - 1;i &gt;= 0;i--) {\n        sum += h[i];\n        cnt++;\n        if (sum &gt;= b) {\n            cout &lt;&lt; cnt &lt;&lt; endl;\n            return;\n        }\n    }\n    cout &lt;&lt; -1 &lt;&lt; endl;\n}\n \nint main() {\n    while (cin &gt;&gt; n &gt;&gt; b)\n        solve();\n \n    return 0;\n}"},"03-algorithm/seg_tree":{"slug":"03-algorithm/seg_tree","filePath":"03-algorithm/seg_tree.md","title":"çº¿æ®µæ ‘æ¨¡æ¿","links":[],"tags":["ç®—æ³•","çº¿æ®µæ ‘","æ•°æ®ç»“æ„","ç®—æ³•æ¨¡æ¿"],"content":"çº¿æ®µæ ‘(segment tree)\nçº¿æ®µæ ‘ä¸»è¦ç”¨äºç»´æŠ¤åŒºé—´ä¿¡æ¯ï¼Œä¸ä¼ ç»Ÿçš„æ ‘çŠ¶æ•°ç»„ç›¸æ¯”ï¼Œå¯ä»¥å®ç°O(log n)çš„åŒºé—´ä¿®æ”¹ï¼Œè¿˜å¯ä»¥åŒæ—¶æ”¯æŒå¤šç§æ“ä½œ(åŠ ã€ä¹˜)ï¼Œæ›´å…·é€šç”¨æ€§ã€‚\nè¿˜æ˜¯ä¸€æ ·ï¼Œä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªä¾‹é¢˜ä¸­çš„æ•°æ®æ¥æ¼”ç¤ºã€‚\nã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘\né¢˜ç›®é“¾æ¥ï¼š[çº¿æ®µæ ‘ 1](#P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn))\n\né¢˜ç›®æè¿°\nå¦‚é¢˜ï¼Œå·²çŸ¥ä¸€ä¸ªæ•°åˆ—ï¼Œä½ éœ€è¦è¿›è¡Œä¸‹é¢ä¸¤ç§æ“ä½œï¼š\n\nå°†æŸåŒºé—´æ¯ä¸€ä¸ªæ•°åŠ ä¸Š kã€‚\næ±‚å‡ºæŸåŒºé—´æ¯ä¸€ä¸ªæ•°çš„å’Œã€‚\n\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n, mï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥æ•°åˆ—æ•°å­—çš„ä¸ªæ•°å’Œæ“ä½œçš„æ€»ä¸ªæ•°ã€‚\nç¬¬äºŒè¡ŒåŒ…å« n ä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•°å­—è¡¨ç¤ºæ•°åˆ—ç¬¬ i é¡¹çš„åˆå§‹å€¼ã€‚\næ¥ä¸‹æ¥ m è¡Œæ¯è¡ŒåŒ…å« 3 æˆ– 4 ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼š\n\n1 x y kï¼šå°†åŒºé—´ [x, y] å†…æ¯ä¸ªæ•°åŠ ä¸Š kã€‚\n2 x yï¼šè¾“å‡ºåŒºé—´ [x, y] å†…æ¯ä¸ªæ•°çš„å’Œã€‚\n\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºåŒ…å«è‹¥å¹²è¡Œæ•´æ•°ï¼Œå³ä¸ºæ‰€æœ‰æ“ä½œ 2 çš„ç»“æœã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n5 5\n1 5 4 2 3\n2 2 4\n1 2 3 2\n2 3 4\n1 1 5 1\n2 1 4\næ ·ä¾‹è¾“å‡º #1\n11\n8\n20\næç¤º\nå¯¹äº 30\\% çš„æ•°æ®ï¼šn \\le 8ï¼Œm \\le 10ã€‚\nå¯¹äº 70\\% çš„æ•°æ®ï¼šn \\le {10}^3ï¼Œm \\le {10}^4ã€‚\nå¯¹äº 100\\% çš„æ•°æ®ï¼š1 \\le n, m \\le {10}^5ã€‚\nä¿è¯ä»»æ„æ—¶åˆ»æ•°åˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„ç»å¯¹å€¼ä¹‹å’Œ \\le {10}^{18}ã€‚\nã€æ ·ä¾‹è§£é‡Šã€‘\n\n\nçº¿æ®µæ ‘çš„å»ºç«‹\nçº¿æ®µæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªåŒºé—´ï¼Œæœ€å°çš„åŒºé—´(æœ€åº•ä¸‹çš„å¶å­)åªåŒ…å«1ä¸ªæ•°ï¼Œä»node=1(æ ¹èŠ‚ç‚¹)å¾€ä¸‹é€æ¸äºŒåˆ†ï¼Œä¸”æ¯ä¸€å±‚çš„åŒºé—´å¹¶ä¸é‡åˆã€‚\næˆ‘ä»¬å¦‚æ­¤è®¾ç½®èŠ‚ç‚¹ï¼ˆç®€å•æ¦‚å¿µï¼‰ï¼š\næ¯ä¸ªèŠ‚ç‚¹pçš„å·¦å³å­èŠ‚ç‚¹åˆ†åˆ«æ˜¯2på’Œ2p+1ï¼Œå‡å¦‚èŠ‚ç‚¹på‚¨å­˜çš„æ˜¯[l, r]çš„å’Œï¼Œæˆ‘ä»¬å–mid=(l+r)/2 ï¼ˆä¸€èˆ¬å°±æ˜¯å‘ä¸‹å–æ•´å•¦ï¼Œæ•°ç»„ä»ç´¢å¼•0å¼€å§‹ï¼‰åˆ™å…¶å­èŠ‚ç‚¹æ°æ˜¯åˆ†åˆ«å‚¨å­˜[l, mid]å’Œ[mid+1, r]çš„å’Œï¼Œå¯ä»¥å‘ç°è¿™æ ·å¯ä»¥ä½¿å¾—åšèŠ‚ç‚¹å¯¹åº”çš„åŒºé—´é•¿åº¦æ°å¥½ä¸å³èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´é•¿åº¦ç›¸åŒæˆ–æ°å¥½å¤š1ã€‚\nè‰å±¥è™«éƒ½ä¼šçš„é€’å½’å»ºå›¾ï¼š\n// ç®€å•çš„å»ºæ ‘è¿‡ç¨‹\nvoid buildtree(ll l, ll r, ll p) {\n\tif (l == r)\n\t\t// äºŒåˆ†åˆ°ç»ˆç‚¹äº†ï¼Œç»™çº¿æ®µæ ‘çš„å¶å­èŠ‚ç‚¹èµ‹å€¼ä¸ºa[l]\n\t\ttree[p] = a[l];\n\telse {\n\t\tll mid = (l + r) / 2;\n \n\t\t// å…ˆåˆ›é€ å·¦èŠ‚ç‚¹p*2\n\t\tbuildtree(l, mid, p * 2);\n\t\t// å†åˆ›é€ å³èŠ‚ç‚¹p*2+1\n\t\tbuildtree(mid + 1, r, p * 2 + 1);\n \n\t\t// å·¦å³èŠ‚ç‚¹åˆ›é€ å®Œæ¯•ä¹‹åç»™ä»–ä»¬çš„çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ¬è½®é€’å½’ä¸­çš„pèŠ‚ç‚¹èµ‹å€¼\n\t\ttree[p] = tree[p * 2] + tree[p * 2 + 1];\n\t}\n}\nå¦‚ä½•æ›´æ–°æ•°æ®ï¼Ÿ\næœ´ç´ çš„æƒ³æ³•æˆ–è®¸æ˜¯åœ¨æ”¹å˜æ•°ç»„ä¸­çš„æŸå€¼ä¹‹åå†æ¬¡é€’å½’æ¥åŒæ­¥çº¿æ®µæ ‘ï¼Œå°±åƒå»ºæ ‘è¿‡ç¨‹ä¸€æ ·ï¼Œä½†å¯ä»¥é¢„è§çš„æ˜¯ï¼Œè¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œå› ä¸ºå½“æ•°ç»„ä¸­çš„æŸå€¼æ”¹å˜ï¼Œæˆ‘ä»¬éœ€è¦updateçš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œä¿®æ”¹ä¸€ä¸ªç‚¹ä¼šéœ€è¦è¿é”ä¿®æ”¹ä¸Šæ–¹æ‰€æœ‰åŒ…å«è¯¥ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€ç¥–èŠ‚ç‚¹â€¦etcï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥æ‡’æ ‡è®°æ³•è¿›è¡Œçº¿æ®µæ ‘çš„åŒºé—´ä¿®æ”¹ã€‚\næ‡’æ ‡è®°ï¼ˆå»¶è¿Ÿæ ‡è®°ï¼‰\nè¿™æ˜¯çº¿æ®µæ ‘çš„ç²¾é«“æ‰€åœ¨qwqï¼Œé€’å½’çš„å¤æ‚åº¦ä¸»è¦åœ¨äºä¸€å±‚å¥—ä¸€å±‚ç„¶åå†ä¸€å±‚ä¸€å±‚å‡ºæ¥ï¼Œæœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œæˆ‘ä»¬ç»™æˆ‘ä»¬è¦ä¿®æ”¹çš„åŒºé—´(å°†ä¼šå¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„èŠ‚ç‚¹)åšä¸Šæ ‡è®°ï¼Œåªéœ€è¦åœ¨å°†æ¥ç”¨åˆ°æŸä¸ªèŠ‚ç‚¹çš„æ—¶å€™å°†å˜åŒ–ä¼ é€’ä¸‹å»å°±è¡Œã€‚è¿™æ ·å°†ä¼šå¤§å¤§å‡å°‘æˆ‘ä»¬çš„æ—¶é—´ã€‚\nç›¸å½“äºå•Šï¼Œæœ¬æ¥æŸä¸ªå˜åŒ–æ˜¯å˜åŠ¨æ•´ä¸ªæ ‘æ¥æ›´æ–°çš„ï¼Œç°åœ¨æˆ‘ä»¬æ‡’ä¸€æ‡’ï¼ŒæŠŠå·¥ä½œåšåˆ°ç¡®å®šå“ªäº›åŒºé—´æ˜¯å…¨éƒ¨å˜åŒ–äº†çš„ï¼Œç»™å®ƒæ ‡è®°ä¸Šï¼ˆå¸¦ä¸Šå˜åŒ–çš„å†…å®¹ï¼‰ï¼Œåªæœ‰ç­‰åˆ°éœ€è¦æ‰¾å®ƒçš„å­åŒºé—´çš„æ—¶å€™æ‰æŠŠå˜åŒ–è½å®ä¸‹å»ã€‚\nè¿˜æ˜¯çœ‹ä»£ç æ¥ç†è§£å§ï¼š\nvoid update(ll l, ll r, ll curl, ll curr, ll addnum, ll curpos) {\n\t// ä»ç›®æ ‡çš„åŒºé—´(è¦æ›´æ–°çš„èŒƒå›´)[l, r]å¼€å§‹\n\t// å½“å‰æ“ä½œçš„åŒºé—´æ˜¯[curl, curr](å¯¹åº”curpos)\n\t// è¦åšçš„æ“ä½œæ˜¯åŠ ä¸€ä¸ªæ•°addnum(æ˜¾ç„¶åŒç†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ“ä½œ)\n\tif (curl &gt; r || curr &lt; l)\n\t\t// å½“å‰è¦æ“ä½œçš„åŒºé—´å’Œå¤§åŒºé—´æ²¡æœ‰äº¤é›†ï¼Œå‰ªæ\n\t\treturn;\n\telse if (curl &gt;= l &amp;&amp; curr &lt;= r) {\n\t\t// å½“å‰åŒºé—´å®Œå…¨åŒ…å«åœ¨å¤§åŒºé—´é‡Œ\n\t\ttree[curpos] += (curr - curl + 1) * addnum;\n\t\t\n\t\tif (curl != curr)\n\t\t\t// ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™æ ‡è®°å®ƒ\n\t\t\tmark[curpos] += addnum;\n \n\t\t// è¿™é‡Œå°±å¾ˆæ‡’æ ‡è®°äº†qwq\n\t}\n\telse {\n\t\t// æœ‰äº¤é›†ä½†ä¸åŒ…å«ï¼Œåˆ™éœ€è¦å†åˆ†å‡ºåŒ…å«çš„éƒ¨åˆ†å’Œä¸åŒ…å«çš„éƒ¨åˆ†è¿›è¡Œupdate\n \n\t\t// å› ä¸ºå½“å‰åŒºé—´ç‚¹å·²ç»ä¸èƒ½å®ç°ä»£è¡¨å®ƒä¸‹é¢çš„æ‰€æœ‰å°å¼Ÿå•¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠåŸæ¥æœ‰çš„æ ‡è®°å¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯åˆ†å¼€ï¼Œç›´åˆ°åˆ†åˆ°åŒºé—´éƒ½æ˜¯:è¦ä¹ˆéƒ½æœ‰å˜åŒ–ï¼Œè¦ä¹ˆéƒ½ä¸å˜åŒ–\n\t\t\n\t\t// å°†æ ‡è®°ç‚¹å‘ä¸‹ä¼ é€’\n\t\tmark[curpos * 2] += mark[curpos];\n\t\tmark[curpos * 2 + 1] += mark[curpos];\n \n\t\t// æ¥ä¸‹æ¥å¾€ä¸‹æ›´æ–°ä¸€å±‚\n\t\tll mid = (curl + curr) / 2;\n\t\ttree[curpos * 2] += mark[curpos] * (mid - curl + 1);\n\t\ttree[curpos * 2 + 1] += mark[curpos] * (curr - mid);\n \n\t\t// æ¸…é™¤å½“å‰çš„åŒºé—´ç‚¹çš„æ ‡è®°ï¼ˆå› ä¸ºå·²ç»ä¸‹è¾¾äº†ï¼‰\n\t\tmark[curpos] = 0;\t// è¿™é‡Œæ”¹æˆ0æ˜¯å› ä¸ºæˆ‘ä»¬å‡è®¾çš„æ“ä½œå˜åŒ–æ˜¯åŠ æ³•ï¼Œå¦‚æœæ˜¯ä¹˜æ³•å‘¢åšæ³•ç›¸ä¼¼\n \n\t\t// å°†æ‡’æ ‡è®°é€’å½’ä¸‹å»\n\t\tupdate(l, r, curl, mid, addnum, curpos * 2);\t// å·¦\n\t\tupdate(l, r, mid + 1, curr, addnum, curpos * 2 + 1);\t// å³\n \n\t\t// ä¼ é€’ç»“æŸä¹‹åæ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼(å˜åŒ–åˆ°è¿™)\n\t\ttree[curpos] = tree[curpos * 2] + tree[curpos * 2 + 1];\n\t}\n}\næ•´ä¸ªè¿‡ç¨‹çœ‹ç€è¿˜æ˜¯æœ‰é€’å½’ï¼Œä½†æ˜¯å¹¶ä¸åƒå»ºæ ‘æ—¶ä¸€æ ·é€’å½’åˆ°åº•å±‚æ‰ç»“æŸï¼Œæˆ‘ä»¬åœ¨ä¸­é—´éšæ—¶å¯ä»¥ç»“æŸï¼Œåªè¦æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥ä»£è¡¨å®ƒä¸‹é¢çš„æ‰€æœ‰å°å¼Ÿçš„å¤§å“¥ï¼Œç„¶åå‘Šè¯‰å¤§å“¥è¦è¿™æ ·â€¦é‚£æ ·â€¦ç„¶åæˆ‘ä»¬çš„ä»»åŠ¡å°±å®Œæˆäº†ï¼Œæ„æ€å·²ç»ä¼ è¾¾åˆ°äº†ã€‚\né‚£ä¹ˆå¦‚ä½•æŠŠæˆ‘ä»¬çš„æ ‡è®°ç¿»è¯‘ä¸‹å»å‘¢ï¼Œè¿™ä¸ªå°±æ›´ç®€å•äº†ï¼Œæˆ‘ä»¬ä¸Šé¢ä½¿ç”¨äº†ä¸€ä¸ªmark[]æ•°ç»„è®°å½•å˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€è¦å§marké‡Œçš„æŒ‡ä»¤ä¼ é€’åˆ°ç›®æ ‡å³å¯ã€‚\n// å°†mark[]é‡Œè¦è½å®åˆ°åº•çš„æŒ‡ä»¤è½å®ä¸‹å»\nvoid impleMarks(ll pos, ll len) {\n\t// å®ç°ç›®æ ‡ï¼šæŠŠmark[pos]é‡Œçš„æŒ‡ä»¤å‘ä¸‹ä¼ é€’ä¸€å±‚\n\t// æ–¹ä¾¿èµ·è§æˆ‘ä»¬æŠŠposå¯¹åº”çš„åŒºé—´é•¿åº¦ä¹Ÿä¼ å…¥ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ç›´æ¥å°†curr-curl+1ä¼ å…¥lenå³å¯\n\tmark[pos * 2] += mark[pos];\t// å·¦\n\tmark[pos * 2 + 1] += mark[pos];\t// å³\n\ttree[pos * 2] += mark[pos] * (len - len / 2);\n\ttree[pos * 2 + 1] += mark[pos] * (len / 2);\n\t// å³è¾¹åŒºé—´å¯èƒ½çŸ­ä¸€ç‚¹ï¼Œè¿™ä¼šå’Œæœ€åˆç”Ÿæˆçº¿æ®µæ ‘æ—¶ç»“ä½™å‡ºçš„åœ°æ–¹ä¸€è‡´ï¼Œæ‰€ä»¥å½±å“ä¸å¤§\n \n\tmark[pos] = 0;\n}\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦æ›´æ–°åˆ°æ‰€æœ‰å¶å­ç»“ç‚¹ï¼Œåªè¦è°ƒç”¨è¿™ä¸ªè½å®å‡½æ•°å°±å¥½ã€‚\næŸ¥è¯¢åŒºé—´\nä¸Šé¢æˆ‘ä»¬å·²ç»æœ‰äº†ä¿®æ”¹åŒºé—´çš„æ–¹æ³•ï¼Œå…¶å®æŸ¥è¯¢å·²ç»è®²è¿›å»äº†å§ï¼Œä¸ä¼šæŸ¥æ€ä¹ˆåšä¿®æ”¹\nç®€å•çš„å†™ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ï¼š\n// æŸ¥è¯¢åŒºé—´é‡Œçš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯æŸ¥è¯¢èŠ‚ç‚¹é‡Œçš„æ•°æ®ï¼‰\nll ask(ll l, ll r, ll pos, ll curl, ll curr) {\n\t// ç›®æ ‡åŒºé—´å’Œå·²ç»åœ¨æŸ¥çš„åŒºé—´ï¼Œä»¥åŠå¯¹åº”åœ¨çº¿æ®µæ ‘é‡Œçš„åæ ‡\n\tif (curl &gt; r || curr &lt; l)\n\t\t// ç°åœ¨åœ¨æŸ¥çš„ä¸åœ¨å¤§åŒºé—´é‡Œ\n\t\treturn 0;\n\telse if (curl &gt;= l &amp;&amp; curr &lt;= r)\n\t\t// å½“å‰æŸ¥çš„åŒºé—´å°±åœ¨å¾…æŸ¥åŒºé—´é‡Œï¼Œè¿”å›å€¼\n\t\treturn tree[pos];\n\telse {\n\t\t// è¿›è¡ŒäºŒåˆ†\n\t\tll mid = (curl + curr) / 2;\n\t\t// æŠŠå½“å‰èŠ‚ç‚¹çš„æ›´æ–°ä¿¡æ¯å¾€ä¸‹ä¼ é€’ä¸€å±‚\n\t\timpleMarks(pos, curr - curl + 1);\n\t\t// è¿”å›å·¦å³æŸ¥è¯¢ä¿¡æ¯çš„å’Œ\n\t\treturn ask(l, r, pos * 2, curl, mid) + ask(l, r, pos * 2 + 1, mid + 1, curr);\n\t}\n}\næœ€åç»™ä¸Šä¾‹é¢˜çš„å‚è€ƒä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 50, maxm = 1e5 + 50;\nll a[maxn];\n \nll tree[maxn * 4];\t// ä¸€èˆ¬çº¿æ®µæ ‘çš„å¤§å°å¼€åˆ°åŸæ•°ç»„èŒƒå›´çš„4å€åº”è¯¥å·®ä¸å¤šäº†\n \n// ç®€å•çš„å»ºæ ‘è¿‡ç¨‹\nvoid buildtree(ll l, ll r, ll p) {\n\tif (l == r)\n\t\t// äºŒåˆ†åˆ°ç»ˆç‚¹äº†ï¼Œç»™çº¿æ®µæ ‘çš„å¶å­èŠ‚ç‚¹èµ‹å€¼ä¸ºa[l]\n\t\ttree[p] = a[l];\n\telse {\n\t\tll mid = (l + r) / 2;\n \n\t\t// å…ˆåˆ›é€ å·¦èŠ‚ç‚¹p*2\n\t\tbuildtree(l, mid, p * 2);\n\t\t// å†åˆ›é€ å³èŠ‚ç‚¹p*2+1\n\t\tbuildtree(mid + 1, r, p * 2 + 1);\n \n\t\t// å·¦å³èŠ‚ç‚¹åˆ›é€ å®Œæ¯•ä¹‹åç»™ä»–ä»¬çš„çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ¬è½®é€’å½’ä¸­çš„pèŠ‚ç‚¹èµ‹å€¼\n\t\ttree[p] = tree[p * 2] + tree[p * 2 + 1];\n\t}\n}\n \nll mark[maxn * 4];\n \nvoid update(ll l, ll r, ll curl, ll curr, ll addnum, ll curpos) {\n\t// ä»ç›®æ ‡çš„åŒºé—´(è¦æ›´æ–°çš„èŒƒå›´)[l, r]å¼€å§‹\n\t// å½“å‰æ“ä½œçš„åŒºé—´æ˜¯[curl, curr](å¯¹åº”curpos)\n\t// è¦åšçš„æ“ä½œæ˜¯åŠ ä¸€ä¸ªæ•°addnum(æ˜¾ç„¶åŒç†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ“ä½œ)\n\tif (curl &gt; r || curr &lt; l)\n\t\t// å½“å‰è¦æ“ä½œçš„åŒºé—´å’Œå¤§åŒºé—´æ²¡æœ‰äº¤é›†ï¼Œå‰ªæ\n\t\treturn;\n\telse if (curl &gt;= l &amp;&amp; curr &lt;= r) {\n\t\t// å½“å‰åŒºé—´å®Œå…¨åŒ…å«åœ¨å¤§åŒºé—´é‡Œ\n\t\ttree[curpos] += (curr - curl + 1) * addnum;\n\t\t\n\t\tif (curl != curr)\n\t\t\t// ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™æ ‡è®°å®ƒ\n\t\t\tmark[curpos] += addnum;\n \n\t\t// è¿™é‡Œå°±å¾ˆæ‡’æ ‡è®°äº†qwq\n\t}\n\telse {\n\t\t// æœ‰äº¤é›†ä½†ä¸åŒ…å«ï¼Œåˆ™éœ€è¦å†åˆ†å‡ºåŒ…å«çš„éƒ¨åˆ†å’Œä¸åŒ…å«çš„éƒ¨åˆ†è¿›è¡Œupdate\n \n\t\t// å› ä¸ºå½“å‰åŒºé—´ç‚¹å·²ç»ä¸èƒ½å®ç°ä»£è¡¨å®ƒä¸‹é¢çš„æ‰€æœ‰å°å¼Ÿå•¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠåŸæ¥æœ‰çš„æ ‡è®°å¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯åˆ†å¼€ï¼Œç›´åˆ°åˆ†åˆ°åŒºé—´éƒ½æ˜¯:è¦ä¹ˆéƒ½æœ‰å˜åŒ–ï¼Œè¦ä¹ˆéƒ½ä¸å˜åŒ–\n\t\t\n\t\t// å°†æ ‡è®°ç‚¹å‘ä¸‹ä¼ é€’\n\t\tmark[curpos * 2] += mark[curpos];\n\t\tmark[curpos * 2 + 1] += mark[curpos];\n \n\t\t// æ¥ä¸‹æ¥å¾€ä¸‹æ›´æ–°ä¸€å±‚\n\t\tll mid = (curl + curr) / 2;\n\t\ttree[curpos * 2] += mark[curpos] * (mid - curl + 1);\n\t\ttree[curpos * 2 + 1] += mark[curpos] * (curr - mid);\n \n\t\t// æ¸…é™¤å½“å‰çš„åŒºé—´ç‚¹çš„æ ‡è®°ï¼ˆå› ä¸ºå·²ç»ä¸‹è¾¾äº†ï¼‰\n\t\tmark[curpos] = 0;\t// è¿™é‡Œæ”¹æˆ0æ˜¯å› ä¸ºæˆ‘ä»¬å‡è®¾çš„æ“ä½œå˜åŒ–æ˜¯åŠ æ³•ï¼Œå¦‚æœæ˜¯ä¹˜æ³•å‘¢åšæ³•ç›¸ä¼¼\n \n\t\t// å°†æ‡’æ ‡è®°é€’å½’ä¸‹å»\n\t\tupdate(l, r, curl, mid, addnum, curpos * 2);\t// å·¦\n\t\tupdate(l, r, mid + 1, curr, addnum, curpos * 2 + 1);\t// å³\n \n\t\t// ä¼ é€’ç»“æŸä¹‹åæ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼(å˜åŒ–åˆ°è¿™)\n\t\ttree[curpos] = tree[curpos * 2] + tree[curpos * 2 + 1];\n\t}\n}\n \n// å°†mark[]é‡Œè¦è½å®åˆ°åº•çš„æŒ‡ä»¤è½å®ä¸‹å»\nvoid impleMarks(ll pos, ll len) {\n\t// å®ç°ç›®æ ‡ï¼šæŠŠmark[pos]é‡Œçš„æŒ‡ä»¤å‘ä¸‹ä¼ é€’ä¸€å±‚\n\t// æ–¹ä¾¿èµ·è§æˆ‘ä»¬æŠŠposå¯¹åº”çš„åŒºé—´é•¿åº¦ä¹Ÿä¼ å…¥ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ç›´æ¥å°†curr-curl+1ä¼ å…¥lenå³å¯\n\tmark[pos * 2] += mark[pos];\t// å·¦\n\tmark[pos * 2 + 1] += mark[pos];\t// å³\n\ttree[pos * 2] += mark[pos] * (len - len / 2);\n\ttree[pos * 2 + 1] += mark[pos] * (len / 2);\n\t// å³è¾¹åŒºé—´å¯èƒ½çŸ­ä¸€ç‚¹ï¼Œè¿™ä¼šå’Œæœ€åˆç”Ÿæˆçº¿æ®µæ ‘æ—¶ç»“ä½™å‡ºçš„åœ°æ–¹ä¸€è‡´ï¼Œæ‰€ä»¥å½±å“ä¸å¤§\n \n\tmark[pos] = 0;\n}\n \n// æŸ¥è¯¢åŒºé—´é‡Œçš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯æŸ¥è¯¢èŠ‚ç‚¹é‡Œçš„æ•°æ®ï¼‰\nll ask(ll l, ll r, ll pos, ll curl, ll curr) {\n\t// ç›®æ ‡åŒºé—´å’Œå·²ç»åœ¨æŸ¥çš„åŒºé—´ï¼Œä»¥åŠå¯¹åº”åœ¨çº¿æ®µæ ‘é‡Œçš„åæ ‡\n\tif (curl &gt; r || curr &lt; l)\n\t\t// ç°åœ¨åœ¨æŸ¥çš„ä¸åœ¨å¤§åŒºé—´é‡Œ\n\t\treturn 0;\n\telse if (curl &gt;= l &amp;&amp; curr &lt;= r)\n\t\t// å½“å‰æŸ¥çš„åŒºé—´å°±åœ¨å¾…æŸ¥åŒºé—´é‡Œï¼Œè¿”å›å€¼\n\t\treturn tree[pos];\n\telse {\n\t\t// è¿›è¡ŒäºŒåˆ†\n\t\tll mid = (curl + curr) / 2;\n\t\t// æŠŠå½“å‰èŠ‚ç‚¹çš„æ›´æ–°ä¿¡æ¯å¾€ä¸‹ä¼ é€’ä¸€å±‚\n\t\timpleMarks(pos, curr - curl + 1);\n\t\t// è¿”å›å·¦å³æŸ¥è¯¢ä¿¡æ¯çš„å’Œ\n\t\treturn ask(l, r, pos * 2, curl, mid) + ask(l, r, pos * 2 + 1, mid + 1, curr);\n\t}\n}\n \nint main() {\n\t// è¯»å…¥æ•°æ®\n\tll n, m;cin &gt;&gt; n &gt;&gt; m;\n\tfor (ll i = 1;i &lt;= n;i++)cin &gt;&gt; a[i];\n\t\n\t// ç”¨æ•°æ®å»ºæ ‘ï¼Œä»èŠ‚ç‚¹1ï¼ˆä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼‰å¼€å§‹é€’å½’\n\tbuildtree(1, n, 1);\n \n\twhile (m--) {\n\t\t\n\t\tint how;cin &gt;&gt; how;\n\t\tif (how == 1) {\n\t\t\tll x, y, k;cin &gt;&gt; x &gt;&gt; y &gt;&gt; k;\n\t\t\tupdate(x, y, 1, n, k, 1);\n\t\t}\n\t\telse if (how == 2) {\n\t\t\tll x, y;cin &gt;&gt; x &gt;&gt; y;\n\t\t\tcout &lt;&lt; ask(x, y, 1, 1, n) &lt;&lt; endl;\n\t\t}\n\t}\n \n\treturn 0;\n}"},"03-algorithm/segtree_practice":{"slug":"03-algorithm/segtree_practice","filePath":"03-algorithm/segtree_practice.md","title":"çº¿æ®µæ ‘ä¸“é¢˜ç»ƒä¹ ","links":[],"tags":["ç®—æ³•","çº¿æ®µæ ‘","æ•°æ®ç»“æ„","ç®—æ³•æ¨¡æ¿"],"content":"\n\n                  \n                  åæ€ä¸­ \n                  \n                \n\n\nç—›å®šæ€ç—›ç»ƒä¹ çº¿æ®µæ ‘QAQã€‚\n\n\n\næ­¤ç¯‡åŒ…å«å°šæœªå†™å®Œçš„é¢˜ï¼Œäº‹å®ä¸Šæ˜¯ä¸€ä¸ªTODO Listã€‚\nTODO List\n\n Atlantis\n P5490 ã€æ¨¡æ¿ã€‘æ‰«æçº¿ &amp; çŸ©å½¢é¢ç§¯å¹¶ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n I Hate It\n è¦†ç›–çš„é¢ç§¯\n æ•Œå…µå¸ƒé˜µ\n P4588 TJOI2018 æ•°å­¦è®¡ç®— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n å•å³°æ•°åˆ— âœ… 2024-09-26\n æ ‘ä¸Šè¯¢é—®\n P1502 çª—å£çš„æ˜Ÿæ˜Ÿ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n P2471 SCOI2007 é™é›¨é‡ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\nAtlantis &amp; P5490 æ‰«æçº¿çŸ©å½¢é¢ç§¯å¹¶\nProblem - 1542 (hdu.edu.cn)\né¢˜æ„\nç»™å‡ºx_1,y_1,x_2,y_2ï¼Œæ ‡å¿—å¹³é¢å†…çš„çŸ©å½¢çš„å·¦ä¸Šè§’åæ ‡(x_1,y_1)å’Œå³ä¸‹è§’åæ ‡(x_2,y_2)â€‹â€‹ï¼Œæ±‚è¿™äº›çŸ©å½¢è¦†ç›–çš„æ€»é¢ç§¯ã€‚\nè¾“å‡ºæ ¼å¼å‚ç…§æ ·ä¾‹ã€‚\næ•°æ®èŒƒå›´\n\n0\\leq n\\leq 100\n0\\leq x_1\\lt x_2\\leq 10^5\n0\\leq y_1\\lt y_2\\leq 10^5\n\næ€è·¯\nè®°å½•æ¯ä¸ªçŸ©é˜µçš„ä¸Šä¸‹è¾¹ï¼Œå¹¶ç»™ä¸‹è¾¹æ²¿æ ‡è®°1ï¼Œä¸Šè¾¹æ²¿æ ‡è®°-1ï¼Œæ‰«æçº¿ä»ä¸‹å‘ä¸Šæ‰«æã€‚\nè®°å½•æ¯æ¡çº¿çš„å·¦å³ç«¯ç‚¹çš„xåæ ‡ï¼Œå»é‡åè¿›è¡Œç¦»æ•£åŒ–ï¼Œç”¨X[]æ•°ç»„è®°å½•å‡ºç°è¿‡çš„xåæ ‡ï¼Œå¹¶åšå»é‡ã€‚\nåœ¨å»é‡ä¹‹åçš„X[]æ•°ç»„ä¸Šå»ºç«‹çº¿æ®µæ ‘ï¼ˆä¸åŒ…å«æœ€å³ä¾§ç«¯ç‚¹ï¼‰ï¼Œçº¿æ®µæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è®°å½•è¯¥æ®µèŠ‚ç‚¹ä»£è¡¨çš„çº¿æ®µçš„å·¦å³ç«¯ç‚¹åœ¨X[]ä¸­çš„ä¸‹æ ‡ï¼Œä¹‹åè‹¥è¯¥çº¿æ®µè¢«è¦†ç›–ï¼Œè¯¥èŠ‚ç‚¹ä»£è¡¨çš„é•¿åº¦å°±æ˜¯X[posr+1]- X[posl]ï¼Œåˆå§‹æ—¶æ¯ä¸ªèŠ‚ç‚¹è®°å½•çš„é•¿åº¦éƒ½æ˜¯0ï¼ˆåˆå§‹æ—¶å‡æœªè¢«è¦†ç›–ï¼‰ã€‚\næ‰«æçº¿ä»ä¸‹åˆ°ä¸Šæ‰«æï¼Œæ¯æ¬¡éƒ½æ˜¯å…ˆé‡åˆ°æŸä¸ªçŸ©é˜µçš„ä¸‹è¾¹æ²¿ï¼ˆæ ‡è®°ä¸º1çš„è¾¹ï¼‰ï¼Œç„¶åå†é‡åˆ°ä¸Šè¾¹æ²¿ï¼ˆæ ‡è®°ä¸º-1çš„è¾¹ï¼‰ã€‚å¯¹äºæ¯æ¬¡åŠ è¾¹ï¼Œæ›´æ–°çº¿æ®µæ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œå½“å‰è¢«è¦†ç›–çš„é•¿åº¦\\timeså½“å‰æ‰«æçº¿ä¸ä¸‹ä¸€æ¡æ‰«æçº¿çš„é«˜åº¦å·®å³ä¸ºè¿™ä¸€éƒ¨åˆ†çš„é¢ç§¯ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 2050;\n \nstruct line {\n    int typ;\n    double s, t, y;\n    bool operator&lt;(const line&amp; l)const {\n        return y &lt; l.y; // æŒ‰ç…§æ¨ªåæ ‡å‡åºæ’åº\n    }\n}line[maxn * 2];\n \nstruct node {\n    int l, r;\n    int cnt;\n    double len;\n}tree[maxn * 4];\n \ndouble X[maxn * 2];\n \nvoid build(int p, int l, int r) {\n    tree[p] = { l,r,0,0 };\n    if (l == r)return;\n    int mid = l + (r - l) / 2;\n    build(p * 2, l, mid);\n    build(p * 2 + 1, mid + 1, r);\n}\n \nvoid pushup(int p) {\n    int l = tree[p].l, r = tree[p].r;\n    if (tree[p].cnt) { // æœ‰è¦†ç›–\n        tree[p].len = X[r + 1] - X[l];\n    }\n    else {\n        tree[p].len = tree[p * 2].len + tree[p * 2 + 1].len;\n    }\n}\n \nvoid editTree(int p, double l, double r, int c) {\n    // è¦ä¿®æ”¹çš„xåŒºé—´:[l,r]\n    int pl = tree[p].l, pr = tree[p].r; // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„å·¦å³åæ ‡\n    if (X[pl] &gt;= l &amp;&amp; X[pr + 1] &lt;= r) { // åŒ…å«\n        tree[p].cnt += c;\n        pushup(p);\n        return;\n    }\n    if (l &gt;= X[pr + 1] || r &lt;= X[pl])\n        return;\n    editTree(p * 2, l, r, c);\n    editTree(p * 2 + 1, l, r, c);\n    pushup(p);\n}\n \nint n;\nint cas;\nvoid solve() {\n    cout &lt;&lt; &quot;Test case #&quot; &lt;&lt; ++cas &lt;&lt; &quot;\\n&quot;;\n    set&lt;double&gt;Xs;\n    for (int i = 1;i &lt;= n;i++) {\n        double x1, y1, x2, y2;\n        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n        line[i] = { 1,x1,x2,y1 }; // ä¸‹è¾¹\n        line[i + n] = { -1,x1,x2,y2 }; // ä¸Šè¾¹\n        Xs.insert(x1), Xs.insert(x2); // ç¦»æ•£åŒ–\n    }\n    sort(line + 1, line + 1 + 2 * n);\n    int t = 0;\n    for (auto p : Xs) {\n        X[++t] = p;\n    }\n    build(1, 1, t - 1); // å¯¹ç¦»æ•£åŒ–çš„Xè½´å»ºæ ‘\n    double ans = 0.0;\n    for (int i = 1;i &lt; 2 * n;i++) { // æœ€åä¸€æ¡æ‰«æçº¿ä¸ç”¨è®¡å…¥ç»Ÿè®¡\n        editTree(1, line[i].s, line[i].t, line[i].typ);\n        ans += tree[1].len * (line[i + 1].y - line[i].y);\n    }\n \n    cout &lt;&lt; &quot;Total explored area: &quot; &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    // ios::sync_with_stdio(false);\n    // cin.tie(0);\n    while (cin &gt;&gt; n &amp;&amp; n)\n        solve();\n \n    return 0;\n}\nç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä¸Šä¸€é¢˜çš„ä»£ç å°±èƒ½è¿‡è¿™ä¸ªé¢˜ï¼šP5490 ã€æ¨¡æ¿ã€‘æ‰«æçº¿ &amp; çŸ©å½¢é¢ç§¯å¹¶ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 1e6 + 50;\n \nstruct line {\n    int typ;\n    ll s, t, y;\n    bool operator&lt;(const line&amp; l)const {\n        return y &lt; l.y; // æŒ‰ç…§æ¨ªåæ ‡å‡åºæ’åº\n    }\n}line[maxn * 2];\n \nstruct node {\n    int l, r;\n    int cnt;\n    ll len;\n}tree[maxn * 4];\n \nll X[maxn * 2];\n \nvoid build(int p, int l, int r) {\n    tree[p] = { l,r,0,0 };\n    if (l == r)return;\n    int mid = l + (r - l) / 2;\n    build(p * 2, l, mid);\n    build(p * 2 + 1, mid + 1, r);\n}\n \nvoid pushup(int p) {\n    int l = tree[p].l, r = tree[p].r;\n    if (tree[p].cnt) { // æœ‰è¦†ç›–\n        tree[p].len = X[r + 1] - X[l];\n    }\n    else {\n        tree[p].len = tree[p * 2].len + tree[p * 2 + 1].len;\n    }\n}\n \nvoid editTree(int p, ll l, ll r, int c) {\n    // è¦ä¿®æ”¹çš„xåŒºé—´:[l,r]\n    int pl = tree[p].l, pr = tree[p].r; // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„å·¦å³åæ ‡\n    if (X[pl] &gt;= l &amp;&amp; X[pr + 1] &lt;= r) { // åŒ…å«\n        tree[p].cnt += c;\n        pushup(p);\n        return;\n    }\n    if (l &gt;= X[pr + 1] || r &lt;= X[pl])\n        return;\n    editTree(p * 2, l, r, c);\n    editTree(p * 2 + 1, l, r, c);\n    pushup(p);\n}\n \n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    set&lt;ll&gt;Xs;\n    for (int i = 1;i &lt;= n;i++) {\n        ll x1, y1, x2, y2;\n        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n        line[i] = { 1,x1,x2,y1 }; // ä¸‹è¾¹\n        line[i + n] = { -1,x1,x2,y2 }; // ä¸Šè¾¹\n        Xs.insert(x1), Xs.insert(x2); // ç¦»æ•£åŒ–\n    }\n    sort(line + 1, line + 1 + 2 * n);\n    int t = 0;\n    for (auto p : Xs) {\n        X[++t] = p;\n    }\n    build(1, 1, t - 1); // å¯¹ç¦»æ•£åŒ–çš„Xè½´å»ºæ ‘\n    ll ans = 0ll;\n    for (int i = 1;i &lt; 2 * n;i++) { // æœ€åä¸€æ¡æ‰«æçº¿ä¸ç”¨è®¡å…¥ç»Ÿè®¡\n        editTree(1, line[i].s, line[i].t, line[i].typ);\n        ans += tree[1].len * (line[i + 1].y - line[i].y);\n    }\n \n    cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    // cin &gt;&gt; t;cin.tie(0);\n    while (t--)\n        solve();\n \n    return 0;\n}\nI Hate It\nI Hate It\né¢˜æ„\nè€å¸ˆæƒ³è¯¢é—®å­¦ç”Ÿä¸­ä»æŸæŸåˆ°æŸæŸåˆ†æ•°æœ€é«˜çš„æ˜¯å¤šå°‘ï¼Œå¹¶æ”¯æŒä¿®æ”¹å•ä¸ªå­¦ç”Ÿçš„æˆç»©ã€‚\næ•°æ®èŒƒå›´\n0\\lt n\\leq 200000\n0\\lt m\\leq 5000\næ€è·¯\nå»ºæ ‘ï¼ŒèŠ‚ç‚¹è®°å½•æœ€å¤§å€¼ï¼Œå•ç‚¹ä¿®æ”¹ã€‚æ³¨æ„å¤šç»„è¯»å…¥\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e5 + 50;\nconst int mo109 = 1000000007;\nconst int mo998 = 998244353;\n \nstruct node {\n    int mxval;\n}tree[maxn &lt;&lt; 2];\n \nint n, m;\nint a[maxn];\n \nvoid build(int l, int r, int p) {\n    if (l == r) {\n        tree[p] = { a[l] };\n        return;\n    }\n    int mid = l + (r - l) / 2;\n    build(l, mid, p * 2);\n    build(mid + 1, r, p * 2 + 1);\n    tree[p].mxval = max(tree[p * 2].mxval, tree[p * 2 + 1].mxval);\n}\n \nvoid pushdown(int p) {\n    tree[p].mxval = max(tree[p * 2].mxval, tree[p * 2 + 1].mxval);\n}\n \nvoid update(int cl, int cr, int p, int lr, int newval) {\n    if (cl == cr &amp;&amp; cl == lr) {\n        a[cl] = newval;\n        tree[p] = { newval };\n        return;\n    }\n    int mid = cl + (cr - cl) / 2;\n    if (lr &lt;= mid) {\n        update(cl, mid, p * 2, lr, newval);\n    }\n    else {\n        update(mid + 1, cr, p * 2 + 1, lr, newval);\n    }\n    pushdown(p);\n}\n \nint query(int cl, int cr, int p, int l, int r) {\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        return tree[p].mxval;\n    }\n    int mid = cl + (cr - cl) / 2;\n    int mx = -1;\n    if (mid &gt;= l) {\n        int x = query(cl, mid, p * 2, l, r);\n        mx = max(x, mx);\n    }\n    if (mid + 1 &lt;= r) {\n        int x = query(mid + 1, cr, p * 2 + 1, l, r);\n        mx = max(mx, x);\n    }\n    return mx;\n}\n \nvoid solve() {\n    // cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    build(1, n, 1);\n    while (m--) {\n        char c;cin &gt;&gt; c;\n        int a, b;cin &gt;&gt; a &gt;&gt; b;\n        if (c == &#039;Q&#039;) {\n            cout &lt;&lt; query(1, n, 1, a, b) &lt;&lt; &#039;\\n&#039;;\n        }\n        else {\n            update(1, n, 1, a, b);\n        }\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (cin &gt;&gt; n &gt;&gt; m)\n        solve();\n \n    return 0;\n}\nè¦†ç›–çš„é¢ç§¯\nè¦†ç›–çš„é¢ç§¯\né¢˜æ„\nç»™å®šå¹³é¢ä¸Šçš„çŸ©é˜µï¼Œæ±‚å‡ºè¢«è¿™äº›çŸ©é˜µè¦†ç›–è‡³å°‘ä¸¤æ¬¡çš„åŒºåŸŸé¢ç§¯ã€‚\næ•°æ®èŒƒå›´\n1\\leq N\\leq 1000\n0\\leq x_i,y_i\\leq 100000\næ€è·¯\næ‰«æçº¿æ±‚çŸ©å½¢å¹¶ï¼Œåœ¨æ±‚å¹¶æ—¶ç»Ÿè®¡æ›´æ–°è¢«è¦†ç›–çš„æ¬¡æ•°ï¼Œåœ¨pushupçš„æ—¶å€™ï¼Œå½“çˆ¶èŠ‚ç‚¹å·²æœ‰ä¸€æ¬¡è¦†ç›–ï¼Œè€Œå­åŒºé—´å·²ç»è¢«åŒ…å«ä¸€æ¬¡ï¼Œåˆ™å­åŒºé—´å·²ç»è¢«åŒ…å«äº†2æ¬¡ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 2050;\n \nstruct line {\n    int typ;\n    ld s, t, y;\n    bool operator&lt;(const line&amp; l)const {\n        return y &lt; l.y; // æŒ‰ç…§æ¨ªåæ ‡å‡åºæ’åº\n    }\n}line[maxn * 2];\n \nstruct node {\n    int l, r;\n    int cnt;\n    ld len, len2;\n}tree[maxn * 4];\n \nld X[maxn * 2];\n \nvoid build(int p, int l, int r) {\n    tree[p] = { l,r,0,0,0 };\n    if (l == r)return;\n    int mid = l + (r - l) / 2;\n    build(p * 2, l, mid);\n    build(p * 2 + 1, mid + 1, r);\n}\n \nvoid pushup(int p) {\n    int l = tree[p].l, r = tree[p].r;\n \n    if (tree[p].cnt) { // æœ‰è¦†ç›–\n        tree[p].len = X[r + 1] - X[l];\n    }\n    else if (l != r) {\n        tree[p].len = tree[p * 2].len + tree[p * 2 + 1].len;\n    }\n    else {\n        tree[p].len = 0;\n    }\n \n    if (tree[p].cnt &gt;= 2) {\n        tree[p].len2 = X[r + 1] - X[l];\n    }\n    else if (l != r &amp;&amp; tree[p].cnt == 1) {\n        // cnt=1æ—¶,å­åŒºé—´å·²ç»è¢«åŒ…å«è¿‡ä¸€æ¬¡ï¼Œå†åŠ ä¸Šçˆ¶èŠ‚ç‚¹pçš„ä¸€æ¬¡åˆ™å­åŒºé—´è¢«åŒ…å«äº†2æ¬¡\n        tree[p].len2 = tree[p * 2].len + tree[p * 2 + 1].len;\n    }\n    else if (l != r) {\n        tree[p].len2 = tree[p * 2].len2 + tree[p * 2 + 1].len2;\n    }\n    else {\n        tree[p].len2 = 0;\n    }\n}\n \nvoid editTree(int p, ld l, ld r, int c) {\n    // è¦ä¿®æ”¹çš„xåŒºé—´:[l,r]\n    int pl = tree[p].l, pr = tree[p].r; // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„å·¦å³åæ ‡\n \n    if (l &gt;= X[pr + 1] || r &lt;= X[pl]) {\n        // pushup(p);\n        return;\n    }\n \n    if (X[pl] &gt;= l &amp;&amp; X[pr + 1] &lt;= r) { // åŒ…å«\n        tree[p].cnt += c;\n        pushup(p);\n        return;\n    }\n \n \n    editTree(p * 2, l, r, c);\n    editTree(p * 2 + 1, l, r, c);\n    pushup(p);\n}\n \n \nvoid solve() {\n    int n;cin &gt;&gt; n;\n    set&lt;ld&gt;Xs;\n    for (int i = 1;i &lt;= n;i++) {\n        ld x1, y1, x2, y2; // å·¦ä¸‹å³ä¸Š\n        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;\n        line[i] = { 1,x1,x2,y1 }; // ä¸‹è¾¹\n        line[i + n] = { -1,x1,x2,y2 }; // ä¸Šè¾¹\n        Xs.insert(x1), Xs.insert(x2); // ç¦»æ•£åŒ–\n    }\n    sort(line + 1, line + 1 + 2 * n);\n    int t = 0;\n    for (auto p : Xs) {\n        X[++t] = p;\n    }\n \n    build(1, 1, t - 1); // å¯¹ç¦»æ•£åŒ–çš„Xè½´å»ºæ ‘\n \n    ld ans = 0;\n    for (int i = 1;i &lt; 2 * n;i++) { // æœ€åä¸€æ¡æ‰«æçº¿ä¸ç”¨è®¡å…¥ç»Ÿè®¡\n        editTree(1, line[i].s, line[i].t, line[i].typ);\n        ans += tree[1].len2 * (line[i + 1].y - line[i].y);\n    }\n    ans += 0.001; // æ ·ä¾‹å¥½åƒæœ‰çŸ³\n    cout &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; ans &lt;&lt; &quot;\\n&quot;;\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    cin &gt;&gt; t;cin.tie(0);\n    while (t--)\n        solve();\n \n    return 0;\n}\næ•Œå…µå¸ƒé˜µ\næ•Œå…µå¸ƒé˜µ\né¢˜æ„\næœ‰Nä¸ªè¥åœ°ï¼Œåˆå§‹ç¬¬iä¸ªè¥åœ°æœ‰a_iä¸ªäººï¼Œæœ‰4ç§å‘½ä»¤ã€‚\n\nAdd i jï¼Œè¡¨ç¤ºç¬¬iä¸ªè¥åœ°å¢åŠ jäººã€‚\nSub i jï¼Œè¡¨ç¤ºç¬¬iä¸ªè¥åœ°å‡å°‘jäººã€‚\nQuery i jï¼ŒæŸ¥è¯¢ç¬¬iåˆ°ç¬¬jä¸ªè¥åœ°ä¸€å…±æœ‰å¤šå°‘äººã€‚\nEndï¼Œè¡¨ç¤ºç»“æŸã€‚\n\næ•°æ®èŒƒå›´\n\nN\\leq 50000\n1\\leq a_i\\leq 50â€‹\n\næ€è·¯\nå¾ˆæ¨¡æ¿çš„ä¸€ä¸ªé¢˜ã€‚\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\ntypedef double ld;\nconst int maxn = 5e4 + 50;\n \nstruct node {\n    int val;\n}tree[maxn * 4];\n \nint a[maxn];\n \nvoid build(int p, int l, int r) {\n    if (l == r) {\n        tree[p].val = a[l];\n        return;\n    }\n    int mid = l + (r - l) / 2;\n    build(p * 2, l, mid);\n    build(p * 2 + 1, mid + 1, r);\n    tree[p].val = tree[p * 2].val + tree[p * 2 + 1].val;\n}\n \nvoid pushup(int p,int l,int r) {\n    if (l == r)return;\n    tree[p].val = tree[p * 2].val + tree[p * 2 + 1].val;\n}\n \nvoid update(int p, int cl, int cr, int goal,int x) {\n    if (cl &gt; goal || cr &lt; goal)return;\n    if (cl == cr) {\n        tree[p].val += x;\n        pushup(p, cl, cr);\n        return;\n    }\n    int mid = cl + (cr - cl) / 2;\n    update(p * 2, cl, mid, goal, x);\n    update(p * 2 + 1, mid + 1, cr, goal, x);\n    pushup(p, cl, cr);\n}\n \nint query(int p, int cl, int cr, int l, int r) {\n    if (cl &gt; r || cr &lt; l)\n        return 0;\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        return tree[p].val;\n    }\n    int mid = cl + (cr - cl) / 2;\n    int tot = 0;\n    tot += query(p * 2, cl, mid, l, r);\n    tot += query(p * 2 + 1, mid + 1, cr, l, r);\n    return tot;\n}\n \nint ccnt;\nvoid solve() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    build(1, 1, n);\n    string s;\n    cout &lt;&lt; &quot;Case &quot; &lt;&lt; ++ccnt &lt;&lt; &quot;:\\n&quot;;\n    while (cin &gt;&gt; s) {\n        if (s == &quot;End&quot;)break;\n        if (s == &quot;Query&quot;) {\n            int l, r;cin &gt;&gt; l &gt;&gt; r;\n            cout &lt;&lt; query(1, 1, n, l, r) &lt;&lt; &#039;\\n&#039;;\n        }\n        else if (s == &quot;Add&quot;) {\n            int i, j;cin &gt;&gt; i &gt;&gt; j;\n            update(1, 1, n, i, j);\n        }\n        else if (s == &quot;Sub&quot;) {\n            int i, j;cin &gt;&gt; i &gt;&gt; j;\n            update(1, 1, n, i, -j);\n        }\n    }\n}\n \nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    int t = 1;\n    cin &gt;&gt; t;cin.tie(0);\n    ccnt = 0;\n    while (t--)\n        solve();\n \n    return 0;\n}\nå•å³°æ•°åˆ—\nå•å³°æ•°åˆ—\né¢˜æ„\nç»™å®šé•¿åº¦ä¸ºnçš„æ•°åˆ—aï¼Œæ”¯æŒä»¥ä¸‹æ“ä½œï¼š\n\n1 l r xï¼šç»™åŒºé—´[l,r]çš„æ‰€æœ‰æ•°åŠ ä¸Šx\n2 l rï¼šæŸ¥è¯¢åŒºé—´[l,r]ä¸­çš„å…ƒç´ æ˜¯å¦å…¨éƒ½ç›¸åŒ\n3 l rï¼šæŸ¥è¯¢åŒºé—´[l,r]ä¸­çš„å…ƒç´ æ˜¯å¦ä¸¥æ ¼ä¸Šå‡ï¼Œå½“l==ræ—¶è®¤ä¸ºæ˜¯ä¸¥æ ¼ä¸Šå‡çš„\n4 l rï¼šæŸ¥è¯¢åŒºé—´[l,r]ä¸­çš„å…ƒç´ æ˜¯å¦ä¸¥æ ¼ä¸‹é™ï¼Œå½“l==ræ—¶è®¤ä¸ºæ˜¯ä¸¥æ ¼ä¸‹é™çš„\n5 l rï¼šæŸ¥è¯¢åŒºé—´[l,r]æ˜¯å¦æ˜¯å•å³°æ•°åˆ—ï¼Œå•å³°æ•°åˆ—ç¬¦åˆå³ä¾§ä¸¥æ ¼é€’å¢ï¼Œå·¦ä¾§ä¸¥æ ¼é€’å‡ï¼Œå¹¶ä¸”å·¦å³ä¾§çš„åŒºé—´ä¸ä¸ºç©ºï¼Œä¿è¯r-l+1\\geq 3ã€‚\n\næ•°æ®èŒƒå›´\n\n3\\leq n \\leq 10^5\n0\\leq a_i\\leq 10^9\n1\\leq q \\leq 2\\times 10^5\n\nå¯¹äºç¬¬ä¸€ç±»æ“ä½œï¼Œä¿è¯-10^9\\leq x\\leq 10^9\næ€è·¯\nç”¨ä¸‰ä¸ªå˜é‡è®°å½•åŒºé—´å·¦å€¼ã€å³å€¼å’Œæ‡’æ ‡è®°ã€‚\nç”¨ä¸‰ä¸ªå¸ƒå°”å€¼å˜é‡è®°å½•å½“å‰åŒºé—´æ˜¯å¦æ˜¯ç›¸åŒã€ä¸Šå‡ã€ä¸‹é™ã€å•å³°ã€‚åœ¨åˆ¤æ–­åˆå¹¶åæ˜¯å¦æ˜¯å•å³°æ—¶ï¼Œä¸»è¦æ»¡è¶³å•å³°çš„åŒºé—´å¿…é¡»å¤§äºç­‰äº3ï¼Œå½“å·¦å³ä¸¤ä¸ªåŒºé—´åˆ†åˆ«æ˜¯ä¸Šå‡ã€ä¸‹é™ï¼Œä¸”æŸä¸ªåŒºé—´åªæœ‰ä¸€ä¸ªæ•°æ—¶ï¼Œè¦æ³¨æ„æ¯”è¾ƒå·¦å³å€¼ã€‚\nä»£ç \n#include &lt;bits/stdc++.h&gt;\n \nusing namespace std;\n \n#define lson(p) tree[p * 2]\n#define rson(p) tree[p * 2 + 1]\n \ntypedef long long ll;\ntypedef unsigned long long ull;\n \nconst int maxn = 4e5 + 50;\n \nstruct node {\n  int l, r;\n  ll lval, rval, lazy;\n  bool isup, isdown, issame, isheap;\n} tree[maxn &lt;&lt; 2];\n \nll a[maxn];\n \nnode merge(node ret1, node ret2) {\n  node ret;\n \n  ret = {\n    ret1.l,\n    ret2.r,\n    ret1.lval,\n    ret2.rval,\n    0ll,\n    true,\n    true,\n    true,\n    false\n  };\n \n  ret.issame = ret1.issame &amp;&amp; ret2.issame &amp;&amp; ret1.rval == ret2.lval;\n  ret.isup = ret1.isup &amp;&amp; ret2.isup &amp;&amp; ret1.rval &lt; ret2.lval;\n  ret.isdown = ret1.isdown &amp;&amp; ret2.isdown &amp;&amp; ret1.rval &gt; ret2.lval;\n \n  if (ret1.isup &amp;&amp; ret2.isdown) {\n    if (ret1.l == ret1.r &amp;&amp; ret1.rval &lt; ret2.lval &amp;&amp; ret2.l != ret2.r)\n      ret.isheap = true;\n    else if (ret2.l == ret2.r &amp;&amp; ret1.rval &gt; ret2.lval &amp;&amp; ret1.l != ret1.r)\n      ret.isheap = true;\n    else if (ret1.l != ret1.r &amp;&amp; ret2.l != ret2.r)\n      ret.isheap = true;\n  }\n \n  if (ret1.isup &amp;&amp; ret2.isheap &amp;&amp; ret1.rval &lt; ret2.lval)\n    ret.isheap = true;\n  if (ret1.isheap &amp;&amp; ret2.isdown &amp;&amp; ret1.rval &gt; ret2.lval)\n    ret.isheap = true;\n \n  return ret;\n}\n \nvoid build(int p, int l, int r) {\n  if (l == r) {\n    tree[p] = {l, r, a[l], a[r], 0ll, true, true, true, false};\n    return;\n  }\n  int mid = l + (r - l) / 2;\n  build(p * 2, l, mid);\n  build(p * 2 + 1, mid + 1, r);\n  tree[p] = merge(lson(p), rson(p));\n}\n \nvoid pushdown(int p) {\n  int l = tree[p].l, r = tree[p].r;\n  if (l == r) {\n    return;\n  }\n  if (tree[p].lazy) {\n    ll x = tree[p].lazy;\n    lson(p).lazy += x, rson(p).lazy += x;\n    lson(p).lval += x, rson(p).lval += x;\n    lson(p).rval += x, rson(p).rval += x;\n    tree[p].lazy = 0ll;\n  }\n}\n \nvoid pushup(int p) {\n  int l = tree[p].l, r = tree[p].r;\n  if (l == r) {\n    return;\n  }\n  tree[p] = merge(lson(p), rson(p));\n}\n \nvoid update(int p, int cl, int cr, int l, int r, ll num) {\n  if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n    tree[p].lval += num, tree[p].rval += num;\n    tree[p].lazy += num;\n    pushdown(p);\n    pushup(p);\n    return;\n  }\n  pushdown(p);\n  int mid = cl + (cr - cl) / 2;\n  if (l &lt;= mid)\n    update(p * 2, cl, mid, l, r, num);\n  if (mid + 1 &lt;= r)\n    update(p * 2 + 1, mid + 1, cr, l, r, num);\n  pushup(p);\n}\n \nnode query(int p, int cl, int cr, int l, int r) {\n  if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n    return tree[p];\n  }\n \n  pushdown(p);\n  int mid = cl + (cr - cl) / 2;\n \n  node ret, ret1, ret2;\n \n  ret1.l = ret2.l = -1;\n  ret.l = cl, ret.r = cr;\n \n  if (l &lt;= mid) {\n    ret1 = query(p * 2, cl, mid, l, r);\n  }\n  if (mid + 1 &lt;= r) {\n    ret2 = query(p * 2 + 1, mid + 1, cr, l, r);\n  }\n  pushup(p);\n \n  if (ret1.l == -1)\n    return ret2;\n  if (ret2.l == -1)\n    return ret1;\n \n  ret = merge(ret1, ret2);\n  \n  return ret;\n}\n \nvoid solve() {\n  int n;\n  cin &gt;&gt; n;\n  for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; a[i];\n  }\n  build(1, 1, n);\n  int q;\n  cin &gt;&gt; q;\n  while (q--) {\n    int op, l, r;\n    cin &gt;&gt; op &gt;&gt; l &gt;&gt; r;\n    if (op == 1) {\n      ll x;\n      cin &gt;&gt; x;\n      update(1,1,n,l,r,x);\n    } else {\n      node ret = query(1, 1, n, l, r);\n      if (op == 2) {\n        cout &lt;&lt; ret.issame &lt;&lt; &#039;\\n&#039;;\n      } else if (op == 3) {\n        cout &lt;&lt; ret.isup &lt;&lt; &#039;\\n&#039;;\n      } else if (op == 4) {\n        cout &lt;&lt; ret.isdown &lt;&lt; &#039;\\n&#039;;\n      } else if (op == 5) {\n        cout &lt;&lt; ret.isheap &lt;&lt; &#039;\\n&#039;;\n      }\n    }\n  }\n}\n \nvoid init() {\n}\n \nint main(void) {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  init();\n  int t = 1;\n  // cin &gt;&gt; t;\n  // cin.get();\n  while (t--)\n    solve();\n \n  return 0;\n}\n "},"03-algorithm/segtreelecnote":{"slug":"03-algorithm/segtreelecnote","filePath":"03-algorithm/segtreelecnote.md","title":"çº¿æ®µæ ‘è®²ä¹‰||å¯’å‡","links":[],"tags":["ç®—æ³•","çº¿æ®µæ ‘","æ•°æ®ç»“æ„","ç®—æ³•æ¨¡æ¿"],"content":"çº¿æ®µæ ‘ä»‹ç»\n\nçº¿æ®µæ ‘æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªåŒºé—´å†…[l,r]çš„ä¿¡æ¯\nå·¦å­æ ‘åŒºé—´ç»´æŠ¤[l,\\lfloor \\frac{l+r}{2} \\rfloor]çš„ä¿¡æ¯ï¼Œå³å­æ ‘ç»´æŠ¤[\\lfloor \\frac{l+r}{2} \\rfloor+1,r]çš„ä¿¡æ¯\nèŠ‚ç‚¹ä¿¡æ¯å¯ä»¥ç”±ä¸¤ä¸ªå­èŠ‚ç‚¹åˆå¹¶å¾—åˆ°\nä»»æ„ä¸€ä¸ªåŒºé—´ä¼šè¢«åˆ†ä¸ºçº¿æ®µæ ‘ä¸ŠO(\\log n)ä¸ªèŠ‚ç‚¹\n\nçº¿æ®µæ ‘å¯ä»¥åœ¨O(\\log N)çš„æ—¶é—´å¤æ‚åº¦å†…å®ç°å•ç‚¹ä¿®æ”¹ã€åŒºé—´ä¿®æ”¹ã€**åŒºé—´æŸ¥è¯¢ï¼ˆåŒºé—´æ±‚å’Œ/åŒºé—´æœ€å¤§å€¼/åŒºé—´æœ€å°å€¼ï¼‰**ç­‰æ“ä½œã€‚\nçº¿æ®µæ ‘ä¸€èˆ¬è§£å†³ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼š\n\nå·²çŸ¥ä¸€ä¸ªæ•°åˆ—ï¼Œä½ éœ€è¦è¿›è¡Œä¸‹é¢å‡ ç§æ“ä½œï¼š\n\nå°†æŸåŒºé—´æ¯ä¸€ä¸ªæ•°åŠ ä¸Š kã€‚ï¼ˆä¿®æ”¹ï¼‰\næ±‚å‡ºæŸåŒºé—´æ¯ä¸€ä¸ªæ•°çš„å’Œã€‚ï¼ˆæŸ¥è¯¢ï¼‰\nå°†æŸåŒºé—´çš„æ¯ä¸ªæ•°ä¿®æ”¹ä¸ºxã€‚ï¼ˆä¿®æ”¹ï¼‰\næ±‚æŸåŒºé—´çš„æœ€å¤§å€¼/æœ€å°å€¼ã€‚ï¼ˆæŸ¥è¯¢ï¼‰\n\n\nå»ºæ ‘\n\nå®ç°\né€’å½’å®ç°\nstruct segTreeNode {\n    ll d = 0ll, lazy = 0ll;     // æ•°æ®&amp;æ‡’æ ‡è®°\n    bool used;  // æ ‡è®°æ˜¯å¦ä¿®æ”¹è¿‡\n};\n \nvector&lt;ll&gt;a(maxn);  // åŸæ•°æ®\nvector&lt;segTreeNode&gt;tree(maxn * 4);\n \nvoid build(int l, int r, int p) {\n    if (l == r) {\n        tree[p].d = a[l];\n        return;\n    }\n    int m = l + ((r - l) &gt;&gt; 1);\n \n    build(l, m, p &lt;&lt; 1);\t// å·¦è¾¹\n    build(m + 1, r, (p &lt;&lt; 1) | 1);\t// å³è¾¹\n \n    tree[p].d = tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d;\n}\næŸ¥è¯¢&amp;ä¿®æ”¹&amp;æ±‚å€¼\nåŒºé—´æŸ¥è¯¢\nè¿›è¡ŒåŒºé—´æŸ¥è¯¢çš„æ—¶å€™ï¼ŒåŒºé—´å’ŒèŠ‚ç‚¹åŒºé—´çš„å…³ç³»æœ‰ä¸‰ç§å¯èƒ½ï¼š\n\nå½“å‰è¦æŸ¥è¯¢çš„åŒºé—´ä¸æ­£åœ¨è¯¢é—®çš„åŒºé—´æ²¡æœ‰äº¤é›†ï¼Œè¿”å›ç©º\nå½“å‰è¦æŸ¥è¯¢çš„åŒºé—´è¢«æŸä¸ªèŠ‚ç‚¹çš„åŒºé—´å®Œå…¨åŒ…å«ï¼Œç›´æ¥å–è¯¥ç‚¹è®°å½•çš„å€¼\nå½“å‰è¦æŸ¥è¯¢çš„åŒºé—´è¢«æŸä¸ªèŠ‚ç‚¹éƒ¨åˆ†åŒ…å«ï¼Œåˆ™å°†è¿™ä¸ªèŠ‚ç‚¹å¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œç›´åˆ°ç¬¦åˆä¸Šé¢ä¸¤ç§æƒ…å†µ\n\nå®ç°\nll getsum(int l, int r, int cl, int cr, int p) {\n    // if (cr&lt;l || cl&gt;r)return 0ll;     // æ“ä½œæ­£ç¡®çš„è¯ä¸å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µ\n    if (cl &gt;= l &amp;&amp; cr &lt;= r)return tree[p].d;\n \n    int m = cl + ((cr - cl) &gt;&gt; 1);\n    ll sum = 0ll;\n    if (m &gt;= l)\n        sum += getsum(l, r, cl, m, p &lt;&lt; 1);\n    if (m &lt; r)\n        sum += getsum(l, r, m + 1, cr, (p &lt;&lt; 1) | 1);\n    return sum;\n}\nåŒºé—´ä¿®æ”¹ï¼ˆæ‡’æ ‡è®°ï¼‰\nåŒºé—´ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹åŒºé—´ä¸è¢«ä¿®æ”¹çš„åŒºé—´çš„å…³ç³»ï¼Œå¯¹å…¶æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚\nå‡å¦‚æˆ‘ä»¬åœ¨ä¿®æ”¹åŒºé—´[l,r]æ—¶ï¼ŒæŠŠæ‰€æœ‰ä¸[l,r]æœ‰äº¤é›†çš„èŠ‚ç‚¹éƒ½éå†å¹¶ä¿®æ”¹ä¸€è¾¹ï¼Œæ—¶é—´å¤æ‚åº¦å°†è¿‡é«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥æ‡’æ ‡è®°ã€‚\næ€è€ƒï¼š\nå½“æˆ‘ä»¬è¦ä¿®æ”¹[l,r]ï¼Œæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæˆ–è€…æ˜¯ä¸€äº›èŠ‚ç‚¹çš„å¹¶é›†ï¼‰æ°å¥½æ˜¯[l,r]ï¼Œæˆ‘ä»¬é€‰æ‹©èŠ‚ç‚¹æ•°æœ€å°‘çš„é‚£ä¸ªé›†åˆè¿›è¡Œä¿®æ”¹ï¼Œå¹¶å¯¹è¿™äº›é›†åˆè¿›è¡Œæ ‡è®°ï¼Œåªæœ‰å½“æŸæ¬¡è®¿é—®éœ€è¦è¿™äº›èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ—¶ï¼Œæ‰æŠŠå˜åŒ–ä¼ é€’ä¸‹å»ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§å‡å°‘å¯¹æ›´æ·±å¤„çš„èŠ‚ç‚¹çš„ä¿®æ”¹æ¬¡æ•°ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ã€‚\nå®ç°\nvoid update(int l, int r, int cl, int cr, int p, ll x) {\n    // ç»™åŒºé—´[l,r]çš„æ¯ä¸ªæ•°éƒ½åŠ ä¸Šx\n    // if (cr&lt;l || cl&gt;r)return;\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        tree[p].d += (cr - cl + 1) * x;\n        tree[p].lazy += x;\n        return;\n    }\n    int m = cl + ((cr - cl) &gt;&gt; 1);\n    if (tree[p].lazy) {\n        tree[p &lt;&lt; 1].d += tree[p].lazy * (m - cl + 1);\n        tree[(p &lt;&lt; 1) | 1].d += tree[p].lazy * (cr - m);\n        tree[p &lt;&lt; 1].lazy += tree[p].lazy;\n        tree[(p &lt;&lt; 1) | 1].lazy += tree[p].lazy;\n        tree[p].lazy = 0ll;\n    }\n    if (m &gt;= l)update(l, r, cl, m, p &lt;&lt; 1, x);\n    if (m &lt; r)update(l, r, m + 1, cr, (p &lt;&lt; 1) | 1, x);\n \n    tree[p].d = tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d;\n}\nç›¸åº”çš„ï¼Œå¼•å…¥æ‡’åŒºé—´ä¹‹åï¼Œæˆ‘ä»¬åœ¨åŒºé—´æŸ¥è¯¢çš„æ—¶å€™è¦è€ƒè™‘æ‡’æ ‡è®°æ˜¯å¦ä¸‹è¾¾ï¼Œå¦‚æœæ²¡æœ‰ä¸‹è¾¾åˆ™è¦å°†æ‡’æ ‡è®°ä¼ é€’ä¸‹å»ã€‚\nll getsum(int l, int r, int cl, int cr, int p) {\n    // if (cr&lt;l || cl&gt;r)return 0ll;     // æ“ä½œæ­£ç¡®çš„è¯ä¸å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µ\n    if (cl &gt;= l &amp;&amp; cr &lt;= r)return tree[p].d;\n \n    int m = cl + ((cr - cl) &gt;&gt; 1);\n \n    if (tree[p].lazy) {\n        tree[p &lt;&lt; 1].lazy += tree[p].lazy, tree[(p &lt;&lt; 1) | 1].lazy += tree[p].lazy;\n        tree[p &lt;&lt; 1].d += tree[p].lazy * (m + 1 - cl), tree[(p &lt;&lt; 1) | 1].d += tree[p].lazy * (cr - m);\n        tree[p].lazy = 0;\n    }\n \n    ll sum = 0ll;\n    if (m &gt;= l)\n        sum += getsum(l, r, cl, m, p &lt;&lt; 1);\n    if (m &lt; r)\n        sum += getsum(l, r, m + 1, cr, (p &lt;&lt; 1) | 1);\n    return sum;\n}\nä¾‹é¢˜æŒ‡è·¯ï¼š\nåŒºé—´æ±‚å’Œï¼šP3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nå‚è€ƒ\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 10;\n/*\nçº¿æ®µæ ‘æ¨¡æ¿1ï¼šå®ç°åŒºé—´åŠ /æ±‚å’Œçš„æ¨¡æ¿\næ´›è°·P3372\n*/\nstruct segTreeNode {\n    ll d, lazy;     // æ•°æ®&amp;æ‡’æ ‡è®°\n    bool used;  // æ ‡è®°æ˜¯å¦ä¿®æ”¹è¿‡\n};\n \nvector&lt;ll&gt;a(maxn);  // åŸæ•°æ®\nvector&lt;segTreeNode&gt;tree(maxn * 4);\n \nvoid build(int l, int r, int p) {\n    if (l == r) {\n        tree[p].d = a[l];\n        return;\n    }\n    int m = l + ((r - l) &gt;&gt; 1);\n \n    build(l, m, p &lt;&lt; 1);\n    build(m + 1, r, (p &lt;&lt; 1) | 1);\n \n    tree[p].d = tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d;\n}\n \nvoid update(int l, int r, int cl, int cr, int p, ll x) {\n    // ç»™åŒºé—´[l,r]çš„æ¯ä¸ªæ•°éƒ½åŠ ä¸Šx\n    // if (cr&lt;l || cl&gt;r)return;\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        tree[p].d += (cr - cl + 1) * x;\n        tree[p].lazy += x;\n        return;\n    }\n    int m = cl + ((cr - cl) &gt;&gt; 1);\n    if (tree[p].lazy) {\n        tree[p &lt;&lt; 1].d += tree[p].lazy * (m - cl + 1);\n        tree[(p &lt;&lt; 1) | 1].d += tree[p].lazy * (cr - m);\n        tree[p &lt;&lt; 1].lazy += tree[p].lazy;\n        tree[(p &lt;&lt; 1) | 1].lazy += tree[p].lazy;\n        tree[p].lazy = 0ll;\n    }\n    if (m &gt;= l)update(l, r, cl, m, p &lt;&lt; 1, x);\n    if (m &lt; r)update(l, r, m + 1, cr, (p &lt;&lt; 1) | 1, x);\n \n    tree[p].d = tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d;\n}\n \nll getsum(int l, int r, int cl, int cr, int p) {\n    // if (cr&lt;l || cl&gt;r)return 0ll;     // æ“ä½œæ­£ç¡®çš„è¯ä¸å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µ\n    if (cl &gt;= l &amp;&amp; cr &lt;= r)return tree[p].d;\n \n    int m = cl + ((cr - cl) &gt;&gt; 1);\n    if (tree[p].lazy) {\n        tree[p &lt;&lt; 1].lazy += tree[p].lazy, tree[(p &lt;&lt; 1) | 1].lazy += tree[p].lazy;\n        tree[p &lt;&lt; 1].d += tree[p].lazy * (m + 1 - cl), tree[(p &lt;&lt; 1) | 1].d += tree[p].lazy * (cr - m);\n        tree[p].lazy = 0;\n    }\n    ll sum = 0ll;\n    if (m &gt;= l)\n        sum += getsum(l, r, cl, m, p &lt;&lt; 1);\n    if (m &lt; r)\n        sum += getsum(l, r, m + 1, cr, (p &lt;&lt; 1) | 1);\n    return sum;\n}\n \nvoid solve() {\n    int n, m;cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1;i &lt;= n;i++)\n        cin &gt;&gt; a[i];\n    build(1, n, 1);\n    while (m--) {\n        int op;cin &gt;&gt; op;\n        if (op == 1) {\n            int x, y;ll k;\n            cin &gt;&gt; x &gt;&gt; y &gt;&gt; k;\n            update(x, y, 1, n, 1, k);\n        }\n        else {\n            int x, y;cin &gt;&gt; x &gt;&gt; y;\n            cout &lt;&lt; getsum(x, y, 1, n, 1) &lt;&lt; &#039;\\n&#039;;\n        }\n    }\n}\n \nint main() {\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n}\næ€è€ƒ\nç›¸ä¼¼çš„ï¼Œå¦‚æœæ˜¯å°†æŸä¸ªåŒºé—´å†…çš„å€¼éƒ½ä¿®æ”¹ä¸ºæŸä¸ªå€¼ï¼Œåº”è¯¥å¦‚ä½•æ“ä½œï¼Ÿ\nä¾‹é¢˜ 1ï¼ˆä¸¤ç§æ‡’æ ‡è®°ï¼‰\nP3373 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 2 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n\næ“ä½œ 1ï¼š æ ¼å¼ï¼š1 x y k å«ä¹‰ï¼šå°†åŒºé—´[x,y]å†…æ¯ä¸ªæ•°ä¹˜ä¸Š k\næ“ä½œ 2ï¼š æ ¼å¼ï¼š2 x y k å«ä¹‰ï¼šå°†åŒºé—´[x,y] å†…æ¯ä¸ªæ•°åŠ ä¸Š k\næ“ä½œ 3ï¼š æ ¼å¼ï¼š3 x y å«ä¹‰ï¼šè¾“å‡ºåŒºé—´ [x,y] å†…æ¯ä¸ªæ•°çš„å’Œå¯¹ m å–æ¨¡æ‰€å¾—çš„ç»“æœ\nè¿™é¢˜éœ€è¦è€ƒè™‘ä¸¤ç§ä¿®æ”¹å€¼çš„æ“ä½œä¹‹é—´çš„ç›¸äº’å½±å“ã€‚\n\næ¯æ¬¡å¯¹èŠ‚ç‚¹åŠ /ä¹˜ä¹‹å‰ï¼Œè¦åˆ¤æ–­æ˜¯å¦éœ€è¦å°†å½“å‰èŠ‚ç‚¹çš„ä¸¤ç§æ‡’æ ‡è®°å‘ä¸‹ä¼ é€’\nåˆ¤æ–­æ—¶åº”è¯¥å…ˆä¹˜ååŠ \n\n\nå‚è€ƒ\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 10;\n/*\nçº¿æ®µæ ‘æ¨¡æ¿2ï¼šå®ç°åŒºé—´åŠ +ä¹˜ã€æ±‚å’Œçš„æ¨¡æ¿\næ´›è°·P3372\n*/\nstruct segTreeNode {\n    ll d, lazyPlus, lazyTime;\n    /*TIP:åœ¨å¼€ç»“æ„ä½“vectoræ—¶å·²æœ‰åˆå§‹å€¼ä¼šä½¿æ‰€æœ‰åˆå§‹å€¼å¡å…¥ç¨‹åºï¼Œä¼šå¯¼è‡´ç¼–è¯‘æ—¶é—´è¿‡é•¿+å†…å­˜æº¢å‡º*/\n    bool used;  // æ ‡è®°æ˜¯å¦ä¿®æ”¹è¿‡\n};\n \nll mo;\nvector&lt;ll&gt;a(maxn);  // åŸæ•°æ®\nvector&lt;segTreeNode&gt;tree(maxn * 4);\n \nvoid build(int l, int r, int p) {\n    tree[p].lazyTime = 1ll;\n    if (l == r) {\n        tree[p].d = a[l] % mo;\n        return;\n    }\n    int mid = l + ((r - l) &gt;&gt; 1);\n \n    build(l, mid, p &lt;&lt; 1);\n    build(mid + 1, r, (p &lt;&lt; 1) | 1);\n \n    tree[p].d = (tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d) % mo;\n}\n \nvoid pd(int cl, int cr, int p) {\n    int l = p &lt;&lt; 1;\n    int r = (p &lt;&lt; 1) | 1;\n    // å…ˆä¹˜ååŠ \n    if (tree[p].lazyTime != 1ll) {\n        tree[l].lazyTime *= tree[p].lazyTime;\n        tree[r].lazyTime *= tree[p].lazyTime;\n        tree[l].lazyTime %= mo;\n        tree[r].lazyTime %= mo;\n \n        // å¯¹å­èŠ‚ç‚¹æ‡’æ ‡è®°ä¹˜\n        tree[l].lazyPlus *= tree[p].lazyTime;\n        tree[r].lazyPlus *= tree[p].lazyTime;\n        tree[l].lazyPlus %= mo;\n        tree[r].lazyPlus %= mo;\n        // å¯¹å­èŠ‚ç‚¹æ•°å€¼ä¹˜\n        tree[l].d *= tree[p].lazyTime;\n        tree[r].d *= tree[p].lazyTime;\n        tree[l].d %= mo;\n        tree[r].d %= mo;\n \n        tree[p].lazyTime = 1ll;\n    }\n \n    int mid = cl + ((cr - cl) &gt;&gt; 1);\n \n    if (tree[p].lazyPlus) {\n        tree[l].d += tree[p].lazyPlus * (mid - cl + 1);\n        tree[l].d %= mo;\n        tree[r].d += tree[p].lazyPlus * (cr - mid);\n        tree[r].d %= mo;\n        tree[l].lazyPlus += tree[p].lazyPlus;\n        tree[l].lazyPlus %= mo;\n        tree[r].lazyPlus += tree[p].lazyPlus;\n        tree[r].lazyPlus %= mo;\n        tree[p].lazyPlus = 0ll;\n    }\n}\n \nvoid updateTime(int l, int r, int cl, int cr, int p, ll x) {\n    // ç»™åŒºé—´[l,r]çš„æ¯ä¸ªæ•°éƒ½ä¹˜ä¸Šx\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        tree[p].lazyTime *= x;\n        tree[p].lazyTime %= mo;\n        tree[p].lazyPlus *= x;\n        tree[p].lazyPlus %= mo;\n        tree[p].d *= x;\n        tree[p].d %= mo;\n        return;\n    }\n \n    pd(cl, cr, p);\n \n    int mid = cl + ((cr - cl) &gt;&gt; 1);\n    if (mid &gt;= l)updateTime(l, r, cl, mid, p &lt;&lt; 1, x);\n    if (mid &lt; r)updateTime(l, r, mid + 1, cr, (p &lt;&lt; 1) | 1, x);\n \n    tree[p].d = (tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d) % mo;\n}\n \nvoid updatePlus(int l, int r, int cl, int cr, int p, ll x) {\n    // ç»™åŒºé—´[l,r]çš„æ¯ä¸ªæ•°éƒ½åŠ ä¸Šx\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        tree[p].d += (cr - cl + 1) * x;\n        tree[p].d %= mo;\n        tree[p].lazyPlus += x;\n        tree[p].lazyPlus %= mo;\n        return;\n    }\n \n    pd(cl, cr, p);\n \n    int mid = cl + ((cr - cl) &gt;&gt; 1);\n    if (mid &gt;= l)updatePlus(l, r, cl, mid, p &lt;&lt; 1, x);\n    if (mid &lt; r)updatePlus(l, r, mid + 1, cr, (p &lt;&lt; 1) | 1, x);\n \n    tree[p].d = (tree[p &lt;&lt; 1].d + tree[(p &lt;&lt; 1) | 1].d) % mo;\n}\n \nll getsum(int l, int r, int cl, int cr, int p) {\n    if (cl &gt;= l &amp;&amp; cr &lt;= r)return tree[p].d;\n \n    int mid = cl + ((cr - cl) &gt;&gt; 1);\n \n    pd(cl, cr, p);\n \n    ll sum = 0ll;\n    if (mid &gt;= l)\n        sum += getsum(l, r, cl, mid, p &lt;&lt; 1);\n    sum %= mo;\n    if (mid &lt; r)\n        sum += getsum(l, r, mid + 1, cr, (p &lt;&lt; 1) | 1);\n    return sum % mo;\n}\n \nvoid solve() {\n    int n, q;cin &gt;&gt; n &gt;&gt; q &gt;&gt; mo;\n    for (int i = 1;i &lt;= n;i++)\n        cin &gt;&gt; a[i];\n    build(1, n, 1);\n    while (q--) {\n        int op;cin &gt;&gt; op;\n        if (op == 1) {\n            int x, y;ll k;\n            cin &gt;&gt; x &gt;&gt; y &gt;&gt; k;\n            updateTime(x, y, 1, n, 1, k);\n        }\n        else if (op == 2) {\n            int x, y;ll k;\n            cin &gt;&gt; x &gt;&gt; y &gt;&gt; k;\n            updatePlus(x, y, 1, n, 1, k);\n        }\n        else {\n            int x, y;cin &gt;&gt; x &gt;&gt; y;\n            cout &lt;&lt; getsum(x, y, 1, n, 1) &lt;&lt; &#039;\\n&#039;;\n        }\n    }\n}\n \nint main() {\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n}\nåŠ¨æ€å¼€ç‚¹\nä¸€èˆ¬æ¥è¯´ï¼Œçº¿æ®µæ ‘å¤„ç†çš„èŒƒå›´åœ¨[1,n]ï¼Œnä¸€èˆ¬æ˜¯1e5çš„å¤§å°ã€‚\nå¦‚æœæˆ‘ä»¬æƒ³å¤„ç†è´Ÿæ•°çš„èŒƒå›´ï¼Œæˆ–è€…æ˜¯nè¾¾åˆ°1e9çš„æ•°é‡çº§æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯ä»¥åŠ¨æ€å¼€ç‚¹çš„çº¿æ®µæ ‘ã€‚\nçº¿æ®µæ ‘æˆ‘ä»¬ä¸€èˆ¬å¼€åˆ°4nçš„å¤§å°æ˜¯å……è¶³çš„ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ä»¥åŠç›´æ¥å»ºç«‹å…¨æ ‘çš„æ—¶é—´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹çº¿æ®µæ ‘åŠ¨æ€å¼€ç‚¹ï¼Œä¹Ÿå°±æ˜¯åªæœ‰å½“æˆ‘ä»¬éœ€è¦ç”¨åˆ°æŸäº›èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰å»åˆ›é€ å®ƒã€‚\næ¯”å¦‚ï¼Œæˆ‘ä»¬å·²ç»ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤º[11,16]çš„ç›¸å…³æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹[13,15]ä¸Šçš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±åˆ›é€ [11,13]å’Œ[14,16]çš„èŠ‚ç‚¹ï¼Œå¹¶ç»§ç»­é€’å½’åˆ›å»ºèŠ‚ç‚¹ï¼Œç›´åˆ°è¿™ä¸ªçº¿æ®µæ ‘å¯ä»¥å®Œå…¨è¡¨ç¤ºåˆ°å·²è¢«ä¿®æ”¹çš„ä¿¡æ¯ã€‚\nå®ç°\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxv = 8e6;  // ä¸€èˆ¬æœ‰å¤šå¤§å¼€å¤šå¤§\n \n/*\nçº¿æ®µæ ‘æ¨¡æ¿3ï¼šåŠ¨æ€å¼€ç‚¹æŠ€å·§\n*/\nstruct segTreeNode {\n    ll d, lazy;\n    int lson, rson; // è®°å½•å·¦å³å­çš„ä¸‹æ ‡\n};\n \nvector&lt;segTreeNode&gt;tree(maxv);\nint tot = 1;    // æ€»èŠ‚ç‚¹æ•°\n \nvoid update(int cl, int cr, int&amp; p, ll addnum) {\n    if (!p)p = ++tot;\n    tree[p].d += addnum * (cr - cl + 1);\n    tree[p].lazy += addnum;\n}\n \nvoid pushdown(int p, int cl, int cr) {  // èŠ‚ç‚¹pæ²¡æœ‰å·¦å³å­æ—¶ç»™å®ƒå¼€ç‚¹ã€‚\n    if (cr - cl + 1 &lt;= 1)return;\n    int mid = (cr + cl - 1) &gt;&gt; 1;\n    update(cl, mid, tree[p].lson, tree[p].lazy);\n    update(mid + 1, cr, tree[p].rson, tree[p].lazy);\n    tree[p].lazy = 0;\n}\n \nvoid updatePlus(int l, int r, int cl, int cr, int p, ll x) {\n    // ç»™åŒºé—´[l,r]é‡Œæ¯ä¸ªæ•°åŠ x\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) {\n        tree[p].d += x * (cr - cl + 1);\n        tree[p].lazy += x;\n        return;\n    }\n    pushdown(p, cl, cr);\n    int mid = (cl + cr - 1) &gt;&gt; 1;\n    if (mid &gt;= l)updatePlus(l, r, cl, mid, tree[p].lson, x);\n    if (mid &lt; r)updatePlus(l, r, mid + 1, cr, tree[p].rson, x);\n \n    int ls = tree[p].lson, rs = tree[p].rs;\n    tree[p].d = tree[ls].d + tree[rs].d;\n}\n \nll getsum(int l, int r, int cl, int cr, int p) {\n    if (cl &gt;= l &amp;&amp; cr &lt;= r)return tree[p].d;\n \n    pushdown(p, cl, cr);\n    int mid = (cl + cr - 1) / 2;  // å¯ä»¥å¤„ç†åŒºé—´ä¸¤ç«¯æ˜¯è´Ÿæ•°çš„æƒ…å†µ\n    ll sum = 0ll;\n    sum += getsum(l, r, cl, mid, tree[p].lson);\n    sum += getsum(l, r, mid + 1, cr, tree[p].rson);\n    return sum;\n}\n \nvoid solve() {\n    ll n, q;cin &gt;&gt; n &gt;&gt; q;\n    while (q--) {\n        ll l, r, k;cin &gt;&gt; l &gt;&gt; r &gt;&gt; k;\n        if(k==1){}\n    }\n}\n \nint main() {\n    int _ = 1;\n    // cin &gt;&gt; _;cin.get();\n    while (_--)\n        solve();\n}\nçº¿æ®µæ ‘åˆå¹¶ä¸åˆ†è£‚\nçº¿æ®µæ ‘åˆå¹¶\nçº¿æ®µæ ‘åˆå¹¶é€šè¿‡é€’å½’å®ç°ï¼Œéœ€è¦æœ‰åˆå¹¶æ“ä½œçš„çº¿æ®µæ ‘éœ€è¦ä½¿ç”¨åŠ¨æ€å¼€ç‚¹çš„æŠ€å·§ã€‚\nå°†çº¿æ®µæ ‘ a å’Œ b åˆå¹¶ï¼Œä» 1 å·ç‚¹å¼€å§‹é€’å½’ï¼Œè‹¥é€’å½’åˆ°æŸä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›å¦ä¸€ä¸ªæ ‘ä¸Šçš„å¯¹åº”èŠ‚ç‚¹ï¼›è‹¥é€’å½’åˆ°å¶å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åˆå¹¶ä¸¤æ£µæ ‘ä¸Šçš„å¯¹åº”èŠ‚ç‚¹ã€‚\nvoid pushup(int a) {\n    int ls = tree[a].lson, rs = tree[a].rson;\n    tree[a].d = tree[ls].d + tree[rs].d;\n}\n \nint merge(int a, int b, int l, int r) {\n    if (!a)return b;\n    if (!b)return a;\n    if (l == r) {\n        // do sth\n        return a;\n    }\n \n    int mid = (l + r) &gt;&gt; 1;\n    tree[a].lson = merge(tree[a].lson, tree[b].lson, l, mid);\n    tree[a].rson = merge(tree[a].rson, tree[b].rson, mid + 1, r);\n \n    pushup(a);\n    return a;\n}\næ¨¡æ¿é¢˜ï¼š[P4556 Vani æœ‰çº¦ä¼š] é›¨å¤©çš„å°¾å·´ /ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘åˆå¹¶ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nçº¿æ®µæ ‘åˆ†è£‚\nçº¿æ®µæ ‘åˆ†è£‚æ˜¯çº¿æ®µæ ‘åˆå¹¶çš„é€†è¿‡ç¨‹ã€‚\nçº¿æ®µæ ‘åˆ†è£‚åªé€‚ç”¨äºæœ‰åºçš„åºåˆ—ï¼Œæ— åºçš„åºåˆ—æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå¸¸ç”¨åœ¨åŠ¨æ€å¼€ç‚¹çš„æƒå€¼çº¿æ®µæ ‘ä¸Šã€‚\nå½“åˆ†è£‚å’Œåˆå¹¶éƒ½å­˜åœ¨æ—¶ï¼Œè¦æ³¨æ„å›æ”¶èŠ‚ç‚¹ï¼Œä»¥å…åˆ†è£‚æ—¶ä¼šå‡ºç°èŠ‚ç‚¹é‡å¤/å ç”¨çš„é—®é¢˜ã€‚\n\nå½“[s,t]ä¸[l,r]æœ‰äº¤é›†æ—¶å¼€æ–°èŠ‚ç‚¹\nå½“[s,t]åŒ…å«äº[l,r]æ—¶ï¼Œç›´æ¥å°†å½“å‰èŠ‚ç‚¹æ¥åˆ°æ–°çš„æ ‘ä¸‹é¢ï¼ŒæŠŠæ—§è¾¹æ–­å¼€ã€‚\n\nvoid pushup(int a) {\n    int ls = tree[a].lson, rs = tree[a].rson;\n    tree[a].d = tree[ls].d + tree[rs].d;\n}\n \nvoid split(int&amp; p, int&amp; q, int s, int t, int l, int r) {\n    // ä»[s,t]çš„çº¿æ®µæ ‘ä¸­åˆ†è£‚å‡ºåŒºé—´æ˜¯[l,r]çš„çº¿æ®µæ ‘\n    if (t &lt; l || r &lt; s) return;\n    if (!p) return;\n    if (l &lt;= s &amp;&amp; t &lt;= r) {\n        q = p;\n        p = 0;\n        return;\n    }\n    if (!q) q = ++tot;\n    int m = s + t &gt;&gt; 1;\n    if (l &lt;= m) split(tree[p].lson, tree[p].rson, s, m, l, r);\n    if (m &lt; r) split(tree[p].lson, tree[p].rson, m + 1, t, l, r);\n    pushup(p);\n    pushup(q);\n}\næ¨¡æ¿é¢˜ï¼šP5494 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘åˆ†è£‚ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nç»ƒä¹ é¢˜ä¸€è§ˆ\nä¸€äº›æ¨¡æ¿é¢˜/æµ‹æµ‹ä½ çš„æ¿å­(!\nP3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP3373 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 2 - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nProblem - 5306 (hdu.edu.cn)\n[P4556 Vani æœ‰çº¦ä¼š] é›¨å¤©çš„å°¾å·´ /ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘åˆå¹¶ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP5494 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘åˆ†è£‚ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\n[P4097 ã€æ¨¡æ¿ã€‘æè¶…çº¿æ®µæ ‘ / HEOI2013] Segment - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP3369 ã€æ¨¡æ¿ã€‘æ™®é€šå¹³è¡¡æ ‘ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP3391 ã€æ¨¡æ¿ã€‘æ–‡è‰ºå¹³è¡¡æ ‘ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"},"03-algorithm/shortest_path":{"slug":"03-algorithm/shortest_path","filePath":"03-algorithm/shortest_path.md","title":"æœ€çŸ­è·¯é—®é¢˜ï¼ˆDijkstra + SPFA + Floydï¼‰","links":[],"tags":["å›¾è®º","æœ€çŸ­è·¯"],"content":"æ€ç»´å…ˆè¡Œ\næˆ‘ä»¬è¦æ‰¾æŸç‚¹åˆ°æŸç‚¹çš„æœ€çŸ­è·¯å¾„(è®°ä¸ºç‚¹uåˆ°ç‚¹v)ï¼Œè¿™æ ·çš„è·¯å¾„åªèƒ½ä»ä¸¤ç§è·¯å¾„ä¸­é€‰æ‹©â€”â€”\n\nuå’Œvä¹‹é—´æœ‰è¾¹è¿æ¥æ—¶ï¼Œå­˜åœ¨è¾¹(u, v)ï¼Œä¸å­˜åœ¨çš„è¯å¯ä»¥è§†ä½œè¿™ä¸¤ç‚¹çš„è·ç¦»æ— é™å¤§\nuå’Œvå¯ä»¥é€šè¿‡æŸäº›ç‚¹ä¸­è½¬ç›¸è¿ï¼Œè¿™ä¸ª(æœ€çŸ­çš„)ä¸­è½¬è·¯å¾„\n\nå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬é€‰æœ€çŸ­è·¯å¾„è‚¯å®šæ˜¯åœ¨è¿™ä¸¤ç§è·¯å¾„å½“ä¸­é€‰æœ€çŸ­çš„æ¥ä½œä¸ºuå’Œvçš„æœ€çŸ­è·ç¦»ï¼Œè€Œè·¯å¾„é€‰æ‹©2åˆå¯ä»¥ä¸æ–­æ‹†åˆ†ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰u -&gt; P -&gt; væˆ‘ä»¬å†å»å¯»æ‰¾è¿™æ¡è·¯å¾„çš„æœ€çŸ­æ—¶ï¼Œå¯ä»¥åˆ†ä¸ºu -&gt; Pæœ€çŸ­+P -&gt; væœ€çŸ­ï¼Œå†å»å¯»æ‰¾ä¸­è½¬ç‚¹â€¦è€Œä¸”æ¯æ¬¡å–æœ€å°å€¼æœ€å°çš„+æœ€å°çš„è‚¯å®šå¾—æœ€å°çš„ï¼ˆæœ‰ä¸€ç‚¹è´ªå¿ƒçš„æ„Ÿè§‰ï¼‰ã€‚\né‚£ä¹ˆæ€ç»´å¸ƒç½®åˆ°è¿™ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå¯»æ‰¾æœ€çŸ­è·¯å¾„çš„å‡ ç§ç®—æ³•ï¼š\nFloydç®—æ³•&amp;Bellman-Fordç®—æ³•\n\nFloydç®—æ³•\n\nè¿™ä¸ªç®—æ³•å°±æ˜¯åˆšåˆšæ€ç»´é‡Œçš„ç®—æ³•çš„æœ´ç´ å®ç°äº†ï¼ŒåŠ¨æ€è§„åˆ’æ€ç»´ï¼Œä¸æ–­å»å°è¯•å¢åŠ èŠ‚ç‚¹æ¥æ‰¾æœ€å°å€¼ã€‚ä¼ªä»£ç å¦‚ä¸‹ï¼š\n#define INF 0x3f3f3f3f\ndist[maxn][maxn];\n// dist[u][v]è®°å½•ä»ç‚¹uåˆ°ç‚¹vçš„è·ç¦»\n// åˆå§‹åŒ–æ—¶dist[n][n]=0, ä¸¤ç‚¹æœ‰è¾¹åˆ™è®°å½•ä¸ºw&lt;u, v&gt;ï¼Œå…¶ä»–çš„å°±æ˜¯INF\nvoid Floyd(int n){\n\t// ä¸€å…±æœ‰nä¸ªç‚¹ï¼Œæˆ‘ä»¬éå†å¡«å……dist[][]æ•°ç»„æ¥è®¡ç®—æ‰€æœ‰çš„è·ç¦»\n\tfor(int p=1 ;p &lt;= n;p++){\n\t\t// ç‚¹pæ˜¯ä¸­è½¬ç‚¹\n\t\tfor(int u=1;u&lt;=n;u++){\n\t\t\tfor(int v=1;v&lt;=n;v++){\n\t\t\t\tdist[u][v] = min(dist[u][v], dist[u][p]+dist[p][v]);\n\t\t\t}\n\t\t}\n\t}\n}\nå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªç®—æ³•æœ‰O(n^3)çš„å¤æ‚åº¦ï¼Œå¹¶ä¸å¥½ï¼Œè€Œä¸”å¼€çš„dist[maxn][maxn]æ•°ç»„ç©ºé—´ä¹Ÿå¤§ï¼Œå’Œä¹‹å‰å­¦ä¹ å­˜å‚¨å›¾æ—¶ä¸€æ ·ï¼Œå¦‚æœå›¾æ¯”è¾ƒç¨€ç–ï¼Œæµªè´¹çš„ç©ºé—´ä¹Ÿå¤§ã€‚\nå¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ\nå…ˆçœ‹ç®—æ³•ä¸Šï¼Œæˆ‘ä»¬åœ¨é€‰æ‹©ä¸­é—´ç‚¹pçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°â€”â€”å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‚¹1~ç‚¹nå’Œuéƒ½æœ‰è¾¹ï¼Œæ‰€ä»¥å‡å¦‚æˆ‘ä»¬æŒ‰è¾¹å­˜å‚¨æˆä¸ºé‚»æ¥è¡¨(å‰å‘æ˜Ÿ/é“¾å¼å‰å‘æ˜Ÿ)ï¼Œæˆ‘ä»¬åœ¨æœç´¢è¾¹çš„æ—¶å€™å°±èƒ½ç›´æ¥åœ¨å·²æœ‰çš„&lt;u, p&gt;è¾¹ä¸Šè¿›è¡Œé€‰æ‹©ã€‚\nTIPï¼šFloydç®—æ³•å¯ä»¥è·å¾—æ‰€æœ‰ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œæ‰€ä»¥åœ¨éœ€è¦å¤„ç†å¤šæºæœ€çŸ­è·¯ä¸”æ•°æ®è§„æ¨¡æ¯”è¾ƒå°çš„æ—¶å€™ä¼šé€‰æ‹©å®ƒã€‚\næˆ‘ä»¬æ›´å…³å¿ƒå•æºæœ€çŸ­è·¯é—®é¢˜ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çš„é—®é¢˜å°±å‡å®šä¸ºï¼šæ‰¾åˆ°ä»¥ç‚¹v1ä¸ºèµ·ç‚¹çš„æœ€çŸ­è·¯ã€‚\nç”±äºæ˜¯ç¡®å®šèµ·ç‚¹çš„å•æºæœ€çŸ­è·¯ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è®°å½•è·ç¦»çš„æ•°ç»„åªç”¨å¼€ä¸€ç»´å°±è¡Œã€‚\nåˆå§‹åŒ–ï¼šdist[1]=0, dist[v]=distance[1][v], å…¶ä»–çš„ç½®INFã€‚\nåœ¨Bellman-Fordç®—æ³•ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ä¸å­˜åœ¨è´Ÿæƒç¯ï¼ˆæœ‰è´Ÿæƒç¯æˆ‘ä»¬å°±ä¼šå‘ç°æ¯ç»•ä¸€æ¬¡distéƒ½åœ¨å˜å°ï¼Œè€Œæˆ‘ä»¬å–minï¼ˆdist[v],weight(p-&gt;v)+dist[v]ï¼‰è‚¯å®šä¼šæŠŠè·¯å¾„ä¸Šçš„è¿™ä¸ªè´Ÿæƒç¯èµ°è¶…è¿‡néï¼‰ï¼Œé‚£ä¹ˆä»v1åˆ°ä»»ä½•ç‚¹çš„è·¯å¾„ä¸Šç‚¹çš„ä¸ªæ•°éƒ½ä¸ä¼šå¤§äºæ€»ç‚¹æ•°nï¼Œæ‰€ä»¥Bellman-Fordç®—æ³•å°±ç›´æ¥æš´åŠ›æœnæ¬¡æ¥æ‰¾æœ€çŸ­è·¯,åˆ°è¿™é‡Œæˆ‘ä»¬å…ˆä»£ç å®ç°ä¸€ä¸‹è¿™æ ·çš„æ€è·¯ï¼š\nç»™å‡ºä¸€ä¸ªå›¾ä¾‹like thisï¼š\ngraph LR\nv1((v1))-.4.-&gt;v2((v2))\nv1((v1))-.3.-&gt;v3((v3))\nv1((v1))-.8.-&gt;v4((v4))\nv2((v2))-.2.-&gt;v6((v6))\nv7((v7))-.5.-&gt;v6((v6))\nv7((v7))-.1.-&gt;v4((v4))\nv3((v3))-.1.-&gt;v7((v7))\nv4((v4))-.5.-&gt;v3((v3))\nv4((v4))-.5.-&gt;v5((v5))\n\næ ·ä¾‹ï¼š\n7 9\n1 2 4\n1 3 3\n1 4 8\n2 6 2\n3 7 1\n4 3 5\n4 5 5\n7 6 5\n7 4 1\n \nå‚è€ƒä»£ç like thisï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint from;\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \nint dist[maxm];\nint n, m;\n \nvoid BellmanFord(int vn) {\n\t// åˆå§‹åŒ–dist[]\n\tfill(dist + 1, dist + n + 1, INF);\n\tdist[vn] = 0;\n \n\tint turn = n - 1;\n\twhile (turn--)\n\t\t// ä¸‹æ–¹çš„éå†é‡å¤n-1éï¼Œä¿è¯å¯ä»¥æ›´æ–°å…¨éƒ¨çš„dist[]\n\t\tfor (int ei = 0;ei &lt; m;ei++)\n\t\t\tdist[Edge[ei].to] = min(dist[Edge[ei].to], dist[Edge[ei].from] + Edge[ei].w);\n\t// è¿™é‡Œä¸ºäº†æ–¹ä¾¿è·å¾—æŸ¥çœ‹çš„è¾¹çš„èµ·ç‚¹ï¼Œå¯ä»¥åœ¨å‚¨å­˜è¾¹çš„èµ·ç‚¹çš„æ—¶å€™åŠ ä¸€ä¸ªfromçš„ä¿¡æ¯(å¦åˆ™å°±è¦å…ˆå»æ‰¾èµ·ç‚¹æ˜¯è°)\n}\n \nint main() {\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\tEdge[i].from = fi;\n \n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\tBellmanFord(1);\n \n\tfor (int i = 1;i &lt;= n;i++)\n\t\tcout &lt;&lt; dist[i] &lt;&lt; &quot; &quot;;\n\tcout &lt;&lt; endl;\n\t// -&gt;0 4 3 5 10 6 4 \n \n\treturn 0;\n}\nIDEAï¼šæˆ‘ä»¬åœ¨è¿™ä¸ªç®—æ³•ä¸­å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬é€‰è¾¹çš„æ—¶å€™å¯¹äºå®ƒç»ˆç‚¹äºä½•å¤„å¹¶ä¸å…³å¿ƒï¼Œç›¸åï¼Œæˆ‘ä»¬ä¼šå…³å¿ƒå®ƒçš„èµ·ç‚¹çš„ä¿¡æ¯ï¼ˆæˆ‘ä»¬è¦ç®—çš„æºèµ·ç‚¹åˆ°è¯¥è¾¹çš„èµ·ç‚¹çš„è·ç¦»ï¼‰ï¼Œæ‰€ä»¥ç›´æ¥åœ¨å­˜è¾¹çš„æ—¶å€™æ·»åŠ èµ·ç‚¹(from)çš„è®°å½•ä¼šæ–¹ä¾¿æˆ‘ä»¬ç¡®å®šèµ·ç‚¹ã€‚\nè™½ç„¶ä¸Šæ–‡æåˆ°æˆ‘ä»¬ä¸è€ƒè™‘è´Ÿæƒç¯çš„å­˜åœ¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æƒ³è±¡ï¼Œå¦‚æœå­˜åœ¨è´Ÿæƒç¯ï¼Œè¯¥å›¾è¿›å…¥Bellman-Fordç®—æ³•ä¹‹åä¼šæœ‰ç¥å¥‡çš„æ•°æ®äº§ç”Ÿï¼Œæˆ‘ä»¬è¯•è¯•çœ‹ï¼š\nç»™æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®æ·»åŠ ä¸€ä¸ªè´Ÿæƒè¾¹ï¼š\n7 10\n1 2 4\n1 3 3\n1 4 8\n2 6 2\n3 7 1\n4 3 5\n4 5 5\n7 7 -9\n7 6 5\n7 4 1\n \ngraph LR\nv1((v1))-.4.-&gt;v2((v2))\nv1((v1))-.3.-&gt;v3((v3))\nv1((v1))-.8.-&gt;v4((v4))\nv2((v2))-.2.-&gt;v6((v6))\nv7((v7))-.5.-&gt;v6((v6))\nv7((v7))-.1.-&gt;v4((v4))\nv3((v3))-.1.-&gt;v7((v7))\nv4((v4))-.5.-&gt;v3((v3))\nv4((v4))-.5.-&gt;v5((v5))\nv7((v7))-. -9 .-&gt;v7((v7))\n\nåŒæ ·çš„ç¨‹åºè·‘å‡ºæ¥çš„ç»“æœæ˜¯ï¼š\n0 4 -35 -49 -35 -45 -50\nåŸæ¥çš„ç»“æœï¼š\n0 4 3 5 10 6 4 \næ€è€ƒï¼šä¸ç®¡æœ‰æ²¡æœ‰è´Ÿæƒç¯ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å…¶å®éƒ½æ˜¯åˆç†çš„æœ€çŸ­è·¯å¾„ï¼Œä½†æ˜¯å­˜åœ¨è´Ÿæƒç¯ä¼šä½¿å¾—åˆ°æŸäº›ç‚¹çš„æœ€çŸ­è·ç¦»ä¸€å®šä¼šå‡å°‘ï¼ˆåŠ ä¸Šä¸€ä¸ªè´Ÿæ•°è‚¯å®šå˜å°ï¼Œè€Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯è¾ƒå°çš„é‚£ä¸ªè·¯å¾„ï¼‰ï¼Œæ‰€ä»¥æœ‰è´Ÿæƒç¯æ—¶ï¼Œæœ€çŸ­è·¯å¾„(å‡è®¾è·¯å¾„ä¸Šçš„ç‚¹çš„æ•°é‡æ²¡æœ‰é™åˆ¶)å…¶å®å¯ä»¥æ— é™çŸ­ï¼Œæˆ‘ä»¬å…ˆå‰ç”¨æš´åŠ›å¾ªç¯æ‰€æœ‰çš„ç‚¹æ¥ä¿è¯æ‰€æœ‰çš„distæ•°ç»„èƒ½å¤Ÿæ›´æ–°åˆ°æœ€ä½³ï¼Œé‚£ä¹ˆå‡å¦‚æœ‰è´Ÿæƒç¯åœ¨å…¶ä¸­ï¼Œdistæ•°ç»„æ²¡æœ‰æœ€ä½³çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®€å•çš„å¤šå¾ªç¯ä¸€è¾¹ï¼Œå‡å¦‚æ²¡æœ‰è´Ÿæƒç¯ï¼Œå†å¤šå¾ªç¯ä¸€è¾¹å¹¶ä¸ä¼šæ”¹å˜distæ•°ç»„é‡Œçš„å€¼ï¼Œå¦‚æœæœ‰è´Ÿæƒç¯ï¼Œdistæ•°ç»„é‡Œä¸€å®šæœ‰å€¼æ”¹å˜ã€‚æˆ‘ä»¬è¯•è¯•çœ‹ï¼š\nåŸæ¥ä¿è¯å¾—åˆ°æœ€ä½³åªéœ€è¦æš´åŠ›å¾ªç¯n-1éï¼Œå¾—ç»“æœï¼š\n0 4 -35 -49 -35 -45 -50\næš´åŠ›næ¬¡çš„ç»“æœï¼š\n0 4 -44 -58 -44 -54 -59\nç¬¦åˆæˆ‘ä»¬çš„æƒ³æ³•ã€‚\nä¸è¿‡å•Šè¿™ä¸ªç®—æ³•è¿˜æ˜¯æœ‰æš´åŠ›çš„æˆåˆ†ï¼Œæˆ‘ä»¬å…ˆå‰æåˆ°çš„åªè¦éå†é‚£äº›èµ·ç‚¹å¯ç›´æ¥åˆ°è¾¾çš„ç‚¹ç­‰ç­‰æƒ³æ³•è¿˜æ²¡å®ç°ï¼ŒBellman-Fordç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æœ‰O(nm)ï¼Œæˆ‘ä»¬è®¨è®ºç®—æ³•çš„å¯¹äºè¿™æ ·çš„å¤æ‚åº¦è‚¯å®šè¿˜æ˜¯ä¸æ»¡æ„çš„ã€‚\næˆ‘ä»¬å†å›å¿†ä¸€ä¸‹æ•´ä¸ªæœç´¢è¿‡ç¨‹ï¼šå…¶å®æˆ‘ä»¬å…³ç³»çš„åªæ˜¯å¯ä»¥æ‹“å±•çš„å¯èƒ½å½“ä¸­æœ€å°çš„æ˜¯å“ªä¸ªï¼Œä¸ºäº†æ‰¾åˆ°æœ€å°çš„é‚£ä¸ªï¼Œæˆ‘ä»¬ä¸Šé¢ç”¨äº†æœç´¢å…¨éƒ¨çš„è¾¹ã€ç‚¹çš„æ–¹æ³•ã€‚é‚£ä¹ˆæˆ‘ä»¬çš„ç›®çš„è¿˜æ˜¯è¿˜æ˜¯ï¼šæœ‰æ²¡æœ‰ä¸€ç§å¯ä»¥ç»´æŠ¤æ•°æ®ç»“æ„çš„æ–¹å¼ï¼Œè®©æˆ‘ä»¬æ›´å®¹æ˜“æ‰¾åˆ°æœ€å°çš„é‚£ä¸ªå¯èƒ½ï¼Ÿ\näºæ˜¯é˜Ÿåˆ—ä¼˜åŒ–è¿›å…¥æ€ç»´\nSPFAç®—æ³•\næˆ‘ä»¬æ‰¾u -&gt; p -&gt; vè·¯å¾„æ—¶ï¼Œpç‚¹çš„é€‰æ‹©æ–¹æ³•ä¼šå®é™…å½±å“æˆ‘ä»¬çš„å¤æ‚åº¦ã€‚æˆ‘ä»¬çš„ç›®çš„è‚¯å®šæ˜¯å»æ›´æ–°uå¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹ï¼Œè€Œä¸‹ä¸€æ¬¡å°±æ˜¯på¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹â€¦\nSPFAç®—æ³•ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å»è®°å½•è¿™äº›å¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹(ä¹Ÿå°±æ˜¯ç­”æ¡ˆå¯èƒ½åœ¨çš„è·¯å¾„ä¸Š)ã€‚\nSPFAæ˜¯å¦‚ä½•åšåˆ°â€œåªæ›´æ–°å¯èƒ½æ›´æ–°çš„ç‚¹â€çš„ï¼Ÿ\n\nåªè®©å½“å‰ç‚¹èƒ½åˆ°è¾¾çš„ç‚¹å…¥é˜Ÿ\nå¦‚æœä¸€ä¸ªç‚¹å·²ç»åœ¨é˜Ÿåˆ—é‡Œï¼Œä¾¿ä¸é‡å¤å…¥é˜Ÿ\nå¦‚æœä¸€æ¡è¾¹çš„èµ·ç‚¹è¿˜æ²¡è¢«æ›´æ–°ï¼Œé‚£ä¹ˆå®ƒçš„ç»ˆç‚¹ä¸å…¥é˜Ÿ\n\nä¹Ÿå°±æ˜¯è¯´ï¼šå½“ä¸€ä¸ªç‚¹å…¥é˜Ÿäº†ï¼Œä»£è¡¨å®ƒè¿˜åœ¨ç­‰å¾…æ›´æ–°ï¼Œå½“ä¸€ä¸ªç‚¹å‡ºé˜Ÿäº†ï¼Œé‚£ä¹ˆå®ƒä¸€å®šåœ¨å½“å‰ç»è¿‡æœ€å¥½çš„æ›´æ–°äº†ã€‚\nä¼šæœ‰ä¸€ä¸ªç‚¹å…¥é˜Ÿäº†æ›´æ–°ä¹‹åå†æ¬¡å…¥é˜Ÿçš„æƒ…å†µå—ï¼Ÿä¼šæœ‰è¿™ç§å¯èƒ½ã€‚\næ¥çœ‹çœ‹ä»£ç å®ç°å§ï¼š\n// å› ä¸ºqueueå…¶å®æ²¡æœ‰æŸ¥æ‰¾æ“ä½œï¼Œæ‰€ä»¥ç®€å•ç”¨ä¸ªboolå‹æ•°ç»„è®°å½•ç‚¹påœ¨é˜Ÿåˆ—ä¸­?inqueue[p]=true:inque[p]=false\nbool inqueue[maxn];\nvoid SPFA(int vn) {\n\t// å¯»æ‰¾vnåˆ°å„ä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œè®°å½•åœ¨dist[]æ•°ç»„ä¸­ã€‚\n \n\t// åˆå§‹åŒ–dist[]\n\tfill(dist + 1, dist + n + 1, INF);\n\tdist[vn] = 0;\n \n\tqueue&lt;int&gt; updates;\n\tupdates.push(vn);\t// å°†vnç‚¹åŠ å…¥å¾…æ›´æ–°é˜Ÿåˆ—\n \n\twhile (!updates.empty()) {\n\t\t// è·å¾—é˜Ÿé¦–ç‚¹ï¼Œå¹¶æŠŠå®ƒç§»é™¤å¾…æ›´æ–°é˜Ÿåˆ—\n\t\tint firstp = updates.front();\n\t\tupdates.pop();\n \n\t\tinqueue[firstp] = false;\t// æ ‡è®°firstpå·²ç»ä¸åœ¨é˜Ÿåˆ—ä¸­\n \n\t\tfor (int k = head[firstp], to = Edge[k].to;k != -1;k = Edge[k].next, to = Edge[k].to) {\n\t\t\t// éå†kå¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹to\n\t\t\tif (dist[to] &gt; dist[firstp] + Edge[k].w) {\n\t\t\t\tdist[to] = dist[firstp] + Edge[k].w;\n\t\t\t\tif (!inqueue[to]) {\n\t\t\t\t\tupdates.push(to);\n\t\t\t\t\tinqueue[to] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n \nSPFAç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¹¶ä¸ç¨³å®šï¼Œå¯ä»¥é¢„æƒ³ï¼Œåœ¨æç«¯çš„æƒ…å†µä¸‹ï¼ŒSPFAç®—æ³•çš„å¤æ‚åº¦å¯ä»¥å’ŒBellman-Fordç®—æ³•ä¸€æ ·æ˜¯O(nm)ï¼ˆä¸è¿‡éšæœºæ•°æ®æ¨¡æ‹Ÿçš„ç®—æ³•å¤æ‚åº¦å¤§æ¦‚æ˜¯O(m + nlogn)ï¼‰\nSPFAç®—æ³•ä¹Ÿå¯ä»¥åˆ¤æ–­è´Ÿæƒç¯çš„å­˜åœ¨ï¼šè‹¥ä¸€ä¸ªç‚¹å…¥é˜Ÿæ¬¡æ•°è¶…è¿‡næ¬¡ï¼Œæ¥ä¸‹æ¥æ— è®ºæ€ä¹ˆæ›´æ–°é˜Ÿåˆ—éƒ½ä¸ä¼šä¸ºç©ºï¼Œå¯ä»¥æ®æ­¤åˆ¤æ–­æ˜¯å¦æœ‰è´Ÿæƒç¯ã€‚\nemmmä¼˜åŒ–äº†ä¸€ç‚¹çš„BellmanFordç®—æ³•ï¼Ÿ(æ€è€ƒ)\næ¥ä¸‹æ¥ä»‹ç»å¤æ‚åº¦ç¨³å®šçš„è´ªå¿ƒç®—æ³•ï¼šDijstraç®—æ³•\nâ˜†â˜†â˜†Dijstraç®—æ³•\nDijå‡è®¾æ²¡æœ‰è´Ÿè¾¹\nå› ä¸ºæ²¡æœ‰è´Ÿè¾¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šï¼Œç¦»èµ·ç‚¹æœ€è¿‘çš„é‚£ä¸ªé¡¶ç‚¹çš„distä¸€å®šæ˜¯é‚£ä¸ªé¡¶ç‚¹çš„æœ€ç»ˆç»“æœã€‚\næ€è·¯ï¼šèµ·ç‚¹uå¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹ä¸­ï¼Œæœ€è¿‘çš„ç‚¹på¯¹åº”çš„e&lt;u, p&gt;ä¸€å®šæ˜¯dist[p]çš„æœ€ä½³å€¼ã€‚å‡å¦‚å®ƒå·²ç»æ˜¯æœ€ä½³å€¼äº†ï¼Œæˆ‘ä»¬åœ¨åé¢å°±å¯ä»¥æŠŠå®ƒå½“åšèµ·ç‚¹uä¸€æ ·çš„ç‚¹ã€‚ç”±æ­¤æˆ‘ä»¬åªéœ€è¦ä¸æ–­å–å‡ºå¾…æ›´æ–°é˜Ÿåˆ—é‡Œdistæœ€å°çš„ç‚¹ï¼Œå¹¶å‘åæ›´æ–°ä¸€å±‚ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦å†æ›´æ–°çš„ç‚¹ä¸ºæ­¢ã€‚\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint from;\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \nint dist[maxm];\nint n, m;\nint path[maxm];\t// å‚¨å­˜è·¯å¾„(å­˜è¾¹)\nstruct Polar {\n\t// æ³¨æ„æ¯ä¸ªdistå…¶å®æ˜¯ä¸€å¯¹ä¸€çš„ç»‘å®šäº†å®ƒçš„ç´¢å¼•çš„ï¼Œç›´æ¥å†™ä»€ä¹ˆreturn dist[a]&gt;dist[b]ä¼šç ´åå †çš„ç»“æ„ï¼Œå¯èƒ½ä¼šè®©dist[a]å’Œdist[b]çš„ç´¢å¼•å˜åŒ–ã€‚\n\tint id, dist;\n \n\tPolar(int dist, int id) :dist(dist), id(id) {}\n\t// å¯¹ç»“æ„ä½“ä¸­ä¼ æ•°æ®ï¼Œå’Œä¸‹é¢è¿™ç§å†™æ³•ä½œç”¨ä¸€æ ·ï¼š\n\t// Polar(int d, int d_id) {\n\t// \tdist = d;\n\t// \tid = d_id;\n\t// }\n\t// é‡è½½è¿ç®—ç¬¦&lt;\n\tbool operator&lt;(const Polar&amp; P)const {\n\t\treturn dist &lt; P.dist;\n\t}\n};\nstruct cmp {\n\t// // é‡å†™ä»¿å‡½æ•°æ³•ï¼š\n\tbool operator ()(Polar a, Polar b) {\n\t\t// é‡è½½()è¿ç®—ç¬¦ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªä»¿å‡½æ•°\n\t\treturn a.dist &gt; b.dist;\t\n\t}\n};\n// priority_queue&lt;Polar, vector&lt;Polar&gt;, cmp&gt; q;\npriority_queue&lt;Polar&gt; q;\nbool visited[maxn];\nvoid Dij(int vn) {\n\tfill(dist + 1, dist + n + 1, INF);\n\tdist[vn] = 0;\n\t\n\tq.push(Polar(0, vn));\n\twhile (!q.empty()) {\n\t\tint pid = q.top().id;\n\t\tq.pop();\n\t\tif (visited[pid]) \n\t\t\t// è‹¥å·²ç»åœ¨é˜Ÿåˆ—ä¸­\n\t\t\tcontinue;\n\t\t\n\t\tvisited[pid] = true;\n\t\tfor (int ei = head[pid], to = Edge[ei].to;ei != -1;ei = Edge[ei].next, to = Edge[ei].to) {\n\t\t\tif (dist[pid] + Edge[ei].w &lt; dist[to]){\n\t\t\t\tdist[to] = dist[pid] + Edge[ei].w;\n\t\t\t\tpath[to] = Edge[ei].from;\t// è®°å½•è·¯å¾„çš„\n               \tif (!visited[to])\n\t\t\t\tq.push(Polar(dist[to], to));\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\n \nint main() {\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n    \n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\tEdge[i].from = fi;\n \n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\tint s = 1, t = 5;\n\tDij(s);\n \n\tfor (int i = 1;i &lt;= n;i++)\n\t\tcout &lt;&lt; dist[i] &lt;&lt; &quot; &quot;;\n\tcout &lt;&lt; endl;\n\t// -&gt;0 4 3 5 10 6 4\n \n\twhile (t != s) {\n\t\tcout &lt;&lt; t &lt;&lt; &quot;&lt;-&quot;;\n\t\tt = path[t];\n\t}\n\tcout &lt;&lt; t;\n    // -&gt;5&lt;-4&lt;-7&lt;-3&lt;-1\n \n\treturn 0;\n}\nå½“ç„¶äº†ç”¨pairä¹Ÿè¡Œï¼Œåæ­£åªæœ‰idå’Œdistä¸¤ä¸ªæ•°æ®ï¼Œå¤šä¸ªå…¶å®ä¹Ÿæ²¡å…³ç³»ä½ ä¹Ÿå¯ä»¥pairå¥—pair\n(å¦å¤–ä¸¤ç§ç®€å•çš„å†™æ³•åœ¨STL.mdé‡Œé¢å†™äº†ï¼Œè¿™é‡Œä¸å†™äº†)\n-å¦‚ä½•è®°å½•è·¯å¾„ï¼Ÿ\næŠŠåœ¨æ›´æ–°ç‚¹æ›´æ–°pathæ•°ç»„å°±è¡Œã€‚ä¹Ÿå°±æ˜¯dist[pos]&gt;dist[u]+w(uâ†’pos)çš„æ—¶å€™æŠŠè¿™ä¸ªæ›´æ–°çš„æ¥æºæ”¾åœ¨pathæ•°ç»„é‡Œå°±è¡Œï¼ˆè®°å½•åˆ°è¾¾æŸç‚¹çš„æœ€å¥½çš„è·¯å¾„çš„ä¸Šä¸€ä¸ªæ¥æºç‚¹ï¼‰ã€‚åƒè¿™æ ·ï¼š\nif (dist[pid] + Edge[ei].w &lt; dist[to]){\n    dist[to] = dist[pid] + Edge[ei].w;\n    path[to] = Edge[ei].from;\n}\næ¨¡æ¿é¢˜\n\næ¨¡æ¿é¢˜æŒ‡è·¯ï¼š\nP3371 ã€æ¨¡æ¿ã€‘å•æºæœ€çŸ­è·¯å¾„ï¼ˆå¼±åŒ–ç‰ˆï¼‰ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP4779 ã€æ¨¡æ¿ã€‘å•æºæœ€çŸ­è·¯å¾„ï¼ˆæ ‡å‡†ç‰ˆï¼‰ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nP3371ã€æ¨¡æ¿ã€‘å•æºæœ€çŸ­è·¯å¾„ï¼ˆå¼±åŒ–ç‰ˆï¼‰\né¢˜ç›®èƒŒæ™¯\næœ¬é¢˜æµ‹è¯•æ•°æ®ä¸ºéšæœºæ•°æ®ï¼Œåœ¨è€ƒè¯•ä¸­å¯èƒ½ä¼šå‡ºç°æ„é€ æ•°æ®è®©SPFAä¸é€šè¿‡ï¼Œå¦‚æœ‰éœ€è¦è¯·ç§»æ­¥ P4779ã€‚\né¢˜ç›®æè¿°\nå¦‚é¢˜ï¼Œç»™å‡ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œè¯·è¾“å‡ºä»æŸä¸€ç‚¹å‡ºå‘åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° n,m,sï¼Œåˆ†åˆ«è¡¨ç¤ºç‚¹çš„ä¸ªæ•°ã€æœ‰å‘è¾¹çš„ä¸ªæ•°ã€å‡ºå‘ç‚¹çš„ç¼–å·ã€‚\næ¥ä¸‹æ¥ m è¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° u,v,wï¼Œè¡¨ç¤ºä¸€æ¡ u \\to v çš„ï¼Œé•¿åº¦ä¸º w çš„è¾¹ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä¸€è¡Œ n ä¸ªæ•´æ•°ï¼Œç¬¬ i ä¸ªè¡¨ç¤º s åˆ°ç¬¬ i ä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œè‹¥ä¸èƒ½åˆ°è¾¾åˆ™è¾“å‡º 2^{31}-1ã€‚\næ ·ä¾‹\næ ·ä¾‹è¾“å…¥ #1\n4 6 1\n1 2 2\n2 3 2\n2 4 1\n1 3 5\n3 4 3\n1 4 4\næ ·ä¾‹è¾“å‡º #1\n0 2 4 3\næç¤º\nã€æ•°æ®èŒƒå›´ã€‘\nå¯¹äº 20\\% çš„æ•°æ®ï¼š1\\le n \\le 5ï¼Œ1\\le m \\le 15ï¼›\nå¯¹äº 40\\% çš„æ•°æ®ï¼š1\\le n \\le 100ï¼Œ1\\le m \\le 10^4ï¼›\nå¯¹äº 70\\% çš„æ•°æ®ï¼š1\\le n \\le 1000ï¼Œ1\\le m \\le 10^5ï¼›\nå¯¹äº 100\\% çš„æ•°æ®ï¼š1 \\le n \\le 10^4ï¼Œ1\\le m \\le 5\\times 10^5ï¼Œ1\\le u,v\\le nï¼Œw\\ge 0ï¼Œ\\sum w&lt; 2^{31}ï¼Œä¿è¯æ•°æ®éšæœºã€‚\nUpdate 2022/07/29ï¼šä¸¤ä¸ªç‚¹ä¹‹é—´å¯èƒ½æœ‰å¤šæ¡è¾¹ï¼Œæ•¬è¯·æ³¨æ„ã€‚\nå¯¹äºçœŸæ­£ 100\\% çš„æ•°æ®ï¼Œè¯·ç§»æ­¥ P4779ã€‚è¯·æ³¨æ„ï¼Œè¯¥é¢˜ä¸æœ¬é¢˜æ•°æ®èŒƒå›´ç•¥æœ‰ä¸åŒã€‚\næ ·ä¾‹è¯´æ˜ï¼š\n\nå›¾ç‰‡1åˆ°3å’Œ1åˆ°4çš„æ–‡å­—ä½ç½®è°ƒæ¢\n\nACä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define INF 0x3f3f3f3f\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\ntypedef long long ll;\nstruct EdgeNode {\n\tint from;\n\tint to;\t\t// ç»ˆç‚¹\n\tll w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \nll dist[maxm];\nll n, m;\nbool inqueue[maxn];\nvoid SPFA(int vn) {\n\tfill(dist + 1, dist + n + 1, INF);\n\tdist[vn] = 0;\n \n\tqueue&lt;int&gt; updates;\n\tupdates.push(vn);\n\twhile (!updates.empty()) {\n\t\tint firstp = updates.front();\n\t\tupdates.pop();\n \n\t\tinqueue[firstp] = false;\n \n\t\tfor (int k = head[firstp], to = Edge[k].to;k != -1;k = Edge[k].next, to = Edge[k].to) {\n\t\t\t// éå†kå¯ä»¥ç›´æ¥åˆ°è¾¾çš„ç‚¹to\n\t\t\tif (dist[to] &gt; dist[firstp] + Edge[k].w) {\n\t\t\t\tdist[to] = dist[firstp] + Edge[k].w;\n\t\t\t\tif (!inqueue[to]) {\n\t\t\t\t\tupdates.push(to);\n\t\t\t\t\tinqueue[to] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n \n \nint main() {\n\tint s;\n\tcin &gt;&gt; n &gt;&gt; m &gt;&gt; s;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n\t\n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tll fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\tEdge[i].from = fi;\n \n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\tSPFA(s);\n \n\tfor (int i = 1;i &lt;= n;i++)\n\t\tcout &lt;&lt; dist[i] &lt;&lt; &quot; &quot;;\n \n\treturn 0;\n}\nè¿™ä¸ªâ€¦æ²¡æœ‰å¡SPFAã€‚çœ‹å¦ä¸€ä¸ªå¡SPFAçš„é¢˜ï¼š\n\nP4779ã€æ¨¡æ¿ã€‘å•æºæœ€çŸ­è·¯å¾„ï¼ˆæ ‡å‡†ç‰ˆï¼‰\né¢˜ç›®èƒŒæ™¯\n2018 å¹´ 7 æœˆ 19 æ—¥ï¼ŒæŸä½åŒå­¦åœ¨ NOI Day 1 T1 å½’ç¨‹ ä¸€é¢˜é‡Œéå¸¸ç†Ÿç»ƒåœ°ä½¿ç”¨äº†ä¸€ä¸ªå¹¿ä¸ºäººçŸ¥çš„ç®—æ³•æ±‚æœ€çŸ­è·¯ã€‚\nç„¶åå‘¢ï¼Ÿ\n100 \\rightarrow 60ï¼›\n\\text{Ag} \\rightarrow \\text{Cu}ï¼›\næœ€ç»ˆï¼Œä»–å› æ­¤æ²¡èƒ½ä¸ç†æƒ³çš„å¤§å­¦è¾¾æˆå¥‘çº¦ã€‚\nå° F è¡·å¿ƒç¥æ„¿å¤§å®¶ä¸å†é‡è¹ˆè¦†è¾™ã€‚\né¢˜ç›®æè¿°\nç»™å®šä¸€ä¸ª n ä¸ªç‚¹ï¼Œm æ¡æœ‰å‘è¾¹çš„å¸¦éè´Ÿæƒå›¾ï¼Œè¯·ä½ è®¡ç®—ä» s å‡ºå‘ï¼Œåˆ°æ¯ä¸ªç‚¹çš„è·ç¦»ã€‚\næ•°æ®ä¿è¯ä½ èƒ½ä» s å‡ºå‘åˆ°ä»»æ„ç‚¹ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œä¸ºä¸‰ä¸ªæ­£æ•´æ•° n, m, sã€‚\nç¬¬äºŒè¡Œèµ· m è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªéè´Ÿæ•´æ•° u_i, v_i, w_iï¼Œè¡¨ç¤ºä» u_i åˆ° v_i æœ‰ä¸€æ¡æƒå€¼ä¸º w_i çš„æœ‰å‘è¾¹ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä¸€è¡Œ n ä¸ªç©ºæ ¼åˆ†éš”çš„éè´Ÿæ•´æ•°ï¼Œè¡¨ç¤º s åˆ°æ¯ä¸ªç‚¹çš„è·ç¦»ã€‚\næ ·ä¾‹\næ ·ä¾‹è¾“å…¥ #1\n4 6 1\n1 2 2\n2 3 2\n2 4 1\n1 3 5\n3 4 3\n1 4 4\næ ·ä¾‹è¾“å‡º #1\n0 2 4 3\næç¤º\næ ·ä¾‹è§£é‡Šè¯·å‚è€ƒ æ•°æ®éšæœºçš„æ¨¡æ¿é¢˜ã€‚\n1 \\leq n \\leq 10^5ï¼›\n1 \\leq m \\leq 2\\times 10^5ï¼›\ns = 1ï¼›\n1 \\leq u_i, v_i\\leq nï¼›\n0 \\leq w_i \\leq 10 ^ 9,\n0 \\leq \\sum w_i \\leq 10 ^ 9ã€‚\næœ¬é¢˜æ•°æ®å¯èƒ½ä¼šæŒç»­æ›´æ–°ï¼Œä½†ä¸ä¼šé‡æµ‹ï¼Œæœ›å‘¨çŸ¥ã€‚\n2018.09.04 æ•°æ®æ›´æ–° from @zzq\n\nACä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define INF 0x3f3f3f3f\ntypedef long long ll;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint from;\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\nEdgeNode Edge[maxm];\nint head[maxn];\n \nint dist[maxm];\nint n, m;\n// priority_queue&lt;pair&lt;ll, int&gt;&gt; q;\npriority_queue&lt;pair&lt;ll, int&gt;, vector&lt;pair&lt;ll, int&gt;&gt;, greater&lt;pair&lt;ll, int&gt;&gt;&gt; q;\nbool visited[maxn];\t// è®°å½•å·²ç»è·å¾—æœ€çŸ­è·¯çš„ç‚¹\n \nvoid Dij(int vn) {\n\tdist[vn] = 0;\n\t// åˆå§‹åŒ–\n\tq.push(make_pair(dist[vn], vn));\n\twhile (!q.empty()) {\n\t\t// å–é˜Ÿé¦–å…ƒç´ (æœ€å°çš„)å°†å®ƒç§»å‡ºé˜Ÿåˆ—å¹¶æ ‡è®°ç§»å‡º\n\t\tint pid = q.top().second;\n\t\tq.pop();\n\t\tif (visited[pid])\n\t\t\tcontinue;\n\t\tvisited[pid] = true;\n\t\tfor (int ei = head[pid], to = Edge[ei].to;ei != -1;ei = Edge[ei].next, to = Edge[ei].to) {\n\t\t\t// æ‰¾å’Œpid(è¢«ç§»å‡ºçš„å·²æœ€ä½³ç‚¹)ç›¸è¿çš„è¾¹ï¼Œæ›´æ–°dist\n\t\t\tif (dist[to] &gt; dist[pid] + Edge[ei].w) {\n\t\t\t\tdist[to] = dist[pid] + Edge[ei].w;\n\t\t\t\tif (!visited[to])\n\t\t\t\t\tq.push(make_pair(dist[to], to));\n\t\t\t}\n\t\t}\n\t}\n}\n \nint main() {\n\tint s;\n\tcin &gt;&gt; n &gt;&gt; m &gt;&gt; s;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\n    \n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\tEdge[i].from = fi;\n \n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n\t}\n \n\tfill(dist + 1, dist + n + 1, INF);\n\tDij(s);\n \n\tfor (int i = 1;i &lt;= n;i++)\n\t\tcout &lt;&lt; dist[i] &lt;&lt; &quot; &quot;;\n\tcout &lt;&lt; endl;\n \n\treturn 0;\n}\nå•Šæ€»ç®—ç»•å®Œæœ€çŸ­è·¯è¿™å‡ ä¸ªç®—æ³•äº†ï¼Œæ—¶å€™æƒ³é€šäº†æ„Ÿè§‰è¿˜æŒºæ˜ç™½çš„ï¼Œä¸è¿‡ç”±äºæŸäººçš„ç åŠ›å¥½å·®ï¼Œè€æ˜¯è¾¾ä¸åˆ°æƒ³è¦çš„æ•ˆæœ[å¯æ¶]ï¼Œè¿˜å¾—å¤šå†™ä»£ç è€Œä¸æ˜¯åªæ³¨é‡æƒ³æ³•ã€‚å†™å‡ºæ¥äº†æ‰ç®—æ˜¯åˆæ­¥ä¼šäº†ï¼"},"03-algorithm/string_match":{"slug":"03-algorithm/string_match","filePath":"03-algorithm/string_match.md","title":"å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜||å‰ç¼€å‡½æ•°+KMP+å­—ç¬¦ä¸²å“ˆå¸Œ","links":[],"tags":["KMP","å­—ç¬¦ä¸²","ç®—æ³•","å“ˆå¸Œ"],"content":"å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•\næš´åŠ›åšæ³•(BF)\nç®€ç§°BF(Brute Force)ç®—æ³•ã€‚\næ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯çœ‹åˆ°æè¿°ç›´æ¥èƒ½æƒ³åˆ°çš„æœ´ç´ åšæ³•ã€‚\nvector&lt;int&gt; BF_match(string s, string p) {\n    // sæ˜¯ä¸»ä¸²ï¼Œpæ˜¯æ¨¡å¼ä¸²\n    int n = s.size(), m = p.size();\n    vector&lt;int&gt; res;\n    for (int i = 0; i &lt;= n - m; i++) {\n        int j = 0;\n        for (; j &lt; m; j++) {\n            if (s[i + j] != p[j]) break;\n        }\n        if (j == m) res.push_back(i);\n    }\n    return res;\n}\nBFç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ç¨³å®šã€‚åŒ¹é…æˆåŠŸæ—¶ï¼Œæœ€å¥½ä¸ºO(n)ï¼Œæœ€å·®ä¸ºO(mn)ï¼›åŒ¹é…å¤±è´¥æ—¶ï¼Œæœ€å¥½ä¸ºæœ€å¥½ä¸ºO(n)ï¼Œæœ€å·®ä¸ºO(mn)ã€‚å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚\nå‰ç¼€å‡½æ•°\nå®šä¹‰\nå®šä¹‰å­—ç¬¦ä¸²Sçš„å‰ç¼€å‡½æ•°ï¼š\\pi [i]ä¸ºå…¶å­ä¸²s[0...i]çš„æœ€é•¿ç›¸ç­‰çœŸå‰ç¼€ä¸çœŸåç¼€çš„é•¿åº¦ã€‚ä¾‹å¦‚å¯¹äºS=aabaaabï¼Œå®ƒçš„å‰ç¼€å‡½æ•°æ˜¯[0,1,0,1,2,2,3]ã€‚\nè®¡ç®—\næœ´ç´ ç®—æ³•æšä¸¾å­ä¸²çš„é•¿åº¦ï¼ˆå…¶ä¸­\\pi [0]=0ï¼‰ï¼Œç„¶åä»å¤§åˆ°å°å°è¯•æšä¸¾å­ä¸²ä¸­çœŸå‰ç¼€çš„é•¿åº¦ï¼Œå¹¶ä¸åŒæ ·é•¿åº¦çš„çœŸåç¼€è¿›è¡ŒåŒ¹é…ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆç›¸ç­‰æ¡ä»¶çš„æœ€å¤§é•¿åº¦æˆ–è€…é•¿åº¦ä¸º0ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n^3)â€‹ã€‚\nvector&lt;ll&gt; prefix(string s) {\n    vector&lt;ll&gt;pi(s.size());\n    for (int i = 0;i &lt; s.size();i++) {\n        for (int j = i;j &gt;= 0;j--) {\n            string t = s.substr(0, j);\n            string tmp = s.substr(i - j + 1, j);\n            if (t == tmp) {\n                pi[i] = j;\n                break;\n            }\n        }\n    }\n    return pi;\n}\nè€ƒè™‘ä¼˜åŒ–\nå®¹æ˜“è€ƒè™‘åˆ°ï¼Œå‡è®¾æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºiçš„å­ä¸²tçš„å‰ç¼€å‡½æ•°æ˜¯\\pi [i]=kï¼Œåˆ™è¡¨ç¤ºt1 = t[0...k-1]ä¸t2 = t[n-k...n-1]æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆå½“ä»–ä»¬åŒæ—¶å»æ‰åä¸€ä½å­—ç¬¦ï¼Œå¾—åˆ°çš„t1&#039; = t[0....k-2]ä¸t2&#039; = t[n-k+1...n-2]ä¹Ÿæ˜¯åŒ¹é…çš„ã€‚æ¢å¥è¯è¯´ï¼Œå½“s[k-1]=s[i]æ—¶ï¼Œæœ‰\\pi[i-1]+1=\\pi[i]ï¼Œå¹¶ä¸”å½“s[k-1]â‰ s[i]æ—¶ï¼Œ\\pi[i]å°†å˜ä¸º0æˆ–ä¿æŒä¸€ä¸ªä¸å¤§äºs[i-1]çš„æ•°ã€‚å‰ç¼€å‡½æ•°åªèƒ½åœ¨å‰ä¸€ä¸ªåŒ¹é…çš„çŠ¶æ€ä¸‹è¿›è¡Œæ‹“å±•ï¼Œæ¯æ¬¡æ‹“å±•æœ€å¤šåªèƒ½å¢åŠ 1ï¼Œå¦åˆ™ç»´æŒä¸å˜æˆ–å‡å°‘ã€‚\nå…¶å®è¿™æ—¶å€™åº”è¯¥èƒ½å‘ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’ï¼Œæ¯æ¬¡å‘åæ‹“å±•ä¸€ä½æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ‹“å±•å‰çš„çŠ¶æ€ç›¸å¯¹æ¯”ï¼Œåˆ¤æ–­æ–°åŠ çš„ä¸€ä½æ˜¯å½“å‰çŠ¶æ€ï¼ˆå½“å‰åŒ¹é…çš„å‰ç¼€/åç¼€ä¸²ï¼‰çš„åç»§ï¼ˆs[\\pi[i]]=s[i+1]ï¼‰æˆ–è€…æ˜¯ä¹‹å‰çš„çŠ¶æ€\\pi[p]çš„åç»§ï¼ˆç©ºåŒ¹é…\\pi[p]=0ä¹Ÿç®—ä¸€ç§çŠ¶æ€ï¼‰ã€‚\nåŠ å…¥è¿™ä¸ªä¼˜åŒ–ï¼Œæˆ‘ä»¬å°±èƒ½ä¼˜åŒ–æ‰æ¯æ¬¡åŒ¹é…å‰åç¼€æœ€å¤§é•¿åº¦çš„æšä¸¾ã€‚\nvector&lt;ll&gt; prefix(string s) {\n    vector&lt;ll&gt;pi(s.size());\n    for (int i = 0;i &lt; s.size();i++) {\n        for (int j = pi[i - 1] + 1;j &gt;= 0;j--) {\n            // æ³¨æ„jçš„æœ€å¤§å€¼è¢«é™åˆ¶åœ¨pi[i-1]+1\n            string t = s.substr(0, j);\n            string tmp = s.substr(i - j + 1, j);\n            if (t == tmp) {\n                pi[i] = j;\n                break;\n            }\n        }\n    }\n    return pi;\n}\nå¤æ‚åº¦\nè€ƒè™‘æŸä¸€æ¬¡åŒ¹é…ï¼Œåœ¨è‹¥s[i+1]=s[\\pi[i]]ï¼Œåˆ™åªéœ€è¦è¿›è¡Œä¸€æ¬¡æ¯”è¾ƒå°±èƒ½æˆåŠŸï¼Œè€Œè¿™æ¬¡æˆåŠŸä¹Ÿæ˜¯åœ¨s[i]=s[\\pi[i-1]]çš„åŸºç¡€ä¸Šçš„ç´¯åŠ ã€‚è€ƒè™‘ï¼šåœ¨i=næ—¶ï¼Œä»j=\\pi[n-1]+1åˆ°j=1éƒ½æ˜¯ä¸åŒ¹é…çš„ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²æ¯”è¾ƒç´¯è®¡äº†\\pi[n-1]+1æ¬¡ï¼ˆj=0æ—¶æ˜¯ç©ºå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰ã€‚è‹¥\\pi[n-1]æ˜¯æœ€å¤§çš„n-2ï¼Œåˆ™åœ¨è®¡ç®—\\pi[n]æ—¶è¿›è¡Œäº†n-1æ¬¡å­—ç¬¦ä¸²æ¯”è¾ƒã€‚åŒæ—¶ä»£è¡¨\\pi[n-1]=\\pi[n-2]+1=\\pi[n-3]+1+1=...=\\pi[1]+n-2éƒ½æ˜¯æˆç«‹çš„ï¼Œè¿™é‡Œè¿›è¡Œäº†n-2æ¬¡åŠ 1ï¼Œä¹Ÿå°±æ˜¯è¯´ä»\\pi[1]ç´¯è®¡åˆ°\\pi[n-1]æ¯æ¬¡éƒ½è¿›è¡Œ1æ¬¡æ¯”è¾ƒï¼Œæ€»æ¯”è¾ƒæ¬¡æ•°å…±æ˜¯n-2æ¬¡åŒ¹é…ã€‚æ€»çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ¬¡æ•°ä¸ºn-1 + n-2ã€‚å†è€ƒè™‘å­—ç¬¦ä¸²æ¯”è¾ƒå¤æ‚åº¦æ˜¯O(s.length)ã€‚ä¼˜åŒ–ä¹‹åçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)\nå†æ¬¡ä¼˜åŒ–\nä¸Šä¸€æ­¥æˆ‘ä»¬å°†æ•´ä¸ªè®¡ç®—å‰ç¼€å‡½æ•°çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ¬¡æ•°ä¼˜åŒ–åˆ°O(n)çš„å¤§å°ï¼Œåœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¼˜åŒ–å½“s[i+1]\\neq s[\\pi[i]]æ—¶ï¼Œå¦‚ä½•è½¬ç§»åˆ°ä¸Šä¸€ä¸ªç¬¦åˆs[i+1]=s[\\pi[k]]çš„çŠ¶æ€ã€‚\nå¤±é…æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°é•¿åº¦j=\\pi[k]ä½¿å¾—s[i+1]=s[\\pi[k]]æˆç«‹ï¼Œä¹Ÿå°±æ˜¯å°†i+1çš„çŠ¶æ€ç›´æ¥ä»kâ€‹çš„çŠ¶æ€è¿›è¡Œç»§æ‰¿ã€‚\nå½“s[j]\\neq s[i]æ—¶ï¼Œè‹¥å­˜åœ¨ä»…æ¬¡äºjçš„ç¬¬äºŒé•¿åº¦kï¼Œä½¿å¾—s[0...k-1]=s[i-k+1...i]æˆç«‹ï¼Œåˆ™\\pi[i]=kï¼Œå¯¹äºè¿™æ ·çš„å­ä¸²ï¼Œç¬¦åˆä»¥ä¸‹æ€§è´¨ï¼š\ns[0...k-1]=s[i-k+1...i]=s[\\pi[i]-k...\\pi[i]-1]=s[0...\\pi[i]-1]\ns[0...\\pi[i]-1]çš„é•¿åº¦\\pi[i]=kï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œkç­‰ä»·äºs[0...\\pi[i]-1]çš„å‰ç¼€å‡½æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯\\pi[\\pi[i]-1]ã€‚\nåˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼Œæ¯æ¬¡å¤±é…ä¹‹åï¼Œåªéœ€è¦å°†jæ›´æ–°ä¸º\\pi[j-1]å³å¯ã€‚\nvector&lt;ll&gt; prefix(string s) {\n    int n = s.size();\n    vector&lt;ll&gt;pi(n);\n    int j = 0;\n    for (int i = 1;i &lt; n;i++) {\n        while (j &gt; 0 &amp;&amp; s[i] != s[j])j = pi[j - 1];\n        if (s[i] == s[j])j++;\n        pi[i] = j;\n    }\n    return pi;\n}\nKMPç®—æ³•\nè§‚å¯Ÿæœ´ç´ çš„BFç®—æ³•ï¼Œé€ æˆå¤æ‚åº¦ä¸Šå‡çš„ä¸»è¦åŸå› åœ¨äºæ¨¡å¼ä¸²Tä¸­æŒ‡é’ˆçš„å›æº¯ï¼ˆå³åŒ¹é…å¤±è´¥æ—¶jå†æ¬¡ä»0å¼€å§‹åŒ¹é…ï¼ŒKMPç®—æ³•ä¸»è¦ä¼˜åŒ–äº†å›æº¯è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬ä¸ºå‡å°‘å›æº¯çš„è·ç¦»ï¼Œå¼•å…¥äº†nextæ•°ç»„æ¥æŒ‡ç¤ºåŒ¹é…ä¹‹åå›æº¯çš„ä½ç½®ã€‚nextæ•°ç»„å‡å°‘å›æº¯çš„æƒ³æ³•æ­£å¥½æ˜¯ç»“åˆä¸Šé¢å…³äºç”Ÿæˆå‰ç¼€å‡½æ•°çš„æƒ³æ³•ï¼Œæ¢å¥è¯è¯´ï¼ŒKMPä¸­çš„nextæ•°ç»„å°±æ˜¯ä¸€ä¸ªå‰ç¼€è¡¨ã€‚\nå‰ç¼€å‡½æ•°åŒ¹é…çš„æ˜¯å‰ç¼€å’Œåç¼€ï¼Œå½“æˆ‘ä»¬æŠŠå¾…åŒ¹é…ä¸²tæ‹¼æ¥åˆ°æ¨¡å¼ä¸²sçš„åé¢ï¼ˆç”¨ä¸€ä¸ªä¸åœ¨så’Œtä¸­çš„å­—ç¬¦åˆ†éš”ï¼‰ï¼Œå³å¯æŒ‰ç…§ç›¸åŒçš„åšæ³•å»ç”Ÿæˆå‰ç¼€å‡½æ•°ã€‚è€ƒè™‘ç»„åˆå‡ºçš„æ–°å­—ç¬¦ä¸²çš„å‰ç¼€å‡½æ•°ï¼Œå‰n+1ä¸ªå‡½æ•°å€¼æ˜¯åªå’Œä¸»ä¸²è‡ªèº«å­—ç¬¦æœ‰å…³çš„ä¸€éƒ¨åˆ†å‰ç¼€å‡½æ•°ã€‚æ¥ä¸‹æ¥ï¼Œä¾æ¬¡åœ¨å‰ç¼€å‡½æ•°ä¸­åŠ å…¥tä¸­çš„ä¸€ä¸ªå­—ç¬¦ï¼Œè®¡ç®—å½“å‰ä½ç½®çš„å‰ç¼€å‡½æ•°å€¼ï¼Œè‹¥åœ¨æŸä¸€ä½ç½®æœ‰\\pi[i]=næˆç«‹ï¼Œåˆ™ä»£è¡¨å­—ç¬¦ä¸²såœ¨å­—ç¬¦ä¸²tä¸­çš„ä½ç½®i-(n-1)-(n+1)=i-2*nå‡ºç°ï¼ˆåœ¨ç»„åˆä¸²çš„i-(n-1)çš„ä½ç½®å‡ºç°ï¼Œå‡å»å‰é¢så’Œåˆ†éš”ç¬¦çš„é•¿åº¦å³ä¸ºåœ¨tä¸­çš„ä½ç½®ï¼‰ã€‚\nvector&lt;ll&gt; prefix(string s) {\n    int n = s.size();\n    vector&lt;ll&gt;pi(n);\n    int j = 0;\n    for (int i = 1;i &lt; n;i++) {\n        while (j &gt; 0 &amp;&amp; s[i] != s[j])j = pi[j - 1];\n        if (s[i] == s[j])j++;\n        pi[i] = j;\n    }\n    return pi;\n}\nvector&lt;int&gt;kmp(string s, string t) {\n    ll n = s.size(), m = t.size();\n    string cur = t + &quot;#&quot; + s; // æ‰¾sä¸­tçš„ä½ç½®\n    prefix(cur);\n    vector&lt;ll&gt;v;\n    for (ll i = m + 1;i &lt;= n + m + 1;i++) {\n        if (pi[i] == m)\n            v.push_back(i - (m + 1) - (m - 1));\n    }\n    return v;\n}\nKMPæ¨¡æ¿é¢˜\né¢˜é¢ï¼šP3375 ã€æ¨¡æ¿ã€‘KMP - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e7 + 50;\n \nll pi[maxn];\n \nvoid prefix(string s) {\n    ll n = s.size() - 1;\n    ll j = 0;\n    for (ll i = 1;i &lt;= n;i++) {\n        while (j &gt; 0 &amp;&amp; s[j] != s[i])j = pi[j - 1];\n        if (s[i] == s[j])j++;\n        pi[i] = j;\n    }\n}\n \nvector&lt;ll&gt;kmp(string s, string t) {\n    ll n = s.size(), m = t.size();\n    string cur = t + &quot;#&quot; + s; // æ‰¾sä¸­tçš„ä½ç½®\n    prefix(cur);\n    vector&lt;ll&gt;v;\n    for (ll i = m + 1;i &lt;= n + m + 1;i++) {\n        if (pi[i] == m)\n            v.push_back(i - (m + 1) - (m - 1));\n    }\n    return v;\n}\n \nint main() {\n    string s1, s2;\n    cin &gt;&gt; s1 &gt;&gt; s2;\n    vector&lt;ll&gt;v = kmp(s1, s2);\n    for (auto i : v) cout &lt;&lt; i + 1 &lt;&lt; &quot;\\n&quot;;\n    prefix(s2);\n    for (ll i = 0;i &lt; s2.size();i++) cout &lt;&lt; pi[i] &lt;&lt; &quot; &quot;;\n \n    return 0;\n}\nå¦ä¸€ä¸ªå…³äºKMPçš„é¢˜ï¼š[P4824 USACO15FEB] Censoring S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nä»£ç \nvoid solve() {\n    string s, t;cin &gt;&gt; s &gt;&gt; t;\n    ll n = t.size();\n    t = &quot; &quot; + t;\n    ll j = 0; // å‰ä¸€æ­¥åŒ¹é…çš„é•¿åº¦\n    for (ll i = 2;i &lt;= n;i++) {\n        while(j &amp;&amp; t[j + 1] != t[i])j = pi[j];\n        if (t[j + 1] == t[i])j++;\n        pi[i] = j;\n    }\n    ll m = s.size();\n    s = &quot; &quot; + s;\n    ll ans[m + 5];\n    ll p = 0;j = 0;\n    for (ll i = 1;i &lt;= m;i++) {\n        while(j &amp;&amp; s[i] != t[j + 1])j = pi[j];\n        if (s[i] == t[j + 1])j++;\n        fi[i] = j;\n        ans[++p] = i;\n        if (j == n) {\n            p -= n;\n            j = fi[ans[p]]; // è·³è½¬åˆ°åŒ¹é…tä¹‹å‰çš„åŒ¹é…é•¿åº¦\n        }\n    }\n    for (ll i = 1;i &lt;= p;i++) {\n        cout &lt;&lt; s[ans[i]];\n    }\n    cout &lt;&lt; endl;\n}\nè‡ªåŠ¨æœº\nåœ¨KMPä¸­ç”Ÿæˆs + &#039;#&#039; + tå‰ç¼€å‡½æ•°æ—¶ï¼Œå‰s + &#039;#&#039;çš„çŠ¶æ€äºtæ²¡æœ‰å…³ç³»ï¼Œè€Œs + &#039;#&#039; + tå¯ä»¥ç”±s + &#039;#&#039;çš„çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œå¦‚æœtä¸­åŒ…å«çš„å­—ç¬¦æ˜¯ä¸€å®šçš„ï¼Œæ¯”å¦‚çº¦å®šéƒ½æ˜¯å°å†™å­—æ¯ï¼Œåˆ™å¯ä»¥æ ¹æ®s + &#039;#&#039;æ¥æ„å»ºä¸€ä¸ªå…³äºä¸‹ä¸€ä½å­—ç¬¦çš„æœ‰é™çŠ¶æ€æœºï¼Œé€ä¸ªæ·»åŠ å­—ç¬¦å°±æ˜¯é€å»ºæ›´æ–°çŠ¶æ€ã€‚\nll pi[maxn];\n \nvoid prefix(string s) {\n    ll n = s.size();\n    s = &quot; &quot; + s;\n    ll j = 0;\n    for (ll i = 2;i &lt;= n;i++) {\n        while (j &amp;&amp; s[j + 1] != s[i])j = pi[j];\n        if (s[i] == s[j + 1])j++;\n        pi[i] = j;\n    }\n}\n \nvoid cmp_auto(string s, vector&lt;vector&lt;ll&gt;&gt;&amp; aut) {\n    s = s + &quot;#&quot;;\n    prefix(s);\n    ll n = s.size();\n    aut.assign(n, vector&lt;ll&gt;(26));\n    s = &quot; &quot; + s;\n    for (ll i = 1;i &lt;= n;i++) {\n        for (ll c = 0;c &lt; 26;c++) {\n            if (i &gt; 1 &amp;&amp; &#039;a&#039; + c != s[i])\n                aut[i][c] = aut[pi[i - 1] + 1][c];\n            else\n                aut[i][c] = i + (&#039;a&#039; + c == s[i]);\n        }\n    }\n}\næ•°ç»„aut[i][c]è¡¨ç¤ºåœ¨å‰iä¸ªå­—ç¬¦åŒ¹é…ä¸Šçš„æƒ…å†µä¸‹ï¼Œç¬¬i+1çš„å­—ç¬¦æ˜¯cæ—¶è¦è·³è½¬çš„çŠ¶æ€ï¼Œè¿™æ ·çš„è·³è½¬æ˜¯O(1)â€‹çš„ã€‚\nè¯•æ‰‹ä¾‹é¢˜ï¼šProblem - 808G - Codeforces\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e6 + 50;\nconst ll inf = 0x3f3f3f3f;\n \nll pi[maxn];\n \nvoid prefix(string s) {\n    ll n = s.size();\n    s = &quot; &quot; + s;\n    ll j = 0;\n    for (ll i = 2;i &lt;= n;i++) {\n        while (j &amp;&amp; s[j + 1] != s[i])j = pi[j];\n        if (s[i] == s[j + 1])j++;\n        pi[i] = j;\n    }\n}\nll aut[maxn][26];\nll dp[2][maxn];\nvoid solve() {\n    string s, t;cin &gt;&gt; s &gt;&gt; t;\n    t = t + &quot;#&quot;;\n    ll n = t.size();\n    ll m = s.size();\n    prefix(t);\n    // aut:å‰i-1ä½å·²ç»åŒ¹é…,æ ¹æ®t[i]ä¸cæ˜¯å¦ç›¸åŒ,æ›´æ–°æ¥ä¸‹æ¥ä¸cä¹‹åçš„é•¿åº¦\n    s = &quot; &quot; + s;t = &quot; &quot; + t;\n    for (ll i = 1;i &lt;= n;i++) {\n        for (ll c = 0;c &lt; 26;c++) {\n            if (i &gt; 1 &amp;&amp; &#039;a&#039; + c != t[i])\n                aut[i][c] = aut[pi[i - 1] + 1][c];\n            else\n                aut[i][c] = i + (&#039;a&#039; + c == t[i]);\n        }\n    }\n    // åœ¨t+&#039;#&#039;çš„çŠ¶æ€æœºä¸Šåœ¨sä¸Šç»§ç»­è½¬ç§»\n    memset(dp, -inf, sizeof(dp));\n    dp[0][1] = 0; // è¡¨ç¤ºåˆ°sçš„iä½,ä¸tåŒ¹é…é•¿åº¦ä¸ºjçš„æ¬¡æ•°\n    for (ll i = 1;i &lt;= m;i++) {\n        if (s[i] == &#039;?&#039;) {\n            for (ll j = 1;j &lt;= n;j++) {\n                for (ll c = 0;c &lt; 26;c++) {\n                    dp[i &amp; 1ll][aut[j][c]] = max(\n                        dp[i &amp; 1ll][aut[j][c]],\n                        dp[(i + 1ll) &amp; 1][j] + (aut[j][c] == n)\n                    );\n                }\n            }\n        }\n        else {\n            for (ll j = 1;j &lt;= n;j++) {\n                ll c = s[i] - &#039;a&#039;;\n                dp[i &amp; 1ll][aut[j][c]] = max(\n                    dp[i &amp; 1ll][aut[j][c]],\n                    dp[(i + 1ll) &amp; 1][j] + (aut[j][c] == n)\n                );\n            }\n        }\n        for (ll j = 1;j &lt;= n;j++)\n            dp[(i + 1ll) &amp; 1][j] = -inf;\n    }\n \n    ll ans = *max_element(dp[m &amp; 1ll] + 1, dp[m &amp; 1ll] + n + 1);\n    ans = max(0ll, ans);\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\nint main() {\n    int t = 1;\n    // cin &gt;&gt; t;cin.get();\n    while (t--)\n        solve();\n \n    return 0;\n}\nç»Ÿè®¡æ‰€æœ‰å‰ç¼€æ¬¡æ•°\nç»Ÿè®¡å¾…åŒ¹é…ä¸²sçš„æ‰€æœ‰å‰ç¼€åœ¨tä¸­å‡ºç°çš„æ¬¡æ•°ã€‚\nè€ƒè™‘\\pi[i]çš„ç”Ÿæˆï¼Œä¾ç„¶æ˜¯å‚ç…§è¿™é‡Œçš„æ¨å¯¼æ€è·¯ï¼Œå¯¹äºä½ç½®içš„å‰ç¼€å‡½æ•°å€¼\\pi[i]ï¼Œå¯çŸ¥é•¿åº¦å°äº\\pi[i]çš„æœ€é•¿çš„ä»¥s[i]ç»“å°¾çš„å‰ç¼€é•¿åº¦æ˜¯\\pi[\\pi[i]-1]ï¼Œä¹‹åæ˜¯\\pi[\\pi[\\pi[i]-1]-1]â€¦ï¼Œç›´åˆ°é•¿åº¦ä¸º0ï¼Œå› æ­¤s[0...i]çš„æ¯ä¸ªå‰ç¼€åœ¨tä¸­å‡ºç°çš„æ¬¡æ•°å¯ä»¥ç»Ÿè®¡è¿™æ ·çš„ä¼ é€’çš„æ¬¡æ•°ã€‚\nvector&lt;int&gt;cnt(n + 1); // é•¿åº¦ä¸ºiçš„å‰ç¼€å‡ºç°æ¬¡æ•°æ˜¯cnt[i]\nfor (int i = 0;i &lt; n;i++)cnt[pi[i]]++;\nfor (int i = n - 1;i &gt; 0;i--)cnt[pi[i - 1]] += cnt[i];\n// é•¿åº¦ä¸ºiçš„å‰ç¼€å‡ºç°äº†cnt[i]æ¬¡ï¼Œåˆ™é•¿åº¦ä¸ºpi[i-1]çš„å‰ç¼€è¦åŠ ä¸Šcnt[i]æ¬¡ï¼Œå› ä¸ºpi[i]æ˜¯åœ¨é•¿åº¦ä¸ºpi[i-1]çš„å‰ç¼€åŸºç¡€ä¸Š+1è€Œæ¥çš„\nfor (int i = 0;i &lt;= n;i++)cnt[i]++;\nä¸åŒæœ¬è´¨å­ä¸²è®¡æ•°\nç»™é•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²såæ·»åŠ ä¸€ä¸ªæ–°å­—ç¬¦cï¼Œç»™åŸæ¥çš„sçš„æ‰€æœ‰ä¸åŒå­ä¸²ååŠ cåï¼Œä¼šå‡ºç°ä¸€äº›ä»¥è¿™ä¸ªå­—ç¬¦cç»“å°¾çš„ä¹‹å‰æ²¡å‡ºç°è¿‡çš„å­ä¸²ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯è®¡æ•°æ¯æ¬¡åœ¨æœ«å°¾æ·»åŠ æ–°å­—ç¬¦ä¹‹åçš„å­—ç¬¦ä¸²çš„ä¸åŒæœ¬è´¨å­ä¸²æ•°ç›®ã€‚\nä¸¾ä¾‹ï¼ŒåŸä¸²Sæ˜¯abaï¼ŒåŸæ¥çš„å­ä¸²é›†åˆæ˜¯ï¼š[S]=\\\\{a,b,ab,ba\\\\}ï¼Œæ·»åŠ å­—ç¬¦xä¹‹åçš„æ–°ä¸²æ˜¯abaxï¼Œç”±äºæ·»åŠ xåæ²¡æœ‰å†ä¹‹å‰çš„å­ä¸²é›†åˆé‡Œçš„ä»»ä½•ä¸¤ä¸ªå­ä¸²s_1,s_2ä¸­å‡ºç°s_1+x=s_2çš„æƒ…å†µï¼Œé‚£ä¹ˆæ–°å‡ºç°çš„å­ä¸²æ•°ç›®å°±æ˜¯åŸé›†åˆ[S]çš„å…ƒç´ æ•°ç›®ã€‚å‡å¦‚æ·»åŠ çš„å­—ç¬¦æ˜¯bï¼Œæ–°ä¸²æ˜¯ababï¼Œé‚£ä¹ˆå°±ä¼šå‘ç°ï¼Œåœ¨åŸå­ä¸²é›†åˆæ·»åŠ å«æœ‰æ–°åŠ çš„bå‡ºç°çš„æ–°å¢åŠ çš„å…ƒç´ é›†åˆ[S&#039;]=\\\\{b,ab,bab\\\\}â€‹â€‹ä¸­\\\\{b,ab\\\\}ä¸åŸæœ‰å…ƒç´ å‡ºç°äº†é‡å¤ã€‚\næ€è·¯\nè€ƒè™‘åŸä¸²cbbcbæ·»åŠ äº†æ–°å­—ç¬¦åæ˜¯cbbcbxï¼Œè€ƒè™‘xåŠ å…¥åcbxæ˜¯å¦ä¸cbbç›¸åŒï¼Œæˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸²cbbcbxç¿»è½¬ä¸ºxbcbbcï¼Œå¯¹ç¿»è½¬åçš„å­—ç¬¦ä¸²è®¡ç®—å‰ç¼€å‡½æ•°ï¼Œè®°è¯¥å­—ç¬¦ä¸²å‰ç¼€å‡½æ•°çš„æœ€å¤§å€¼æ˜¯\\pi_{max}ï¼Œå‡è®¾\\pi_{max}=3ï¼Œåˆ™è¯¥æœ€å¤§å€¼å¯¹åº”çš„å‰ç¼€æ˜¯xbcï¼Œä¹Ÿå°±æ˜¯è¯´xbc=bbcï¼Œè¿™æ˜¯åŒ…å«xçš„æœ€é•¿çš„åŒ¹é…é•¿åº¦ï¼Œæ˜¾ç„¶ï¼Œxbcçš„å­ä¸²xã€xbã€xbcåœ¨bbcä¸­å¯¹åº”bã€bbã€bbcï¼Œå¤åŸä¸ºæ²¡æœ‰ç¿»è½¬å‰ï¼Œæ­£å¥½å°±æ˜¯æ·»åŠ æ–°å­—ç¬¦ä¹‹åçš„åŒ…å«æ–°å­—ç¬¦çš„å…ƒç´ é›†åˆä¸­ï¼Œä¸æœªåŠ æ–°å­—ç¬¦å‰çš„å­—ç¬¦ä¸²çš„å­ä¸²é›†åˆä¸­é‡å¤çš„å…ƒç´ ã€‚äºæ˜¯åœ¨æ·»åŠ æ–°å­—ç¬¦ä¹‹åï¼Œæ–°å‡ºç°çš„å­ä¸²æ•°ç›®å³ä¸º(|s_{\\text{åŸ} }|+1)-\\pi_{max}â€‹ã€‚\nå­—ç¬¦ä¸²å‹ç¼©\nå­—ç¬¦ä¸²å‹ç¼©æŒ‡çš„æ˜¯æ‰¾åˆ°æœ€çŸ­çš„é•¿åº¦kä½¿å¾—æ‰€æœ‰s[0...k-1]=s[k...2*k-1]=...=s[n-k...n-1]æˆç«‹ï¼ˆn\\bmod k=0â€‹ï¼‰ã€‚\nä¸¾ä¾‹å­—ç¬¦ä¸²abcabcå¯ä»¥è¢«å‹ç¼©ä¸ºabcã€ababababå¯ä»¥è¢«å‹ç¼©ä¸ºabã€‚æ˜¾ç„¶ï¼Œå‡è®¾å­—ç¬¦ä¸²så¯ä»¥è¢«å‹ç¼©è‡³é•¿åº¦kï¼Œåˆ™è¯¥å­—ç¬¦ä¸²çš„å‰ç¼€å‡½æ•°çš„æœ€åä¸€ä¸ªå€¼\\pi[n]ä¸€å®šæ˜¯n-kï¼Œï¼ˆæ³¨æ„å‰åç¼€æ˜¯çœŸå­ä¸²ï¼‰ï¼Œ\\pi[n]ä¸nç›¸å·®çš„é•¿åº¦åº”å½“æ­£å¥½æ˜¯ä¸€ä¸ªæœ€çŸ­å‹ç¼©ä¸²çš„é•¿åº¦ã€‚å› æ­¤ï¼Œç”±n-\\pi[n]å¾—åˆ°kï¼Œè‹¥n\\bmod k=0æˆç«‹ï¼Œåˆ™kå³ä¸ºå‹ç¼©åçš„é•¿åº¦ã€‚\nå­—ç¬¦ä¸²Hash\nå­—ç¬¦ä¸²å“ˆå¸Œçš„ä¸»è¦éš¾ç‚¹æ˜¯æ„é€ å“ˆå¸Œå‡½æ•°ã€‚\nå“ˆå¸Œçš„æ€§è´¨ï¼š\n\nHashå‡½æ•°å€¼ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šä¸ä¸€æ ·ã€‚\nHashå‡½æ•°å€¼ä¸€æ ·çš„æ—¶å€™ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²å¤§æ¦‚ç‡ä¸€æ ·ã€‚\n\nç¬¬äºŒæ¡ä¸»è¦æ˜¯å“ˆå¸Œç¢°æ’å¼•èµ·çš„ï¼Œå¯ä»¥å°è¯•ç”¨åŒå“ˆå¸Œé™ä½å“ˆå¸Œç¢°æ’çš„æ¦‚ç‡ã€‚\næ„é€ å“ˆå¸Œå‡½æ•°\né€šå¸¸æ˜¯å¤šé¡¹å¼å“ˆå¸Œï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºlçš„å­—ç¬¦ä¸²sï¼Œå¯ä»¥å®šä¹‰å®ƒçš„å¤šé¡¹å¼å“ˆå¸Œå‡½æ•°ä¸ºè¿™æ ·ï¼š\nf(s)=\\sum_{i=1}^ls[i]\\times b^{l-i}(\\bmod M)\næ¯”å¦‚å­—ç¬¦ä¸²xyzï¼Œå®ƒçš„å“ˆå¸Œå‡½æ•°å€¼å°±æ˜¯xb^2+yb+zï¼Œå°±åƒä¸€ä¸ªbè¿›åˆ¶çš„æ•°ä¸€æ ·ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åè¿‡æ¥ï¼Œå°†å“ˆå¸Œå‡½æ•°å®šä¹‰ä¸ºï¼š\nf(s)=\\sum_{i=1}^l s[i]\\times b^{i-1}(\\bmod M)\nç›¸åº”çš„ï¼Œxyzçš„å“ˆå¸Œå‡½æ•°å€¼å°±æ˜¯x+yb+cb^2â€‹ã€‚å®é™…ä½¿ç”¨çš„æ—¶å€™ä¸è¦æ··æ·†ã€‚\nå“ˆå¸Œç¢°æ’ä¸æƒ³ç®—äº†æˆ‘è¦å’•å’•å’•ã€‚\nå‚è€ƒä»£ç ï¼ˆåŠå…¶æœ´ç´ ï¼‰ï¼š\nll Hash(string s) {\n    ll ret = 0;\n    ll b = 1, n = s.size();\n    for (ll i = n - 1;i &gt;= 0;i--) {\n        ret += b * (ll)s[i];\n        b *= bas1;\n        ret %= mo;\n    }\n    return ret;\n}\nè€ƒè™‘åˆ°æ›´å¤šæ—¶å€™éœ€è¦é…åˆå­—ç¬¦ä¸²å­ä¸²çš„å“ˆå¸Œå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é¢„å¤„ç†å‡ºæ¯ä¸ªå‰ç¼€çš„å“ˆå¸Œå€¼ï¼Œè¿™æ ·å°±èƒ½å¿«é€Ÿæ±‚å¾—å­ä¸²çš„å“ˆå¸Œå€¼äº†ã€‚\nfor (ll i = 0;i &lt; ls;i++) {\n    h[i + 1] = h[i] * bas1 + s[i] - &#039;a&#039;;\n}\n// è·å¾—å­ä¸²s[p - len +1...p]çš„å“ˆå¸Œå€¼\nf(s[p - len + 1...p]) = h[p] - h[p - len] * pow(bas1, len);\nè¿˜æ˜¯è¿™ä¸ªé¢˜ï¼š[P4824 USACO15FEB] Censoring S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)\nåˆ©ç”¨å“ˆå¸Œè§£å†³ï¼š\nä»£ç \nll h[maxn];\n \nvoid solve() {\n    string s, t;cin &gt;&gt; s &gt;&gt; t;\n \n    ll ls = s.size(), lt = t.size();\n    ll hb = 0ll, b = 1ll;\n    for (ll i = 0;i &lt; lt;i++) {\n        hb = hb * bas1 + t[i] - &#039;a&#039;;\n        b *= bas1;\n    }\n \n \n    ll p = 0;\n    ll ans[ls + 5];\n    for (ll i = 0;i &lt; ls;i++) {\n        p++;\n        h[p] = h[p - 1] * bas1 + s[i] - &#039;a&#039;;\n        ans[p] = i;\n        if (p - lt &gt;= 0 &amp;&amp; h[p] - h[p - lt] * b == hb) {\n            p -= lt;\n        }\n    }\n    for (ll i = 1;i &lt;= p;i++) {\n        cout &lt;&lt; s[ans[i]];\n    }\n}"},"03-algorithm/topo":{"slug":"03-algorithm/topo","filePath":"03-algorithm/topo.md","title":"æ‹“æ‰‘æ’åº","links":[],"tags":["å›¾è®º","æ‹“æ‰‘æ’åº"],"content":"æ‹“æ‰‘æ’åº\nå‰æï¼šæ‹“æ‰‘æ’åºæ˜¯å¯¹æœ‰å‘æ— ç¯å›¾æ¥è¯´çš„ï¼Œæ— å‘å›¾ã€æœ‰ç¯å›¾éƒ½ä¸å­˜åœ¨æ‹“æ‰‘æ’åºã€‚\næ‹“æ‰‘æ’åºæ˜¯å°†å›¾Gä¸­çš„æ‰€æœ‰é¡¶ç‚¹æ’æˆä¸€ä¸ªçº¿æ€§åºåˆ—ï¼Œä½¿å¾—å¯¹äºä»»æ„ä¸€å †æœ‰è¾¹é¡¶ç‚¹&lt;u, v&gt;ï¼Œåœ¨çº¿æ€§åºåˆ—ä¸­ï¼Œuéƒ½å‡ºç°åœ¨vä¹‹å‰ã€‚\næ‹“æ‰‘æ’åºå¯ä»¥ååº”æŸç§æ–¹æ¡ˆæ˜¯å¦æ˜¯åˆ‡å®å¯è¡Œçš„ã€‚\nä¸€èˆ¬ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯æœ‰å‘å›¾æˆ‘ä»¬åˆ†æé¢˜æ„è¦æ±‚å°±èƒ½çŸ¥é“ï¼Œä½†æ˜¯ç©¶ç«Ÿæœ‰æ²¡æœ‰ç¯å­˜åœ¨ï¼Œå°±ä¸æ˜¯ç„ä¸€çœ¼å°±èƒ½å‘ç°çš„äº†ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶æ‹“æ‰‘æ’åºæ˜¯é’ˆå¯¹æœ‰å‘æ— ç¯å›¾è€Œè¨€çš„ä¸€ç§æ€§è´¨ï¼Œä½†æ˜¯åè¿‡æ¥ï¼Œä¸€ä¸ªæœ‰å‘å›¾æ˜¯å¦æœ‰æ‹“æ‰‘æ’åºï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥è§£å†³è¯¥å›¾æ˜¯å¦å­˜åœ¨ç¯ã€ä»¥åŠå­˜åœ¨å¤šå°‘ç¯ç­‰ç­‰é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æŸç§æ–¹æ¡ˆå¯ä¸å¯è¡Œã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä»£ç å­¦ä¹ å¦‚ä½•è·å¾—ä¸€ä¸ªæœ‰å‘å›¾çš„æ‹“æ‰‘æ’åºï¼š\nç®—æ³•æ€è·¯\næ‹“æ‰‘æ’åºä¸€å®šæ˜¯ä»å…¥åº¦ä¸º0çš„é¡¶ç‚¹å¼€å§‹çš„ï¼ˆå‡å¦‚å…¥åº¦ä¸ä¸º0ä¸å°±æ˜¯æœ‰ç‚¹è¦æ’åœ¨å®ƒçš„å‰é¢äº†å˜›qwqï¼‰ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬é€šè¿‡åˆ é™¤ç‚¹(åŠç”±è¯¥ç‚¹å‡ºå‘çš„æ‰€æœ‰è¾¹)çš„æ–¹æ³•å¯ä»¥ä¸æ–­æ›´æ–°åˆ¶ä½œæ‹“æ‰‘æ’åºæ—¶å½“å‰å›¾çš„çŠ¶æ€ï¼Œè¿™æ ·çš„æ­¥éª¤ä¸æ–­æ‰§è¡Œï¼Œç›´åˆ°å›¾ä¸­èƒ½åˆ çš„ç‚¹(å…¥åº¦ä¸º0çš„ç‚¹)éƒ½åˆ å…‰äº†ï¼Œæˆ‘ä»¬çš„ç¨‹åºå°±æ‰§è¡Œåˆ°äº†ç»ˆç‚¹ã€‚\nç¨‹åºå®ç°\næˆ‘ä»¬è¿˜æ˜¯ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å­˜å‚¨å›¾\nä½¿ç”¨é˜Ÿåˆ—æ¥è®°å½•æˆ‘ä»¬çš„æ‹“æ‰‘åºåˆ—ï¼ˆè¯´æ˜¯é˜Ÿåˆ—ä¸è¿‡å…¶å®è¿˜æ˜¯ä¸ªæ¯æ¬¡åªè¯»æœ«å°¾çš„æ•°ç»„å•¦ï¼Œä¹Ÿæ²¡ç”¨åˆ°queueå®¹å™¨qwqï¼‰\nå¯»æ‰¾æ‹“æ‰‘åºåˆ—æ ·ä¾‹ä»£ç ï¼š\n// è¦å…ˆç”¨ä¸€ä¸ªæ•°ç»„è®°å½•å„ä¸ªé¡¶ç‚¹æœ€åˆçš„å…¥åº¦ï¼Œè¿™ä¸ªæ•°ç»„å¯ä»¥åœ¨è¯»å…¥è¾¹æ•°æ®çš„æ—¶å€™è¿›è¡Œ++è®°å½•\n \nint queue[maxn];\nint iq = 0;\t// è¡¨ç¤ºå½“å‰é˜Ÿåˆ—é•¿åº¦ï¼Œèµ·å§‹å½“ç„¶æ˜¯0å•¦(æ‡’å¾—iq++ä¹Ÿå¯ä»¥ç›´æ¥æ‡’äººå‘é‡æ³•)\n \n// å…ˆå°†å›¾é‡Œå…¥åº¦ä¸º0çš„é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—\n// ç¬¬ä¸€å±‚å…¥åº¦ä¸º0çš„ç‚¹ï¼Œå…¶é¡ºåºå°±åªæ˜¯å­˜å‚¨é¡ºåºå†³å®šå“©ï¼Œè€Œä¸”ä¸é‡è¦(é™¤éæƒ³æ‰¾æ‰€æœ‰çš„æ‹“æ‰‘æ’åºqwq)\nfor (int i = 1;i &lt;= n;i++)\n    if (indegree[i] == 0)\n        queue[iq++] = i;\n \n// åˆ ç‚¹ï¼Œå¯¹é˜Ÿåˆ—åšæ›´æ–°\nfor (int i = 0;i &lt; iq;i++) {\n    // æŒ‰é˜Ÿåˆ—é¡ºåºåˆ ç‚¹åˆ è¾¹(ç»ˆç‚¹çš„å…¥åº¦--å°±ç®—åˆ æ‰è¿™æ¡è¾¹äº†)\n    for (int k = head[queue[i]];k != 0;k = Edge[k].next) {\n        indegree[Edge[k].to]--;\n        if (indegree[Edge[k].to] == 0)\n            queue[iq++] = Edge[k].to;\n    }\n}\nè¿™æ—¶å€™æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªåºåˆ—ï¼Œå…¶å®è¿™ä¸ªåºåˆ—æ— è®ºå¦‚ä½•éƒ½èƒ½å¾—åˆ°ï¼ˆç©ºåºåˆ—ä¹Ÿæ˜¯åºåˆ—ï¼ï¼‰ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥éœ€è¦åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦æ˜¯æ‹“æ‰‘åºåˆ—ï¼ŒåŒæ—¶ä¹Ÿå°±åˆ¤æ–­å‡ºå½“å‰çš„å›¾æ˜¯ä¸æ˜¯æœ‰å‘æ— ç¯å›¾å•¦ã€‚\nåˆ¤æ–­æ ·ä¾‹ä»£ç ï¼š\ncout &lt;&lt; &quot;iq=&quot; &lt;&lt; iq &lt;&lt; &quot; n=&quot; &lt;&lt; n &lt;&lt; endl;\n\tif (iq == n) {\n\t\tcout &lt;&lt; &quot;æœ‰æ‹“æ‰‘åºåˆ—ï¼š&quot; &lt;&lt; endl;\n\t\t\n\t\t// è¾“å‡ºæ‹“æ‰‘æ’åºåºåˆ—\n\t\tfor (int i = 0;i &lt; iq;i++)\n\t\t\tcout &lt;&lt; queue[i] &lt;&lt; &quot; &quot;;\n\t\tcout &lt;&lt; endl;\n\t}\n\telse {\n\t\tcout &lt;&lt; &quot;æ²¡æœ‰æ‹“æ‰‘åºåˆ—&quot; &lt;&lt; endl;\n\t}\nå‰é¢çš„è¾“å…¥æ ·ä¾‹æ˜¯ä¸ªæœ‰å‘æœ‰ç¯å›¾ï¼Œè¿™é‡Œæ·»åŠ ä¸€ç»„æœ‰å‘æ— ç¯å›¾çš„æ ·ä¾‹ç”¨äºå­¦ä¹ ï¼š\ngraph LR\nv1((v1))--5--&gt;v2((v2))\nv1((v1))--6--&gt;v3((v3))\nv2((v2))--9--&gt;v4((v4))\nv3((v3))--10--&gt;v5((v5))\nv3((v3))--4--&gt;v6((v6))\nv4((v4))--12--&gt;v6((v6))\nv5((v5))--6--&gt;v7((v7))\nv6((v6))--9--&gt;v7((v7))\nv7((v7))--24--&gt;v8((v8))\nv6((v6))--3--&gt;v8((v8))\n\n8 10\n1 2 5\n1 3 6\n2 4 9\n3 5 10\n3 6 4\n4 6 12\n5 7 6\n6 7 9\n6 8 3\n7 8 24\nå®Œæ•´ä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst long long maxn = 1e5 + 50, maxm = 1e7 + 50;\n \nstruct EdgeNode {\n\tint to;\t\t// ç»ˆç‚¹\n\tint w;\t\t// æƒå€¼\n\tint next;\t// ä¸‹ä¸€ä½ç½®\n};\n \nEdgeNode Edge[maxm];\nint head[maxn];\nint indegree[maxn];\n \nint main() {\n\tint n, m;\n\tcin &gt;&gt; n &gt;&gt; m;\n \n\t// åˆå§‹åŒ–head\n\tmemset(head, -1, sizeof(head));\t\t// åˆå§‹åŒ–ä¸º0åº”è¯¥ä¹Ÿå†‡é—®é¢˜ï¼Œåæ­£åªæ˜¯æ–¹ä¾¿æˆ‘ä»¬åˆ¤æ–­ç»ˆç‚¹å•¦ï¼Œæƒ³ç”¨å‘é‡ä¹Ÿè¡Œqwq\n \n\t// è¯»å…¥æ•°æ®\n\tfor (int i = 0;i &lt; m;i++) {\n\t\tint fi, ti, wi;\n\t\tcin &gt;&gt; fi &gt;&gt; ti &gt;&gt; wi;\n\t\tEdge[i].to = ti;\n\t\tEdge[i].w = wi;\n\t\t\n\t\tEdge[i].next = head[fi];\n\t\thead[fi] = i;\n \n\t\t// è®°å½•å„ä¸ªé¡¶ç‚¹çš„å…¥åº¦(å½“è¯¥ç‚¹æ˜¯ç»ˆç‚¹çš„æ—¶å€™++qwq)\n\t\tindegree[ti]++;\n\t}\n \n\t// è¦å…ˆç”¨ä¸€ä¸ªæ•°ç»„è®°å½•å„ä¸ªé¡¶ç‚¹æœ€åˆçš„å…¥åº¦ï¼Œè¿™ä¸ªæ•°ç»„å¯ä»¥åœ¨è¯»å…¥è¾¹æ•°æ®çš„æ—¶å€™è¿›è¡Œ++è®°å½•\n \n\tint queue[maxn];\n\tint iq = 0;\t// è¡¨ç¤ºå½“å‰é˜Ÿåˆ—é•¿åº¦ï¼Œèµ·å§‹å½“ç„¶æ˜¯0å•¦(æ‡’å¾—iq++ä¹Ÿå¯ä»¥ç›´æ¥æ‡’äººå‘é‡æ³•)\n \n\t// å…ˆå°†å›¾é‡Œå…¥åº¦ä¸º0çš„é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—\n\t// ç¬¬ä¸€å±‚å…¥åº¦ä¸º0çš„ç‚¹ï¼Œå…¶é¡ºåºå°±åªæ˜¯å­˜å‚¨é¡ºåºå†³å®šå“©ï¼Œè€Œä¸”ä¸é‡è¦(é™¤éæƒ³æ‰¾æ‰€æœ‰çš„æ‹“æ‰‘æ’åºqwq)\n\tfor (int i = 1;i &lt;= n;i++)\n\t\tif (indegree[i] == 0)\n\t\t\tqueue[iq++] = i;\n \n\t// åˆ ç‚¹ï¼Œå¯¹é˜Ÿåˆ—åšæ›´æ–°\n\tfor (int i = 0;i &lt; iq;i++) {\n\t\t// æŒ‰é˜Ÿåˆ—é¡ºåºåˆ ç‚¹åˆ è¾¹(ç»ˆç‚¹çš„å…¥åº¦--å°±ç®—åˆ æ‰è¿™æ¡è¾¹äº†)\n\t\tfor (int k = head[queue[i]];k != -1;k = Edge[k].next) {\n\t\t\tindegree[Edge[k].to]--;\n\t\t\tif (indegree[Edge[k].to] == 0)\n\t\t\t\tqueue[iq++] = Edge[k].to;\n\t\t}\n\t}\n \n\t// è¿™é‡Œå¯ä»¥åˆ¤æ–­æ˜¯å¦æœ‰ç¯å•¦ï¼Œå‡å¦‚æ­¤æ—¶iqçš„å€¼å°äºé¡¶ç‚¹çš„æ•°é‡nï¼Œä¸å°±æ˜¯è¯´æ˜æ¥ä¸‹æ¥æ²¡æ³•åˆ è¾¹äº†å˜›ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€åå‰©ä¸‹äº†ç¯ã€‚\n\tcout &lt;&lt; &quot;iq=&quot; &lt;&lt; iq &lt;&lt; &quot; n=&quot; &lt;&lt; n &lt;&lt; endl;\n\tif (iq == n) {\n\t\tcout &lt;&lt; &quot;æœ‰æ‹“æ‰‘åºåˆ—ï¼š&quot; &lt;&lt; endl;\n\t\t\n\t\t// è¾“å‡ºæ‹“æ‰‘æ’åºåºåˆ—\n\t\tfor (int i = 0;i &lt; iq;i++)\n\t\t\tcout &lt;&lt; queue[i] &lt;&lt; &quot; &quot;;\n\t\tcout &lt;&lt; endl;\n\t}\n\telse {\n\t\tcout &lt;&lt; &quot;æ²¡æœ‰æ‹“æ‰‘åºåˆ—&quot; &lt;&lt; endl;\n\t}\n \n\treturn 0;\n}\n \nè¯¥ç®—æ³•åœ¨O(m)çš„æ—¶é—´å†…å¯¹indegreeæ•°ç»„è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨O(n)æ—¶é—´å†…å¯¹queueè¿›è¡Œåˆå§‹åŒ–ï¼Œåé¢çš„éƒ¨åˆ†è™½ç„¶çœ‹èµ·æ¥æ˜¯ä¸¤å±‚å¾ªç¯ï¼Œä½†å®é™…ä¸Šæ˜¯mæ¡è¾¹å„éå†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦åªæœ‰O(m)è€Œå·²ï¼Œæ‰€ä»¥ä¸€å…±ä¹Ÿå°±O(m+n)çš„å¤æ‚åº¦ã€‚è¿˜æ˜¯å¾ˆå‹å¥½æ»´ã€‚"},"03-algorithm/training0":{"slug":"03-algorithm/training0","filePath":"03-algorithm/training0.md","title":"é˜Ÿå†…æ‹‰é¢˜è®°å½•||23.11.29","links":[],"tags":["ç®—æ³•"],"content":"å‰è¨€ç‚¹è¯„ï¼šæœ¬æ¬¡é¢˜ç›®éš¾åº¦ä¸é«˜\nA è·³çŸ³å¤´\n\n[NOIP2015 æé«˜ç»„] è·³çŸ³å¤´\né¢˜ç›®èƒŒæ™¯\nNOIP2015 Day2T1\né¢˜ç›®æè¿°\nä¸€å¹´ä¸€åº¦çš„â€œè·³çŸ³å¤´â€æ¯”èµ›åˆè¦å¼€å§‹äº†ï¼\nè¿™é¡¹æ¯”èµ›å°†åœ¨ä¸€æ¡ç¬”ç›´çš„æ²³é“ä¸­è¿›è¡Œï¼Œæ²³é“ä¸­åˆ†å¸ƒç€ä¸€äº›å·¨å¤§å²©çŸ³ã€‚ç»„å§”ä¼šå·²ç»é€‰æ‹©å¥½äº†ä¸¤å—å²©çŸ³ä½œä¸ºæ¯”èµ›èµ·ç‚¹å’Œç»ˆç‚¹ã€‚åœ¨èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´ï¼Œæœ‰ N å—å²©çŸ³ï¼ˆä¸å«èµ·ç‚¹å’Œç»ˆç‚¹çš„å²©çŸ³ï¼‰ã€‚åœ¨æ¯”èµ›è¿‡ç¨‹ä¸­ï¼Œé€‰æ‰‹ä»¬å°†ä»èµ·ç‚¹å‡ºå‘ï¼Œæ¯ä¸€æ­¥è·³å‘ç›¸é‚»çš„å²©çŸ³ï¼Œç›´è‡³åˆ°è¾¾ç»ˆç‚¹ã€‚\nä¸ºäº†æé«˜æ¯”èµ›éš¾åº¦ï¼Œç»„å§”ä¼šè®¡åˆ’ç§»èµ°ä¸€äº›å²©çŸ³ï¼Œä½¿å¾—é€‰æ‰‹ä»¬åœ¨æ¯”èµ›è¿‡ç¨‹ä¸­çš„æœ€çŸ­è·³è·ƒè·ç¦»å°½å¯èƒ½é•¿ã€‚ç”±äºé¢„ç®—é™åˆ¶ï¼Œç»„å§”ä¼šè‡³å¤šä»èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´ç§»èµ° M å—å²©çŸ³ï¼ˆä¸èƒ½ç§»èµ°èµ·ç‚¹å’Œç»ˆç‚¹çš„å²©çŸ³ï¼‰ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° L,N,Mï¼Œåˆ†åˆ«è¡¨ç¤ºèµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»ï¼Œèµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´çš„å²©çŸ³æ•°ï¼Œä»¥åŠç»„å§”ä¼šè‡³å¤šç§»èµ°çš„å²©çŸ³æ•°ã€‚ä¿è¯ L \\geq 1 ä¸” N \\geq M \\geq 0ã€‚\næ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œç¬¬ i è¡Œçš„æ•´æ•° D_i\\,( 0 &lt; D_i &lt; L)ï¼Œ è¡¨ç¤ºç¬¬ i å—å²©çŸ³ä¸èµ·ç‚¹çš„è·ç¦»ã€‚è¿™äº›å²©çŸ³æŒ‰ä¸èµ·ç‚¹è·ç¦»ä»å°åˆ°å¤§çš„é¡ºåºç»™å‡ºï¼Œä¸”ä¸ä¼šæœ‰ä¸¤ä¸ªå²©çŸ³å‡ºç°åœ¨åŒä¸€ä¸ªä½ç½®ã€‚\nè¾“å‡ºæ ¼å¼\nä¸€ä¸ªæ•´æ•°ï¼Œå³æœ€çŸ­è·³è·ƒè·ç¦»çš„æœ€å¤§å€¼ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n25 5 2\n2\n11\n14\n17\n21\næ ·ä¾‹è¾“å‡º #1\n4\næç¤º\nè¾“å…¥è¾“å‡ºæ ·ä¾‹ 1 è¯´æ˜\nå°†ä¸èµ·ç‚¹è·ç¦»ä¸º 2 å’Œ 14 çš„ä¸¤ä¸ªå²©çŸ³ç§»èµ°åï¼Œæœ€çŸ­çš„è·³è·ƒè·ç¦»ä¸º 4ï¼ˆä»ä¸èµ·ç‚¹è·ç¦» 17 çš„å²©çŸ³è·³åˆ°è·ç¦» 21 çš„å²©çŸ³ï¼Œæˆ–è€…ä»è·ç¦» 21 çš„å²©çŸ³è·³åˆ°ç»ˆç‚¹ï¼‰ã€‚\næ•°æ®è§„æ¨¡ä¸çº¦å®š\nå¯¹äº 20\\%çš„æ•°æ®ï¼Œ0 \\le M \\le N \\le 10ã€‚\nå¯¹äº 50\\% çš„æ•°æ®ï¼Œ0 \\le M \\le N \\le 100ã€‚\nå¯¹äº 100\\% çš„æ•°æ®ï¼Œ0 \\le M \\le N \\le 50000,1 \\le L \n\\le 10^9ã€‚\n\nåˆ†æ\nå‚è€ƒä»£ç \n \nB Secret Sport\n\nSecret Sport\né¢˜é¢ç¿»è¯‘\né¢˜ç›®å¤§æ„\nA,B ä¸¤äººç©æ¸¸æˆï¼Œæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š\næ•´åœºæ¸¸æˆæœ‰å¤šè½®ï¼Œæ¯è½®æ¸¸æˆå…ˆèƒœ X å±€çš„äººè·èƒœï¼Œæ¯åœºæ¸¸æˆå…ˆèƒœ Y å±€çš„äººè·èƒœã€‚\nä½ åœ¨åœºè¾¹è§‚çœ‹äº†æ¯”èµ›ï¼Œä½†æ˜¯ä½ å¿˜è®°äº† X å’Œ Y ï¼Œåªè®°å¾—æ€»å…±æ¯”äº† 1 \\le n \\le 20 å±€ï¼Œå’Œæ¯å±€è·èƒœçš„äººï¼Œè¯·åˆ¤æ–­è°è·èƒœäº†ã€‚å¦‚æœ A è·èƒœï¼Œè¾“å‡º A ï¼Œå¦‚æœ B è·èƒœï¼Œè¾“å‡º B ï¼Œå¦‚æœéƒ½æœ‰å¯èƒ½ï¼Œè¾“å‡º ? ã€‚\né¢˜ç›®æè¿°\nLetâ€™s consider a game in which two players, A and B, participate. This game is characterized by two positive integers, X and Y .\nThe game consists of sets, and each set consists of plays. In each play, exactly one of the players, either A or B, wins. A set ends exactly when one of the players reaches X wins in the plays of that set. This player is declared the winner of the set. The players play sets until one of them reaches Y wins in the sets. After that, the game ends, and this player is declared the winner of the entire game.\nYou have just watched a game but didnâ€™t notice who was declared the winner. You remember that during the game, n plays were played, and you know which player won each play. However, you do not know the values of X and Y . Based on the available information, determine who won the entire game â€” A or B. If there is not enough information to determine the winner, you should also report it.\nè¾“å…¥æ ¼å¼\nEach test contains multiple test cases. The first line contains a single integer t (1 \\leq t \\leq 10^4) - the number of test cases. The description of the test cases follows.\nThe first line of each test case contains an integer n (1 \\leq n \\leq 20) - the number of plays played during the game.\nThe second line of each test case contains a string s of length n , consisting of characters \\texttt{A} and \\texttt{B} . If s_i = \\texttt{A} , it means that player A won the i -th play. If s_i = \\texttt{B} , it means that player B won the i -th play.\nIt is guaranteed that the given sequence of plays corresponds to at least one valid game scenario, for some values of X and Y .\nè¾“å‡ºæ ¼å¼\nFor each test case, output:\n\n\\texttt{A} â€” if player A is guaranteed to be the winner of the game.\n\\texttt{B} â€” if player B is guaranteed to be the winner of the game.\n\\texttt{?} â€” if it is impossible to determine the winner of the game.\n\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n7\n5\nABBAA\n3\nBBB\n7\nBBAAABA\n20\nAAAAAAAABBBAABBBBBAB\n1\nA\n13\nAAAABABBABBAB\n7\nBBBAAAA\næ ·ä¾‹è¾“å‡º #1\nA\nB\nA\nB\nA\nB\nA\næç¤º\nIn the first test case, the game could have been played with parameters X = 3 , Y = 1 . The game consisted of 1 set, in which player A won, as they won the first 3 plays. In this scenario, player A is the winner. The game could also have been played with parameters X = 1 , Y = 3 . It can be shown that there are no such X and Y values for which player B would be the winner.\nIn the second test case, player B won all the plays. It can be easily shown that in this case, player B is guaranteed to be the winner of the game.\nIn the fourth test case, the game could have been played with parameters X = 3 , Y = 3 :\n\nIn the first set, 3 plays were played: AAA. Player A is declared the winner of the set.\nIn the second set, 3 plays were played: AAA. Player A is declared the winner of the set.\nIn the third set, 5 plays were played: AABBB. Player B is declared the winner of the set.\nIn the fourth set, 5 plays were played: AABBB. Player B is declared the winner of the set.\nIn the fifth set, 4 plays were played: BBAB. Player B is declared the winner of the set.\n\nIn total, player B was the first player to win 3 sets. They are declared the winner of the game.\n\nåˆ†æ\næ ¹æ®é¢˜æ„ï¼Œå…¶å®æ¯æ¬¡éƒ½æ˜¯èµ›åˆ°å‡ºç°ç»“æœäº†æ‰ç»“æŸï¼Œæ‰€ä»¥æ¯æ¬¡çš„æœ€åä¸€å±€çš„èƒœè´Ÿå…¶å®å°±æ˜¯æ•´åœºæ¸¸æˆçš„èƒœè´Ÿã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 3e4 + 20;\nint p[maxn];\n \nint n;\nstring s;\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; s;\n    cout &lt;&lt; s.back() &lt;&lt; endl;\n}\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while(t--)\n        solve();\n \n    return 0;\n}\nC ä¼—æ•°\n\n[THUPC 2023 åˆèµ›] ä¼—æ•°\né¢˜ç›®æè¿°\nä½ æœ‰è‹¥å¹²ä¸ª [1,n] å†…çš„æ­£æ•´æ•°ï¼šå¯¹äº 1 \\le i \\le nï¼Œä½ æœ‰ a_i ä¸ªæ•´æ•° iã€‚è®¾ S = \\sum_{i=1}^n a_iã€‚\nå¯¹äºä¸€ä¸ªåºåˆ— p_1,p_2,\\cdots,p_lï¼Œå®šä¹‰å…¶ä¼—æ•° \\text{maj}(p_1,p_2,\\cdots,p_l) ä¸ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°ã€‚è‹¥æœ‰å¤šä¸ªæ•°å‡ºç°æ¬¡æ•°æœ€å¤šï¼Œåˆ™å…¶ä¸­æœ€å¤§çš„æ•°ä¸ºå…¶ä¼—æ•°ã€‚\nç°åœ¨ä½ éœ€è¦æŠŠè¿™ S ä¸ªæ•°æ’æˆä¸€ä¸ªåºåˆ— b_1,b_2,\\cdots,b_Sï¼Œä½¿å¾— \\sum_{i=1}^S \\text{maj}(b_1,b_2,\\cdots,b_i) æœ€å¤§ã€‚è¾“å‡ºè¯¥æœ€å¤§å€¼ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° nï¼Œè¡¨ç¤ºå€¼åŸŸã€‚\næ¥ä¸‹æ¥ä¸€è¡Œ n ä¸ªæ­£æ•´æ•° a_1,a_2,\\cdots,a_nï¼Œè¡¨ç¤ºæ¯ç§æ•°çš„ä¸ªæ•°ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°è¡¨ç¤º \\sum_{i=1}^S \\text{maj}(b_1,b_2,\\cdots,b_i) çš„æœ€å¤§å€¼ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n3\n1 3 2\næ ·ä¾‹è¾“å‡º #1\n17\næç¤º\næ ·ä¾‹è§£é‡Š 1\nä¸€ä¸ªè¾¾åˆ°æœ€å¤§å€¼çš„åºåˆ—ä¸º (3,2,3,1,2,2)ã€‚\næ•°æ®èŒƒå›´\nå¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ1 \\le n \\leq 10^5ï¼Œ1 \\le a_1,a_2,\\cdots,a_n \\le 10^5ã€‚\né¢˜ç›®æ¥æº\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰åˆèµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023-Pre æŸ¥çœ‹ã€‚\n\nåˆ†æ\nè´ªå¿ƒï¼Œè¦è®©è¾ƒå¤§çš„æ•°ä½œä¸ºä¼—æ•°çš„æ¬¡æ•°æœ€å¤šã€‚\næ„é€ æ’åˆ—æ—¶æŒ‰ç…§ n~1 çš„é¡ºåºæ’ä¸‹å»ï¼Œæ¯æ¬¡å…ˆæ’åˆ—å°½é‡æ»¡è¶³ä¸Šè¿°æƒ³æ³•çš„æ•°ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1e5 + 20;\nll a[maxn], prea[maxn];\nint main() {\n    int n;cin &gt;&gt; n;\n    for (int i = 1;i &lt;= n;i++) {\n        cin &gt;&gt; a[i];\n    }\n    ll num = 1;\n    ll ans = 0;\n    // prea[a[i]]:ä¼—æ•°æ•°é‡ä¸ºa[i]æ—¶ï¼Œå½“å‰ä¼—æ•°iä½œä¸ºä¼—æ•°å¯¹ç»“æœçš„è´¡çŒ®\n    for (int i = n;i &gt; 0;i--) {\n        while (num &lt;= a[i]) {\n            prea[num] = prea[num - 1] + i;\n            num++;\n        }\n        ans += prea[a[i]];\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n \n    return 0;\n}\n \nD å¤§çº²\n\n[THUPC 2023 å†³èµ›] å¤§çº²\né¢˜ç›®æè¿°\nå° Iã€å° O å’Œå° N æ˜¯ ION å¤§çº²çš„ç¼–å†™è€…ï¼Œå° I è´Ÿè´£ç»™æ¯ä¸ªçŸ¥è¯†ç‚¹å®šéš¾åº¦ã€‚\nION å¤§çº²è®¡åˆ’åˆ—å…¥ n ä¸ªçŸ¥è¯†ç‚¹ï¼Œå…¶ä¸­å° I æŒ‰ç…§è‡ªå·±çš„è®¤è¯†ç»™å…¶ä¸­éƒ¨åˆ†çŸ¥è¯†ç‚¹å®šå¥½äº†éš¾åº¦ï¼Œè¿˜æœ‰éƒ¨åˆ†çŸ¥è¯†ç‚¹æ²¡æœ‰å®šéš¾åº¦ã€‚\nçŸ¥è¯†ç‚¹ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œè¿™ä¸ªä¾èµ–å…³ç³»æ°å¥½æ„æˆäº†ä¸€æ£µä»¥ 1 ä¸ºæ ¹çš„å¤–å‘æ ‘ï¼ŒçŸ¥è¯†ç‚¹ x æŒ‡å‘çŸ¥è¯†ç‚¹ y è¡¨ç¤º x ä¾èµ– yã€‚ä¾èµ–å…³ç³»ä¸å…·æœ‰ä¼ é€’æ€§ã€‚\nä½ éœ€è¦å‘Šè¯‰å° I ç›®å‰ç¡®å®šä¸‹æ¥çš„éš¾åº¦æ˜¯å¦åˆç†ã€‚æˆ‘ä»¬è®¤ä¸ºç¡®å®šä¸‹æ¥çš„éš¾åº¦æ˜¯åˆç†çš„å½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ªç»™æ‰€æœ‰æœªç¡®å®šéš¾åº¦çš„çŸ¥è¯†ç‚¹ç¡®å®šéš¾åº¦çš„æ–¹å¼ï¼Œä½¿å¾—ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶æˆç«‹ï¼š\n\næ¯ä¸ªçŸ¥è¯†ç‚¹çš„éš¾åº¦éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼›\nå¯¹äºæ¯ä¸ªä¾èµ–å…¶ä»–çŸ¥è¯†ç‚¹çš„çŸ¥è¯†ç‚¹ xï¼Œè®¾ \\max_x ä¸º x ä¾èµ–çš„çŸ¥è¯†ç‚¹ä¸­éš¾åº¦çš„æœ€å¤§å€¼ï¼Œåˆ™å¦‚æœ x æ°ä¾èµ–ä¸€ä¸ªéš¾åº¦ä¸º \\max_x çš„çŸ¥è¯†ç‚¹ï¼Œé‚£ä¹ˆçŸ¥è¯†ç‚¹ x çš„éš¾åº¦ä¸º \\max_xï¼Œå¦åˆ™ä¸º \\max_x+1ã€‚å¯¹äºä¸ä¾èµ–å…¶ä»–çŸ¥è¯†ç‚¹çš„çŸ¥è¯†ç‚¹ï¼Œæ²¡æœ‰å…¶ä»–é™åˆ¶ã€‚\n\nè¾“å…¥æ ¼å¼\næœ¬é¢˜æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° T è¡¨ç¤ºæµ‹è¯•æ•°æ®ç»„æ•°ï¼Œæ¥ä¸‹æ¥ä¾æ¬¡è¯»å…¥æ¯ç»„æµ‹è¯•æ•°æ®ã€‚\nå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œ\n\nç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° n è¡¨ç¤ºçŸ¥è¯†ç‚¹æ•°é‡ã€‚\nç¬¬äºŒè¡Œ n ä¸ªæ•´æ•° a_1,a_2,\\cdots,a_nï¼Œæè¿°æ¯ä¸ªçŸ¥è¯†ç‚¹çš„éš¾åº¦ã€‚è‹¥ a_i = -1 è¡¨ç¤ºçŸ¥è¯†ç‚¹ i æœªç¡®å®šéš¾åº¦ï¼Œå¦åˆ™çŸ¥è¯†ç‚¹ i çš„éš¾åº¦ç¡®å®šä¸º a_iã€‚\næ¥ä¸‹æ¥ n-1 è¡Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° u,vï¼Œè¡¨ç¤ºä¾èµ–å…³ç³»æ„æˆçš„å¤–å‘æ ‘ä¸­çš„ä¸€æ¡æœ‰å‘è¾¹ã€‚\n\nè¾“å‡ºæ ¼å¼\nå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºä¸€è¡Œï¼šè‹¥éš¾åº¦æ˜¯åˆç†çš„ï¼Œè¾“å‡º Reasonableï¼Œå¦åˆ™è¾“å‡º Unreasonableã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n2\n3\n0 -1 0\n1 2\n2 3\n3\n0 -1 0\n1 2\n1 3\næ ·ä¾‹è¾“å‡º #1\nReasonable\nUnreasonable\næç¤º\næ ·ä¾‹ 1 è§£é‡Š\nå¯¹äºç¬¬ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œå°†çŸ¥è¯†ç‚¹ 2 çš„éš¾åº¦å®šä¸º 0 å³æ»¡è¶³æ¡ä»¶ã€‚\nå¯¹äºç¬¬äºŒç»„æµ‹è¯•æ•°æ®ï¼Œæ— è®ºå¦‚ä½•æŒ‡å®šçŸ¥è¯†ç‚¹ 2 çš„éš¾åº¦ï¼ŒçŸ¥è¯†ç‚¹ 1 çš„éš¾åº¦ä¼šäº§ç”ŸçŸ›ç›¾ã€‚\næ•°æ®è§„æ¨¡ä¸çº¦å®š\nå¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ1 \\le T \\le 10^5ï¼Œ2 \\le n \\le 10^5ï¼Œ-1 \\le a_i \\le 10^9ï¼Œ1 \\le u,v \\le nã€‚\nä¿è¯å•ä¸ªæµ‹è¯•ç‚¹ä¸­æ‰€æœ‰æµ‹è¯•æ•°æ®çš„ n çš„å’Œä¸è¶…è¿‡ 2 \\times 10^5ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®è¾“å…¥çš„æ‰€æœ‰è¾¹æ„æˆä¸€æ£µä»¥ 1 ä¸ºæ ¹çš„å¤–å‘æ ‘ã€‚\nåè®°\nå¤§çº²å‘è¡¨äº†ã€‚è‹¥å¹²å¤©åï¼Œå° I ç»™ ION æ¯”èµ›æŠ•é¢˜ï¼Œå´å‘ç°æœ‰äººå·å·æ”¹äº†ä¸€ç¬”éš¾åº¦è¡¨ï¼Œå¯¼è‡´ä»–çš„é¢˜ç›®è¶…çº²ã€‚äºæ˜¯å° I åªèƒ½æŠŠé¢˜æŠ•ç»™ CPUHTã€‚\né¢˜ç›®æ¥æº\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰å†³èµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023 æŸ¥çœ‹ã€‚\n\nåˆ†æ\nå‚è€ƒä»£ç \n \nE Chip and Ribbon\n\nChip and Ribbon\né¢˜é¢ç¿»è¯‘\næ¯æ¬¡å¯ä»¥åœ¨ä¸€æ®µé•¿åº¦ä¸º nï¼Œåˆå§‹å€¼éƒ½ä¸º 0 çš„åºåˆ—ä¸­é€‰å–ä¸€æ®µè¿ç»­åŒºé—´ï¼Œå¹¶å°†åŒºé—´å†…æ‰€æœ‰å…ƒç´ åŠ  1ï¼Œæ±‚æœ€å°‘æ“ä½œæ•°ä½¿å¾—è¯¥åºåˆ—ä¸é¢˜ç›®æ‰€ç»™çš„åºåˆ—æ‰€æœ‰å…ƒç´ ç›¸åŒï¼Œè¾“å‡ºæœ€å°‘æ“ä½œæ•°å‡ 1ã€‚\né¢˜ç›®æè¿°\nThere is a ribbon divided into n cells, numbered from 1 to n from left to right. Initially, an integer 0 is written in each cell.\nMonocarp plays a game with a chip. The game consists of several turns. During the first turn, Monocarp places the chip in the 1 -st cell of the ribbon. During each turn except for the first turn, Monocarp does exactly one of the two following actions:\n\nmove the chip to the next cell (i. e. if the chip is in the cell i , it is moved to the cell i+1 ). This action is impossible if the chip is in the last cell;\nchoose any cell x and teleport the chip into that cell. It is possible to choose the cell where the chip is currently located.\n\nAt the end of each turn, the integer written in the cell with the chip is increased by 1 .\nMonocarpâ€™s goal is to make some turns so that the 1 -st cell contains the integer c_1 , the 2 -nd cell contains the integer c_2 , â€¦, the n -th cell contains the integer c_n . He wants to teleport the chip as few times as possible.\nHelp Monocarp calculate the minimum number of times he has to teleport the chip.\nè¾“å…¥æ ¼å¼\nThe first line contains one integer t ( 1 \\le t \\le 10^4 ) â€” the number of test cases.\nEach test case consists of two lines:\n\nthe first line contains one integer n ( 1 \\le n \\le 2 \\cdot 10^5 );\nthe second line contains n integers c_1, c_2, \\dots, c_n ( 0 \\le c_i \\le 10^9 ; c_1 \\ge 1 ).\n\nIt can be shown that under these constraints, it is always possible to make a finite amount of turns so that the integers in the cells match the sequence c_1, c_2, \\dots, c_n .\nAdditional constraint on the input: the sum of values of n over all test cases does not exceed 2 \\cdot 10^5 .\nè¾“å‡ºæ ¼å¼\nFor each test case, print one integer â€” the minimum number of times Monocarp has to teleport the chip.\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n4\n4\n1 2 2 1\n5\n1 0 1 0 1\n5\n5 4 3 2 1\n1\n12\næ ·ä¾‹è¾“å‡º #1\n1\n2\n4\n11\næç¤º\nIn the first test case of the example, Monocarp can perform the turns as follows:\n\nplace the chip in the 1 -st cell; the numbers in the cells are [1, 0, 0, 0] ;\nmove the chip to the next ( 2 -nd) cell; the numbers in the cells are [1, 1, 0, 0] ;\nmove the chip to the next ( 3 -rd) cell; the numbers in the cells are [1, 1, 1, 0] ;\nteleport the chip to the 2 -nd cell; the numbers in the cells are [1, 2, 1, 0] ;\nmove the chip to the next ( 3 -rd) cell; the numbers in the cells are [1, 2, 2, 0] ;\nmove the chip to the next ( 4 -th) cell; the numbers in the cells are [1, 2, 2, 1] .\n\n\nåˆ†æ\nä»¤è¿ç»­çš„ä¸‹ä¸€ cell å†…æ•°å­—åŠ ä¸€çš„æ“ä½œæ•°æ˜¯ä¸é™çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›®çš„å°±å˜æˆäº†ç”»å¤šå°‘æ¡è¿™æ ·çš„è¿ç»­çš„â€œçº¿â€ï¼Œèƒ½è¾¾åˆ°æœ€ç»ˆçš„ç›®çš„ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š\n\nåœ¨ä»£ç å®ç°çš„æ—¶å€™ï¼Œåªè¦åä¸€ä½çš„é«˜åº¦é«˜äºå‰ä¸€ä½ï¼Œé‚£ä¹ˆå°±éœ€è¦å¢åŠ ï¼šåä¸€ä½é«˜åº¦-å‰ä¸€ä½é«˜åº¦ è¿™ä¹ˆå¤šçš„çº¿ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹ï¼š\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 2e5 + 20;\nll a[maxn];\nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int n;cin &gt;&gt; n;\n        ll ans = 0;\n        for (int i = 1;i &lt;= n;i++) {\n            cin &gt;&gt; a[i];\n            if (a[i] &gt; a[i - 1])\n                ans += a[i] - a[i - 1];\n        }\n        cout &lt;&lt; ans - 1 &lt;&lt; endl;\n    }\n \n    return 0;\n}\n \nF ç€è‰²\n\n[THUPC 2023 å†³èµ›] ç€è‰²\né¢˜ç›®èƒŒæ™¯\nè¿œå¤çš„ç¬”è¿¹ï¼Œè¿œå¤çš„ä¹éŸ³ï¼Œè¿œå¤çš„å†å²ï¼Œè¿œå¤çš„ K_{1000}ï¼Œè‹¥æ— äººé—®æ´¥ï¼Œä¾¿æ‚„ç„¶è¤ªè‰²â€¦â€¦\né¢˜ç›®æè¿°\nç»™å‡ºä¸€ä¸ª n ä¸ªèŠ‚ç‚¹çš„æ— å‘å®Œå…¨å›¾ï¼Œä½ éœ€è¦ç»™æ¯æ¡è¾¹æ ‡ä¸Šä¸€ä¸ª 0 \\sim 9 çš„æ•°å­—ï¼Œä½¿å¾—å›¾ä¸Šä¸å­˜åœ¨ä¸€ä¸ªä¸‰å…ƒç¯æˆ–äº”å…ƒç¯æ»¡è¶³ï¼šå…¶ä¸Šæ‰€æœ‰è¾¹çš„æ•°å­—ç›¸åŒã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥ä»…ä¸€è¡Œä¸€ä¸ªæ•´æ•° n è¡¨ç¤ºå›¾çš„èŠ‚ç‚¹æ•°ã€‚\nè¾“å‡ºæ ¼å¼\nå¦‚æœä¸å­˜åœ¨æ–¹æ¡ˆï¼Œè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•° -1ã€‚å¦åˆ™è¾“å‡º (n-1) è¡Œï¼Œç¬¬ i è¡Œ (n-i) ä¸ªå­—ç¬¦ï¼Œç¬¬ i è¡Œçš„ç¬¬ j ä¸ªå­—ç¬¦è¡¨ç¤º (i,i+j) çš„æ ‡å·ã€‚è‹¥æœ‰å¤šä¸ªæ–¹æ¡ˆï¼Œè¾“å‡ºä»»æ„ä¸€ä¸ªå³å¯ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n4\næ ·ä¾‹è¾“å‡º #1\n012\n34\n5\næç¤º\næ•°æ®è§„æ¨¡ä¸çº¦å®š\nå¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ2 \\le n \\le 1000ã€‚\né¢˜ç›®æ¥æº\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰å†³èµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023 æŸ¥çœ‹ã€‚\n\nåˆ†æ\nå‚è€ƒä»£ç \n \nG Treasure Chest\n\nTreasure Chest\né¢˜é¢ç¿»è¯‘\né¢˜ç›®æè¿°\nç»™ä½ ä¸€ä¸ªæ•°è½´ï¼Œä¸€å¼€å§‹ä½ çš„ä½ç½®ä¸º 0ï¼Œç®±å­åœ¨ x å¤„ï¼Œé’¥åŒ™åœ¨ y å¤„ï¼Œx\\neq yã€‚ä½ éœ€è¦é€šè¿‡ä¸€äº›æ“ä½œæ‰“å¼€å®ç®±ã€‚\nå½“ä½ç½®ä¸º i æ—¶ï¼Œä½ èƒ½æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n\nèŠ±è´¹ 1 ç§’ï¼Œèµ°å‘ i+1 æˆ– i-1ï¼›\nèŠ±è´¹ 0 ç§’ï¼Œæ‹¿èµ· i å¤„çš„é’¥åŒ™æˆ–ç®±å­ï¼Œå¦‚æœæ­¤å¤„æœ‰çš„è¯ï¼›\nèŠ±è´¹ 0 ç§’ï¼Œåœ¨ i å¤„æ”¾ä¸‹ç®±å­ï¼›\nèŠ±è´¹ 0 ç§’ï¼Œæ‰“å¼€å®ç®±ï¼Œå¦‚æœç®±å­åœ¨ i å¤„ä¸”ä½ æ‹¿ç€é’¥åŒ™çš„è¯ã€‚\n\nå¦å¤–ç»™å‡ºé™åˆ¶ï¼šå› ä¸ºç®±å­å¾ˆé‡ï¼Œæ‰€ä»¥åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ‰›ç€ç®±å­çš„æ—¶é—´ä¸å¾—è¶…è¿‡ k ç§’ï¼ˆæ”¾ä¸‹å†æ‹¿èµ·ç®±å­ä¸ä¼šä½¿å…¶é‡ç½®ï¼‰ã€‚\nç°åœ¨ç»™å®š x,y,kï¼Œè¯·é—®ä½ æ‰“å¼€ç®±å­çš„æœ€çŸ­ç”¨æ—¶ä¸ºå¤šå°‘ï¼Ÿ\næ¯ä¸ªæµ‹è¯•ç‚¹é‡‡ç”¨å¤šç»„æ•°æ®æµ‹è¯•ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° t\\space(1\\le t\\le 100)ï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚\nå¯¹äºæ¯ç»„æ•°æ®ï¼šå”¯ä¸€ä¸€è¡Œä¸‰ä¸ªæ•´æ•° x,y,k\\space(1\\le x,y\\le 100,x\\neq y,0\\le k\\le 100)ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆå§‹æ—¶ç®±å­çš„ä½ç½®ï¼Œé’¥åŒ™çš„ä½ç½®å’Œä½ æ‰›ç€ç®±å­çš„æœ€å¤§æ—¶é•¿ã€‚\nè¾“å‡ºæ ¼å¼\nå…± t è¡Œï¼Œç¬¬ i è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ i ç»„æ•°æ®çš„ç­”æ¡ˆã€‚\nè¯´æ˜/æç¤º\næ•°æ®èŒƒå›´ä¸çº¦å®š\n\\begin{aligned}\n1\\le t\\le 100;\\\\\n1\\le x,y\\le 100,x\\neq y;\\\\\n1\\le k\\le 100.\n\\end{aligned}\næ ·ä¾‹è§£é‡Š\nå¯¹äºæ ·ä¾‹çš„ç¬¬ 1 ç»„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸€ç³»åˆ—åŠ¨ä½œåœ¨ç¬¬ 7 ç§’æ‰“å¼€ç®±å­ã€‚\n\nèŠ±è´¹ 5 ç§’èµ°åˆ° 5,\nèŠ±è´¹ 0 ç§’æ‹¿èµ·ç®±å­ï¼Œ\nèŠ±è´¹ 2 ç§’èµ°åˆ° 7ï¼Œ\næ‹¿èµ·é’¥åŒ™ã€æ”¾ä¸‹ç®±å­å¹¶æ‰“å¼€ç®±å­ï¼Œå…±èŠ±è´¹ 0 ç§’ã€‚\n\nå…¨è¿‡ç¨‹å…±èŠ±è´¹ 7 ç§’ï¼Œæ‹¿ç€ç®±å­çš„æ—¶é—´ä»…æœ‰ 2 ç§’ï¼Œä¸è¶…è¿‡ç»™å®šçš„é™åˆ¶ k=2ã€‚å¯ä»¥è¯æ˜ä¸å­˜åœ¨æ›´ä¼˜è§£ã€‚\nå¯¹äºæ ·ä¾‹çš„ç¬¬ 2 ç»„æ•°æ®ï¼Œä½ å¯ä»¥èŠ±è´¹ 5 ç§’èµ°åˆ° 5 å¹¶æ¡èµ·é’¥åŒ™ï¼Œå†èŠ±è´¹ 5 ç§’èµ°åˆ° 10 å¹¶æ‰“å¼€ç®±å­ã€‚å…±èŠ±è´¹ 10 ç§’ï¼Œå…¶ä¸­æ²¡æœ‰æ‰›è¿‡ç®±å­ï¼Œä¸è¶…è¿‡ç»™å®šçš„é™åˆ¶ k=0ã€‚å¯ä»¥è¯æ˜ä¸å­˜åœ¨æ›´ä¼˜è§£ã€‚\nå¯¹äºæ ·ä¾‹çš„ç¬¬ 3 ç»„æ•°æ®ï¼Œä½ æ— æ³•åƒæ•°æ® 1 é‚£æ ·å°†ç®±å­ç›´æ¥æ¬åˆ°é’¥åŒ™å¤„ï¼Œè€Œå¿…é¡»ï¼š\n\nèŠ±è´¹ 5 ç§’èµ°åˆ° 5 å¹¶æ‰›èµ·ç®±å­ï¼›\nèŠ±è´¹ 2 ç§’èµ°åˆ° 7ï¼›\næ­¤æ—¶ä½ å·²ç»åŠ›ç«­ï¼Œè¾¾åˆ°äº†é™åˆ¶ k=2ï¼Œæ‰€ä»¥å¿…é¡»èŠ±è´¹ 0 ç§’åœ¨ 7 å¤„æ”¾ä¸‹ç®±å­ï¼›\nèŠ±è´¹ 1 ç§’èµ°åˆ° 8 å¹¶æ¡èµ·é’¥åŒ™ï¼›\nèŠ±è´¹ 1 ç§’å†èµ°åˆ° 7 å¹¶æ‰“å¼€ç®±å­ã€‚\n\nå…¨è¿‡ç¨‹å…±èŠ±è´¹ 9 ç§’ä¸”åˆšå¥½æ²¡æœ‰è¶…è¿‡é™åˆ¶ã€‚å¯ä»¥è¯æ˜ä¸å­˜åœ¨æ›´ä¼˜è§£ã€‚\né¢˜ç›®æè¿°\nMonocarp has found a treasure map. The map represents the treasure location as an OX axis. Monocarp is at 0 , the treasure chest is at x , the key to the chest is at y .\nObviously, Monocarp wants to open the chest. He can perform the following actions:\n\ngo 1 to the left or 1 to the right (spending 1 second);\npick the key or the chest up if he is in the same point as that object (spending 0 seconds);\nput the chest down in his current point (spending 0 seconds);\nopen the chest if heâ€™s in the same point as the chest and has picked the key up (spending 0 seconds).\n\nMonocarp can carry the chest, but the chest is pretty heavy. He knows that he can carry it for at most k seconds in total (putting it down and picking it back up doesnâ€™t reset his stamina).\nWhatâ€™s the smallest time required for Monocarp to open the chest?\nè¾“å…¥æ ¼å¼\nThe first line contains a single integer t ( 1 \\le t \\le 100 ) â€” the number of testcases.\nThe only line of each testcase contains three integers x, y and k ( 1 \\le x, y \\le 100 ; x \\neq y ; 0 \\le k \\le 100 ) â€” the initial point of the chest, the point where the key is located, and the maximum time Monocarp can carry the chest for.\nè¾“å‡ºæ ¼å¼\nFor each testcase, print a single integer â€” the smallest time required for Monocarp to open the chest.\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n3\n5 7 2\n10 5 0\n5 8 2\næ ·ä¾‹è¾“å‡º #1\n7\n10\n9\næç¤º\nIn the first testcase, Monocarp can open the chest in 7 seconds with the following sequence of moves:\n\ngo 5 times to the right ( 5 seconds);\npick up the chest ( 0 seconds);\ngo 2 times to the right ( 2 seconds);\npick up the key ( 0 seconds);\nput the chest down ( 0 seconds);\nopen the chest ( 0 seconds).\n\nHe only carries the chest for 2 seconds, which he has the stamina for.\nIn the second testcase, Monocarp can pick up the key on his way to the chest.\nIn the third testcase, Monocarp canâ€™t use the strategy from the first testcase because he would have to carry the chest for 3 seconds, while he only has the stamina for 2 seconds. Thus, he carries the chest to 7 , puts it down, moves 1 to the right to pick up the key and returns 1 left to open the chest.\n\nåˆ†æ\nåˆ†ç±»è®¨è®ºï¼Œè¦ä¹ˆåœ¨å‘å³ç§»åŠ¨çš„æ—¶å€™å°±èƒ½æŠŠ key å¸¦åˆ° chest çš„ä½ç½®æˆ–è€…æŠŠ chest å¸¦åˆ° key çš„ä½ç½®ï¼Œè¦ä¹ˆå°±æŠŠ chest å‘å³ç§»åŠ¨ k ä¸ªä½ç½®(ç¦» key æœ€è¿‘)ï¼Œç„¶åæ‹¿ key å†æŠ˜è¿”å›åˆ° chest ä½ç½®ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\n \nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int x, y, k;cin &gt;&gt; x &gt;&gt; y &gt;&gt; k;\n        int ans;\n        if (y &lt;= x)ans = x;\n        else {\n            if (y &lt;= x + k)ans = y;\n            else {\n                x += k;\n                ans = y + (y - x);\n            }\n        }\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n \n    return 0;\n}\nH çƒ‚æŸ¯æ¯\n\n[THUPC 2023 å†³èµ›] çƒ‚æŸ¯æ¯\né¢˜ç›®èƒŒæ™¯\nå´è¯´åºç»Ÿè¿¤é€¦å‰è¿›ï¼ŒæŠ¬å¤´è§ä¸¤å±±é€¼çª„ï¼Œæ ‘æœ¨ä¸›æ‚ï¼›åˆå€¼å¤æœ«ç§‹åˆï¼Œæå¶èŒ‚ç››ã€‚åºç»Ÿå¿ƒä¸‹ç”šç–‘ï¼Œå‹’ä½é©¬é—®ï¼šâ€œæ­¤å¤„æ˜¯ä½•åœ°ï¼Ÿâ€æ•°å†…æœ‰æ–°é™å†›å£«ï¼ŒæŒ‡é“ï¼šâ€œæ­¤å¤„åœ°åè½å‡¤å¡ã€‚â€åºç»ŸæƒŠæ›°ï¼šâ€œå¾é“å·å‡¤é›ï¼Œæ­¤å¤„åè½å‡¤å¡ï¼Œä¸åˆ©äºå¾ã€‚â€ä»¤åå†›ç–¾é€€ã€‚åªå¬å±±å¡å‰ä¸€å£°ç‚®å“ï¼Œç®­å¦‚é£è—ï¼Œåªæœ›éª‘ç™½é©¬è€…å°„æ¥ã€‚å¯æ€œåºç»Ÿç«Ÿæ­»äºä¹±ç®­ä¹‹ä¸‹ã€‚æ—¶å¹´æ­¢ä¸‰åå…­å²ã€‚åäººæœ‰è¯—å¹æ›°ï¼šâ€œå¤å²˜ç›¸è¿ç´«ç¿ å †ï¼Œå£«å…ƒæœ‰å®…å‚å±±éšˆã€‚å„¿ç«¥æƒ¯è¯†å‘¼é¸ æ›²ï¼Œé—¾å··æ›¾é—»å±•éª¥æ‰ã€‚é¢„è®¡ä¸‰åˆ†å¹³åˆ»å‰Šï¼Œé•¿é©±ä¸‡é‡Œç‹¬å¾˜å¾Šã€‚è°çŸ¥å¤©ç‹—æµæ˜Ÿå ï¼Œä¸ä½¿å°†å†›è¡£é”¦å›ã€‚â€å…ˆæ˜¯ä¸œå—æœ‰ç«¥è°£äº‘ï¼šâ€œä¸€å‡¤å¹¶ä¸€é¾™ï¼Œç›¸å°†åˆ°èœ€ä¸­ã€‚æ‰åˆ°åŠè·¯é‡Œï¼Œå‡¤æ­»è½å¡ä¸œã€‚é£é€é›¨ï¼Œé›¨éšé£ï¼Œéš†æ±‰å…´æ—¶èœ€é“é€šï¼Œèœ€é“é€šæ—¶åªæœ‰é¾™ã€‚â€\nâ€”â€”ã€Šä¸‰å›½æ¼”ä¹‰ã€‹ç¬¬å…­åä¸‰å›ï¼šè¯¸è‘›äº®ç—›å“­åºç»Ÿ å¼ ç¿¼å¾·ä¹‰é‡Šä¸¥é¢œ\né¢˜ç›®æè¿°\n2023 å¹´ 5 æœˆ 4 æ—¥  \\sim 9 æ—¥ï¼Œç¬¬ä¸€å±Šâ€œè¡¢å·çƒ‚æŸ¯æ¯â€ä¸–ç•Œå›´æ£‹å…¬å¼€èµ›æœ¬èµ›ç¬¬ä¸€é˜¶æ®µçš„èµ›ç¨‹åœ¨è¡¢å·é¡ºåˆ©è¿›è¡Œã€‚ä½œä¸ºç–«æƒ…åç¬¬ä¸€åœºå…¨ç¨‹çº¿ä¸‹è¿›è¡Œçš„ä¸–ç•Œå›´æ£‹å¤§èµ›ï¼Œä¹Ÿæ˜¯ç›®å‰ä¸­å›½ä¸»åŠçš„å”¯ä¸€ä¸€é¡¹æ¯å¹´ä¸€å±Šçš„ä¸–ç•Œå›´æ£‹å¤§èµ›ï¼Œæ— ç–‘å¼•èµ·äº†å›½å†…å¤–å¹¿å¤§å›´æ£‹çˆ±å¥½è€…çš„å¹¿æ³›å…³æ³¨ã€‚\nâ€œç¾½å®¢ä¸€æ°æ— å¤è§ï¼Œé’å±±ç•™å¾—çƒ‚æŸ¯åã€‚â€è¡¢å·æ˜¯å›´æ£‹åœ£åœ°ï¼Œæµä¼ ç€â€œç‹è´¨é‡ä»™â€çš„æ•…äº‹ï¼Œå¢ƒå†…çš„çƒ‚æŸ¯å±±ä¹Ÿå› æ­¤é—»åäºå¤©ä¸‹ã€‚æ­£å› ä¸ºæ­¤ï¼Œâ€œçƒ‚æŸ¯â€ä¹Ÿæ˜¯å›´æ£‹çš„åˆ«ç§°ä¹‹ä¸€ï¼Œä»å¤è‡³ä»Šçš„è®¸å¤šå›´æ£‹æ•…äº‹ã€ä¹¦ç±ã€å¼ˆè°±ç­‰ï¼Œä¹Ÿæœ‰ä¸å°‘åŒ–ç”¨äº†â€œçƒ‚æŸ¯â€çš„å…¸æ•…ï¼Œæˆ–ä»¥â€œçƒ‚æŸ¯â€å®šåã€‚\næ­¤æ¬¡â€œçƒ‚æŸ¯æ¯â€ä¸–ç•Œå›´æ£‹å¤§èµ›ï¼Œæ˜¯åœ¨ä¿ç•™åŸæœ‰çš„â€œçƒ‚æŸ¯æ¯â€ä¸­å›½å›´æ£‹å† å†›èµ›çš„åŸºç¡€ä¸Šï¼Œåˆ›åŠçš„ä¸€é¡¹å´­æ–°çš„ä¸–ç•Œæ€§å›´æ£‹èµ›äº‹ï¼Œå¸å¼•äº†å…¨ä¸–ç•Œå›´æ£‹é«˜æ‰‹å‰æ¥å‚åŠ ã€‚å…¶ä¸­ï¼Œä¸­å›½é˜Ÿæ´¾å‡ºäº†æŸ¯æ´ã€è¾œæ¢“è±ªã€ç‹æ˜Ÿæ˜Šã€ä¸æµ©ã€æé’¦è¯šç­‰ 15 å‘˜å¤§å°†å‚èµ›ï¼ŒéŸ©å›½é˜Ÿ 8 äººï¼Œæ—¥æœ¬é˜Ÿ 5 äººï¼Œè¿˜æœ‰ 2 ä½æ£‹æ‰‹æ¥è‡ªä¸­å›½å°æ¹¾ã€ 2 ä½æ£‹æ‰‹æ¥è‡ªæ¬§ç¾åœ°åŒºã€‚å¯ä»¥è¯´ï¼Œå…¨ä¸–ç•Œæœ€é¡¶å°–çš„å›´æ£‹é«˜æ‰‹æ‚‰æ•°ç›¸èšäºæ­¤ã€‚\néšç€ç§‘æŠ€çš„å‘å±•ï¼Œäººå·¥æ™ºèƒ½çš„å·¨å¤§æŠ€æœ¯è¿›æ­¥å’Œç½‘ç»œä¼ åª’çš„å…¨é¢æ™®åŠï¼Œå›´æ£‹è¿™é¡¹æ¥è‡ªä¸­å›½çš„ä¼ ç»Ÿè¿åŠ¨æ­£åœ¨ç„•å‘å‡ºæ–°çš„æ´»åŠ›ã€‚åœ¨ç½‘ç»œä¸Šï¼Œäººä»¬éšæ—¶å¯ä»¥çœ‹åˆ°æœ€æ–°çš„èµ›äº‹ç›´æ’­ï¼Œä»¥åŠäººå·¥æ™ºèƒ½çš„ç²¾å‡†åˆ†æå’Œå„å¤§å›´æ£‹é«˜æ‰‹çš„ç»†è‡´è§£è¯»ã€‚èµ„æºè·å–çš„ä¾¿æ·æ€§ä½¿å¾—äººä»¬å¯¹å›´æ£‹çš„å…³æ³¨åº¦ç©ºå‰ä¸Šå‡ï¼Œå›´æ£‹ä¸å†æ˜¯åªæœ‰å°‘éƒ¨åˆ†æ‡‚æ£‹çš„çˆ±å¥½è€…æ‰èƒ½æ¬£èµçš„â€œå°ä¼—æ¸¸æˆâ€ï¼›å›´æ£‹é«˜æ‰‹ä¹Ÿä¸å†åªæ˜¯ä¸€ä¸ªç¥ç§˜çš„èº«ä»½ï¼Œè¶Šæ¥è¶Šå¤šçš„å›´æ£‹é«˜æ‰‹å¼€å§‹åœ¨ç½‘ç»œä¸Šä¸æ£‹è¿·è¿‘è·ç¦»äº’åŠ¨ï¼Œæ™®åŠå›´æ£‹çŸ¥è¯†ï¼Œè®²è§£æœ€æ–°å¯¹å±€ï¼Œèµ¢å¾—äº†ä¸€è‡´å¥½è¯„ã€‚æ­£å¦‚è¿™æ¬¡å‚èµ›çš„é€‰æ‰‹ä¸­ï¼Œæœ‰ä¸€ä½æ£‹æ‰‹åŒæ—¶ä¹Ÿæ˜¯ç²‰ä¸æ•°è¾¾ 150 å¤šä¸‡çš„ç½‘çº¢ä¸»æ’­ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä½æ£‹æ‰‹æ˜¯ä¸€å®¶ç½‘çº¢é¤å…çš„è€æ¿ã€‚\næˆ‘ä»¬ä»Šå¤©æ•…äº‹çš„ä¸»è§’æ­£æ˜¯è¿™æ ·ä¸€ä½æœ‰ç€ä¼ å¥‡è‰²å½©çš„äººç‰©ã€‚ä½œä¸ºä¸€åæ¸…åå¤§å­¦æœ¬ç§‘åœ¨è¯»çš„å­¦ç”Ÿï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€åé¡¶å°–å›´æ£‹é«˜æ‰‹ï¼Œä»–çš„ä¸€ä¸¾ä¸€åŠ¨æ— ç–‘éƒ½ä¼šå¼•èµ·å·¨å¤§çš„å…³æ³¨ã€‚æ­¤æ¬¡ä»–å‚åŠ â€œçƒ‚æŸ¯æ¯â€æ¯”èµ›ï¼Œä¼—äººæ— ä¸€ä¾‹å¤–çœ‹å¥½ä»–çš„æ¯”èµ›å‰æ™¯ï¼Œå°¤å…¶æ˜¯ç°åœ¨éŸ©å›½å›´æ£‹â€ç¬¬ä¸€äººâ€œç”³çœŸè°ä¹æ®µçš„å·…å³°æ—¶æœŸï¼Œä»–ä¹Ÿè¢«æ— æ•°ä¸­å›½æ£‹è¿·å¯„æ‰˜ä»¥â€ç‹™å‡»â€˜å°ç”³â€™â€œçš„é‡ä»»ã€‚5 æœˆ 4 æ—¥æŠ½ç­¾è¿‡åï¼Œæ²¡æœ‰ä»»ä½•äººä¼šæ€€ç–‘ä»–èƒ½ä¸èƒ½èµ¢ä¸‹ 5 æ—¥çš„ç¬¬ä¸€è½®æ¯”èµ›ï¼Œä¸€äº›å›´æ£‹é«˜æ‰‹æ›´æ˜¯ç›´æ¥æ”¾å‡ºäº†â€å¤§èƒœï¼Œä¸å¯èƒ½å¤±è´¥â€œçš„é¢„è¨€ã€‚\nç„¶è€Œï¼Œ5 æœˆ 5 æ—¥çš„æ¯”èµ›è¿˜æ˜¯çˆ†å‡ºäº†æƒŠå¤©å¤§å†·é—¨ã€‚ä»–åœ¨å·²ç»èƒœåˆ¸åœ¨æ¡ï¼ŒAI èƒœç‡è¾¾åˆ° 99\\% çš„å…³å¤´ï¼Œæ¥è¿é€‰æ‹©äº†â€œå¼¹å¹•æœ€å¤šçš„ä¸‹æ³•â€ï¼Œæœ€ç»ˆå› ä¸ºå‡ æ‹›è‡´å‘½çš„å¤±è¯¯è‘¬é€å¥½å±€ï¼Œè½è´¥äºä¸­å›½å°æ¹¾æ£‹æ‰‹èµ–å‡è¾…å…«æ®µã€‚èµ›åï¼Œäººä»¬åœ¨éœ‡æƒŠçš„åŒæ—¶ï¼Œçº·çº·çŒœæµ‹æœ¬å±€å¤±åˆ©çš„åŸå› ã€‚æœ‰äººè¯´ï¼Œä»–çš„çŠ¶æ€ä½è¿·åœ¨å‰äº›å¹´æ—©å·²æœ‰æ‰€ä½“ç°ï¼Œâ€œå½“ä½ åœ¨ XX çš„æ—¶å€™ï¼Œå°ç”³åœ¨ä¸‹æ£‹â€æˆäº†è°ƒä¾ƒä»–ä¸ç”³çœŸè°æˆ˜ç»©å·®è·çš„ä¸€å¥åè¨€ï¼›æœ‰äººè¯´ï¼Œä»–åœ¨æ¯”èµ›ä¹‹å‰çš„ 12 è¿èƒœæˆ˜ç»©åè€Œä½¿ä»–å¿ƒæ€ç´§å¼ ï¼Œä»è€ŒçŠ¯äº†ä¼˜åŠ¿ä¸‹å®¹æ˜“å¤§æ„çš„è€æ¯›ç—…ï¼›ä¹Ÿæœ‰äººæ‹¿å‡ºäº†â€œè½å‡¤å¡â€çš„å…¸æ•…ï¼Œä»¥è¯æ˜ä»–æˆ–è®¸å‘½ä¸­æ³¨å®šä¸â€œçƒ‚æŸ¯æ¯â€å…«å­—ä¸åˆâ€¦â€¦ä½†æˆ–è®¸ï¼Œè¿™æ ·çš„å˜å¹»è«æµ‹å’Œä¸å¯é¢„æ–™æ€§ï¼Œæ­£æ˜¯å›´æ£‹çš„é­…åŠ›æ‰€åœ¨ã€‚\nè¯·ä½ æ ¹æ®ä»¥ä¸Šæ‰€æœ‰ä¿¡æ¯ï¼ŒçŒœæµ‹æœ¬æ–‡çš„ä¸»è§’æ˜¯è°ã€‚\nè¾“å…¥æ ¼å¼\næ— è¾“å…¥ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä¸€ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸Šæ–‡ä¸­æåˆ°çš„ä¸»è§’çš„åå­—å…¨æ‹¼ã€‚å¦‚è‹¥ç­”æ¡ˆæ˜¯é©¬äº‘ï¼Œåº”å½“è¾“å‡º mayunã€‚\næç¤º\næç¤º\nä¸»è§’çš„åå­—åœ¨é¢˜é¢ä¸­å·²ç»æœ‰æ‰€æåŠã€‚\né¢˜é¢ä¸­ä¸€äº›çœ‹ä¼¼æ— å˜å¤´çš„ä¿¡æ¯å®é™…ä¸Šæ˜¯æœ‰ä»·å€¼çš„ã€‚\né¢˜ç›®æ¥æº\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰å†³èµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023 æŸ¥çœ‹ã€‚\n\nåˆ†æ\næ˜¯ç­¾åˆ°é¢˜ï¼Œè¾“å‡ºâ€kejieâ€å³å¯ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\n \nint main() {\n    cout &lt;&lt; &quot;kejie&quot;;\n \n    return 0;\n}\nI æ€»æŠ•ç¥¨æ•°\n\n[THUPC 2023 å†³èµ›] æ€»æŠ•ç¥¨æ•°\né¢˜ç›®èƒŒæ™¯\nå„ä½äº²çˆ±çš„ã€ŠLa LumiÃ¨re: Scarlet Intense Flame - Adventurous Scarlet -ã€‹ç©å®¶ï¼š\néå¸¸è£å¹¸èƒ½ä¸æ‚¨æºæ‰‹åº¦è¿‡äº†è¿™å››å¹´çš„ç¾å¥½æ—¶å…‰ï¼Œè¡·å¿ƒæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒä¸é™ªä¼´ï¼\nç°åœ¨ï¼Œæˆ‘ä»¬éå¸¸é—æ†¾çš„å®£å¸ƒï¼Œã€ŠLa LumiÃ¨re: Scarlet Intense Flame - Adventurous Scarlet -ã€‹å°†äº 2023 å¹´ 5 æœˆ 28 æ—¥ 15:00 åœæ­¢è¿è¥æœåŠ¡ã€‚\nåœæ­¢è¿è¥ç›¸å…³æ—¶é—´è¡¨å¦‚ä¸‹ï¼š\nâ€¦â€¦\né¢˜ç›®æè¿°\nåœ¨å…³æœå‰ï¼Œè¿è¥å‘èµ·äº†ä¸€ç³»åˆ—æŠ•ç¥¨ï¼Œè°ƒæŸ¥å“ªäº›æ¸¸æˆå†…å®¹ç»™ç©å®¶å¸¦æ¥äº†æ›´æ·±çš„å°è±¡ã€‚\nä½œä¸ºç³»åˆ—çš„å¿ å®ç©å®¶ï¼Œä½ æƒ³çŸ¥é“æœ‰å¤šå°‘äººå‚åŠ äº†å…³æœå‰çš„æŠ•ç¥¨ï¼Œä½†æ˜¯è¿è¥åªå…¬å¼€äº†æœ€ç»ˆçš„æŠ•ç¥¨ç»“æœï¼šå¯¹äºä¸€é¡¹åŒ…å« N ä¸ªé€‰é¡¹çš„æŠ•ç¥¨ï¼Œé€‰æ‹©ç¬¬ i ä¸ªé€‰é¡¹çš„ç©å®¶æ¯”ä¾‹ä¸º P_iï¼ˆ1\\le i\\le Nï¼‰ã€‚è¿è¥åœ¨å…¬å¸ƒç»“æœæ—¶è¿›è¡Œäº†å››èˆäº”å…¥ï¼Œæ‰€æœ‰çš„ P_i ä»…ä¿ç•™åˆ°å°æ•°ç‚¹åç¬¬ L ä½ã€‚å‡è®¾å®é™…æœ‰ K ä½ç©å®¶å‚åŠ äº†æŠ•ç¥¨ï¼Œå…¶ä¸­æœ‰ D_i ä½ç©å®¶é€‰æ‹©äº†ç¬¬ i ä¸ªé€‰é¡¹ï¼Œåˆ™åº”è¯¥æœ‰\nP_i-\\frac{1}{2}\\times 10^{-L}\\le\\frac{D_i}{K}&lt; P_i+\\frac{1}{2}\\times 10^{-L}\næ˜¾ç„¶ï¼Œæ‰€æœ‰çš„ D_i å¿…é¡»æ˜¯éè´Ÿæ•´æ•°ï¼Œè€Œ K=\\sum_{i=1}^N D_i åˆ™å¿…é¡»æ˜¯æ­£æ•´æ•°ã€‚ç°åœ¨ï¼Œç»™å®š N å’Œ P_iï¼Œè¯·ä½ æ±‚å‡ºæ»¡è¶³ D_i æœ‰éè´Ÿæ•´æ•°è§£çš„æœ€å°çš„æ€»æŠ•ç¥¨æ•° Kã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° Nï¼Œè¡¨ç¤ºæŠ•ç¥¨çš„é€‰é¡¹æ€»æ•°ã€‚ä¿è¯ 1\\le N\\le 100ã€‚\næ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬ä¸€ä¸ª [0, 1] ä¸­çš„å®æ•° P_iï¼Œè¡¨ç¤ºé€‰æ‹©ç¬¬ i ä¸ªé€‰é¡¹çš„ç©å®¶æ¯”ä¾‹ã€‚ä¿è¯ \\sum_{i=1}^N P_i =1ï¼Œæ‰€æœ‰ P_i å‡ä¿ç•™åˆ°å°æ•°ç‚¹åç¬¬ L ä½ï¼Œä¸” 1\\le L\\le 6ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³è¦æ±‚çš„æœ€å°æ€»æŠ•ç¥¨æ•° Kã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n3\n0.166667\n0.333333\n0.500000\næ ·ä¾‹è¾“å‡º #1\n6\næ ·ä¾‹ #2\næ ·ä¾‹è¾“å…¥ #2\n7\n0.041096\n0.109589\n0.109589\n0.164384\n0.301370\n0.068493\n0.205479\næ ·ä¾‹è¾“å‡º #2\n73\næ ·ä¾‹ #3\næ ·ä¾‹è¾“å…¥ #3\n13\n0.00155\n0.03876\n0.01584\n0.05189\n0.08099\n0.06825\n0.15658\n0.10404\n0.02640\n0.14332\n0.12941\n0.15529\n0.02768\næ ·ä¾‹è¾“å‡º #3\n7766\næç¤º\nã€æ ·ä¾‹è§£é‡Š # 1ã€‘\næœ€å°çš„æ€»æŠ•ç¥¨æ•°ä¸º 6ï¼Œå¯¹åº”æ¯ä¸ªé€‰é¡¹çš„æŠ•ç¥¨æ•°ä¸º 1, 2, 3ã€‚\nã€æ ·ä¾‹è§£é‡Š # 2ã€‘\næœ€å°çš„æ€»æŠ•ç¥¨æ•°ä¸º 73ï¼Œå¯¹åº”æ¯ä¸ªé€‰é¡¹çš„æŠ•ç¥¨æ•°ä¸º 3, 8, 8, 12, 22, 5, 15ã€‚\nã€æ ·ä¾‹è§£é‡Š # 3ã€‘\næœ€å°çš„æ€»æŠ•ç¥¨æ•°ä¸º 7766ï¼Œå¯¹åº”æ¯ä¸ªé€‰é¡¹çš„æŠ•ç¥¨æ•°ä¸º 12, 301, 123, 403, 629, 530, 1216, 808, 205, 1113, 1005, 1206, 215ã€‚\nã€æ•°æ®èŒƒå›´ã€‘\nå¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ1\\le N\\le 100ï¼Œ0\\le P_i\\le 1ï¼Œ\\sum_{i=1}^N P_i=1ï¼Œä¸” P_i æœ€å¤šç»Ÿä¸€ä¿ç•™åˆ°å°æ•°ç‚¹å 6 ä½ã€‚\nã€é¢˜ç›®æ¥æºã€‘\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰å†³èµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023 æŸ¥çœ‹ã€‚\n\nåˆ†æ\nå‚è€ƒä»£ç \n \nJ Points and Minimum Distance\n\nPoints and Minimum Distance\né¢˜é¢ç¿»è¯‘\nç»™å®šé•¿åº¦ä¸º 2n çš„åºåˆ— aï¼Œä½ éœ€è¦æŠŠè¿™äº›æ•°åˆ†ä¸º n å¯¹ï¼Œå¾—åˆ° n ä¸ªåæ ‡è½´ä¸Šçš„ç‚¹ã€‚a ä¸­çš„æ¯ä¸ªæ•°éƒ½è¦æ˜¯æŸä¸€ä¸ªç‚¹çš„ x æˆ– y åæ ‡ã€‚æ³¨æ„æœ‰äº›ç‚¹å¯èƒ½ä¼šé‡åˆã€‚\nä¹‹åï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸€ä¸ªç‚¹å‡ºå‘ï¼Œé€‰æ‹©ä¸€æ¡è·¯å¾„èµ°è¿‡æ‰€æœ‰ n ä¸ªç‚¹è‡³å°‘ä¸€æ¬¡ï¼Œåœ¨æŸä¸ªç‚¹å¤„åœä¸‹ã€‚\nä½ éœ€è¦æ±‚å‡ºè·¯å¾„æ€»é•¿åº¦çš„æœ€å°å€¼ã€‚æœ¬é¢˜ä¸­ä¸¤ç‚¹é—´è·ç¦»ä¸ºæ›¼å“ˆé¡¿è·ç¦»ï¼Œå³ (x_1,y_1) å’Œ (x_2,y_2) é—´è·ç¦»ä¸º |x_1-x_2|+|y_1-y_2|ã€‚\né¢˜ç›®æè¿°\nYou are given a sequence of integers a of length 2n . You have to split these 2n integers into n pairs; each pair will represent the coordinates of a point on a plane. Each number from the sequence a should become the x or y coordinate of exactly one point. Note that some points can be equal.\nAfter the points are formed, you have to choose a path s that starts from one of these points, ends at one of these points, and visits all n points at least once.\nThe length of path s is the sum of distances between all adjacent points on the path. In this problem, the distance between two points (x_1, y_1) and (x_2, y_2) is defined as |x_1-x_2| + |y_1-y_2| .\nYour task is to form n points and choose a path s in such a way that the length of path s is minimized.\nè¾“å…¥æ ¼å¼\nThe first line contains a single integer t ( 1 \\le t \\le 100 ) â€” the number of testcases.\nThe first line of each testcase contains a single integer n ( 2 \\le n \\le 100 ) â€” the number of points to be formed.\nThe next line contains 2n integers a*1, a_2, \\dots, a*{2n} ( 0 \\le a_i \\le 1\\,000 ) â€” the description of the sequence a .\nè¾“å‡ºæ ¼å¼\nFor each testcase, print the minimum possible length of path s in the first line.\nIn the i -th of the following n lines, print two integers x_i and y_i â€” the coordinates of the point that needs to be visited at the i -th position.\nIf there are multiple answers, print any of them.\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n2\n2\n15 1 10 5\n3\n10 30 20 20 30 10\næ ·ä¾‹è¾“å‡º #1\n9\n10 1\n15 5\n20\n20 20\n10 30\n10 30\næç¤º\nIn the first testcase, for instance, you can form points (10, 1) and (15, 5) and start the path s from the first point and end it at the second point. Then the length of the path will be |10 - 15| + |1 - 5| = 5 + 4 = 9 .\nIn the second testcase, you can form points (20, 20) , (10, 30) , and (10, 30) , and visit them in that exact order. Then the length of the path will be |20 - 10| + |20 - 30| + |10 - 10| + |30 - 30| = 10 + 10 + 0 + 0 = 20 .\n\nåˆ†æ\næ„é€ é¢˜ï¼Œæ ¹æ®é¢˜æ„å¯ä»¥æ¨æ–­ï¼Œans åªåˆ†åˆ«ä¸ x é›†åˆçš„å·®å€¼å’Œã€y é›†åˆå·®å€¼å’Œæœ‰å…³ã€‚æ˜¾ç„¶ï¼Œï¼ˆå¤§æ•°-å°æ•°ï¼‰+ï¼ˆå¤§æ•°-å°æ•°ï¼‰çš„ç»“æœåŠ£äºï¼ˆå¤§æ•°-å¤§æ•°ï¼‰+ï¼ˆå°æ•°-å°æ•°ï¼‰ã€‚\næ•…æ­¤é¢˜ï¼Œåœ¨è¿›è¡Œæ’åˆ—åæŒ‰åºå…ˆåˆ†é… x å†åˆ†é… yï¼Œç›´æ¥ç»Ÿè®¡ x æœ‰åºé›†åˆä¸ y æœ‰åºé›†åˆçš„å·®å€¼å³å¯ï¼ˆæ³¨æ„ç»“æœé™¤å» xï¼Œy äº¤ç•Œçš„ä¸€å¯¹å·®ï¼‰ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\nint a[maxn];\nint main() {\n    int t;cin &gt;&gt; t;\n    while (t--) {\n        int n;cin &gt;&gt; n;\n        for (int i = 1;i &lt;= 2 * n;i++)\n            cin &gt;&gt; a[i];\n        sort(a + 1, a + 2 * n + 1);\n        int ans = 0;\n        for (int i = 2;i &lt;= 2 * n;i++) {\n            ans += a[i] - a[i - 1];\n        }\n        ans -= a[n + 1] - a[n];\n        cout &lt;&lt; ans &lt;&lt; endl;\n        for (int i = 1;i &lt;= n;i++)\n            cout &lt;&lt; a[i] &lt;&lt; &quot; &quot; &lt;&lt; a[2 * n + 1 - i] &lt;&lt; endl;\n    }\n \n    return 0;\n}\nK é€Ÿæˆ˜é€Ÿå†³\n\n[THUPC 2023 åˆèµ›] é€Ÿæˆ˜é€Ÿå†³\né¢˜ç›®æè¿°\nå° I ä¸å° J æ­£åœ¨ç©ä¸€ä¸ªå«åšâ€œå¼€ç«è½¦â€ï¼Œåˆç§°ä½œâ€œæ‹–æ¿è½¦â€å’Œâ€œå°çŒ«é’“é±¼â€çš„æ‰‘å…‹æ¸¸æˆã€‚æ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼Œæ³¨æ„å…¶ä¸ä¸€èˆ¬ç©æ³•å¯èƒ½æœ‰ä¸åŒï¼š\n\næœ‰ 2n å¼ ç‰Œï¼Œå…¶ä¸­å¯¹äºæ•´æ•° 1 \\le i \\le nï¼Œç‰Œé¢ä¸º i çš„ç‰Œæ°å¥½æœ‰ 2 å¼ ã€‚\næ¸¸æˆå¼€å§‹æ—¶ï¼Œå° I å’Œå° J å„æ‹¿å…¶ä¸­ n å¼ ç‰Œç»„æˆåŒæ–¹çš„åˆå§‹æ‰‹ç‰Œã€‚\nç»´æŠ¤ä¸€ä¸ªå…¬å…±ç‰Œå †ï¼ˆå¯ä»¥å°†å…¶çœ‹ä½œä¸€ä¸ªæ ˆï¼‰ï¼Œåˆå§‹æ²¡æœ‰ç‰Œã€‚å° I ä¸å° J ä¾æ¬¡è¡ŒåŠ¨ï¼Œå° I å…ˆæ‰‹ã€‚ä¸€æ¬¡è¡ŒåŠ¨æ—¶ï¼Œè¡ŒåŠ¨æ–¹ä¾æ¬¡è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š\n\nå°†æ‰‹ç‰Œä¸­çš„ä¸€å¼ ç‰Œæ”¾åœ¨å…¬å…±ç‰Œå †é¡¶ï¼›\nè‹¥æ­¤æ—¶å…¬å…±ç‰Œå †ä¸­æœ‰ä¸¤å¼ ç›¸åŒçš„ç‰Œï¼Œåˆ™è¿™ä¸¤å¼ ç›¸åŒçš„ç‰Œä»¥åŠåœ¨è¿™ä¸¤å¼ ç‰Œä¹‹é—´çš„æ‰€æœ‰ç‰Œä»å…¬å…±ç‰Œå †ç§»åˆ°å½“å‰è¡ŒåŠ¨æ–¹æ‰‹ç‰Œä¸­ï¼›\nè‹¥æ­¤æ—¶å½“å‰è¡ŒåŠ¨æ–¹æ²¡æœ‰æ‰‹ç‰Œï¼Œåˆ™å½“å‰è¡ŒåŠ¨æ–¹å¤±è´¥ï¼Œå¦ä¸€æ–¹èƒœåˆ©ã€‚\n\n\n\nå° J æ˜¯æ‰‘å…‹èŒæ–°ï¼Œæ‰€ä»¥ä¼šæŒ‰ç…§ä»¥ä¸‹ç­–ç•¥è¡ŒåŠ¨ï¼š\n\nç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåˆå§‹å°† n å¼ æ‰‹ç‰ŒæŒ‰ç…§ä¸€å®šé¡ºåºæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼›\næ¯æ¬¡è¡ŒåŠ¨æ—¶ï¼Œå°†é˜Ÿåˆ—å¼€å¤´çš„ç‰Œæ”¾åœ¨å…¬å…±ç‰Œå †é¡¶ï¼›\nè‹¥å° J æ”¾å…¥æŸå¼ ç‰Œåå…¬å…±ç‰Œå †ä¸­æœ‰ä¸¤å¼ ç›¸åŒçš„ç‰Œï¼Œåˆ™æŒ‰ç…§åœ¨å…¬å…±ç‰Œå †ä¸­è‡ªé¡¶åˆ°åº•çš„é¡ºåºå°†è·å¾—çš„ç‰Œæ”¾å…¥é˜Ÿåˆ—å°¾ã€‚\n\nå° I é€šè¿‡å·çœ‹å¾—åˆ°äº†å° J çš„ç­–ç•¥ä»¥åŠé˜Ÿåˆ—ä¸­ç‰Œçš„é¡ºåºã€‚ç°åœ¨å° I ä¸ä»…æƒ³è·èƒœï¼Œè¿˜æƒ³é€Ÿæˆ˜é€Ÿå†³ï¼Œç”¨æœ€å°‘çš„è¡ŒåŠ¨æ¬¡æ•°è·èƒœï¼Œä½†ä»–ä¹Ÿæ˜¯æ‰‘å…‹èŒæ–°ã€‚æ‰€ä»¥ç»™å®šå° J é˜Ÿåˆ—ä¸­çš„ n å¼ ç‰Œä»¥åŠå®ƒä»¬çš„é¡ºåºï¼Œä½ éœ€è¦ç»™å‡ºå° I çš„ç­–ç•¥ï¼Œä½¿å¾—å° I èƒ½å¤Ÿè·èƒœï¼ŒåŒæ—¶è¡ŒåŠ¨æ¬¡æ•°æœ€å°‘ï¼Œæˆ–è€…å‘Šè¯‰ä»–è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚\nè¾“å…¥æ ¼å¼\næ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° n è¡¨ç¤ºç‰Œé¢çš„ç§æ•°ã€‚\nç¬¬äºŒè¡Œ n ä¸ªæ•´æ•° a_1,a_2,\\cdots,a_nï¼Œä»é˜Ÿå¤´åˆ°é˜Ÿå°¾çš„é¡ºåºä¾æ¬¡æè¿°å° J é˜Ÿåˆ—ä¸­çš„ç‰Œã€‚\nå¾—åˆ°å° J çš„ n å¼ æ‰‹ç‰Œä¹Ÿå°±å¾—åˆ°äº†å° I çš„ n å¼ æ‰‹ç‰Œï¼Œå› æ­¤ä¸ä¼šè¾“å…¥å° I çš„æ‰‹ç‰Œã€‚\nè¾“å‡ºæ ¼å¼\nå¦‚æœå° I ä¸å¯èƒ½è·èƒœï¼Œåªéœ€è¦è¾“å‡ºä¸€ä¸ªæ•´æ•° -1ï¼›å¦åˆ™ç¬¬ä¸€è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•° sï¼Œè¡¨ç¤ºä½ ç»™å‡ºçš„ç­–ç•¥ä¸­å° I çš„è¡ŒåŠ¨æ¬¡æ•°ã€‚æ¥ä¸‹æ¥ä¸€è¡Œ s ä¸ªæ•´æ•°ï¼Œä¾æ¬¡æè¿°æ¯æ¬¡è¡ŒåŠ¨æ—¶å° I ä»æ‰‹ç‰Œä¸­æ”¾å…¥å…¬å…±ç‰Œå †çš„ç‰Œçš„ç‰Œé¢ï¼Œä¸¤ä¸ªæ•°ä¹‹é—´ä»¥ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚æ³¨æ„ä½ ç»™å‡ºçš„ç­–ç•¥è¦æ»¡è¶³ s æœ€å°ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n3\n1 3 3\næ ·ä¾‹è¾“å‡º #1\n3\n2 1 2\næ ·ä¾‹ #2\næ ·ä¾‹è¾“å…¥ #2\n1\n1\næ ·ä¾‹è¾“å‡º #2\n-1\næç¤º\næ ·ä¾‹è§£é‡Š 1\n\n\nå­ä»»åŠ¡\nå¯¹äºæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼Œ1 \\le n \\le 3 \\times 10^5ï¼Œ1 \\le a_1,a_2,\\cdots, a_n \\le nï¼Œä¸”æ¯ä¸ªæ•´æ•°åœ¨åºåˆ— a ä¸­è‡³å¤šå‡ºç°ä¸¤æ¬¡ã€‚\né¢˜ç›®æ¥æº\næ¥è‡ª 2023 æ¸…åå¤§å­¦å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›æš¨é«˜æ ¡é‚€è¯·èµ›ï¼ˆTHUPC2023ï¼‰åˆèµ›ã€‚\né¢˜è§£ç­‰èµ„æºå¯åœ¨ github.com/THUSAAC/THUPC2023-Pre æŸ¥çœ‹ã€‚\n\nåˆ†æ\nå‚è€ƒä»£ç \n \nL æ»‘é›ª\n\n[SHOI2002] æ»‘é›ª\né¢˜ç›®æè¿°\nMichael å–œæ¬¢æ»‘é›ªã€‚è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºæ»‘é›ªçš„ç¡®å¾ˆåˆºæ¿€ã€‚å¯æ˜¯ä¸ºäº†è·å¾—é€Ÿåº¦ï¼Œæ»‘çš„åŒºåŸŸå¿…é¡»å‘ä¸‹å€¾æ–œï¼Œè€Œä¸”å½“ä½ æ»‘åˆ°å¡åº•ï¼Œä½ ä¸å¾—ä¸å†æ¬¡èµ°ä¸Šå¡æˆ–è€…ç­‰å¾…å‡é™æœºæ¥è½½ä½ ã€‚Michael æƒ³çŸ¥é“åœ¨ä¸€ä¸ªåŒºåŸŸä¸­æœ€é•¿çš„æ»‘å¡ã€‚åŒºåŸŸç”±ä¸€ä¸ªäºŒç»´æ•°ç»„ç»™å‡ºã€‚æ•°ç»„çš„æ¯ä¸ªæ•°å­—ä»£è¡¨ç‚¹çš„é«˜åº¦ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š\n1   2   3   4   5\n16  17  18  19  6\n15  24  25  20  7\n14  23  22  21  8\n13  12  11  10  9\nä¸€ä¸ªäººå¯ä»¥ä»æŸä¸ªç‚¹æ»‘å‘ä¸Šä¸‹å·¦å³ç›¸é‚»å››ä¸ªç‚¹ä¹‹ä¸€ï¼Œå½“ä¸”ä»…å½“é«˜åº¦ä¼šå‡å°ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸€æ¡å¯è¡Œçš„æ»‘å¡ä¸º 24-17-16-1ï¼ˆä» 24 å¼€å§‹ï¼Œåœ¨ 1 ç»“æŸï¼‰ã€‚å½“ç„¶ 25ï¼24ï¼23ï¼\\ldotsï¼3ï¼2ï¼1 æ›´é•¿ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æœ€é•¿çš„ä¸€æ¡ã€‚\nè¾“å…¥æ ¼å¼\nè¾“å…¥çš„ç¬¬ä¸€è¡Œä¸ºè¡¨ç¤ºåŒºåŸŸçš„äºŒç»´æ•°ç»„çš„è¡Œæ•° R å’Œåˆ—æ•° Cã€‚ä¸‹é¢æ˜¯ R è¡Œï¼Œæ¯è¡Œæœ‰ C ä¸ªæ•°ï¼Œä»£è¡¨é«˜åº¦(ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”¨ 1 ä¸ªç©ºæ ¼é—´éš”)ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºåŒºåŸŸä¸­æœ€é•¿æ»‘å¡çš„é•¿åº¦ã€‚\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n5 5\n1 2 3 4 5\n16 17 18 19 6\n15 24 25 20 7\n14 23 22 21 8\n13 12 11 10 9\næ ·ä¾‹è¾“å‡º #1\n25\næç¤º\nå¯¹äº 100\\% çš„æ•°æ®ï¼Œ1\\leq R,C\\leq 100ã€‚\n\nåˆ†æ\nä¼˜å…ˆé˜Ÿåˆ—+çº¿æ€§ dp\nä¼˜å…ˆé˜Ÿåˆ—å†…æ’åºæŒ‰ç…§é«˜åº¦ä»å°åˆ°å¤§ï¼Œä¾æ¬¡å–å‡ºé˜Ÿé¦–çš„ç‚¹ï¼ˆé«˜åº¦æœ€ä½çš„ç‚¹ï¼‰ï¼Œè®°ä¸º posï¼Œæ›´æ–°ä»ä½å¤„åˆ° pos çš„æœ€é•¿è·¯å¾„ã€‚\nçŠ¶æ€è½¬ç§»ï¼š\ndp[xi][yi]=max(dp[xi][yi],dp[xi+1][yi]+1)\nåŒæ—¶è®°å½•æœ€é•¿çš„è·¯å¾„å³å¯ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 120;\nll rec[maxn][maxn];\nll dp[maxn][maxn];\nstruct POS {\n    ll height;\n    int x, y;\n    POS(int hi, int xi, int yi) :height(hi), x(xi), y(yi) {}\n    bool operator&lt;(const POS&amp; P)const {\n        return P.height &lt; height;\n    }\n};\nint main() {\n    int r, c;cin &gt;&gt; r &gt;&gt; c;\n    priority_queue&lt;POS&gt;pos;\n    for (int i = 1;i &lt;= r;i++) {\n        for (int j = 1;j &lt;= c;j++) {\n            ll h;cin &gt;&gt; h;\n            rec[i][j] = h;\n            pos.push(POS(h, i, j));\n            dp[i][j] = 1;\n        }\n    }\n    ll ans = 1;\n    while (!pos.empty()) {\n        auto tp = pos.top();\n        int xi = tp.x, yi = tp.y;ll hi = tp.height;pos.pop();\n        if (rec[xi + 1][yi] &lt; hi) {\n            dp[xi][yi] = max(dp[xi + 1][yi] + 1, dp[xi][yi]);\n        }\n        if (rec[xi - 1][yi] &lt; hi) {\n            dp[xi][yi] = max(dp[xi - 1][yi] + 1, dp[xi][yi]);\n        }\n        if (rec[xi][yi + 1] &lt; hi) {\n            dp[xi][yi] = max(dp[xi][yi + 1] + 1, dp[xi][yi]);\n        }\n        if (rec[xi][yi - 1] &lt; hi) {\n            dp[xi][yi] = max(dp[xi][yi - 1] + 1, dp[xi][yi]);\n        }\n        ans = max(ans, dp[xi][yi]);\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n \n    return 0;\n}\nM Two Out of Three\n\nTwo Out of Three\né¢˜é¢ç¿»è¯‘\né¢˜ç›®æè¿°\nç»™å®šä¸€ä¸ªæ•°ç»„ a_1, a_2, ..., a_nã€‚ä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ b_1, b_2, â€¦, b_nï¼Œå…¶ä¸­åŒ…å«æ•°å­— 1, 2, 3ï¼Œä½¿å¾—ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªæ¡ä»¶è¢«æ»¡è¶³ï¼š\n\nå­˜åœ¨ 1\\le i, j\\le nï¼Œä½¿å¾— a_i=a_j,b_i=1,b_j=2ã€‚\nå­˜åœ¨ 1\\le i, j\\le nï¼Œä½¿å¾— a_i=a_j,b_i=1,b_j=3ã€‚\nå­˜åœ¨ 1\\le i, j\\le nï¼Œä½¿å¾— a_i=a_j,b_i=2,b_j=3ã€‚\n\nå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„æ•°ç»„ bï¼Œè¯·æŠ¥å‘Šä¸å¯ä»¥ã€‚\nè¾“å…¥æ ¼å¼\næ¯ä¸ªæµ‹è¯•ç‚¹å¤šæµ‹ã€‚ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° tï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚å¯¹äºæ¯ä¸€ç»„æ•°æ®ï¼š\nç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° n (1\\le n\\le 100)ï¼Œè¡¨ç¤ºæ•°ç»„ a çš„é•¿åº¦ã€‚\nç¬¬äºŒè¡Œè¯»å…¥ n ä¸ªæ•´æ•° a_1,a_2,...,a_n (1\\le a_i\\le 100)ï¼Œä»£è¡¨æ•°ç»„ aã€‚\nè¾“å‡ºæ ¼å¼\nå¯¹äºæ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œã€‚è‹¥æ— è§£ï¼Œåˆ™è¾“å‡º -1ã€‚å¦åˆ™è¾“å‡ºä¸€ä¸ªç”± 1,2,3 ç»„æˆçš„æ•°ç»„ bï¼Œæ°å¥½æ»¡è¶³ä¸¤æ¡æ€§è´¨ã€‚å¦‚æœæœ‰å¤šä¸ªåˆæ³•æ•°ç»„ï¼Œè¾“å‡ºä»»ä¸€å³å¯ã€‚\nè¯´æ˜/æç¤º\nç¬¬ä¸€ä¸ªæ•°ç»„ aï¼Œåˆæ³•æ•°ç»„å¯ä»¥æ˜¯ b=[1,2,3,1,1,1]ã€‚å½“ i = 4,j = 2 æ—¶ï¼Œæ»¡è¶³æ€§è´¨ä¸€ã€‚å½“i = 6,j = 3 æ—¶æ»¡è¶³æ€§è´¨äºŒã€‚æ•°ç»„ b æ— æ³•æ»¡è¶³æ€§è´¨ä¸‰ï¼Œæ‰€ä»¥æ°å¥½æ»¡è¶³ä¸¤æ¡ï¼Œåˆæ³•ã€‚\né¢˜ç›®æè¿°\nYou are given an array a_1, a_2, \\ldots, a_n . You need to find an array b_1, b_2, \\ldots, b_n consisting of numbers 1 , 2 , 3 such that exactly two out of the following three conditions are satisfied:\n\nThere exist indices 1 \\leq i, j \\leq n such that a_i = a_j , b_i = 1 , b_j = 2 .\nThere exist indices 1 \\leq i, j \\leq n such that a_i = a_j , b_i = 1 , b_j = 3 .\nThere exist indices 1 \\leq i, j \\leq n such that a_i = a_j , b_i = 2 , b_j = 3 .\n\nIf such an array does not exist, you should report it.\nè¾“å…¥æ ¼å¼\nEach test contains multiple test cases. The first line contains a single integer t (1 \\leq t \\leq 500) â€” the number of test cases. Each test case is described as follows.\nThe first line of each test case contains an integer n (1 \\leq n \\leq 100) â€” the length of the array a .\nThe second line of each test case contains n integers a_1, a_2, \\ldots, a_n (1 \\leq a_i \\leq 100) â€” the elements of the array a .\nè¾“å‡ºæ ¼å¼\nFor each test case, print -1 if there is no solution. Otherwise, print b_1, b_2, \\ldots, b_n â€” an array consisting of numbers 1 , 2 , 3 that satisfies exactly two out of three conditions. If there are multiple possible answers, you can print any of them.\næ ·ä¾‹ #1\næ ·ä¾‹è¾“å…¥ #1\n9\n6\n1 2 3 2 2 3\n7\n7 7 7 7 7 7 7\n4\n1 1 2 2\n7\n1 2 3 4 5 6 7\n5\n2 3 3 3 2\n3\n1 2 1\n9\n1 1 1 7 7 7 9 9 9\n1\n1\n18\n93 84 50 21 88 52 16 50 63 1 30 85 29 67 63 58 37 69\næ ·ä¾‹è¾“å‡º #1\n1 2 3 1 1 1\n-1\n3 2 2 1\n-1\n2 1 2 1 3\n-1\n1 1 2 2 1 2 2 3 3\n-1\n3 2 1 3 3 3 3 2 2 1 1 2 3 1 3 1 1 2\næç¤º\nIn the first test case, b = [1, 2, 3, 1, 1, 1] satisfies condition 1 because for i = 4 , j = 2 : a_i = a_j , b_i = 1 , and b_j = 2 . It also satisfies condition 2 because for i = 6 , j = 3 : a_i = a_j , b_i = 1 , and b_j = 3 . However, it does not satisfy condition 3 . In total, exactly two out of three conditions are satisfied.\n\nåˆ†æ\næ„é€ é¢˜ï¼Œæ ¹æ®åˆ†æï¼Œåªæœ‰å½“æ•°é‡è¶…è¿‡ 2 ä¸ªçš„æ•°çš„ç§æ•°å¤§äºç­‰äº 2ï¼Œæ‰æœ‰å¯èƒ½æ„é€ å‡ºç¬¦åˆè¦æ±‚çš„ b æ•°ç»„ã€‚\nå‚è€ƒä»£ç \n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn = 120;\nint a[maxn];\n// int cnt[maxn];\n \nint n;\nvoid solve() {\n    cin &gt;&gt; n;\n    // fill(cnt, cnt + sizeof(cnt), 0);\n    int cnt[maxn] = {};\n    for (int i = 0;i &lt; n;i++) {\n        cin &gt;&gt; a[i];\n        cnt[a[i]]++;\n    }\n \n    int cntn = 0;\n    for (int i = 1;i &lt;= 101;i++) {\n        if (cnt[i] &gt;= 2)\n            cntn++;\n    }\n    if (cntn &lt; 2) {\n        cout &lt;&lt; -1 &lt;&lt; endl;\n        return;\n    }\n    bool ck[maxn] = { false };\n    bool f = true;\n    for (int i = 0;i &lt; n;i++) {\n        int x = a[i];\n        if (cnt[x] &gt;= 2 &amp;&amp; !ck[x]) {\n            if (f) {\n                cout &lt;&lt; 2 &lt;&lt; &quot; &quot;;\n                f = false;\n            }\n            else {\n                cout &lt;&lt; 3 &lt;&lt; &quot; &quot;;\n            }\n            ck[x] = true;\n        }\n        else {\n            cout &lt;&lt; 1 &lt;&lt; &quot; &quot;;\n        }\n    }\n    cout &lt;&lt; &quot;\\n&quot;;\n}\n \nint main()\n{\n    int t;cin &gt;&gt; t;\n    while (t--)\n        solve();\n \n    return 0;\n}"},"04-tools/index":{"slug":"04-tools/index","filePath":"04-tools/_index.md","title":"ğŸ› ï¸å·¥å…·ç®±","links":[],"tags":["intro"],"content":"ä¸€äº›æ‚ä¸ƒæ‚å…«çš„ç¬”è®°/è‰ç¨¿çº¸ã€‚"},"04-tools/git_settings":{"slug":"04-tools/git_settings","filePath":"04-tools/git_settings.md","title":"ğŸ”‘Gitç¯å¢ƒé…ç½®å’ŒSSHå…¬é’¥è®¾ç½®","links":[],"tags":["Git","SSH"],"content":"ä¸€èˆ¬è¿œç¨‹ä»“åº“éƒ½æ”¯æŒä½¿ç”¨ ssh è®¿é—®å’Œè¯»å†™æ•°æ®ï¼Œæä¾› ssh è¿›è¡Œè¿æ¥æ—¶ï¼Œä¼šä½¿ç”¨æœ¬åœ°çš„ç§é’¥æ–‡ä»¶è¿›è¡Œèº«ä»½éªŒè¯ï¼Œé…ç½® ssh å¯†é’¥çš„æ­¥éª¤å³ï¼š\n\nåœ¨æœ¬åœ°ç”Ÿæˆ ssh å¯†é’¥å¯¹\nä¸Šä¼ å…¬é’¥åˆ°è¿œç¨‹å­˜å‚¨åº“\n\né…ç½®å¯†é’¥\n1. ç”Ÿæˆ ssh å¯†é’¥å¯¹\n`windows` ç”¨æˆ·å»ºè®®ä½¿ç”¨PowerShell\n\nssh-keygen -t ed25519 -C &quot;SSH Key&quot;\n\n-tï¼škey ç±»å‹\n-Cï¼šæ³¨é‡Š\n\nåœ¨å‘½ä»¤è¡Œä¸€è·¯å›è½¦ï¼ˆä¸‰æ¬¡ï¼‰å³å¯ï¼Œå°†æŠŠå¯†é’¥æ”¾åœ¨é»˜è®¤è·¯å¾„ä¸‹ã€‚\n2. æŸ¥çœ‹ç”Ÿæˆçš„ SSH å…¬é’¥å’Œç§é’¥\nls ~/.ssh/\né»˜è®¤ä¼šå°† ssh å¯†é’¥æ”¾åœ¨~è·¯å¾„ä¸‹çš„éšè—æ–‡ä»¶å¤¹.sshä¸­ã€‚è¾“å‡ºï¼šã€\nid_ed25519  id_ed25519.pub\n\nç§é’¥æ–‡ä»¶ Â id_ed25519\nå…¬é’¥æ–‡ä»¶ Â id_ed25519.pub\n\n3. è¯»å–å…¬é’¥\nä½¿ç”¨ cat å‘½ä»¤ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€æ–‡ä»¶è¿›è¡Œå¤åˆ¶ï¼š\ncat ~/.ssh/id_ed25519.pub\nå¤åˆ¶å…¬é’¥å†…å®¹åï¼Œå°†å…¶ä¸Šä¼ åˆ°è¿œç¨‹å­˜å‚¨åº“ä¸­ï¼Œä¸€èˆ¬åœ¨ä¸ªäººè´¦å·è®¾ç½®ä¸­ä¼šæœ‰ ssh è®¾ç½®æ ã€‚\n4.æµ‹è¯• ssh è¿æ¥\nä½¿ç”¨ssh -Tå‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼Œå…¶ååŠ åœ¨è¿œç¨‹å­˜å‚¨åº“çš„ç”¨æˆ·åã€‚\nssh -T git@github.com\næ­£ç¡®å“åº”ï¼š\nHi your_username! You&#039;ve successfully authenticated, but GitHub does not provide shell access.\nGit config ä¿¡æ¯é…ç½®\nGit çš„é…ç½®ä¿¡æ¯åˆ†ä¸ºä¸‰ä¸ªçº§åˆ«ï¼Œåˆ†åˆ«ä¸ºï¼š\n\n--localï¼šä»“åº“çº§åˆ«\n--globalï¼šç”¨æˆ·çº§åˆ«\n--syustemï¼šç³»ç»Ÿçº§åˆ«\n\n1. è®¾ç½®å…¨å±€ç”¨æˆ·ä¿¡æ¯\ngit config --global user.name &quot;ä½ çš„ç”¨æˆ·å&quot;\ngit config --global user.email &quot;ä½ çš„é‚®ç®±&quot;\n2. å¸¸ç”¨å…¨å±€é…ç½®\n# è®¾ç½®é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆVSCodeä¸ºä¾‹ï¼‰\ngit config --global core.editor &quot;code --wait&quot;\n \n# è®¾ç½®æ¢è¡Œç¬¦å¤„ç†ï¼ˆWindowsæ¨èï¼‰\ngit config --global core.autocrlf true\n \n# è®¾ç½®æ¢è¡Œç¬¦å¤„ç†ï¼ˆLinux/Macæ¨èï¼‰\ngit config --global core.autocrlf input\n \n# å¯ç”¨å½©è‰²è¾“å‡º\ngit config --global color.ui true\n \n# è®¾ç½®é»˜è®¤åˆ†æ”¯åç§°ï¼ˆæ–°ç‰ˆæœ¬Gité»˜è®¤æ˜¯mainï¼‰\ngit config --global init.defaultBranch main\n3. æŸ¥çœ‹é…ç½®ä¿¡æ¯\n# æŸ¥çœ‹æ‰€æœ‰é…ç½®\ngit config --list\n \n# æŸ¥çœ‹å…¨å±€é…ç½®\ngit config --global --list\n \n# æŸ¥çœ‹ç‰¹å®šé…ç½®é¡¹\ngit config user.name\ngit config user.email\n4. ä»“åº“ç‰¹å®šé…ç½®\nå¦‚æœæƒ³å°†æŸä¸ªç‰¹å®šä»“åº“è®¾ç½®ä¸åŒçš„é…ç½®ï¼ˆæ¯”å¦‚å°†å·¥ä½œé‚®ç®±å’Œä¸ªäººé‚®ç®±åˆ†å¼€ï¼‰ï¼š\ncd /path/to/repo\ngit config user.name &quot;å·¥ä½œç”¨æˆ·å&quot;\ngit config user.email &quot;å·¥ä½œé‚®ç®±&quot;\n5. é…ç½®åˆ«å\né…ç½®åˆ«åç›¸å½“äºç»™ git å‘½ä»¤åˆ›å»ºâ€œå¿«æ·æ–¹å¼â€ï¼Œå¯ä»¥æé«˜å·¥ä½œæ•ˆç‡ï¼Œæ¯”å¦‚ï¼š\n\næŠŠ Â git checkoutÂ  ç®€åŒ–ä¸º Â git co\næŠŠ Â git branchÂ  ç®€åŒ–ä¸º Â git br\næŠŠ Â git commitÂ  ç®€åŒ–ä¸º Â git ci\n\né…ç½®å‘½ä»¤æ ¼å¼ï¼š\ngit config --global alias.æ–°åç§° &#039;åŸå‘½ä»¤&#039;\nå¸¸ç”¨åˆ«åï¼š\ngit config --global alias.co checkout\ngit config --global alias.br branch\ngit config --global alias.ci commit\ngit config --global alias.st status\noh-my-zsh git plugin\nå¦‚æœä½ ä½¿ç”¨oh-my-zshï¼Œzsh ä¸­ä¼šæ”¯æŒä¸€å¥— git åˆ«åï¼Œè¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ï¼šgit plugin\nåˆ—ä¸¾ä¸€éƒ¨åˆ†å¸¸ç”¨çš„ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAliasCommandggitgaagit add --allgcmsggit commit --messageggpushgit push origin &quot;$(git_current_branch)&quot;ggpullgit pull origin $(current_branch)gcbgit checkout -bgfgit fetchgfogit fetch origingrbagit rebase --abortgrbcgit rebase --continuegrbsgit rebase --skip"},"04-tools/github_action":{"slug":"04-tools/github_action","filePath":"04-tools/github_action.md","title":"ğŸ™†â€â™€ï¸Github Actionå®è·µ","links":[],"tags":["Github","Action","è‡ªåŠ¨åŒ–éƒ¨ç½²","Git"],"content":"å‰è¨€\næœ¬ç¯‡è®°å½•åˆ©ç”¨ github action å®ç°è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²çš„è¿‡ç¨‹ã€‚\næœ¬ç«™é™¤äº†éƒ¨ç½²åœ¨ github page ä¸Šï¼Œè¿˜éƒ¨ç½²åœ¨æœ¬äººçš„æœåŠ¡å™¨ä¸Šï¼Œæ‡’æƒ°çš„ ddl ç›´åˆ°ç°åœ¨æ‰å»ä¸Šæ‰‹å®éªŒï¼Œå› æ­¤åˆ©ç”¨åœ¨ github action ä¸­å®ç°ä¸¤ç§éƒ¨ç½²æ–¹å¼ã€‚\nGithub Action\nGithub Action æ˜¯ Github æä¾›çš„æŒç»­é›†æˆæœåŠ¡ï¼Œå¯ä»¥åœ¨ä»£ç ä»“åº“ä¸­é…ç½® workflowï¼Œå®ç°è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ç­‰åŠŸèƒ½ã€‚\næœ‰ä¸€äº›æœ¯è¯­éœ€è¦äº†è§£ï¼š\n\nWorkflowï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª job ç»„æˆï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿç¯å¢ƒä¸­è¿è¡Œã€‚\nJobï¼šä¸€ä¸ª job ç”±ä¸€ç³»åˆ— step ç»„æˆï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ª runner ä¸Šè¿è¡Œã€‚\nStepï¼šä¸€ä¸ª step ç”±ä¸€ä¸ªæˆ–å¤šä¸ª action ç»„æˆï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ª runner ä¸Šè¿è¡Œã€‚\nActionï¼šä¸€ä¸ª action æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä»»åŠ¡ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ runner ä¸Šè¿è¡Œã€‚\n\né…ç½®\nè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ github action è‡ªå¸¦çš„SSH Deploy actionï¼Œä½¿ç”¨ ssh é“¾æ¥è¿œç¨‹æœåŠ¡å™¨ï¼Œå°†ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒè¿™é‡Œã€‚\n1. åˆ›å»º SSH Key å¹¶æ·»åŠ åˆ° github secrets\né¦–å…ˆéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆä¸€ä¸ª SSH Keyï¼Œç”¨äº github action ç™»å½•æœåŠ¡å™¨ã€‚\nssh-keygen -m PEM -t rsa -b 4096\nkey çš„ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œå¯ä»¥ä¸è¾“å…¥ï¼Œç›´æ¥å›è½¦ï¼Œé»˜è®¤ä¿å­˜åœ¨/root/.sshç›®å½•ä¸‹ï¼ˆè¿™ä¸ªå¯èƒ½ä¸åŒçš„æœåŠ¡å™¨ç¯å¢ƒä¼šæœ‰åŒºåˆ«ï¼Œå…·ä½“çš„é»˜è®¤ä½ç½®åœ¨ç”Ÿæˆssh-keyçš„æ—¶å€™å‘½ä»¤è¡Œæœ‰æç¤ºã€‚\nç”Ÿæˆçš„ key åŒ…å«ä¸€ä¸ªç§é’¥id_rsaå’Œä¸€ä¸ªå…¬é’¥id_rsa.pubï¼Œç§é’¥ä¿å­˜åœ¨æœ¬åœ°ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„/root/.ssh/authorized_keysæ–‡ä»¶ä¸­ã€‚\ncat ./id_rsa.pub &gt;&gt; /root/.ssh/authorized_keys\nè€ƒè™‘åˆ°æˆ‘ä»¬å¹¶ä¸æƒ³æŠŠç§é’¥æš´éœ²åœ¨ github å…¬å¼€ä»“åº“ä¸Šï¼Œæˆ‘ä»¬éœ€è¦å°†ç§é’¥id_rsaæ·»åŠ åˆ° github çš„ secrets ä¸­ã€‚\nåœ¨ä»“åº“çš„Settingsâ†’Securityâ†’Secrets and variablesâ†’Actionsä¸­ï¼Œé€‰æ‹©New repository secretï¼Œæ·»åŠ ä¸€ä¸ªSSH_PRIVATE_KEYï¼Œå°†ç§é’¥å†…å®¹ç²˜è´´è¿›å»ã€‚\nå†æ–°å»ºä¸‰ä¸ª secretsï¼Œåˆ†åˆ«æ˜¯REMOTE_HOSTã€REMOTE_USERã€REMOTE_TARGETï¼Œåˆ†åˆ«å¯¹åº”æœåŠ¡å™¨çš„åœ°å€ã€ç”¨æˆ·åã€ç›®æ ‡è·¯å¾„ã€‚\n2. åˆ›å»º workflow\nåœ¨ä»£ç ä»“åº“çš„.github/workflowsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.ymlæ–‡ä»¶ï¼Œæ–‡ä»¶åå¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚deploy.ymlã€‚\nä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflowï¼Œgithub åªè¦å‘ç°.github/workflowsç›®å½•ä¸‹æœ‰.ymlæ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œ workflowã€‚\nå†…å®¹å¯ä»¥å‚è€ƒå¦‚ä¸‹ï¼š\nname: Deploy\n \n# è§¦å‘æ¡ä»¶\non:\n  push:\n    branches: [main]\n  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘\n \njobs:\n  deploy:\n    runs-on: ubuntu-latest\n \n    steps:\n      - uses: actions/checkout@v3\n      - name: Install Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: &quot;16.x&quot;\n      - name: ssh deploy\n        uses: easingthemes/ssh-deploy@v5.0.3\n        with:\n          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}\n          ARGS: &quot;-rlgoDzvc -i&quot;\n          SOURCE: &quot;&quot;\n          REMOTE_HOST: ${{ secrets.REMOTE_HOST }}\n          REMOTE_USER: ${{ secrets.REMOTE_USER }}\n          TARGET: ${{ secrets.REMOTE_TARGET }}\nå‘ github ä»“åº“ push ä»£ç ä¹‹åï¼Œæˆ‘ä»¬åœ¨Actionsé€‰é¡¹å¡ä¸­å¯ä»¥çœ‹åˆ° workflow çš„è¿è¡Œæƒ…å†µã€‚å‡å¦‚è¿è¡Œå¤±è´¥ï¼Œå¯ä»¥ç‚¹è¿›å»æŸ¥çœ‹å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œè¿›è¡Œè°ƒè¯•ã€‚\nä¹‹åæ¯æ¬¡ push åˆ° main åˆ†æ”¯æˆ–è€…æ‰‹åŠ¨è§¦å‘ workflowï¼Œgithub action å°±ä¼šè‡ªåŠ¨è¿è¡Œ workflowï¼Œå°†ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚\næ›´æ–° 2024-09-22\nä¹‹å‰éƒ¨ç½²çš„æ—¶å€™åªä¸Šä¼ äº†public/æ–‡ä»¶å¤¹ï¼Œæœ€è¿‘æœ‰åŒæ­¥æºç çš„éœ€æ±‚ï¼Œä½†æ˜¯æºç åŒ…å«ä¸€äº›éšç§ä¿¡æ¯ï¼Œå¹¶ä¸é€‚åˆä¸Šä¼ åˆ° github çš„å…¬å¼€ä»“åº“ï¼Œæ‰€ä»¥ç°åœ¨çš„éœ€æ±‚æ˜¯ï¼š\n\nå°†æºç ä¸Šä¼ åˆ°ä¸€ä¸ªç§æœ‰ä»“åº“\nä»ç§æœ‰ä»“åº“ä¸­å°†public/æ–‡ä»¶å¤¹åŒæ­¥åˆ°&lt;username&gt;.github.ioå…¬å¼€ä»“åº“ä¸­ï¼Œå¹¶éƒ¨ç½²åˆ°github page\n\nå› æ­¤æ–°å¢äº†ä¸€ä¸ªåœ¨æºç ä»“åº“æ ¹ç›®å½•ä¸‹çš„ workflowï¼Œå°†æºç ä¸Šä¼ åˆ°ç§æœ‰ä»“åº“ï¼Œé€šè¿‡ hugo å®˜æ–¹æä¾›çš„ actionï¼Œå°†ç”Ÿäº§çš„ç«™ç‚¹æ–‡ä»¶åŒæ­¥åˆ°&lt;username&gt;.github.ioå…¬å¼€ä»“åº“ä¸­ã€‚\nåˆ›å»ºç§æœ‰ä»“åº“\né¦–å…ˆåœ¨ github ä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œç”¨äºå­˜æ”¾æºç ã€‚\nåˆ›å»º personal access token\nåœ¨ github çš„Settingsâ†’Developer settingsâ†’Personal access tokensä¸­ï¼Œç‚¹å‡»Generate new tokenï¼Œå‹¾é€‰repoæƒé™ï¼Œç”Ÿæˆä¸€ä¸ª tokenï¼Œå°† token å¤åˆ¶ä¸‹æ¥ã€‚\næ·»åŠ  secrets\nåœ¨æºç ä»“åº“çš„Settingsâ†’Securityâ†’Secrets and variablesâ†’Actionsä¸­ï¼Œæ·»åŠ ä¸€ä¸ªACTION_ACCESS_TOKENï¼Œå°†åˆšåˆšç”Ÿæˆçš„ token ç²˜è´´è¿›å»ï¼Œè¿™ä¸ªå‘½åè¦å’Œ workflow æ–‡ä»¶ä¸­çš„ä¸€è‡´ã€‚\nåˆ›å»º workflow\nåœ¨ç§æœ‰ä»“åº“çš„.github/workflowsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªgh-page.ymlæ–‡ä»¶ã€‚\næ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\nname: github pages deploy\n \non:\n  push:\n    branches:\n      - main\n \npermissions:\n  contents: read\n \njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3 # å¼•ç”¨actions/checkoutè¿™ä¸ªactionï¼Œä¸æ‰€åœ¨çš„githubä»“åº“åŒå\n        with:\n          submodules: flase # æ˜¯å¦è·å–å­æ¨¡å—\n          fetch-depth: 0\n \n      - name: Install Node.js\n        uses: actions/setup-node@v3\n \n      - name: Setup Hugo # æ­¥éª¤åè‡ªå–\n        uses: peaceiris/actions-hugo@v3 # hugoå®˜æ–¹æä¾›çš„actionï¼Œç”¨äºåœ¨ä»»åŠ¡ç¯å¢ƒä¸­è·å–hugo\n        with:\n          hugo-version: &quot;latest&quot; # è·å–æœ€æ–°ç‰ˆæœ¬çš„hugo\n          extended: true\n \n      - name: Build\n        run: hugo --minify # ä½¿ç”¨hugoæ„å»ºé™æ€ç½‘é¡µ\n \n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v4 # ä¸€ä¸ªè‡ªåŠ¨å‘å¸ƒgithub pagesçš„action\n        with:\n          # github_token: ${{ secrets.GITHUB_TOKEN }} è¯¥é¡¹é€‚ç”¨äºå‘å¸ƒåˆ°æºç ç›¸åŒrepoçš„æƒ…å†µï¼Œä¸èƒ½ç”¨äºå‘å¸ƒåˆ°å…¶ä»–repo\n          external_repository: dodolalorc/dodolalorc.github.io # å‘å¸ƒåˆ°å“ªä¸ªrepo\n          personal_token: ${{ secrets.ACTION_ACCESS_TOKEN }} # å‘å¸ƒåˆ°å…¶ä»–repoéœ€è¦æä¾›ä¸Šé¢ç”Ÿæˆçš„personal access token\n          publish_dir: ./public/ # æ³¨æ„è¿™é‡ŒæŒ‡çš„æ˜¯è¦å‘å¸ƒå“ªä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æŒ‡å‘å¸ƒåˆ°ç›®çš„ä»“åº“çš„ä»€ä¹ˆä½ç½®ï¼Œå› ä¸ºhugoé»˜è®¤ç”Ÿæˆé™æ€ç½‘é¡µåˆ°publicæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥è¿™é‡Œå‘å¸ƒpublicæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹\n          keep_files: true # æ˜¯å¦ä¿ç•™å…¶ä»–æ–‡ä»¶\n          publish_branch: main # å‘å¸ƒåˆ°å“ªä¸ªbranch\n          commit_message: ${{ github.event.head_commit.message }} # æäº¤ä¿¡æ¯\nç”±äºç°åœ¨çš„xxx.github.ioå¯¹åº”çš„ä»“åº“æ˜¯åœ¨ GitHub action ä¸­æ„å»ºç«™ç‚¹åç›´æ¥ commit åŒæ­¥çš„ï¼Œæ•…åŸæ¥åœ¨å…¬å¼€ä»“åº“ä¸­çš„ workflows å¹¶ä¸æ–¹ä¾¿æ·»åŠ åˆ°è¿™ä¸ª commit é‡Œï¼Œæˆ‘è¿™é‡Œçš„è§£å†³æ€è·¯æ˜¯å°†åŸæ¥ ssh è¿æ¥äº‘æœåŠ¡å™¨è¿›è¡Œ deploy çš„ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œæ·»åŠ è‡ªåŠ¨æ„å»ºå†…å®¹ï¼Œå†ç›´æ¥ç”¨ ssh è¿æ¥åˆ°äº‘æœåŠ¡å™¨ï¼Œå®Œæˆäº‘æœåŠ¡å™¨çš„å†…å®¹æ›´æ–°ã€‚ä¿®æ”¹åçš„remote-deploy.ymlå‚è€ƒå¦‚ä¸‹ï¼š\nname: Deploy to remote server\n \n# è§¦å‘æ¡ä»¶\non:\n  push:\n    branches: [main]\n  workflow_dispatch:\n \njobs:\n  deploy:\n    runs-on: ubuntu-latest\n \n    steps:\n      - uses: actions/checkout@v3\n      - name: Install Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: &quot;16.x&quot;\n \n      - name: Setup Hugo\n        uses: peaceiris/actions-hugo@v2\n        with:\n          hugo-version: &quot;latest&quot;\n          extended: true\n \n      - name: Build\n        run: hugo --minify\n \n      - name: ssh deploy\n        uses: easingthemes/ssh-deploy@v5.1.0\n        with:\n          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}\n          ARGS: &quot;-rlgoDzvc -i&quot;\n          REMOTE_HOST: ${{ secrets.REMOTE_HOST }}\n          REMOTE_USER: ${{ secrets.REMOTE_USER }}\n          TARGET: ${{ secrets.REMOTE_TARGET }}\n          SOURCE: &quot;public/&quot;\n          # SCRIPT_BEFORE: |\n          #   whoami\n          #   ls -al\n          # SCRIPT_AFTER: |\n          #   cd ${{ secrets.REMOTE_TARGET }}\n          #   ls -al\n          #   pwd\n          #   echo &quot;Deployed successfully&quot;"},"04-tools/mac_start":{"slug":"04-tools/mac_start","filePath":"04-tools/mac_start.md","title":"ğŸæˆ‘çš„ mac å¼€è’æ‰‹å†Œ","links":["04-tools/git_settings","04-tools/xcode_commands"],"tags":["Mac","Git","HomeBrew","Item2","zsh","oh-my-zsh"],"content":"HomeBrew\nHomeBrewæ˜¯ä¸€æ¬¾åŒ…ç®¡ç†å·¥å…·ï¼Œæ”¯æŒ Mac OS å’Œ Linux ç³»ç»Ÿï¼Œé¦–å…ˆå®‰è£…å¥½ HomeBrew å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬è·å–å…¶ä»–æ‰€éœ€è¦çš„è½¯ä»¶ã€‚\nå®˜ç½‘è®¿é—®ï¼šHomebrew\n/bin/bash -c &quot;$(curl -fsSL raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\næ¢æº\nå¦‚æœå®˜ç½‘çš„å®‰è£…è„šæœ¬æ€»æ˜¯å¤±è´¥ï¼Œå¯ä»¥å°è¯•æ¢æºï¼ˆä»¥æ¸…åæºä¸ºä¾‹ï¼‰ï¼š\nexport HOMEBREW_BREW_GIT_REMOTE=&quot;mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git&quot;\nexport HOMEBREW_CORE_GIT_REMOTE=&quot;mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git&quot;\nexport HOMEBREW_API_DOMAIN=&quot;mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api&quot;\nexport HOMEBREW_BOTTLE_DOMAIN=&quot;mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles&quot;\n \n/bin/bash -c &quot;$(curl -fsSL gitee.com/ineo6/homebrew-install/raw/master/install.sh)&quot;\næ›´å¤šé€‰æ‹©å¯ä»¥åœ¨è¿™é‡ŒæŸ¥è¯¢ï¼šé•œåƒåŠ©æ‰‹\næ›´æ–°\nbrew update\noh-my-zsh\noh-my-zsh æ˜¯ zsh çš„æ‹“å±•å·¥å…·é›†ï¼Œå®‰è£… oh-my-zsh çš„å‰ææ¡ä»¶æ˜¯å®‰è£…ä½¿ç”¨ zshã€‚\nzsh\næŸ¥è¯¢zshç‰ˆæœ¬ï¼šzsh --version\nåˆ—å‡ºå¯ç”¨ç»ˆç«¯ï¼š\ncat /etc/shells\nå½“å‰ä½¿ç”¨çš„ç»ˆç«¯ï¼š\necho $SHELL\nå°†é»˜è®¤ç»ˆç«¯è®¾ç½®æˆzshï¼Œè°ƒæ•´åéœ€è¦é‡å¯ç”Ÿæ•ˆï¼š\nchsh -s /bin/zsh\nå®‰è£… oh-my-zsh\nå®˜ç½‘ï¼šoh-my-zshï¼Œæä¾›äº†curlå’Œwgetä¸¤ç§æ–¹å¼ï¼š\nsh -c &quot;$(curl -fsSL raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;\nsh -c &quot;$(wget raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)&quot;\nè®¾ç½®ä¸»é¢˜\nå®‰è£…æˆåŠŸåï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ä¸»é¢˜ï¼š\n# è®°äº‹æœ¬æ‰“å¼€\nopen ~/.zshrc\n# vimæ‰“å¼€\nvim ~/.zshrc\næ˜¾ç¤ºå†…å®¹ï¼š\n# If you come from bash you might have to change your $PATH.\n# export PATH=$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH\n \n# Path to your Oh My Zsh installation.\nexport ZSH=&quot;$HOME/.oh-my-zsh&quot;\n \n# Set name of the theme to load --- if set to &quot;random&quot;, it will\n# load a random theme each time Oh My Zsh is loaded, in which case,\n# to know which specific one was loaded, run: echo $RANDOM_THEME\n# See github.com/ohmyzsh/ohmyzsh/wiki/Themes\nZSH_THEME=&quot;robbyrussell&quot;\n \n......\nå…¶ä¸­ZSH_THEME=&quot;robbyrussell&quot;æ˜¯ä¸»é¢˜å‚æ•°çš„ï¼Œå¯ä»¥åœ¨ï¼šohmyzsh/ohmyzsh/wiki/ThemesæŸ¥çœ‹æ‰€æœ‰ä¸»é¢˜çš„æ•ˆæœï¼Œå°†é€‰æ‹©ä½¿ç”¨çš„ä¸»é¢˜çš„åç§°å¡«å…¥è¿™ä¸ªå‚æ•°å³å¯ã€‚\nå­—ç¬¦æ”¯æŒ\næœ‰ä¸€äº›ä¸»é¢˜ä¾èµ–é¢å¤–çš„å­—ç¬¦ï¼Œä» GitHub ä¸‹è½½å¹¶å®‰è£…ï¼š\ngit clone github.com/powerline/fonts.git --depth=1\n \ncd fonts\n./install.sh\n \ncd ..\nrm -rf fonts\noh-my-zsh æ’ä»¶\né™¤äº†æ¼‚äº®çš„ä¸»é¢˜ï¼Œoh-my-zsh è¿˜æ‹¥æœ‰ä¸°å¯Œçš„æ’ä»¶ç³»ç»Ÿï¼šohmyzsh/ohmyzsh/wiki/plugins\nè¿˜æ˜¯æ‰“å¼€~/.zshrcï¼Œå…¶ä¸­æœ‰è¿™æ ·çš„å†…å®¹ï¼š\n# Would you like to use another custom folder than $ZSH/custom?\n# ZSH_CUSTOM=/path/to/new-custom-folder\n \n# Which plugins would you like to load?\n# Standard plugins can be found in $ZSH/plugins/\n# Custom plugins may be added to $ZSH_CUSTOM/plugins/\n# Example format: plugins=(rails git textmate ruby lighthouse)\n# Add wisely, as too many plugins slow down shell startup.\nplugins=(git)\né»˜è®¤åœ¨å®‰è£…æ—¶å·²ç»é…å¤‡äº† git çš„åˆ«åæ’ä»¶ï¼Œå…¶ä¸­å¸¸ç”¨çš„åˆ«åå¯ä»¥åœ¨è¿™ç¯‡ä¸­æŸ¥çœ‹ï¼šgit é…ç½®åˆ«åã€‚\nåœ¨æ’ä»¶ç³»ç»Ÿä¸­æŒ‘é€‰å–œæ¬¢çš„æ’ä»¶ï¼Œæ¨èçš„æ’ä»¶æœ‰ï¼š\nå‘½ä»¤è¡Œé«˜äº®ã€è¡¥å…¨\næ¥æºï¼šOh my ZSH with zsh-autosuggestions zsh-syntax-highlighting zsh-fast-syntax-highlighting and zsh-autocomplete.md\nå®‰è£…å¦‚ä¸‹æ’ä»¶ï¼š\n\nautosuggesions plugin\n\ngit clone github.com/zsh-users/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions\n\n\nzsh-syntax-highlighting plugin\n\ngit clone github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting\n\n\nzsh-fast-syntax-highlighting plugin\n\ngit clone github.com/zdharma-continuum/fast-syntax-highlighting.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/fast-syntax-highlighting\n\n\nzsh-autocomplete plugin\n\ngit clone --depth 1 -- github.com/marlonrichert/zsh-autocomplete.git $ZSH_CUSTOM/plugins/zsh-autocomplete\n\n\n\nåœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š\nplugins=(git zsh-autosuggestions zsh-syntax-highlighting fast-syntax-highlighting zsh-autocomplete)\nå…¶ä»–æ¨è\n\nzï¼šè®°å½•å†å²è·¯å¾„ï¼Œæä¾›å¿«é€Ÿè·³è½¬ã€‚ä½¿ç”¨zã€z pã€‚\ncopypathï¼šå¤åˆ¶å½“å‰çš„è·¯å¾„åˆ°å‰ªåˆ‡æ¿ã€‚ä½¿ç”¨ï¼šcopypath &lt;æ–‡ä»¶æˆ–ç›®å½•&gt;ï¼Œä¸åŠ å‚æ•°å°±æ˜¯å¤åˆ¶å½“å‰è·¯å¾„ï¼Œç›¸æ¯”pwdå†å…‰æ ‡é€‰ä¸­æ›´å¿«æ·ã€‚\ncopyfileï¼šå¤åˆ¶æ–‡ä»¶å†…å®¹åˆ°å‰ªåˆ‡æ¿ã€‚ä½¿ç”¨ï¼šcopyfile filename.txtï¼Œå³å¯å°†æ–‡ä»¶çš„å†…å®¹å¤åˆ¶ï¼Œçœç•¥æ‰“å¼€æ–‡ä»¶çš„åå…¨é€‰å¤åˆ¶çš„æ­¥éª¤ã€‚\n\niTerm2\nå®‰è£…\nbrew install --cask iterm2\nè®¾ç½®ä¸»é¢˜\n\ncommand ,å”¤å‡º settings èœå•ã€‚\nProfilesâ†’colorsâ†’color Presetsä¸‹é€‰æ‹©é¢œè‰²å’Œä¸»é¢˜ã€è¿›è¡Œå¾®è°ƒã€‚\næ›´å¤šé¢œè‰²ä¸»é¢˜ï¼šIterm2-color-schemes\næŒ‘é€‰å–œæ¬¢çš„ä¸»é¢˜åï¼Œä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ã€‚\nåœ¨ç¬¬ 2 æ­¥çš„color Presetsä¸‹é€‰æ‹©importï¼Œé€‰æ‹©ä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶ï¼Œåç¼€.itermcolorsã€‚\nå†æ¬¡æ‰“å¼€color Presetså°±ä¼šå‘ç°ä¸»é¢˜å·²ç»åŠ è½½ï¼Œç‚¹å‡»ä½¿ç”¨å³å¯ã€‚\n\nddl å–œæ¬¢çš„ä¸»é¢˜ï¼štokyonight\næœ€åå°† item2 ä¿ç•™åœ¨ç¨‹åºåä¸Šæ–¹ä¾¿ä½¿ç”¨å³å¯ï½\nXcode-select å®‰è£…å‘½ä»¤è¡Œå·¥å…·\nåœ¨å®‰è£… Homebrew æ—¶ï¼Œä¹Ÿä¼šé™„å¸¦ä¸‹è½½ Xcode å‘½ä»¤è¡Œå·¥å…·ï¼Œå¦‚æœæ²¡æœ‰å®‰è£… Xcode å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥è¿è¡Œï¼š\nxcode-select --install\nè¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å·¥å…·åŒ…ï¼ŒåŒ…å«å¼€å‘æ‰€éœ€çš„åŸºç¡€å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†ä¸éœ€è¦å®‰è£…å®Œæ•´çš„ Xcodeï¼ˆèŠ‚çœç©ºé—´ï¼Œçº¦ 1-2GBï¼‰\n\n\n                  \n                  éƒ¨åˆ†åˆ—ä¸¾ \n                  \n                \n\n\n\næ ¸å¿ƒç¼–è¯‘å·¥å…·\n\nclangdï¼šxcode é»˜è®¤ç¼–è¯‘å™¨\nswiftå’Œswiftcï¼šswift è¯­è¨€ç¼–è¯‘å™¨\nldï¼ˆé“¾æ¥å™¨ï¼‰å’Œarï¼ˆé™æ€åº“æ‰“åŒ…å·¥å…·ï¼‰\nmakeå’Œcmakeï¼šé¡¹ç›®æ„å»ºå·¥å…·\n\n\nè°ƒè¯•ä¸åˆ†æå·¥å…·\n\nlldbï¼šxcode è°ƒè¯•å™¨çš„å‘½ä»¤è¡Œç‰ˆæœ¬\n\n\nç‰ˆæœ¬æ§åˆ¶å·¥å…·\n\ngitï¼šä»£ç ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼ˆmacOS è‡ªå¸¦ Â gitÂ  ä½†ç‰ˆæœ¬è¾ƒæ—§ï¼ŒCLT ä¼šæ›´æ–°åˆ°æœ€æ–°ç‰ˆï¼‰ã€‚\nsvnï¼šSubversion ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚\n\n\næ–‡æ¡£å·¥å…·\n\nheader æ–‡ä»¶ï¼šC/C++ æ ‡å‡†åº“ã€ç³»ç»Ÿæ¡†æ¶çš„å¤´æ–‡ä»¶ï¼ˆå¦‚ Â stdio.hã€Foundation.frameworkï¼‰\nmanæ–‡æ¡£ï¼šå‘½ä»¤è¡Œå·¥å…·çš„æ‰‹å†Œé¡µï¼ˆå¦‚ Â man clangï¼‰ã€‚\n\n\nå…¶ä»–å®ç”¨å·¥å…·\n\nxcrunï¼šXcode å·¥å…·é“¾çš„è°ƒåº¦å‘½ä»¤ï¼ˆç”¨äºè°ƒç”¨å…¶ä»–å·¥å…·ï¼‰ã€‚\nsdkmanagerï¼šç®¡ç† SDK è·¯å¾„ï¼ˆå¦‚ Â xcrun --show-sdk-pathï¼‰ã€‚\npkgutilï¼šè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚\n\n\n\n\n\n\næˆ–è®¸ä½ ä¹Ÿå¯¹ğŸ’» å¸¸ç”¨ xcode ä½¿ç”¨å‘½ä»¤æ„Ÿå…´è¶£ã€‚\nGit ç¯å¢ƒè®¾ç½®\nMac ç³»ç»Ÿè‡ªå¸¦äº† Gitï¼Œæˆ–è€…åœ¨å®‰è£… XCode æ—¶ï¼Œä¹Ÿå·²ç»å®‰è£…äº† Gitã€‚\nå¯ä»¥å‚è€ƒæ­¤æ–‡ç« è·å¾—æ›´è¯¦ç»†çš„é…ç½®ï¼šğŸ”‘Git ç¯å¢ƒé…ç½®å’Œ SSH å…¬é’¥è®¾ç½®\nMac ä¸Šç»™ VS code è®¾ç½®å‘½ä»¤è¡Œæ‰“å¼€ç›®å½•\nVS code å®˜ç½‘\n\næ‰“å¼€ VS codeï¼Œshift + command + pè°ƒå‡ºå‘½ä»¤é¢æ¿\nè¾“å…¥shell Commandï¼Œé€‰æ‹©åœ¨PATHä¸­å®‰è£…codeå‘½ä»¤\nç‚¹å‡»å¼¹å‡ºæ¡†ï¼Œç¡®è®¤æ“ä½œ\n"},"04-tools/my_win_shell":{"slug":"04-tools/my_win_shell","filePath":"04-tools/my_win_shell.md","title":"æˆ‘çš„ oh-my-posh ä¸Šéƒ½æœ‰å“ªäº›é…ç½®","links":["tags/oh-my-zsh"],"tags":["oh-my-posh","windows","shell","oh-my-zsh"],"content":"What\nåœ¨ Windows ä¸Šä½¿ç”¨çš„æ˜¯ WSL2(fish)+power shell ç»„åˆï¼Œä½¿ç”¨çš„æ˜¯ oh-my-poshã€‚\nå¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤å¾—çŸ¥å½“å‰çš„ shell æ˜¯ä»€ä¹ˆï¼š\nå¦‚æœè¿™ä¸ªå‘½ä»¤æœ‰è¾“å‡ºï¼Œä»£è¡¨åœ¨ power shell ä¸­ï¼Œè¿™ä¼šè¿”å›ä¸€äº› power shell çš„è¯¦ç»†ä¿¡æ¯ï¼š\n$PSVersionTable.PSVersion\nè¿™ä¸ªå‘½ä»¤åœ¨ bashã€zshã€fish ç­‰ä¸­æœ‰æ•ˆï¼š\necho $SHELL\nPowerShell æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªé…ç½®æ–‡ä»¶ï¼ˆProfileï¼‰ï¼ŒæŸ¥çœ‹å½“å‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼š\n$PROFILE.CurrentUserCurrentHost\nä¸€äº› Power Shell ä¸­çš„ Module å‘½ä»¤\n\nPSï¼šç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ç»ˆç«¯ã€‚\n\næŸ¥çœ‹å½“å‰å®‰è£…çš„ Module\nGet-InstalledModule\nå®‰è£… Module\nInstall-Module &lt;Module-Name&gt;\nå¸è½½ Module\nUninstall-Module &lt;Module-Name&gt;\næŸ¥çœ‹å¯ç”¨æ¨¡å—\n# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡å—\nGet-Module -ListAvailable\n \n# æŸ¥çœ‹ç‰¹å®šæ¨¡å—\nGet-Module -ListAvailable -Name &lt;Module-Name&gt;\n \n# ä½¿ç”¨é€šé…ç¬¦æœç´¢\nGet-Module -ListAvailable *git*\nå¿…å¤‡æ¨¡å—\nOh My Posh\næä¾›ç¾è§‚çš„æç¤ºç¬¦å’Œä¸»é¢˜ï¼ˆåŒ…æ‹¬ Git çŠ¶æ€ä¿¡æ¯ï¼‰ã€‚\nå®‰è£…æ–¹å¼è¾ƒå¤šï¼Œå¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹å®‰è£…æ–¹æ³•ï¼šoh-my-posh\nè‡ªå®šä¹‰ git åˆ«åå’Œå‡½æ•°\nå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ oh-my-zsh çš„ Git åˆ«åï¼šohmyzsh-git\nå°†éœ€è¦ç”¨çš„åˆ«åå†…å®¹å‘ä¸‹æ–¹è¿™æ ·å†™åœ¨ Power Shell çš„ Profile ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š\n$PROFILE.CurrentUserCurrentHost\næŸ¥çœ‹ Profile æ–‡ä»¶çš„ä½ç½®ã€‚\næ•´ç†çš„å†…å®¹å¯ä»¥å‚è€ƒï¼š\n# ==================== ä½¿ç”¨å‡½æ•°å®šä¹‰ Git å‘½ä»¤ ====================\nfunction g { git $args }\nfunction gst { git status $args }\nfunction gd { git diff $args }\nfunction gco { git checkout $args }\nfunction gl { git pull $args }\nfunction gp { git push $args }\nfunction ga { git add $args }\nfunction gaa { git add --all $args }\nfunction gc { git commit -v $args }\nfunction gcmsg { git commit -m $args }\nfunction gcam { git commit -a -m $args }\nfunction gcob { git checkout -b $args }\nfunction gb { git branch $args }\nfunction gba { git branch -a $args }\nfunction glg { git log --stat --color $args }\nfunction glgg { git log --graph --decorate --oneline $args }\nfunction glo { git log --oneline --decorate --color $args }\nfunction grb { git rebase $args }\nfunction grba { git rebase --abort $args }\nfunction grbc { git rebase --continue $args }\nfunction grbs { git rebase --skip $args }\nfunction gpr { git pull --rebase $args }\nfunction gpf { git push --force $args }\nfunction git_current_branch { git rev-parse --abbrev-ref HEAD }\nfunction ggpush { git push origin &quot;$(git_current_branch)&quot; }\nfunction ggpull { git pull origin &quot;$(git_current_branch)&quot; }\n \n# å¿«é€Ÿæäº¤æ‰€æœ‰æ›´æ”¹å¹¶æ¨é€\nfunction gap() {\n    git add .\n    git commit -m &quot;$args&quot;\n    git push\n}\n \n# (å¯é€‰) å¦‚æœä½ æƒ³å¿µ &#039;ll&#039; å‘½ä»¤\nfunction ll { Get-ChildItem -Force | Format-Wide -AutoSize }\nç›´æ¥å°†æ•´ç†å¥½çš„å†…å®¹ç²˜è´´åœ¨æ–‡ä»¶å°¾éƒ¨ï¼Œå¹¶ä¿å­˜æ–‡ä»¶ï¼Œå°±èƒ½åœ¨æ–°æ‰“å¼€çš„ç»ˆç«¯åœ¨ä½¿ç”¨è¿™äº›å‘½ä»¤äº†ã€‚"},"04-tools/url_rewrite_rule":{"slug":"04-tools/url_rewrite_rule","filePath":"04-tools/url_rewrite_rule.md","title":"ğŸŒURL é‡å†™è§„åˆ™å’Œé™æ€èµ„æºè§£æé€»è¾‘","links":[],"tags":["å‹å¥½URLè§„åˆ™","GitHubPage","Nginx","æœåŠ¡å™¨"],"content":"é—®é¢˜èƒŒæ™¯\næœ€è¿‘éƒ¨ç½²åšå®¢é¡µé¢æ—¶é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šåŒæ ·çš„é¡µé¢ç»“æ„ï¼Œéƒ¨ç½²åˆ°æˆ‘çš„ä¸¤ä¸ªåŸŸåä¸‹ï¼šdodolalorc.cn å’Œ dodolalorc.github.ioï¼Œå¯¹åº”çš„ç½‘é¡µå†…å®¹æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ dodolalorc.cn éœ€è¦å†™æˆdodolalorc.cn/links.htmlæ‰èƒ½æ˜¾ç¤ºå†…å®¹ï¼Œå¦åˆ™ä¼šæŠ¥404ï¼Œdodolalorc.github.ioå°±ä¸éœ€è¦è¿™æ ·ã€‚\nåŸå› è®°å½•\nè¿™ç§å·®å¼‚ä¸»è¦æºäºä¸¤ä¸ªåŸŸåæ‰€å¯¹åº”çš„æœåŠ¡å™¨é…ç½®ä¸åŒï¼Œæœ¬è´¨åŸå› æ˜¯æœåŠ¡å™¨å¦‚ä½•è§£æ â€œæ— åç¼€ URLâ€ã€‚\næˆ‘çš„ dodolalorc.cn é…ç½®åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œ dodolalorc.github.io å°†èµ° github page çš„ä»£ç†ã€‚\nå½“è®¿é—®ä¸€ä¸ª URLï¼ˆå¦‚a.github.io/aboutæˆ–a.cn/aboutï¼‰æ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦åˆ¤æ–­è¿™ä¸ªè¯·æ±‚å¯¹åº”çš„å®é™…æ–‡ä»¶æ˜¯ä»€ä¹ˆã€‚\n\nå¯¹äºa.github.io/aboutï¼šæœåŠ¡å™¨è¢«é…ç½®ä¸º â€œè‡ªåŠ¨è¡¥å…¨.htmlåç¼€â€ï¼Œå³è‡ªåŠ¨å°†aboutè§£æä¸ºabout.htmlï¼Œå› æ­¤èƒ½æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶å¹¶è¿”å›å†…å®¹ã€‚\nå¯¹äºa.cn/aboutï¼šæœåŠ¡å™¨æ²¡æœ‰é…ç½®è‡ªåŠ¨è¡¥å…¨åç¼€ï¼Œå®ƒä¼šä¸¥æ ¼æŒ‰ç…§è¯·æ±‚çš„è·¯å¾„æŸ¥æ‰¾æ–‡ä»¶ï¼ˆå³å¯»æ‰¾aboutè¿™ä¸ª â€œæ— åç¼€æ–‡ä»¶â€ï¼‰ï¼Œä½†å®é™…æ–‡ä»¶æ˜¯about.htmlï¼Œå› æ­¤æ‰¾ä¸åˆ°ï¼Œè¿”å› 404ï¼›åªæœ‰æ‰‹åŠ¨åŠ ä¸Š.htmlï¼ˆå³a.cn/about.htmlï¼‰ï¼Œæ‰èƒ½åŒ¹é…åˆ°å®é™…æ–‡ä»¶ã€‚\n\na.github.ioé€šå¸¸æ˜¯æ‰˜ç®¡åœ¨GitHub Pagesä¸Šçš„é™æ€ç½‘ç«™ï¼Œè€Œ GitHub Pages é»˜è®¤é…ç½®äº† â€œå‹å¥½ URL è§„åˆ™â€ï¼Œä¼šè‡ªåŠ¨å¤„ç†æ— åç¼€çš„ URL è¯·æ±‚ã€‚å…·ä½“é€»è¾‘åŒ…æ‹¬ï¼š\n\nè‡ªåŠ¨è¡¥å…¨.htmlåç¼€ï¼šå½“è¯·æ±‚/aboutæ—¶ï¼ŒæœåŠ¡å™¨ä¼šå…ˆæ£€æŸ¥æ˜¯å¦å­˜åœ¨about.htmlæ–‡ä»¶ï¼Œè‹¥å­˜åœ¨åˆ™ç›´æ¥è¿”å›ã€‚\næ”¯æŒç›®å½•ç´¢å¼•ï¼šå¦‚æœaboutæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾about/index.htmlï¼ˆå³é»˜è®¤ç´¢å¼•æ–‡ä»¶ï¼‰ã€‚\n\nè¿™ç§é…ç½®æ˜¯ GitHub Pages ä¸ºäº†ç®€åŒ–é™æ€ç½‘ç«™è®¿é—®è€Œé¢„è®¾çš„ï¼Œç›®çš„æ˜¯è®© URL æ›´ç®€æ´ï¼ˆå¦‚xxx/aboutæ¯”xxx/about.htmlæ›´æ˜“è¯»ï¼‰ã€‚\na.cnå¯¹åº”çš„æœåŠ¡å™¨æ²¡æœ‰é…ç½® â€œè‡ªåŠ¨è¡¥å…¨.htmlâ€ çš„è§„åˆ™ï¼Œå› æ­¤éµå¾ª â€œä¸¥æ ¼åŒ¹é…â€ é€»è¾‘ï¼š\n\nå½“è¯·æ±‚a.cn/aboutæ—¶ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥æŸ¥æ‰¾åä¸ºaboutçš„ â€œæ— åç¼€æ–‡ä»¶â€ï¼ˆè€Œéabout.htmlï¼‰ã€‚\nç”±äºå®é™…æ–‡ä»¶æ˜¯about.htmlï¼ˆè€Œéaboutï¼‰ï¼ŒæœåŠ¡å™¨æ‰¾ä¸åˆ°å¯¹åº”èµ„æºï¼Œå°±ä¼šè¿”å› 404 é”™è¯¯ã€‚\nåªæœ‰æ‰‹åŠ¨æŒ‡å®šå®Œæ•´æ–‡ä»¶åabout.htmlï¼Œæ‰èƒ½åŒ¹é…åˆ°å®é™…æ–‡ä»¶ï¼Œå› æ­¤a.cn/about.htmlèƒ½æ­£å¸¸è®¿é—®ã€‚\n\nè§£å†³æ–¹æ³•\næˆ‘çš„æœåŠ¡å™¨ä½¿ç”¨ Nginx æœåŠ¡å™¨ï¼Œäºæ˜¯é€‰æ‹©åœ¨ Nginx çš„ç«™ç‚¹é…ç½®ä¸­æ·»åŠ ï¼š\nlocation / {\n    # å½“è¯·æ±‚çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œå°è¯•è¡¥å…¨.html\n    if (!-e $request_filename) {\n        rewrite ^(.*)$ $1.html last;\n    }\n}\né…ç½®åï¼Œa.cn/aboutä¼šè¢«è‡ªåŠ¨è§£æä¸ºa.cn/about.htmlï¼Œæ— éœ€æ‰‹åŠ¨åŠ åç¼€ã€‚"},"04-tools/xcode_commands":{"slug":"04-tools/xcode_commands","filePath":"04-tools/xcode_commands.md","title":"ğŸ’»å¸¸ç”¨ xcode ä½¿ç”¨å‘½ä»¤","links":[],"tags":["xcode"],"content":"\n\n                  \n                  Xcode ä»‹ç» \n                  \n                \n\n\nXcode æ˜¯è‹¹æœå®˜æ–¹æ¨å‡ºçš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œä¸“ä¸ºè‹¹æœçš„ Mac OSã€iOSã€iPad OSã€watch OS ç­‰åº”ç”¨å¼€å‘è®¾è®¡ï¼Œåœ¨ Mac ç³»ç»Ÿä¸Šä½œç”¨æ˜¯å¦å¹¿æ³›ã€‚ä½¿ç”¨ Mac ä½œä¸ºå¼€å‘å·¥å…·æ—¶å¿…ä¸å¯å°‘çš„ä¸œè¥¿ã€‚\n\n\n\nXCode å®‰è£…\n1. App Store å®‰è£…\nåœ¨ App Store å¯ä»¥ç›´æ¥æœç´¢è·å¾—æœ€æ–°çš„ XCode ç‰ˆæœ¬\n2.å®‰è£…å„ç§ç‰ˆæœ¬çš„ Xcode\nè·å–æ‰€éœ€ç‰ˆæœ¬ Xcode å‹ç¼©åŒ…\nXcode Releases å¯ä»¥æœç´¢å®‰è£…å„ä¸ªç‰ˆæœ¬çš„ Xcodeï¼Œæ‰€æœ‰çš„å¯è·å¾—ç‰ˆæœ¬å‡æ¥è‡ªå®˜æ–¹ä¸‹è½½è¿æ¥ã€‚\né‡å‘½å Xcode å¹¶ç§»åŠ¨åˆ°åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸­\nè§£å‹åå°† Xcode é‡å‘½åä¸º Xcode_{ç‰ˆæœ¬å·} ï¼Œå¦‚ Xcode_16.2 ï¼Œå°†å…¶ä» Downloads æ–‡ä»¶å¤¹ä¸‹ç§»åŠ¨åˆ°/Applications ä¸‹ã€‚\ncd Downloads\nmv Xcode.app Xcode_16.2.app\nmv Xcode_16.2.app /Applications\n \n# æŸ¥çœ‹\ncd /Applications\nls\nåŒæ„ License\nä»ä¸Šé¢çš„é“¾æ¥ä¸‹è½½çš„ Xcode è¿˜æ²¡æœ‰åŒæ„ä½¿ç”¨è®¸å¯ï¼Œå‘½ä»¤è¡Œè¿è¡Œï¼š\nsudo xcodebuild -license\næŒ‰ç…§æç¤ºè¾“å…¥å¯†ç å³å¯ã€‚\nxcode-select\nxcode-selectÂ  æ˜¯ macOS ä¸Šç®¡ç† Â Xcode å’Œå‘½ä»¤è¡Œå·¥å…·Â  çš„æ ¸å¿ƒå‘½ä»¤ï¼Œä¸»è¦ç”¨äºåˆ‡æ¢ã€æŸ¥è¯¢å’Œé…ç½® Xcode çš„é»˜è®¤è·¯å¾„ã€‚\nå®‰è£…å‘½ä»¤è¡Œå·¥å…·\nxcode-select --install\næŸ¥è¯¢å½“å‰ Xcode è·¯å¾„\nxcode-select --print-path\nOR\nxcode-select -p\nè¾“å‡ºç¤ºä¾‹ï¼š\n/Applications/Xcode.app/Contents/Developer\nåˆ‡æ¢ç‰ˆæœ¬\nå¦‚æœç³»ç»Ÿå®‰è£…äº†å¤šä¸ª Xcode ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ‡æ¢é»˜è®¤ç‰ˆæœ¬sudo xcode-select --switch &lt;è·¯å¾„&gt;ï¼Œä¸¾ä¾‹ï¼š\nsudo xcode-select --switch /Applications/Xcode-beta.app/Contents/Developer\n\nè·¯å¾„å¿…é¡»æŒ‡å‘ Â Contents/Developerï¼Œè€Œé Â .appÂ  æ ¹ç›®å½•ã€‚\næ‰€æœ‰ä¿®æ”¹è·¯å¾„çš„æ“ä½œå‡éœ€ Â sudoÂ  æƒé™ã€‚\n\næ‰‹åŠ¨è®¾ç½®å·¥å…·è·¯å¾„\nsudo xcode-select --set &lt;è·¯å¾„&gt;\néªŒè¯é…ç½®æœ‰æ•ˆæ€§\nxcode-select --check"},"05-projects/index":{"slug":"05-projects/index","filePath":"05-projects/_index.md","title":"ğŸª€ç©å…·ç®±","links":[],"tags":["é¡¹ç›®","intro"],"content":"è®°å½•ä¸€äº›æ‘¸é±¼æ‘¸å‡ºæ¥çš„ä½è´¨é‡é¡¹ç›®ã€‚"},"05-projects/block_chain":{"slug":"05-projects/block_chain","filePath":"05-projects/block_chain.md","title":"ğŸ¦€Rustç¼–ç¨‹åŒºå—é“¾é¡¹ç›® BlockChain in Rust","links":[],"tags":["Rust","åŒºå—é“¾"],"content":"\n\n                  \n                  GitHubä»“åº“åœ°å€ \n                  \n                \n\n\nGitHub ä»“åº“åœ°å€ï¼šBlockChain\n\n\n\nä¸€ã€äº§å“æ–¹æ¡ˆ\né¡¹ç›®ç›®æ ‡\nå®ç°ä¸€ä¸ªè½»é‡çš„ç®€å•é«˜æ•ˆçš„åŒºå—é“¾ç³»ç»Ÿé¡¹ç›®ï¼Œç”¨äºå­¦ä¹ å’Œç ”ç©¶ã€‚\n\nå­¦ä¹ åŒºå—é“¾çš„ç›¸å…³çŸ¥è¯†ï¼Œå®ç°ä¸€ä¸ªç”± Rust å®ç°çš„ç®€å•åŒºå—é“¾ç³»ç»Ÿã€‚\nèƒ½å¤Ÿç”Ÿæˆåˆ›ä¸–åŒºå—ï¼Œæ”¯æŒåŒºå—çš„åˆ›å»ºã€éªŒè¯å’Œé“¾å¼å‚¨å­˜ï¼Œå®ç°å·¥ä½œé‡è¯æ˜ç®—æ³•ã€‚\nåˆ©ç”¨æœ¬æœºç«¯å£æ„å»ºæœåŠ¡ç³»ç»Ÿï¼Œå®ç°äº¤æ˜“çš„å¹¿æ’­ã€æŒ–çŸ¿åŠŸèƒ½ã€ç®€å•çš„äº¤æ˜“æ ¡éªŒåŠŸèƒ½ã€‚\n\nç”¨æˆ·éœ€æ±‚åˆ†æ\n\nç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œåœ¨main.rsä¸­é…ç½®è·¯ç”±ï¼Œå‚è€ƒä¸‹æ–¹çš„ä½¿ç”¨æ‰‹å†Œï¼Œè¿›è¡Œåˆ›å»ºäº¤æ˜“ã€æŒ–çŸ¿ã€æŸ¥çœ‹ä¿¡æ¯ç­‰ã€‚\né€šè¿‡æ—¶é—´æˆ³ã€lock_timeã€ç­¾åæ ¡éªŒç­‰å®Œæˆç®€å•çš„å¯¹äº¤æ˜“ä¿¡æ¯çš„æ ¸å¯¹ã€‚\nç³»ç»Ÿå…·æœ‰ä¸€å®šçš„å¯æ‰©å±•æ€§ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è°ƒæ•´ API æ¥å£å¿«é€Ÿè°ƒè¯•ã€‚\n\nä¸»è¦åŠŸèƒ½\næœ¬äº§å“ä¸»è¦ç”±src/ä¸‹çš„.rsæ–‡ä»¶å®ç°ä¸»è¦åŠŸèƒ½ã€‚\nè®¾è®¡äº†åŒºå—é“¾å’ŒåŒºå—çš„æ•°æ®ç»“æ„ï¼Œå¹¶å®Œæˆäº†ç®€å•çš„æ–°å»ºåŒºå—ã€æ–°å»ºåŒºå—é“¾ä»¥åŠè®¾ç½®åˆ›ä¸–åŒºå—ã€æ·»åŠ äº¤æ˜“åˆ°äº¤æ˜“æ± ã€æŒ–çŸ¿æ‰“åŒ…äº¤æ˜“ã€äº¤æ˜“å¹¿æ’­ã€è®¡ç®— Merkle æ ‘æ ¹å“ˆå¸Œç­‰åŠŸèƒ½ã€‚\nè®¾è®¡äº†ä¸€æ¡äº¤æ˜“ä¿¡æ¯çš„å„ç§æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å…¶äº¤æ˜“è¾“å…¥ã€äº¤æ˜“è¾“å‡ºã€é”å®šæ—¶é—´ï¼Œè¿˜å®ç°äº†ç­¾åäº¤æ˜“å’Œå¹¿æ’­è¡Œä¸ºã€‚\näºŒã€æŠ€æœ¯æ–¹æ¡ˆ\næŠ€æœ¯é€‰å‹\n\nç¼–ç¨‹è¯­è¨€ï¼šRustï¼ˆé«˜æ€§èƒ½ã€å†…å­˜å®‰å…¨ã€é€‚åˆåŒºå—é“¾å¼€å‘ï¼‰ã€‚\næ•°æ®åºåˆ—åŒ–ï¼šä½¿ç”¨ Â serdeÂ  å’Œ Â serde_jsonÂ  è¿›è¡Œå®Œæˆåºåˆ—åŒ–ã€‚\næ—¶é—´æˆ³ï¼šä½¿ç”¨chronoè·å–å½“å‰æ—¶é—´ã€‚\nå“ˆå¸Œç®—æ³•ï¼šé€šè¿‡sha2åº“çš„ SHA-256 è®¡ç®—å“ˆå¸Œå€¼ã€‚\nåŠ å¯†ç®—æ³•ï¼šä½¿ç”¨ Rust çš„åŠ å¯†åº“ringå®ç°å“ˆå¸Œã€ç­¾åç­‰åŠŸèƒ½ã€‚\nå…±è¯†ç®—æ³•ï¼šå®ç° PoWï¼ˆå·¥ä½œé‡è¯æ˜ï¼‰å…±è¯†æœºåˆ¶ã€‚\nç½‘ç»œé€šä¿¡ï¼šä½¿ç”¨ Rust çš„å¼‚æ­¥ç½‘ç»œåº“Tokioå®ç° P2P é€šä¿¡ã€‚\n\næ¨¡å—åˆ’åˆ†\n\nåŒºå—æ¨¡å—ï¼šåŒºå—çš„åˆ›å»ºã€éªŒè¯å’Œé“¾å¼å­˜å‚¨ã€‚\näº¤æ˜“æ¨¡å—ï¼šäº¤æ˜“çš„åˆ›å»ºã€ç­¾åå’ŒéªŒè¯ã€‚\nç½‘ç»œæ¨¡å—ï¼šèŠ‚ç‚¹å‘ç°ã€æ¶ˆæ¯å¹¿æ’­å’Œæ•°æ®åŒæ­¥ã€‚\nå…±è¯†æ¨¡å—ï¼šå®ç°å…±è¯†ç®—æ³•ã€‚\nå­˜å‚¨æ¨¡å—ï¼šæ•°æ®æŒä¹…åŒ–å­˜å‚¨ã€‚\n\nmain.rsï¼šå®šä¹‰äº†åˆ›å»ºèŠ‚ç‚¹ã€æ¶ˆæ¯å¹¿æ’­ç­‰åŠŸèƒ½çš„ç½‘ç»œæ¨¡å—ã€‚\nblock_chain.rsï¼šå®šä¹‰äº†åŒºå—é“¾å’ŒåŒºå—çš„æ•°æ®ç»“æ„ï¼Œå¹¶å®Œæˆäº†ç®€å•çš„æ–°å»ºåŒºå—ã€æ–°å»ºåŒºå—é“¾ä»¥åŠè®¾ç½®åˆ›ä¸–åŒºå—ã€æ·»åŠ äº¤æ˜“åˆ°äº¤æ˜“æ± ã€æŒ–çŸ¿æ‰“åŒ…äº¤æ˜“ã€äº¤æ˜“å¹¿æ’­ã€è®¡ç®— Merkle æ ‘æ ¹å“ˆå¸Œç­‰åŠŸèƒ½ã€‚\nhash_function.rsï¼šä¸»è¦å®šä¹‰äº†å¸¸ç”¨çš„å“ˆå¸Œå‡½æ•°ã€‚\nserialization.rsï¼šå®šä¹‰äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ–¹æ³•ã€‚\ntransaction.rsï¼šå®šä¹‰äº†ä¸€æ¡äº¤æ˜“ä¿¡æ¯çš„å„ç§æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å…¶äº¤æ˜“è¾“å…¥ã€äº¤æ˜“è¾“å‡ºã€é”å®šæ—¶é—´ï¼Œè¿˜å®ç°äº†ç­¾åäº¤æ˜“å’Œå¹¿æ’­è¡Œä¸ºã€‚\nç³»ç»Ÿç»“æ„\nåŒºå—é“¾ç»“æ„\nåŒºå—é“¾çš„æ ¸å¿ƒæ˜¯ç”±ä¸€ç³»åˆ—æŒ‰é¡ºåºé“¾æ¥çš„åŒºå—ç»„æˆçš„é“¾å¼ç»“æ„ã€‚æ¯ä¸ªåŒºå—åŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š\n\næ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼šåŒºå—åˆ›å»ºçš„æ—¶é—´ã€‚\nå“ˆå¸Œå€¼ï¼ˆmerkle_rootï¼‰ï¼šå½“å‰åŒºå—çš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡åŠ å¯†ç®—æ³•ç”Ÿæˆã€‚\nå‰ä¸€åŒºå—å“ˆå¸Œï¼ˆprev_block_hashï¼‰ï¼šæŒ‡å‘å‰ä¸€ä¸ªåŒºå—çš„å“ˆå¸Œå€¼ï¼Œç”¨äºç»´æŠ¤é“¾çš„è¿ç»­æ€§ã€‚\n\nåœ¨å®ç°ä¸­ï¼ŒåŒºå—é“¾å¯ä»¥é€šè¿‡ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼ˆ Vec&lt;Block&gt;ï¼‰æ¥å­˜å‚¨æ‰€æœ‰åŒºå—ï¼Œç¡®ä¿åŒºå—çš„é¡ºåºå’Œå®Œæ•´æ€§ã€‚\nåˆ›ä¸–åŒºå—\nåˆ›ä¸–åŒºå—æ˜¯åŒºå—é“¾ä¸­çš„ç¬¬ä¸€ä¸ªåŒºå—ï¼Œå®ƒçš„ç”Ÿæˆæ ‡å¿—ç€åŒºå—é“¾çš„åˆå§‹åŒ–ã€‚åˆ›ä¸–åŒºå—çš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š\n\nå‰ä¸€åŒºå—å“ˆå¸Œä¸ºç©ºï¼šç”±äºæ²¡æœ‰å‰é©±åŒºå—ï¼Œå…¶å‰ä¸€åŒºå—å“ˆå¸Œå€¼é€šå¸¸è®¾ç½®ä¸ºç©ºæˆ–ç‰¹å®šæ ‡è¯†ï¼ˆå¦‚ â€œ0â€ï¼‰ã€‚\nå“ˆå¸Œå€¼è®¡ç®—ï¼šæ ¹æ®åŒºå—çš„å†…å®¹ï¼ˆç´¢å¼•ã€æ—¶é—´æˆ³ã€å‰ä¸€åŒºå—å“ˆå¸Œå’Œæ•°æ®ï¼‰ç”Ÿæˆå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼Œå¹¶å­˜å‚¨åˆ°åŒºå—ä¸­ã€‚\n\nåˆ›ä¸–åŒºå—çš„ç”Ÿæˆæ˜¯åŒºå—é“¾å¯åŠ¨çš„å¿…è¦æ­¥éª¤ï¼Œä¸ºåç»­åŒºå—çš„æ·»åŠ å¥ å®šåŸºç¡€ã€‚\næŒ–çŸ¿ç®—æ³•\næŒ–çŸ¿æ˜¯åŒºå—é“¾ä¸­ç”Ÿæˆæ–°åŒºå—çš„å…³é”®è¿‡ç¨‹ï¼Œå…¶æ ¸å¿ƒæ˜¯é€šè¿‡è®¡ç®—æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å“ˆå¸Œå€¼ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š\n\néš¾åº¦ç›®æ ‡ï¼šè®¾å®šä¸€ä¸ªå“ˆå¸Œå€¼çš„éš¾åº¦æ¡ä»¶ï¼ˆä¾‹å¦‚ï¼Œå“ˆå¸Œå€¼çš„å‰å‡ ä½å¿…é¡»ä¸º â€œ0â€ï¼‰ã€‚\néšæœºæ•°ï¼ˆNonceï¼‰ï¼šé€šè¿‡ä¸æ–­å°è¯•ä¸åŒçš„éšæœºæ•°ï¼Œç»“åˆåŒºå—çš„å…¶ä»–ä¿¡æ¯ï¼ˆç´¢å¼•ã€æ—¶é—´æˆ³ã€å‰ä¸€åŒºå—å“ˆå¸Œå’Œæ•°æ®ï¼‰ï¼Œè®¡ç®—å“ˆå¸Œå€¼ã€‚\nå“ˆå¸ŒéªŒè¯ï¼šæ£€æŸ¥ç”Ÿæˆçš„å“ˆå¸Œå€¼æ˜¯å¦æ»¡è¶³éš¾åº¦æ¡ä»¶ã€‚å¦‚æœæ»¡è¶³ï¼Œåˆ™æŒ–çŸ¿æˆåŠŸï¼›å¦åˆ™ï¼Œç»§ç»­å°è¯•æ–°çš„éšæœºæ•°ã€‚\n\næŒ–çŸ¿ç®—æ³•çš„å®ç°ç¡®ä¿äº†åŒºå—é“¾çš„å®‰å…¨æ€§å’Œå»ä¸­å¿ƒåŒ–ç‰¹æ€§ï¼ŒåŒæ—¶ä¹Ÿä¸ºæ–°åŒºå—çš„ç”Ÿæˆæä¾›äº†åŠ¨åŠ›ã€‚\nä»¥ä¸Šè®¾è®¡ä½¿å¾—åŒºå—é“¾ç³»ç»Ÿèƒ½å¤Ÿå®ç°åŸºç¡€çš„åŒºå—çš„åˆ›å»ºã€é“¾æ¥å’ŒéªŒè¯ï¼ŒåŒæ—¶é€šè¿‡æŒ–çŸ¿ç®—æ³•ä¿è¯ç½‘ç»œçš„å…±è¯†å’Œå®‰å…¨ã€‚\nä¸‰ã€ä½¿ç”¨æ‰‹å†Œ\næ‹‰å–æœ¬é¡¹ç›®\ngit clone git@github.com:dodolalorc/BlockChain.git\nå¯åŠ¨é¡¹ç›®ï¼Œå¼€å¯æœ¬åœ°æœåŠ¡å™¨\ncargo run\næœ¬åœ°æœåŠ¡å™¨æ¥å£ä½¿ç”¨ï¼š\n\næ·»åŠ äº¤æ˜“\n\ncurl -X POST http://127.0.0.1:3030/transaction -H &quot;Content-Type: application/json&quot; -d &#039;{&quot;value&quot;:100,&quot;lock_time&quot;:0}&#039;\n\næŸ¥çœ‹äº¤æ˜“æ± \n\ncurl http://127.0.0.1:3030/pool\n\næŸ¥çœ‹åŒºå—é“¾åŒºå—éƒ¨åˆ†\n\ncurl http://127.0.0.1:3030/blocks\n\næŒ–çŸ¿\n\n curl -X POST http://127.0.0.1:3030/mine\nå®éªŒæˆªå›¾\nå»ºç«‹äº¤æ˜“åŠäº¤æ˜“æ± çŠ¶æ€\n\næŒ–çŸ¿\n\nå››ã€é¡¹ç›®è¦æ±‚\nä¸€ï¼šè®¡åˆ’\n\nå®Œæˆæ¦‚å¿µå­¦ä¹ ï¼šåŒºå—é“¾\nå®Œæˆéœ€æ±‚è®¾è®¡ï¼šäº§å“æ–¹æ¡ˆã€æŠ€æœ¯æ–¹æ¡ˆ\nå®Œæˆé¡¹ç›®å®ç°ï¼šRust å®ç°ï¼Œè‡³å°‘è¾“å‡ºåˆ›ä¸–åŒºå—\n\näºŒï¼šè¦æ±‚\n\nç»“åˆä¸‹é¢ç»™çš„å’Œè‡ªå·±æœç´¢åˆ°çš„å‚è€ƒèµ„æ–™ã€ä¹¦ç±ã€è§†é¢‘ç­‰å­¦ä¹ åŒºå—é“¾åŸºç¡€çŸ¥è¯†\nç»“åˆä¸ªäººå…´è¶£å’Œæ‰€å­¦å†…å®¹ï¼Œè‡ªå·±ç¡®å®šä¸€ä¸ªåŒºå—é“¾é¢†åŸŸçš„é¡¹ç›®ç›®æ ‡ï¼ˆå¦‚ï¼Œå®ç°åŸºæœ¬çš„æŒ–çŸ¿ï¼‰\næœ‰äº†ç›®æ ‡ï¼Œè‡ªå·±å­¦ä¹ æ€ä¹ˆå†™äº§å“æ–¹æ¡ˆã€æŠ€æœ¯æ–¹æ¡ˆã€å¯ä»¥å¤šäººç»„é˜Ÿç ”ç©¶\nåŸºäºäº§å“æ–¹æ¡ˆå’ŒæŠ€æœ¯æ–¹æ¡ˆå®ç°ä½ çš„éœ€æ±‚ï¼Œè¦ç»“åˆä¹‹å‰è®²çš„æ•°æ®ç»“æ„å’Œç®—æ³•å†…å®¹\n\næ³¨æ„ï¼šè‡³å°‘æ˜¯å®ç°ä¸€ä¸ªç®€å•çš„åŒºå—é“¾ï¼Œè¿è¡Œå¹¶è¾“å‡ºåˆ›ä¸–åŒºå—\nä¸‰ï¼šå‚è€ƒèµ„æ–™\n\nåŒºå—é“¾æ•™ç¨‹ liaoxuefeng.com/books/blockchain/introduction/index.html\nåŒºå—é“¾å­¦ä¹ è·¯çº¿ zjubca.github.io/roadmap/\ngo å®ç°çš„ demo github.com/Jeiwan/blockchain_go\nB ç«™åŒºå—é“¾é¡¹ç›®å®æˆ˜ www.bilibili.com/video/BV145411t7qp/\n\n"},"05-projects/quartz/index":{"slug":"05-projects/quartz/index","filePath":"05-projects/quartz/_index.md","title":"ğŸ™ï¸ Quartz è®¾ç½®","links":[],"tags":["intro"],"content":"è®°å½•åšå®¢ä¸»é¢˜çš„ä¸€äº›è‡ªå®šä¹‰è®¾ç½®ã€‚"},"05-projects/quartz/add_featured_image":{"slug":"05-projects/quartz/add_featured_image","filePath":"05-projects/quartz/add_featured_image.md","title":"åœ¨ quartz ä¸»é¢˜ä¸­ç»™åšå®¢æ·»åŠ å°é¢é¦–å›¾","links":[],"tags":["åšå®¢ä¸»é¢˜","tsx","quartzä¸»é¢˜"],"content":"ä¸Šä¸€ä¸ªä¸»é¢˜å¯ä»¥åœ¨åšå®¢é¦–éƒ¨è®¾ç½®ä¸€å¼ è‡ªå®šä¹‰çš„å›¾ç‰‡ï¼Œä¹Ÿä¸€ç›´è§‰å¾—è¿™æ ·çš„è®¾è®¡å¾ˆæ¼‚äº®ï¼Œåœ¨ quartz ä¸­æ²¡æœ‰è¿™æ ·çš„é»˜è®¤ä¸»é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ‰‹åŠ¨æ·»åŠ äº†è¿™æ ·çš„è®¾è®¡~\næ­¥éª¤\nplugins ç»“æ„\nåœ¨quartz/pluginsä¸­ï¼Œå®šä¹‰äº†æ–‡ç« ä¸­å„ç§å†…å®¹è½¬æ¢çš„å·¥å…·ï¼ˆtransformersï¼‰ã€ç”Ÿæˆèµ„æºçš„å·¥å…·ï¼ˆEmittersï¼‰ä»¥åŠå‘å¸ƒé€»è¾‘ï¼ˆFlitersï¼‰ã€‚\nåœ¨æœ¬æ¬¡å®ç°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»markdownæ–‡ç« ä¸­è¯»å–ä¼ å‚featuredImageï¼Œç„¶åå°†å‚æ•°å†…å®¹ä½œä¸ºåŠ è½½å›¾ç‰‡çš„ urlï¼Œå°†å›¾ç‰‡æ¸²æŸ“åœ¨é¡µé¢ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åƒè¿™æ ·å…ˆç»™åŸfrontmatter.tsæ·»åŠ ä¸€ä¸ªå¯ä»¥è¯†åˆ«çš„å‚æ•°ï¼š\n/* existing codes */\ndeclare module &quot;vfile&quot; {\n  interface DataMap {\n    aliases: FullSlug[]\n    frontmatter: { [key: string]: unknown } &amp; {\n      title: string\n    } &amp; Partial&lt;{\n      tags: string[]\n      aliases: string[]\n      modified: string\n      created: string\n      published: string\n      description: string\n      socialDescription: string\n      publish: boolean | string\n      draft: boolean | string\n      lang: string\n      enableToc: string\n      cssclasses: string[]\n      socialImage: string\n      featuredImage: string\n      comments: boolean | string\n    }&gt;\n  }\n}\n/* existing codes */\ncomponents ç»“æ„\nquartz çš„æ‰€æœ‰ä¸»é¢˜éƒ½åœ¨quartz/componentsä¸‹ï¼Œä»¥æ­¤ä¸ºæ ¹ç›®å½•ï¼Œindex.tsä¸­æ€»ç»“äº†å¯¼å‡ºçš„æ‰€æœ‰ç»„ä»¶çš„ç±»å‹ï¼Œå°†åœ¨quartz.layout.tsä¸­ä»¥import * as Component from &quot;./quartz/components&quot;çš„å½¢å¼å¯¼å…¥ï¼Œå¹¶ä»¥Component.ArticleTitle()è¿™æ ·çš„å½¢å¼ä½¿ç”¨ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬æ¨¡ä»¿ç›¸åŒçš„æ–‡ä»¶ç»“æ„ï¼Œåœ¨quartz/componentsä¸‹æ–°å»ºä¸€ä¸ªtsxæ–‡ä»¶FeaturedImage.tsxï¼Œå†…å®¹åƒè¿™æ ·ï¼š\nFeaturedImageimport { QuartzComponent, QuartzComponentConstructor, QuartzComponentProps } from &quot;./types&quot;\nimport { classNames } from &quot;../util/lang&quot;\n \nconst FeaturedImage: QuartzComponent = ({ fileData, displayClass }: QuartzComponentProps) =&gt; {\n  const featuredImage = fileData.frontmatter\n  if (featuredImage) {\n    return (\n      &lt;div class={classNames(displayClass, &quot;featured-image&quot;)}&gt;\n        &lt;img src={featuredImage} alt=&quot;Featured&quot; /&gt;\n      &lt;/div&gt;\n    )\n  } else {\n    return null\n  }\n}\n \nFeaturedImage.css = `\n.featured-image {\n  margin: 0.5rem 0;\n  height: 200px;\n  overflow: hidden;\n}\n.featured-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n`\n \nexport default (() =&gt; FeaturedImage) satisfies QuartzComponentConstructor\n \nå†åœ¨index.tsä¸­å°†FeaturedImageå¯¼å…¥ï¼Œä¹‹ååœ¨quartz.layout.tsä¸­æ·»åŠ å³å¯ï¼š\nquartz.layout.tsexport const defaultContentPageLayout: PageLayout = {\n  beforeBody: [\n    Component.ConditionalRender({\n      component: Component.Breadcrumbs({\n        rootName: &quot;ä¸»é¡µ&quot;,\n      }),\n      condition: (page) =&gt; page.fileData.slug !== &quot;_index&quot;,\n    }),\n    Component.ArticleTitle(),\n    Component.ContentMeta(),\n    Component.FeaturedImage(),\n    Component.TagList(),\nä¹‹åé‡æ–°æ„å»ºé¡µé¢ï¼Œå³å¯æŸ¥çœ‹æ ·å¼æ•ˆæœå•¦ã€‚\næ•ˆæœå±•ç¤ºï¼š\n\nâ˜†: .ï½¡. o(â‰§â–½â‰¦)o .ï½¡.:â˜†"},"05-projects/quartz/favicon_link":{"slug":"05-projects/quartz/favicon_link","filePath":"05-projects/quartz/favicon_link.md","title":"ğŸ§©å¸¦å›¾æ ‡çš„ Blog è·³è½¬é“¾æ¥","links":[],"tags":["quartzä¸»é¢˜","favicon","googleæœåŠ¡"],"content":"å°†åœ¨çº¿é“¾æ¥å‡çº§æˆå¯ä»¥é¢„è§ˆç½‘é¡µå›¾æ ‡çš„æ ·å­~\nquartz ä¸»é¢˜ä¸­ï¼Œå±•ç¤ºé“¾æ¥çš„æ’ä»¶æ˜¯Plugin.CrawlLinks()ï¼Œæ–‡æ¡£ä¸­ä»‹ç»äº†ç°æœ‰çš„å‡ ç§å¸¸ç”¨çš„è®¾ç½®ï¼Œæœ¬æ–‡å°è¯•å°†å…¶æ‹“å±•ï¼Œå¢åŠ ä¸€ä¸ªshowLinkFaviconå±æ€§ï¼š\nPlugin.CrawlLinks({\n\tmarkdownLinkResolution: &quot;shortest&quot;,\n\topenLinksInNewTab: true,\n\tlazyLoad: true,\n\texternalLinkIcon: true,\n\tshowLinkFavicon: true,\n}),\nå®šä¹‰å­—æ®µ\nåœ¨quartz\\plugins\\transformers\\links.tsä¸­ï¼Œæ·»åŠ å­—æ®µå®šä¹‰ï¼š\nconst defaultOptions: Options = {\n  markdownLinkResolution: &quot;absolute&quot;,\n  prettyLinks: true,\n  openLinksInNewTab: false,\n  lazyLoad: false,\n  externalLinkIcon: true,\n  showLinkFavicon: true,\n}\nåœ¨CrawlLinkså®šä¹‰ä¸­æ·»åŠ å®ç°ï¼š\nexport const CrawlLinks: QuartzTransformerPlugin&lt;Partial&lt;Options&gt;&gt; = (userOpts) =&gt; {\n  const opts = { ...defaultOptions, ...userOpts }\n  return {\n    name: &quot;LinkProcessing&quot;,\n    htmlPlugins(ctx) {\n      return [\n        () =&gt; {\n          return (tree: Root, file) =&gt; {\n            const curSlug = simplifySlug(file.data.slug!)\n            const outgoing: Set&lt;SimpleSlug&gt; = new Set()\n \n            const transformOptions: TransformOptions = {\n              strategy: opts.markdownLinkResolution,\n              allSlugs: ctx.allSlugs,\n            }\n \n            visit(tree, &quot;element&quot;, (node, _index, _parent) =&gt; {\n \n            // ...\n \n                if (isExternal &amp;&amp; opts.showLinkFavicon) {\n                  const domain = new URL(node.properties.href).hostname\n                  if (domain) {\n                    node.children.unshift({\n                      type: &quot;element&quot;,\n                      tagName: &quot;img&quot;,\n                      properties: {\n                        src: `s2.googleusercontent.com/s2/favicons${domain}`,\n                        alt: &quot;&quot;,\n                        style: &quot;width: 1em; height: auto; margin-left: 4px; margin-right: 4px; vertical-align: middle;&quot;,\n                      },\n                      children: [],\n                    })\n                  }\n                }\n            // ...\n \nå®ç°æ€è·¯\nç›´æ¥ä½¿ç”¨ favicon é»˜è®¤è·¯å¾„\nå¤§å¤šæ•°ç½‘ç«™åœ¨æ ¹ç›®å½•ä¸‹æœ‰ favicon.ico æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ç¤ºä¾‹ä¸­çš„æ–¹æ³•æ•è·ï¼š\nfunction getDefaultFaviconUrl(url: string): string {\n  const domain = new URL(url).origin;\n  return `${domain}/favicon.ico`;\n}\n \n// ä½¿ç”¨ç¤ºä¾‹\nconst faviconUrl = getDefaultFaviconUrl(&#039;example.com&#039;);\nconsole.log(&#039;Default favicon URL:&#039;, faviconUrl);\nä½†æ˜¯ favicon.ico å¹¶ä¸æ˜¯æ¯ä¸ªç½‘ç«™éƒ½è®¾ç½®åœ¨åŒæ ·çš„è·¯å¾„ä¸‹ï¼Œå…¶æ ¼å¼ä¹Ÿä¸ä¸€å®šéƒ½æ˜¯.icoã€‚\nä½¿ç”¨ Google Favicon æœåŠ¡\nè°ƒç”¨ Google favicon APIï¼Œè¿™ä¸ª api å¯ä»¥ä»…é€šè¿‡ç½‘ç«™åŸŸåå³å¯æŠ“å–ç½‘ç«™çš„ faviconï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\ns2.googleusercontent.com/s2/faviconsç›®æ ‡ç½‘ç«™åŸŸå\nè¿˜å¯ä»¥é€šè¿‡szå±æ€§æŒ‡å®šè·å–çš„ icon çš„å¤§å°ï¼ˆå¦‚æœè®¿é—®çš„ç½‘ç«™æœ‰è¿™æ ·çš„å°ºå¯¸ï¼‰ï¼Œszå±æ€§çš„å•ä½æ˜¯pxï¼Œé»˜è®¤å€¼æ˜¯ 16ï¼š\ns2.googleusercontent.com/s2/faviconså¤§å°\nasync function getFaviconUrl(url: string): Promise&lt;string | null&gt; {\n  try {\n    // æå–åŸŸå\n    const domain = new URL(url).hostname;\n    return `s2.googleusercontent.com/s2/favicons${domain}`;\n  } catch (error) {\n    console.error(&#039;Error getting favicon:&#039;, error);\n    return null;\n  }\n}\n \n// ä½¿ç”¨ç¤ºä¾‹\ngetFaviconUrl(&#039;example.com&#039;).then(faviconUrl =&gt; {\n  console.log(&#039;Favicon URL:&#039;, faviconUrl);\n});"},"05-projects/quartz/use_filter_and_sort":{"slug":"05-projects/quartz/use_filter_and_sort","filePath":"05-projects/quartz/use_filter_and_sort.md","title":"ä¸ºæœ€è¿‘ç¬”è®°æ·»åŠ æ’åºå’Œç­›é€‰","links":[],"tags":["tsx","åšå®¢ä¸»é¢˜","quartzä¸»é¢˜"],"content":"æœ‰æ—¶å€™ä¼šæ›´æ–°ä¸€äº›ç›®å½•é¡µè¯´æ˜ï¼Œæ›´æ–°è¯´æ˜æ—¶ä¼šå‡ºç°åšå®¢å·¦ä¸Šè§’çš„â€œæœ€è¿‘ç¬”è®°â€æ¨¡å—æ˜¾ç¤ºæˆè¿™äº›ç›®å½•é¡µçš„æ›´æ–°ï¼Œäºæ˜¯åœ¨è‡ªå®šä¹‰è®¾ç½®ä¸­è®°å½•ä¸€ä¸‹Component.RecentNotes({})çš„ä½¿ç”¨ã€‚\nquartz ä¸»é¢˜å®˜æ–¹æœ‰ä¸€ç¯‡ä»‹ç»ï¼šæœ€è¿‘ç¬”è®°\nè®¾ç½®é…ç½®\n\nè‡ªå®šä¹‰ç­›é€‰ï¼šä¼ é€’é¢å¤–å‚æ•° Â Component.RecentNotes({ filter: someFilterFunction })ã€‚ç­›é€‰å‡½æ•°åº”å…·æœ‰ç­¾å Â (f: QuartzPluginData) =&gt; booleanã€‚\nè‡ªå®šä¹‰æ’åºï¼šä¼ é€’é¢å¤–å‚æ•° Â Component.RecentNotes({ sort: someSortFunction })ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒQuartz ä¼šæŒ‰æ—¥æœŸæ’åºå¹¶åœ¨æœ‰ç›¸åŒæ—¥æœŸæ—¶æŒ‰å­—æ¯é¡ºåºæ’åºã€‚æ’åºå‡½æ•°åº”å…·æœ‰ç­¾å Â (f1: QuartzPluginData, f2: QuartzPluginData) =&gt; numberã€‚å¯å‚è€ƒ Â quartz/components/PageList.tsxÂ  ä¸­çš„ Â byDateAndAlphabeticalÂ  ç¤ºä¾‹ã€‚\n\nquartz.layout.tsimport { QuartzPluginData } from &quot;./quartz/plugins/vfile&quot;\n \n// ...\n \nComponent.DesktopOnly(Component.RecentNotes({\n  limit: 3,\n  showTags: false,\n  filter: (f) =&gt; f.frontmatter?.includes(&#039;intro&#039;) ? false : true,\n  sort: (f1: QuartzPluginData, f2: QuartzPluginData) =&gt; {\n\tif (f1.frontmatter &amp;&amp; f2.frontmatter) {\n\t  // Sort by date\n\t  if (f1.frontmatter &amp;&amp; f2.frontmatter) {\n\t\treturn f1.frontmatter.date &lt; f2.frontmatter.date ? 1 : -1\n\t  } else if (f1.frontmatter &amp;&amp; !f2.frontmatter) {\n\t\treturn -1\n\t  } else if (!f1.frontmatter &amp;&amp; f2.frontmatter) {\n\t\treturn 1\n\t  }\n \n\t  const f1Title = f1.frontmatter() ?? &quot;&quot;\n\t  const f2Title = f2.frontmatter() ?? &quot;&quot;\n\t  return f1Title.localeCompare(f2Title)\n\t}\n\treturn 0\n  }\n})),\nåœ¨frontmatter.tsä¸­æ·»åŠ é¡µé¢å‚æ•°ï¼š\nfrontmatter.tsdeclare module &quot;vfile&quot; {\n  interface DataMap {\n    aliases: FullSlug[]\n    frontmatter: { [key: string]: unknown } &amp; {\n      title: string\n    } &amp; Partial&lt;{\n      tags: string[]\n      aliases: string[]\n      modified: string\n      created: string\n      date: string\n      lastmod: string\n      published: string\n      description: string\n      socialDescription: string\n      publish: boolean | string\n      draft: boolean | string\n      lang: string\n      enableToc: string\n      cssclasses: string[]\n      socialImage: string\n      featuredImage: string\n      comments: boolean | string\n    }&gt;\n  }\n}"},"index":{"slug":"index","filePath":"_index.md","title":"ğŸ‘‹Hi from dodola!","links":[],"tags":["intro"],"content":"\n\nğŸ ä¸ªäººä¿¡æ¯ï¼š\næ˜µç§°ï¼šå“†å“†å•¦(dodola)ï¼Œä¹Ÿå¯ä»¥ç¼©å†™ ddl\nåˆ·æ–°åœ°ç‚¹ï¼šæ­å·(å®ä¹ +å‡æœŸ)/é•¿æ˜¥(ä¸Šå­¦)\nåºŸè¯ï¼šINTJerï¼Œè·Ÿå…¶ä»– INTJ ä¸€æ ·æœ‰ä¸€äº›ä¸é¡¾äººæ­»æ´»çš„äººæœºæ„Ÿã€‚\n\nI Navigate The Journey.\n\næœ¬ç§‘ 2026 å±Šä¸œå¸ˆè®¡ç§‘ä¸“ä¸šï¼Œä¸å¤ªæ‰“ç®—è¯»ç ”ï¼Œç›®å‰åœ¨å­—èŠ‚è·³åŠ¨å½“å®ä¹ ç”Ÿï¼Œæ­£åœ¨åŠªåŠ›å­¦ä¹ è¿›å†›äº’è”ç½‘ã€‚\nå¹³æ—¶å–œæ¬¢æ‰“ç‚¹ç”µå­æ¸¸æˆï¼ŒåŠ¨æ£®/æ˜Ÿéœ²è°·/splatoon/é›€é­‚ã€‚å–œæ¬¢åšç‚¹æ‹¼è±†ã€é’©ç»‡ä¹‹ç±»çš„æ‰‹å·¥ã€‚\nå–œæ¬¢çœ‹ç‚¹éŸ³ä¹å‰§ï¼ˆæ²¡é”™ä½ æ€ä¹ˆçŸ¥é“ 2025.10 æˆ‘è¦å»çœ‹æ³•çº¢é»‘äº†ï¼‰ï¼Œçœ‹ç‚¹ç•ªçœ‹ç‚¹ç”µå½±çœ‹ç‚¹æ—¥å‰§éŸ©å‰§ï¼Œè¿˜æœ‰çœ‹ç‚¹å°è¯´ï¼ˆä½†æ˜¯æœ€è¿‘çœ‹ä¹¦è¶Šæ¥è¶Šå°‘äº† T-Tï¼‰\nç›®å‰æ­£åœ¨å­—èŠ‚è·³åŠ¨å®ä¹ ï¼Œæ­£åœ¨å­¦ä¹  Electron å’Œ Chromium å†…æ ¸ç›¸å…³çš„éƒ¨åˆ†ã€‚\nè”ç³»æ–¹å¼ï¼š\n\nğŸ“® ç¬¬ä¸€ä¸ªé•¿æœŸä½¿ç”¨çš„ gmail\nğŸ“® å’ŒåŸŸåä¸€è‡´çš„ gmail\nğŸ§QQ Mail å¦‚æœ gmail å‘é€å¤±è´¥å¯ä»¥è”ç³»çš„ qq é‚®ç®±\nâ­dodola çš„ github\n\n\nğŸ’¡ æœ€è¿‘ TODO\nTODO Blogs\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nçŠ¶æ€æ ‡é¢˜æè¿°ã€PENDINGã€‘Electron ç®€å•é¡¹ç›®èµ·æ­¥ç³»åˆ—éšä¾¿è®°å½• Electron å®¢æˆ·ç«¯å¼€å‘å­¦ä¹ ã€PENDINGã€‘Git Commit é’©å­æ¢ç´¢ Git Commit æ ¼å¼åŒ–å’Œå…¶ä»–è„šæœ¬çš„å·¥ä½œæµã€PENDINGã€‘windows shell åˆ«åä¸ºæˆ‘çš„ oh-my-bash å®ç°æ·»åŠ å¥½ç”¨çš„åˆ«å\nTODO Projects\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå½“å‰çŠ¶æ€åç§°åŠŸèƒ½ç®€è¿°é¡¹ç›®åœ°å€ã€PENDINGã€‘æ‹¼è±†å›¾çº¸ç”Ÿæˆå·¥å…·å†…åµŒ AIï¼Œå¯ä»¥æ ¹æ®æè¿°ç”Ÿæˆå›¾æ¡ˆï¼›æ”¯æŒæ›´å¥½çš„å¯¹åƒç´ å›¾çš„åˆ†æå’Œç”Ÿæˆå›¾çº¸ï¼›æ”¯æŒè‡ªå®šä¹‰ä¿®æ”¹å’Œç»˜åˆ¶ã€‚ã€PENDINGã€‘å¤šæ ‡ç­¾é¡µæµè§ˆå™¨æ¨¡å‹å¼€å‘ä¸€ä¸ªç®€æ˜“çš„å¯ä»¥æ”¯æŒå¤š Tab é¡µé¢çš„ Electron å®¢æˆ·ç«¯ï¼Œä¸»è¦å…³æ³¨ Tab é¡µçš„å®ç°å’Œç®¡ç†ï¼Œæ¢ç´¢å­¦ä¹ å’Œä½“éªŒå¤šè¿›ç¨‹æ¶æ„ã€‚multi-tab-browserã€PENDINGã€‘å±å¹•å½•åˆ¶å·¥å…·å¯ä»¥å®ç°å¯¹ç”µè„‘ä¸Šä»»æ„åŒºåŸŸçš„å½•åˆ¶ï¼Œå½•åˆ¶æ—¶æä¾›å·¥å…·æ ï¼Œå¯ä»¥æ·»åŠ æ ‡æ³¨ã€‚ã€PENDINGã€‘Blog å‹é“¾å¡ç‰‡æˆ–è®¸ä¼šä½œä¸º quartz çš„ä¸€ä¸ªç¤¾åŒº pluginï¼Œæä¾›å¤šä¸»é¢˜çš„æ¼‚äº®å‹é“¾ã€‚\n\nğŸª æœ¬ç«™ä¿¡æ¯ï¼š\nå»ºç«™æ—¥æœŸï¼š2023/11/28\næœ¬ç«™ç®€ä»‹ï¼šæœ¬ç«™ä¼šç”¨æ¥ä¿å­˜ ddl çš„ç”µå­ç¬”è®°ï¼Œæ¶‰åŠå„ç§ç¬”è®°å’Œ bug æ—¥è®°ï¼Œä½†ç›®å‰ç®—æ³•ç¬”è®°å«é‡å¾ˆé«˜ï¼ˆä½ è¿™è¾ˆå­å°±æ˜¯è¢«ç®—ç«å®³äº†ï¼‰ï¼Œå°±æ˜¯ä¸ªæ‚ä¸ƒæ‚å…«çš„ç”µå­å°ä»“åº“ï¼Œæ¬¢è¿æ‚¨çš„è®¿é—®ï¼éå¸¸æ¬¢è¿å‹é“¾äº’é“¾ï¼Œç›¸äº’äº¤æµï¼å¾ˆé«˜å…´è®¤è¯†ä½ ~\næ¡†æ¶ï¼š\n\nåšå®¢æ¡†æ¶ï¼š\n\n2023/11 Hugo\n2025/05 æ›´æ¢ä¸ºRspress\n2025/06 æ›´æ¢ä¸ºQuartz *å½“å‰ä½¿ç”¨\n\n\nä¸»é¢˜ï¼š\n\n2023/11 PaperMod\n2024/07 DoIt\n2025/05 Rspress é»˜è®¤ä¸»é¢˜ + ä¿®æ”¹äº†ä¸€äº›æ ·å¼å’Œç»„ä»¶\n2025/06 Quartz é»˜è®¤ä¸»é¢˜ + ä¿®æ”¹ä¸€äº›æ ·å¼å’Œç»„ä»¶ *å½“å‰ä½¿ç”¨\n\n\nä»“åº“ï¼šGitHub\n\nçº¿è·¯ä¿¡æ¯\n\nåˆå§‹åŸŸåï¼šdodolalorc.github.io\nä¸»åŸŸåï¼šdodolalorc.cn\n"},"links":{"slug":"links","filePath":"links.md","title":"ğŸ’›å‹é”ã§ã™ï¼","links":["tags/åç§°","tags/é“¾æ¥","tags/å¤´åƒ","tags/ç«™ç‚¹æè¿°"],"tags":["intro","åç§°","é“¾æ¥","å¤´åƒ","ç«™ç‚¹æè¿°"],"content":"âœ¨ï¸âœ¨ï¸ å‹é“¾åˆ—è¡¨ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nåç§°é“¾æ¥ç®€ä»‹dodoladodolalorc.cn/è¦æ˜¯äººç”Ÿèƒ½åƒæ˜Ÿéœ²è°·å°±å¥½äº†ã€‚âœ¨æ€æƒ³çŠ¯virgiling.github.io/ä¸€ä¸ªæ´»çš„ç›¸å¯¹å¤±è´¥çš„ CSer ğŸ˜¢Windlinxywindlinxy.github.io/æµ‹è¯•å²—ç‰›é©¬çš„å¤±è´¥ç”Ÿæ´» ğŸ´YorkWuâ€™s Blogwyy.ink/ddl:ä¸€ä¸ªå¾ˆå¼ºçš„å­¦é•¿QwQï¼ï¼ğŸ‘æ— åŒblog.wushuang233.com/ddl:æ˜¯å¾ˆå¼ºçš„é™ˆè€å¸ˆï¼ğŸ‘¨â€ğŸ«Rosesrossqaq.github.io/NENU å”¯ä¸€æ‡‚ C++ çš„äºº ğŸ’»Steve Paulgsteve-paul.github.io/å”¯ä¸€å²è¯—ç¥ ğŸ‘‘Ling_1ling101w.github.io/ç½‘å®‰çˆ·âœŒï¸Oyisoâ€™s Blogoyiso.cn/The shortest answer is doing. âœ¨Echo çš„å°çªwww.liveout.cn/æ¼‚æ³Šäºäº’è”ç½‘ä¸­çš„å°çª ğŸ KAMIASUKAâ€™s Blogkamiasuka.top/index.htmlPatience is key in life â³æ¾ç¨®å°çªpineseed.cn/èŠ±å¼€åˆèŠ±è½ï¼Œæ—¶èŠ‚æš—ä¸­è¿ ğŸŒ¸å¹»é›ªçš„åšå®¢huanxueblog.top/è…çƒ‚äºèŠ±æµ·ï¼Œè‡´æ­»äºæ‰€çˆ± ğŸŒ¹\nâœ¨ï¸âœ¨ï¸ æœ¬ç«™å‹é“¾ä¿¡æ¯ï¼š\n\nname: dodola\nurl: dodolalorc.cn/\navatar: dodolalorc.cn/img/dodola.png\nbio: è¦æ˜¯äººç”Ÿèƒ½åƒæ˜Ÿéœ²è°·å°±å¥½äº†ã€‚\n\nâœ¨ï¸âœ¨ï¸ ç”³è¯·å‹é“¾ä¿¡æ¯æ ¼å¼ï¼š\n\nname: åç§°\nurl: é“¾æ¥\navatar: å¤´åƒ\nbio: ç«™ç‚¹æè¿°\n\nğŸ‡ğŸ‡ å‹é“¾ç”³è¯·è¦æ±‚ QwQ\nğŸ‰ æœ¬ç«™æ”¯æŒäº¤æ¢å‹é“¾ï¼Œåœ¨æ‚¨æå‡ºç”³è¯·ä¹‹å‰ï¼Œè¯·å°†æœ¬ç«™æ·»åŠ è‡³å‹é“¾\nğŸµï¸ ä¸ºäº†ä¿éšœæœ¬ç«™ç”¨æˆ·ï¼Œæœ¬ç«™ä»…æ”¯æŒä¸ªäººç½‘ç«™çš„å‹é“¾ç”³è¯·\nğŸ’ å‹é“¾ä¸­çš„é“¾æ¥ä¿¡æ¯éœ€è¦ä¿è¯å¯ä»¥æ­£å¸¸è®¿é—®å“¦\nğŸ– ç«™å†…æ–‡ç« èƒ½æŒç»­æ›´æ–°ï¼Œæ²¡æœ‰å¤ªå¤šå¹¿å‘Š\nğŸ´ æ„Ÿè°¢æ‚¨å¯¹æœ¬ç«™çš„æ”¯æŒï¼Œå¦‚æœæ‚¨å·²ç»æ»¡è¶³ä¸Šè¿°è¦æ±‚ï¼Œè¯·åœ¨ä¸‹æ–¹è¯„è®ºåŒºæäº¤å‹é“¾ç”³è¯·~~~"}}